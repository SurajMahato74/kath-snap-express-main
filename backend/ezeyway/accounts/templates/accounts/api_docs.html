<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - EzeyWay</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">EzeyWay API Documentation</h1>
        
        <div class="alert alert-info">
            <strong>Base URL:</strong> <code>http://127.0.0.1:8000/api/accounts/</code><br>
            <strong>Authentication:</strong> Token-based (Header: <code>Authorization: Token your_token_here</code>)
        </div>

        <div class="row">
            <div class="col-md-3">
                <div class="list-group">
                    <a href="#auth" class="list-group-item">Authentication</a>
                    <a href="#profile" class="list-group-item">Profile Management</a>
                    <a href="#verification" class="list-group-item">Email Verification</a>
                    <a href="#password" class="list-group-item">Password Management</a>
                    <a href="#otp" class="list-group-item">OTP System</a>
                    <a href="#vendor" class="list-group-item">Vendor APIs</a>
                    <a href="#admin" class="list-group-item">Admin APIs</a>
                </div>
            </div>
            
            <div class="col-md-9">
                <!-- Authentication APIs -->
                <section id="auth" class="mb-5">
                    <h2>Authentication APIs</h2>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /register/</h5>
                        </div>
                        <div class="card-body">
                            <p>Register a new user account</p>
                            <pre><code class="language-json">{
  "username": "john_doe",
  "email": "john@example.com",
  "password": "password123",
  "user_type": "customer",
  "phone_number": "+1234567890"
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /login/</h5>
                        </div>
                        <div class="card-body">
                            <p>Login with username/email and password</p>
                            <pre><code class="language-json">{
  "username": "john_doe",
  "password": "password123"
}</code></pre>
                            <p><strong>Response:</strong></p>
                            <pre><code class="language-json">{
  "token": "9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b",
  "user": {...},
  "message": "Login successful"
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /logout/</h5>
                        </div>
                        <div class="card-body">
                            <p>Logout current user (requires authentication)</p>
                        </div>
                    </div>
                </section>

                <!-- Profile APIs -->
                <section id="profile" class="mb-5">
                    <h2>Profile Management</h2>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>GET /profile/</h5>
                        </div>
                        <div class="card-body">
                            <p>Get current user profile (requires authentication)</p>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>PUT /profile/update/</h5>
                        </div>
                        <div class="card-body">
                            <p>Update user profile (requires authentication)</p>
                            <pre><code class="language-json">{
  "phone_number": "+1234567890",
  "address": "123 Main St"
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /change-password/</h5>
                        </div>
                        <div class="card-body">
                            <p>Change user password (requires authentication)</p>
                            <pre><code class="language-json">{
  "old_password": "oldpass123",
  "new_password": "newpass123"
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Email Verification -->
                <section id="verification" class="mb-5">
                    <h2>Email Verification</h2>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>GET /verify-email/{token}/</h5>
                        </div>
                        <div class="card-body">
                            <p>Verify email with token from email link</p>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /resend-verification/</h5>
                        </div>
                        <div class="card-body">
                            <p>Resend verification email</p>
                            <pre><code class="language-json">{
  "user_id": 1
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Password Management -->
                <section id="password" class="mb-5">
                    <h2>Password Management</h2>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /forgot-password/</h5>
                        </div>
                        <div class="card-body">
                            <p>Request password reset</p>
                            <pre><code class="language-json">{
  "email": "john@example.com"
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /reset-password/</h5>
                        </div>
                        <div class="card-body">
                            <p>Reset password with token</p>
                            <pre><code class="language-json">{
  "token": "reset_token_here",
  "password": "newpass123",
  "confirm_password": "newpass123"
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- OTP System -->
                <section id="otp" class="mb-5">
                    <h2>OTP System</h2>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /send-otp/</h5>
                        </div>
                        <div class="card-body">
                            <p>Send OTP to email</p>
                            <pre><code class="language-json">{
  "email": "john@example.com"
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>POST /verify-otp/</h5>
                        </div>
                        <div class="card-body">
                            <p>Verify OTP</p>
                            <pre><code class="language-json">{
  "email": "john@example.com",
  "otp": "123456"
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Vendor APIs -->
                <section id="vendor" class="mb-5">
                    <h2>Vendor APIs</h2>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>GET/POST /vendor-profiles/</h5>
                        </div>
                        <div class="card-body">
                            <p>List vendor profiles or create new one (requires authentication)</p>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>GET/PUT/DELETE /vendor-profiles/{id}/</h5>
                        </div>
                        <div class="card-body">
                            <p>Retrieve, update, or delete vendor profile (requires authentication)</p>
                        </div>
                    </div>
                </section>

                <!-- Admin APIs -->
                <section id="admin" class="mb-5">
                    <h2>Admin APIs</h2>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>GET /admin/dashboard/</h5>
                        </div>
                        <div class="card-body">
                            <p>Get admin dashboard statistics (requires superadmin)</p>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5>GET /admin/users/</h5>
                        </div>
                        <div class="card-body">
                            <p>List all users (requires superadmin)</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>