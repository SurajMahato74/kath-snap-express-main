var HM=Object.defineProperty;var Vj=e=>{throw TypeError(e)};var WM=(e,t,s)=>t in e?HM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ur=(e,t,s)=>WM(e,typeof t!="symbol"?t+"":t,s),jg=(e,t,s)=>t.has(e)||Vj("Cannot "+s);var Se=(e,t,s)=>(jg(e,t,"read from private field"),s?s.call(e):t.get(e)),Tt=(e,t,s)=>t.has(e)?Vj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ht=(e,t,s,r)=>(jg(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),Yn=(e,t,s)=>(jg(e,t,"access private method"),s);var wh=(e,t,s,r)=>({set _(i){ht(e,t,i,s)},get _(){return Se(e,t,r)}});function ZM(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E2={exports:{}},Mm={},P2={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=Symbol.for("react.element"),GM=Symbol.for("react.portal"),KM=Symbol.for("react.fragment"),YM=Symbol.for("react.strict_mode"),XM=Symbol.for("react.profiler"),QM=Symbol.for("react.provider"),JM=Symbol.for("react.context"),e5=Symbol.for("react.forward_ref"),t5=Symbol.for("react.suspense"),n5=Symbol.for("react.memo"),s5=Symbol.for("react.lazy"),Uj=Symbol.iterator;function r5(e){return e===null||typeof e!="object"?null:(e=Uj&&e[Uj]||e["@@iterator"],typeof e=="function"?e:null)}var T2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A2=Object.assign,O2={};function Ec(e,t,s){this.props=e,this.context=t,this.refs=O2,this.updater=s||T2}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ec.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L2(){}L2.prototype=Ec.prototype;function t0(e,t,s){this.props=e,this.context=t,this.refs=O2,this.updater=s||T2}var n0=t0.prototype=new L2;n0.constructor=t0;A2(n0,Ec.prototype);n0.isPureReactComponent=!0;var qj=Array.isArray,R2=Object.prototype.hasOwnProperty,s0={current:null},M2={key:!0,ref:!0,__self:!0,__source:!0};function I2(e,t,s){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)R2.call(t,r)&&!M2.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=s;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Iu,type:e,key:a,ref:o,props:i,_owner:s0.current}}function i5(e,t){return{$$typeof:Iu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function r0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iu}function a5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Hj=/\/+/g;function _g(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a5(""+e.key):t.toString(36)}function Jh(e,t,s,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Iu:case GM:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+_g(o,0):r,qj(i)?(s="",e!=null&&(s=e.replace(Hj,"$&/")+"/"),Jh(i,t,s,"",function(h){return h})):i!=null&&(r0(i)&&(i=i5(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hj,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",qj(e))for(var c=0;c<e.length;c++){a=e[c];var d=r+_g(a,c);o+=Jh(a,t,s,d,i)}else if(d=r5(e),typeof d=="function")for(e=d.call(e),c=0;!(a=e.next()).done;)a=a.value,d=r+_g(a,c++),o+=Jh(a,t,s,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jh(e,t,s){if(e==null)return e;var r=[],i=0;return Jh(e,r,"","",function(a){return t.call(s,a,i++)}),r}function o5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xs={current:null},ef={transition:null},l5={ReactCurrentDispatcher:xs,ReactCurrentBatchConfig:ef,ReactCurrentOwner:s0};function D2(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:jh,forEach:function(e,t,s){jh(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return jh(e,function(){t++}),t},toArray:function(e){return jh(e,function(t){return t})||[]},only:function(e){if(!r0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Ec;jt.Fragment=KM;jt.Profiler=XM;jt.PureComponent=t0;jt.StrictMode=YM;jt.Suspense=t5;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l5;jt.act=D2;jt.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=A2({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=s0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)R2.call(t,d)&&!M2.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=s;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Iu,type:e.type,key:i,ref:a,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:JM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QM,_context:e},e.Consumer=e};jt.createElement=I2;jt.createFactory=function(e){var t=I2.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:e5,render:e}};jt.isValidElement=r0;jt.lazy=function(e){return{$$typeof:s5,_payload:{_status:-1,_result:e},_init:o5}};jt.memo=function(e,t){return{$$typeof:n5,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=ef.transition;ef.transition={};try{e()}finally{ef.transition=t}};jt.unstable_act=D2;jt.useCallback=function(e,t){return xs.current.useCallback(e,t)};jt.useContext=function(e){return xs.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return xs.current.useDeferredValue(e)};jt.useEffect=function(e,t){return xs.current.useEffect(e,t)};jt.useId=function(){return xs.current.useId()};jt.useImperativeHandle=function(e,t,s){return xs.current.useImperativeHandle(e,t,s)};jt.useInsertionEffect=function(e,t){return xs.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return xs.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return xs.current.useMemo(e,t)};jt.useReducer=function(e,t,s){return xs.current.useReducer(e,t,s)};jt.useRef=function(e){return xs.current.useRef(e)};jt.useState=function(e){return xs.current.useState(e)};jt.useSyncExternalStore=function(e,t,s){return xs.current.useSyncExternalStore(e,t,s)};jt.useTransition=function(){return xs.current.useTransition()};jt.version="18.3.1";P2.exports=jt;var j=P2.exports;const _e=Rm(j),i0=ZM({__proto__:null,default:_e},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5=j,d5=Symbol.for("react.element"),u5=Symbol.for("react.fragment"),h5=Object.prototype.hasOwnProperty,f5=c5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m5={key:!0,ref:!0,__self:!0,__source:!0};function F2(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)h5.call(t,r)&&!m5.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:d5,type:e,key:a,ref:o,props:i,_owner:f5.current}}Mm.Fragment=u5;Mm.jsx=F2;Mm.jsxs=F2;E2.exports=Mm;var n=E2.exports,$2={exports:{}},Hs={},B2={exports:{}},z2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,q){var F=B.length;B.push(q);e:for(;0<F;){var $=F-1>>>1,z=B[$];if(0<i(z,q))B[$]=q,B[F]=z,F=$;else break e}}function s(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],F=B.pop();if(F!==q){B[0]=F;e:for(var $=0,z=B.length,G=z>>>1;$<G;){var X=2*($+1)-1,J=B[X],K=X+1,U=B[K];if(0>i(J,F))K<z&&0>i(U,J)?(B[$]=U,B[K]=F,$=K):(B[$]=J,B[X]=F,$=X);else if(K<z&&0>i(U,F))B[$]=U,B[K]=F,$=K;else break e}}return q}function i(B,q){var F=B.sortIndex-q.sortIndex;return F!==0?F:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],h=[],f=1,m=null,u=3,p=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var q=s(h);q!==null;){if(q.callback===null)r(h);else if(q.startTime<=B)r(h),q.sortIndex=q.expirationTime,t(d,q);else break;q=s(h)}}function N(B){if(v=!1,_(B),!x)if(s(d)!==null)x=!0,W(E);else{var q=s(h);q!==null&&Z(N,q.startTime-B)}}function E(B,q){x=!1,v&&(v=!1,b(O),O=-1),p=!0;var F=u;try{for(_(q),m=s(d);m!==null&&(!(m.expirationTime>q)||B&&!R());){var $=m.callback;if(typeof $=="function"){m.callback=null,u=m.priorityLevel;var z=$(m.expirationTime<=q);q=e.unstable_now(),typeof z=="function"?m.callback=z:m===s(d)&&r(d),_(q)}else r(d);m=s(d)}if(m!==null)var G=!0;else{var X=s(h);X!==null&&Z(N,X.startTime-q),G=!1}return G}finally{m=null,u=F,p=!1}}var I=!1,C=null,O=-1,A=5,k=-1;function R(){return!(e.unstable_now()-k<A)}function P(){if(C!==null){var B=e.unstable_now();k=B;var q=!0;try{q=C(!0,B)}finally{q?T():(I=!1,C=null)}}else I=!1}var T;if(typeof y=="function")T=function(){y(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=P,T=function(){H.postMessage(null)}}else T=function(){w(P,0)};function W(B){C=B,I||(I=!0,T())}function Z(B,q){O=w(function(){B(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,W(E))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(B){switch(u){case 1:case 2:case 3:var q=3;break;default:q=u}var F=u;u=q;try{return B()}finally{u=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=u;u=B;try{return q()}finally{u=F}},e.unstable_scheduleCallback=function(B,q,F){var $=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,B={id:f++,callback:q,priorityLevel:B,startTime:F,expirationTime:z,sortIndex:-1},F>$?(B.sortIndex=F,t(h,B),s(d)===null&&B===s(h)&&(v?(b(O),O=-1):v=!0,Z(N,F-$))):(B.sortIndex=z,t(d,B),x||p||(x=!0,W(E))),B},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(B){var q=u;return function(){var F=u;u=q;try{return B.apply(this,arguments)}finally{u=F}}}})(z2);B2.exports=z2;var p5=B2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5=j,qs=p5;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V2=new Set,Jd={};function Xo(e,t){ic(e,t),ic(e+"Capture",t)}function ic(e,t){for(Jd[e]=t,e=0;e<t.length;e++)V2.add(t[e])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mv=Object.prototype.hasOwnProperty,v5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wj={},Zj={};function x5(e){return Mv.call(Zj,e)?!0:Mv.call(Wj,e)?!1:v5.test(e)?Zj[e]=!0:(Wj[e]=!0,!1)}function y5(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b5(e,t,s,r){if(t===null||typeof t>"u"||y5(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ys(e,t,s,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zn[e]=new ys(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zn[t]=new ys(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zn[e]=new ys(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zn[e]=new ys(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zn[e]=new ys(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zn[e]=new ys(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zn[e]=new ys(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zn[e]=new ys(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zn[e]=new ys(e,5,!1,e.toLowerCase(),null,!1,!1)});var a0=/[\-:]([a-z])/g;function o0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(a0,o0);Zn[t]=new ys(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(a0,o0);Zn[t]=new ys(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(a0,o0);Zn[t]=new ys(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zn[e]=new ys(e,1,!1,e.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zn[e]=new ys(e,1,!1,e.toLowerCase(),null,!0,!0)});function l0(e,t,s,r){var i=Zn.hasOwnProperty(t)?Zn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b5(t,s,i,r)&&(s=null),r||i===null?x5(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,r=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var ea=g5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_h=Symbol.for("react.element"),xl=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),U2=Symbol.for("react.provider"),q2=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),Dv=Symbol.for("react.suspense"),Fv=Symbol.for("react.suspense_list"),u0=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),H2=Symbol.for("react.offscreen"),Gj=Symbol.iterator;function ld(e){return e===null||typeof e!="object"?null:(e=Gj&&e[Gj]||e["@@iterator"],typeof e=="function"?e:null)}var ln=Object.assign,Ng;function kd(e){if(Ng===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ng=t&&t[1]||""}return`
`+Ng+e}var Sg=!1;function kg(e,t){if(!e||Sg)return"";Sg=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var d=`
`+i[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=c);break}}}finally{Sg=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?kd(e):""}function w5(e){switch(e.tag){case 5:return kd(e.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return e=kg(e.type,!1),e;case 11:return e=kg(e.type.render,!1),e;case 1:return e=kg(e.type,!0),e;default:return""}}function $v(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yl:return"Fragment";case xl:return"Portal";case Iv:return"Profiler";case c0:return"StrictMode";case Dv:return"Suspense";case Fv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q2:return(e.displayName||"Context")+".Consumer";case U2:return(e._context.displayName||"Context")+".Provider";case d0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case u0:return t=e.displayName||null,t!==null?t:$v(e.type)||"Memo";case pa:t=e._payload,e=e._init;try{return $v(e(t))}catch{}}return null}function j5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $v(t);case 8:return t===c0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function za(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _5(e){var t=W2(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nh(e){e._valueTracker||(e._valueTracker=_5(e))}function Z2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=W2(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function _f(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bv(e,t){var s=t.checked;return ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Kj(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=za(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G2(e,t){t=t.checked,t!=null&&l0(e,"checked",t,!1)}function zv(e,t){G2(e,t);var s=za(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vv(e,t.type,s):t.hasOwnProperty("defaultValue")&&Vv(e,t.type,za(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yj(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Vv(e,t,s){(t!=="number"||_f(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Cd=Array.isArray;function Dl(e,t,s,r){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&r&&(e[s].defaultSelected=!0)}else{for(s=""+za(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Uv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xj(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Pe(92));if(Cd(s)){if(1<s.length)throw Error(Pe(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:za(s)}}function K2(e,t){var s=za(t.value),r=za(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Qj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Y2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Y2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sh,X2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sh=Sh||document.createElement("div"),Sh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eu(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N5=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(e){N5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rd[t]=Rd[e]})});function Q2(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Rd.hasOwnProperty(e)&&Rd[e]?(""+t).trim():t+"px"}function J2(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=Q2(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,i):e[s]=i}}var S5=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hv(e,t){if(t){if(S5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function Wv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zv=null;function h0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gv=null,Fl=null,$l=null;function Jj(e){if(e=$u(e)){if(typeof Gv!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=Bm(t),Gv(e.stateNode,e.type,t))}}function ek(e){Fl?$l?$l.push(e):$l=[e]:Fl=e}function tk(){if(Fl){var e=Fl,t=$l;if($l=Fl=null,Jj(e),t)for(e=0;e<t.length;e++)Jj(t[e])}}function nk(e,t){return e(t)}function sk(){}var Cg=!1;function rk(e,t,s){if(Cg)return e(t,s);Cg=!0;try{return nk(e,t,s)}finally{Cg=!1,(Fl!==null||$l!==null)&&(sk(),tk())}}function tu(e,t){var s=e.stateNode;if(s===null)return null;var r=Bm(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Pe(231,t,typeof s));return s}var Kv=!1;if(Vi)try{var cd={};Object.defineProperty(cd,"passive",{get:function(){Kv=!0}}),window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{Kv=!1}function k5(e,t,s,r,i,a,o,c,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(s,h)}catch(f){this.onError(f)}}var Md=!1,Nf=null,Sf=!1,Yv=null,C5={onError:function(e){Md=!0,Nf=e}};function E5(e,t,s,r,i,a,o,c,d){Md=!1,Nf=null,k5.apply(C5,arguments)}function P5(e,t,s,r,i,a,o,c,d){if(E5.apply(this,arguments),Md){if(Md){var h=Nf;Md=!1,Nf=null}else throw Error(Pe(198));Sf||(Sf=!0,Yv=h)}}function Qo(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function ik(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e_(e){if(Qo(e)!==e)throw Error(Pe(188))}function T5(e){var t=e.alternate;if(!t){if(t=Qo(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var s=e,r=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return e_(i),e;if(a===r)return e_(i),t;a=a.sibling}throw Error(Pe(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===s){o=!0,s=i,r=a;break}if(c===r){o=!0,r=i,s=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===s){o=!0,s=a,r=i;break}if(c===r){o=!0,r=a,s=i;break}c=c.sibling}if(!o)throw Error(Pe(189))}}if(s.alternate!==r)throw Error(Pe(190))}if(s.tag!==3)throw Error(Pe(188));return s.stateNode.current===s?e:t}function ak(e){return e=T5(e),e!==null?ok(e):null}function ok(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ok(e);if(t!==null)return t;e=e.sibling}return null}var lk=qs.unstable_scheduleCallback,t_=qs.unstable_cancelCallback,A5=qs.unstable_shouldYield,O5=qs.unstable_requestPaint,_n=qs.unstable_now,L5=qs.unstable_getCurrentPriorityLevel,f0=qs.unstable_ImmediatePriority,ck=qs.unstable_UserBlockingPriority,kf=qs.unstable_NormalPriority,R5=qs.unstable_LowPriority,dk=qs.unstable_IdlePriority,Im=null,si=null;function M5(e){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Im,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:F5,I5=Math.log,D5=Math.LN2;function F5(e){return e>>>=0,e===0?32:31-(I5(e)/D5|0)|0}var kh=64,Ch=4194304;function Ed(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cf(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var c=o&~i;c!==0?r=Ed(c):(a&=o,a!==0&&(r=Ed(a)))}else o=s&~i,o!==0?r=Ed(o):a!==0&&(r=Ed(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Pr(t),i=1<<s,r|=e[s],t&=~i;return r}function $5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B5(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pr(a),c=1<<o,d=i[o];d===-1?(!(c&s)||c&r)&&(i[o]=$5(c,t)):d<=t&&(e.expiredLanes|=c),a&=~c}}function Xv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uk(){var e=kh;return kh<<=1,!(kh&4194240)&&(kh=64),e}function Eg(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Du(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=s}function z5(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Pr(s),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,s&=~a}}function m0(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Pr(s),i=1<<r;i&t|e[r]&t&&(e[r]|=t),s&=~i}}var Rt=0;function hk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fk,p0,mk,pk,gk,Qv=!1,Eh=[],Ea=null,Pa=null,Ta=null,nu=new Map,su=new Map,xa=[],V5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n_(e,t){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":nu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(t.pointerId)}}function dd(e,t,s,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=$u(t),t!==null&&p0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function U5(e,t,s,r,i){switch(t){case"focusin":return Ea=dd(Ea,e,t,s,r,i),!0;case"dragenter":return Pa=dd(Pa,e,t,s,r,i),!0;case"mouseover":return Ta=dd(Ta,e,t,s,r,i),!0;case"pointerover":var a=i.pointerId;return nu.set(a,dd(nu.get(a)||null,e,t,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,su.set(a,dd(su.get(a)||null,e,t,s,r,i)),!0}return!1}function vk(e){var t=yo(e.target);if(t!==null){var s=Qo(t);if(s!==null){if(t=s.tag,t===13){if(t=ik(s),t!==null){e.blockedOn=t,gk(e.priority,function(){mk(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Jv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Zv=r,s.target.dispatchEvent(r),Zv=null}else return t=$u(s),t!==null&&p0(t),e.blockedOn=s,!1;t.shift()}return!0}function s_(e,t,s){tf(e)&&s.delete(t)}function q5(){Qv=!1,Ea!==null&&tf(Ea)&&(Ea=null),Pa!==null&&tf(Pa)&&(Pa=null),Ta!==null&&tf(Ta)&&(Ta=null),nu.forEach(s_),su.forEach(s_)}function ud(e,t){e.blockedOn===t&&(e.blockedOn=null,Qv||(Qv=!0,qs.unstable_scheduleCallback(qs.unstable_NormalPriority,q5)))}function ru(e){function t(i){return ud(i,e)}if(0<Eh.length){ud(Eh[0],e);for(var s=1;s<Eh.length;s++){var r=Eh[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Ea!==null&&ud(Ea,e),Pa!==null&&ud(Pa,e),Ta!==null&&ud(Ta,e),nu.forEach(t),su.forEach(t),s=0;s<xa.length;s++)r=xa[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<xa.length&&(s=xa[0],s.blockedOn===null);)vk(s),s.blockedOn===null&&xa.shift()}var Bl=ea.ReactCurrentBatchConfig,Ef=!0;function H5(e,t,s,r){var i=Rt,a=Bl.transition;Bl.transition=null;try{Rt=1,g0(e,t,s,r)}finally{Rt=i,Bl.transition=a}}function W5(e,t,s,r){var i=Rt,a=Bl.transition;Bl.transition=null;try{Rt=4,g0(e,t,s,r)}finally{Rt=i,Bl.transition=a}}function g0(e,t,s,r){if(Ef){var i=Jv(e,t,s,r);if(i===null)Fg(e,t,r,Pf,s),n_(e,r);else if(U5(i,e,t,s,r))r.stopPropagation();else if(n_(e,r),t&4&&-1<V5.indexOf(e)){for(;i!==null;){var a=$u(i);if(a!==null&&fk(a),a=Jv(e,t,s,r),a===null&&Fg(e,t,r,Pf,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else Fg(e,t,r,null,s)}}var Pf=null;function Jv(e,t,s,r){if(Pf=null,e=h0(r),e=yo(e),e!==null)if(t=Qo(e),t===null)e=null;else if(s=t.tag,s===13){if(e=ik(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pf=e,null}function xk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L5()){case f0:return 1;case ck:return 4;case kf:case R5:return 16;case dk:return 536870912;default:return 16}default:return 16}}var Sa=null,v0=null,nf=null;function yk(){if(nf)return nf;var e,t=v0,s=t.length,r,i="value"in Sa?Sa.value:Sa.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===i[a-r];r++);return nf=i.slice(e,1<r?1-r:void 0)}function sf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ph(){return!0}function r_(){return!1}function Ws(e){function t(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(s=e[c],this[c]=s?s(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ph:r_,this.isPropagationStopped=r_,this}return ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),t}var Pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=Ws(Pc),Fu=ln({},Pc,{view:0,detail:0}),Z5=Ws(Fu),Pg,Tg,hd,Dm=ln({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hd&&(hd&&e.type==="mousemove"?(Pg=e.screenX-hd.screenX,Tg=e.screenY-hd.screenY):Tg=Pg=0,hd=e),Pg)},movementY:function(e){return"movementY"in e?e.movementY:Tg}}),i_=Ws(Dm),G5=ln({},Dm,{dataTransfer:0}),K5=Ws(G5),Y5=ln({},Fu,{relatedTarget:0}),Ag=Ws(Y5),X5=ln({},Pc,{animationName:0,elapsedTime:0,pseudoElement:0}),Q5=Ws(X5),J5=ln({},Pc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e3=Ws(J5),t3=ln({},Pc,{data:0}),a_=Ws(t3),n3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r3[e])?!!t[e]:!1}function y0(){return i3}var a3=ln({},Fu,{key:function(e){if(e.key){var t=n3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(e){return e.type==="keypress"?sf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o3=Ws(a3),l3=ln({},Dm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o_=Ws(l3),c3=ln({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),d3=Ws(c3),u3=ln({},Pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),h3=Ws(u3),f3=ln({},Dm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m3=Ws(f3),p3=[9,13,27,32],b0=Vi&&"CompositionEvent"in window,Id=null;Vi&&"documentMode"in document&&(Id=document.documentMode);var g3=Vi&&"TextEvent"in window&&!Id,bk=Vi&&(!b0||Id&&8<Id&&11>=Id),l_=" ",c_=!1;function wk(e,t){switch(e){case"keyup":return p3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function v3(e,t){switch(e){case"compositionend":return jk(t);case"keypress":return t.which!==32?null:(c_=!0,l_);case"textInput":return e=t.data,e===l_&&c_?null:e;default:return null}}function x3(e,t){if(bl)return e==="compositionend"||!b0&&wk(e,t)?(e=yk(),nf=v0=Sa=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bk&&t.locale!=="ko"?null:t.data;default:return null}}var y3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y3[e.type]:t==="textarea"}function _k(e,t,s,r){ek(r),t=Tf(t,"onChange"),0<t.length&&(s=new x0("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Dd=null,iu=null;function b3(e){Rk(e,0)}function Fm(e){var t=_l(e);if(Z2(t))return e}function w3(e,t){if(e==="change")return t}var Nk=!1;if(Vi){var Og;if(Vi){var Lg="oninput"in document;if(!Lg){var u_=document.createElement("div");u_.setAttribute("oninput","return;"),Lg=typeof u_.oninput=="function"}Og=Lg}else Og=!1;Nk=Og&&(!document.documentMode||9<document.documentMode)}function h_(){Dd&&(Dd.detachEvent("onpropertychange",Sk),iu=Dd=null)}function Sk(e){if(e.propertyName==="value"&&Fm(iu)){var t=[];_k(t,iu,e,h0(e)),rk(b3,t)}}function j3(e,t,s){e==="focusin"?(h_(),Dd=t,iu=s,Dd.attachEvent("onpropertychange",Sk)):e==="focusout"&&h_()}function _3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fm(iu)}function N3(e,t){if(e==="click")return Fm(t)}function S3(e,t){if(e==="input"||e==="change")return Fm(t)}function k3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Or=typeof Object.is=="function"?Object.is:k3;function au(e,t){if(Or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!Mv.call(t,i)||!Or(e[i],t[i]))return!1}return!0}function f_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function m_(e,t){var s=f_(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=f_(s)}}function kk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ck(){for(var e=window,t=_f();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=_f(e.document)}return t}function w0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function C3(e){var t=Ck(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&kk(s.ownerDocument.documentElement,s)){if(r!==null&&w0(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=m_(s,a);var o=m_(s,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E3=Vi&&"documentMode"in document&&11>=document.documentMode,wl=null,ex=null,Fd=null,tx=!1;function p_(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tx||wl==null||wl!==_f(r)||(r=wl,"selectionStart"in r&&w0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fd&&au(Fd,r)||(Fd=r,r=Tf(ex,"onSelect"),0<r.length&&(t=new x0("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=wl)))}function Th(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var jl={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},Rg={},Ek={};Vi&&(Ek=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function $m(e){if(Rg[e])return Rg[e];if(!jl[e])return e;var t=jl[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Ek)return Rg[e]=t[s];return e}var Pk=$m("animationend"),Tk=$m("animationiteration"),Ak=$m("animationstart"),Ok=$m("transitionend"),Lk=new Map,g_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(e,t){Lk.set(e,t),Xo(t,[e])}for(var Mg=0;Mg<g_.length;Mg++){var Ig=g_[Mg],P3=Ig.toLowerCase(),T3=Ig[0].toUpperCase()+Ig.slice(1);Xa(P3,"on"+T3)}Xa(Pk,"onAnimationEnd");Xa(Tk,"onAnimationIteration");Xa(Ak,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(Ok,"onTransitionEnd");ic("onMouseEnter",["mouseout","mouseover"]);ic("onMouseLeave",["mouseout","mouseover"]);ic("onPointerEnter",["pointerout","pointerover"]);ic("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function v_(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,P5(r,t,void 0,e),e.currentTarget=null}function Rk(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;v_(i,c,h),a=d}else for(o=0;o<r.length;o++){if(c=r[o],d=c.instance,h=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;v_(i,c,h),a=d}}}if(Sf)throw e=Yv,Sf=!1,Yv=null,e}function Wt(e,t){var s=t[ax];s===void 0&&(s=t[ax]=new Set);var r=e+"__bubble";s.has(r)||(Mk(t,e,2,!1),s.add(r))}function Dg(e,t,s){var r=0;t&&(r|=4),Mk(s,e,r,t)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[Ah]){e[Ah]=!0,V2.forEach(function(s){s!=="selectionchange"&&(A3.has(s)||Dg(s,!1,e),Dg(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ah]||(t[Ah]=!0,Dg("selectionchange",!1,t))}}function Mk(e,t,s,r){switch(xk(t)){case 1:var i=H5;break;case 4:i=W5;break;default:i=g0}s=i.bind(null,t,s,e),i=void 0,!Kv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Fg(e,t,s,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;o=o.return}for(;c!==null;){if(o=yo(c),o===null)return;if(d=o.tag,d===5||d===6){r=a=o;continue e}c=c.parentNode}}r=r.return}rk(function(){var h=a,f=h0(s),m=[];e:{var u=Lk.get(e);if(u!==void 0){var p=x0,x=e;switch(e){case"keypress":if(sf(s)===0)break e;case"keydown":case"keyup":p=o3;break;case"focusin":x="focus",p=Ag;break;case"focusout":x="blur",p=Ag;break;case"beforeblur":case"afterblur":p=Ag;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=i_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=K5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=d3;break;case Pk:case Tk:case Ak:p=Q5;break;case Ok:p=h3;break;case"scroll":p=Z5;break;case"wheel":p=m3;break;case"copy":case"cut":case"paste":p=e3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=o_}var v=(t&4)!==0,w=!v&&e==="scroll",b=v?u!==null?u+"Capture":null:u;v=[];for(var y=h,_;y!==null;){_=y;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,b!==null&&(N=tu(y,b),N!=null&&v.push(lu(y,N,_)))),w)break;y=y.return}0<v.length&&(u=new p(u,x,null,s,f),m.push({event:u,listeners:v}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",u&&s!==Zv&&(x=s.relatedTarget||s.fromElement)&&(yo(x)||x[Ui]))break e;if((p||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,p?(x=s.relatedTarget||s.toElement,p=h,x=x?yo(x):null,x!==null&&(w=Qo(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=h),p!==x)){if(v=i_,N="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=o_,N="onPointerLeave",b="onPointerEnter",y="pointer"),w=p==null?u:_l(p),_=x==null?u:_l(x),u=new v(N,y+"leave",p,s,f),u.target=w,u.relatedTarget=_,N=null,yo(f)===h&&(v=new v(b,y+"enter",x,s,f),v.target=_,v.relatedTarget=w,N=v),w=N,p&&x)t:{for(v=p,b=x,y=0,_=v;_;_=ul(_))y++;for(_=0,N=b;N;N=ul(N))_++;for(;0<y-_;)v=ul(v),y--;for(;0<_-y;)b=ul(b),_--;for(;y--;){if(v===b||b!==null&&v===b.alternate)break t;v=ul(v),b=ul(b)}v=null}else v=null;p!==null&&x_(m,u,p,v,!1),x!==null&&w!==null&&x_(m,w,x,v,!0)}}e:{if(u=h?_l(h):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var E=w3;else if(d_(u))if(Nk)E=S3;else{E=_3;var I=j3}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(E=N3);if(E&&(E=E(e,h))){_k(m,E,s,f);break e}I&&I(e,u,h),e==="focusout"&&(I=u._wrapperState)&&I.controlled&&u.type==="number"&&Vv(u,"number",u.value)}switch(I=h?_l(h):window,e){case"focusin":(d_(I)||I.contentEditable==="true")&&(wl=I,ex=h,Fd=null);break;case"focusout":Fd=ex=wl=null;break;case"mousedown":tx=!0;break;case"contextmenu":case"mouseup":case"dragend":tx=!1,p_(m,s,f);break;case"selectionchange":if(E3)break;case"keydown":case"keyup":p_(m,s,f)}var C;if(b0)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else bl?wk(e,s)&&(O="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(O="onCompositionStart");O&&(bk&&s.locale!=="ko"&&(bl||O!=="onCompositionStart"?O==="onCompositionEnd"&&bl&&(C=yk()):(Sa=f,v0="value"in Sa?Sa.value:Sa.textContent,bl=!0)),I=Tf(h,O),0<I.length&&(O=new a_(O,e,null,s,f),m.push({event:O,listeners:I}),C?O.data=C:(C=jk(s),C!==null&&(O.data=C)))),(C=g3?v3(e,s):x3(e,s))&&(h=Tf(h,"onBeforeInput"),0<h.length&&(f=new a_("onBeforeInput","beforeinput",null,s,f),m.push({event:f,listeners:h}),f.data=C))}Rk(m,t)})}function lu(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Tf(e,t){for(var s=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=tu(e,s),a!=null&&r.unshift(lu(e,a,i)),a=tu(e,t),a!=null&&r.push(lu(e,a,i))),e=e.return}return r}function ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function x_(e,t,s,r,i){for(var a=t._reactName,o=[];s!==null&&s!==r;){var c=s,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,i?(d=tu(s,a),d!=null&&o.unshift(lu(s,d,c))):i||(d=tu(s,a),d!=null&&o.push(lu(s,d,c)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var O3=/\r\n?/g,L3=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(O3,`
`).replace(L3,"")}function Oh(e,t,s){if(t=y_(t),y_(e)!==t&&s)throw Error(Pe(425))}function Af(){}var nx=null,sx=null;function rx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ix=typeof setTimeout=="function"?setTimeout:void 0,R3=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,M3=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(I3)}:ix;function I3(e){setTimeout(function(){throw e})}function $g(e,t){var s=t,r=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){e.removeChild(i),ru(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);ru(t)}function Aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Tc,cu="__reactProps$"+Tc,Ui="__reactContainer$"+Tc,ax="__reactEvents$"+Tc,D3="__reactListeners$"+Tc,F3="__reactHandles$"+Tc;function yo(e){var t=e[Xr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ui]||s[Xr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=w_(e);e!==null;){if(s=e[Xr])return s;e=w_(e)}return t}e=s,s=e.parentNode}return null}function $u(e){return e=e[Xr]||e[Ui],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _l(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function Bm(e){return e[cu]||null}var ox=[],Nl=-1;function Qa(e){return{current:e}}function Kt(e){0>Nl||(e.current=ox[Nl],ox[Nl]=null,Nl--)}function $t(e,t){Nl++,ox[Nl]=e.current,e.current=t}var Va={},as=Qa(Va),Es=Qa(!1),$o=Va;function ac(e,t){var s=e.type.contextTypes;if(!s)return Va;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ps(e){return e=e.childContextTypes,e!=null}function Of(){Kt(Es),Kt(as)}function j_(e,t,s){if(as.current!==Va)throw Error(Pe(168));$t(as,t),$t(Es,s)}function Ik(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Pe(108,j5(e)||"Unknown",i));return ln({},s,r)}function Lf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Va,$o=as.current,$t(as,e),$t(Es,Es.current),!0}function __(e,t,s){var r=e.stateNode;if(!r)throw Error(Pe(169));s?(e=Ik(e,t,$o),r.__reactInternalMemoizedMergedChildContext=e,Kt(Es),Kt(as),$t(as,e)):Kt(Es),$t(Es,s)}var Oi=null,zm=!1,Bg=!1;function Dk(e){Oi===null?Oi=[e]:Oi.push(e)}function $3(e){zm=!0,Dk(e)}function Ja(){if(!Bg&&Oi!==null){Bg=!0;var e=0,t=Rt;try{var s=Oi;for(Rt=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Oi=null,zm=!1}catch(i){throw Oi!==null&&(Oi=Oi.slice(e+1)),lk(f0,Ja),i}finally{Rt=t,Bg=!1}}return null}var Sl=[],kl=0,Rf=null,Mf=0,tr=[],nr=0,Bo=null,Ii=1,Di="";function fo(e,t){Sl[kl++]=Mf,Sl[kl++]=Rf,Rf=e,Mf=t}function Fk(e,t,s){tr[nr++]=Ii,tr[nr++]=Di,tr[nr++]=Bo,Bo=e;var r=Ii;e=Di;var i=32-Pr(r)-1;r&=~(1<<i),s+=1;var a=32-Pr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ii=1<<32-Pr(t)+i|s<<i|r,Di=a+e}else Ii=1<<a|s<<i|r,Di=e}function j0(e){e.return!==null&&(fo(e,1),Fk(e,1,0))}function _0(e){for(;e===Rf;)Rf=Sl[--kl],Sl[kl]=null,Mf=Sl[--kl],Sl[kl]=null;for(;e===Bo;)Bo=tr[--nr],tr[nr]=null,Di=tr[--nr],tr[nr]=null,Ii=tr[--nr],tr[nr]=null}var Vs=null,zs=null,Xt=!1,Sr=null;function $k(e,t){var s=sr(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function N_(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vs=e,zs=Aa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vs=e,zs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Bo!==null?{id:Ii,overflow:Di}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=sr(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Vs=e,zs=null,!0):!1;default:return!1}}function lx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cx(e){if(Xt){var t=zs;if(t){var s=t;if(!N_(e,t)){if(lx(e))throw Error(Pe(418));t=Aa(s.nextSibling);var r=Vs;t&&N_(e,t)?$k(r,s):(e.flags=e.flags&-4097|2,Xt=!1,Vs=e)}}else{if(lx(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,Xt=!1,Vs=e}}}function S_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vs=e}function Lh(e){if(e!==Vs)return!1;if(!Xt)return S_(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rx(e.type,e.memoizedProps)),t&&(t=zs)){if(lx(e))throw Bk(),Error(Pe(418));for(;t;)$k(e,t),t=Aa(t.nextSibling)}if(S_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){zs=Aa(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}zs=null}}else zs=Vs?Aa(e.stateNode.nextSibling):null;return!0}function Bk(){for(var e=zs;e;)e=Aa(e.nextSibling)}function oc(){zs=Vs=null,Xt=!1}function N0(e){Sr===null?Sr=[e]:Sr.push(e)}var B3=ea.ReactCurrentBatchConfig;function fd(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Pe(309));var r=s.stateNode}if(!r)throw Error(Pe(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Pe(284));if(!s._owner)throw Error(Pe(290,e))}return e}function Rh(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function k_(e){var t=e._init;return t(e._payload)}function zk(e){function t(b,y){if(e){var _=b.deletions;_===null?(b.deletions=[y],b.flags|=16):_.push(y)}}function s(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=Ma(b,y),b.index=0,b.sibling=null,b}function a(b,y,_){return b.index=_,e?(_=b.alternate,_!==null?(_=_.index,_<y?(b.flags|=2,y):_):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,y,_,N){return y===null||y.tag!==6?(y=Zg(_,b.mode,N),y.return=b,y):(y=i(y,_),y.return=b,y)}function d(b,y,_,N){var E=_.type;return E===yl?f(b,y,_.props.children,N,_.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pa&&k_(E)===y.type)?(N=i(y,_.props),N.ref=fd(b,y,_),N.return=b,N):(N=uf(_.type,_.key,_.props,null,b.mode,N),N.ref=fd(b,y,_),N.return=b,N)}function h(b,y,_,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Gg(_,b.mode,N),y.return=b,y):(y=i(y,_.children||[]),y.return=b,y)}function f(b,y,_,N,E){return y===null||y.tag!==7?(y=Lo(_,b.mode,N,E),y.return=b,y):(y=i(y,_),y.return=b,y)}function m(b,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zg(""+y,b.mode,_),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _h:return _=uf(y.type,y.key,y.props,null,b.mode,_),_.ref=fd(b,null,y),_.return=b,_;case xl:return y=Gg(y,b.mode,_),y.return=b,y;case pa:var N=y._init;return m(b,N(y._payload),_)}if(Cd(y)||ld(y))return y=Lo(y,b.mode,_,null),y.return=b,y;Rh(b,y)}return null}function u(b,y,_,N){var E=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:c(b,y,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _h:return _.key===E?d(b,y,_,N):null;case xl:return _.key===E?h(b,y,_,N):null;case pa:return E=_._init,u(b,y,E(_._payload),N)}if(Cd(_)||ld(_))return E!==null?null:f(b,y,_,N,null);Rh(b,_)}return null}function p(b,y,_,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(_)||null,c(y,b,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _h:return b=b.get(N.key===null?_:N.key)||null,d(y,b,N,E);case xl:return b=b.get(N.key===null?_:N.key)||null,h(y,b,N,E);case pa:var I=N._init;return p(b,y,_,I(N._payload),E)}if(Cd(N)||ld(N))return b=b.get(_)||null,f(y,b,N,E,null);Rh(y,N)}return null}function x(b,y,_,N){for(var E=null,I=null,C=y,O=y=0,A=null;C!==null&&O<_.length;O++){C.index>O?(A=C,C=null):A=C.sibling;var k=u(b,C,_[O],N);if(k===null){C===null&&(C=A);break}e&&C&&k.alternate===null&&t(b,C),y=a(k,y,O),I===null?E=k:I.sibling=k,I=k,C=A}if(O===_.length)return s(b,C),Xt&&fo(b,O),E;if(C===null){for(;O<_.length;O++)C=m(b,_[O],N),C!==null&&(y=a(C,y,O),I===null?E=C:I.sibling=C,I=C);return Xt&&fo(b,O),E}for(C=r(b,C);O<_.length;O++)A=p(C,b,O,_[O],N),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?O:A.key),y=a(A,y,O),I===null?E=A:I.sibling=A,I=A);return e&&C.forEach(function(R){return t(b,R)}),Xt&&fo(b,O),E}function v(b,y,_,N){var E=ld(_);if(typeof E!="function")throw Error(Pe(150));if(_=E.call(_),_==null)throw Error(Pe(151));for(var I=E=null,C=y,O=y=0,A=null,k=_.next();C!==null&&!k.done;O++,k=_.next()){C.index>O?(A=C,C=null):A=C.sibling;var R=u(b,C,k.value,N);if(R===null){C===null&&(C=A);break}e&&C&&R.alternate===null&&t(b,C),y=a(R,y,O),I===null?E=R:I.sibling=R,I=R,C=A}if(k.done)return s(b,C),Xt&&fo(b,O),E;if(C===null){for(;!k.done;O++,k=_.next())k=m(b,k.value,N),k!==null&&(y=a(k,y,O),I===null?E=k:I.sibling=k,I=k);return Xt&&fo(b,O),E}for(C=r(b,C);!k.done;O++,k=_.next())k=p(C,b,O,k.value,N),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?O:k.key),y=a(k,y,O),I===null?E=k:I.sibling=k,I=k);return e&&C.forEach(function(P){return t(b,P)}),Xt&&fo(b,O),E}function w(b,y,_,N){if(typeof _=="object"&&_!==null&&_.type===yl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _h:e:{for(var E=_.key,I=y;I!==null;){if(I.key===E){if(E=_.type,E===yl){if(I.tag===7){s(b,I.sibling),y=i(I,_.props.children),y.return=b,b=y;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pa&&k_(E)===I.type){s(b,I.sibling),y=i(I,_.props),y.ref=fd(b,I,_),y.return=b,b=y;break e}s(b,I);break}else t(b,I);I=I.sibling}_.type===yl?(y=Lo(_.props.children,b.mode,N,_.key),y.return=b,b=y):(N=uf(_.type,_.key,_.props,null,b.mode,N),N.ref=fd(b,y,_),N.return=b,b=N)}return o(b);case xl:e:{for(I=_.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){s(b,y.sibling),y=i(y,_.children||[]),y.return=b,b=y;break e}else{s(b,y);break}else t(b,y);y=y.sibling}y=Gg(_,b.mode,N),y.return=b,b=y}return o(b);case pa:return I=_._init,w(b,y,I(_._payload),N)}if(Cd(_))return x(b,y,_,N);if(ld(_))return v(b,y,_,N);Rh(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(s(b,y.sibling),y=i(y,_),y.return=b,b=y):(s(b,y),y=Zg(_,b.mode,N),y.return=b,b=y),o(b)):s(b,y)}return w}var lc=zk(!0),Vk=zk(!1),If=Qa(null),Df=null,Cl=null,S0=null;function k0(){S0=Cl=Df=null}function C0(e){var t=If.current;Kt(If),e._currentValue=t}function dx(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function zl(e,t){Df=e,S0=Cl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ks=!0),e.firstContext=null)}function lr(e){var t=e._currentValue;if(S0!==e)if(e={context:e,memoizedValue:t,next:null},Cl===null){if(Df===null)throw Error(Pe(308));Cl=e,Df.dependencies={lanes:0,firstContext:e}}else Cl=Cl.next=e;return t}var bo=null;function E0(e){bo===null?bo=[e]:bo.push(e)}function Uk(e,t,s,r){var i=t.interleaved;return i===null?(s.next=s,E0(t)):(s.next=i.next,i.next=s),t.interleaved=s,qi(e,r)}function qi(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ga=!1;function P0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qi(e,s)}return i=r.interleaved,i===null?(t.next=t,E0(r)):(t.next=i.next,i.next=t),r.interleaved=t,qi(e,s)}function rf(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,m0(e,s)}}function C_(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ff(e,t,s,r){var i=e.updateQueue;ga=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,h=d.next;d.next=null,o===null?a=h:o.next=h,o=d;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=d))}if(a!==null){var m=i.baseState;o=0,f=h=d=null,c=a;do{var u=c.lane,p=c.eventTime;if((r&u)===u){f!==null&&(f=f.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=e,v=c;switch(u=t,p=s,v.tag){case 1:if(x=v.payload,typeof x=="function"){m=x.call(p,m,u);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,u=typeof x=="function"?x.call(p,m,u):x,u==null)break e;m=ln({},m,u);break e;case 2:ga=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,u=i.effects,u===null?i.effects=[c]:u.push(c))}else p={eventTime:p,lane:u,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=p,d=m):f=f.next=p,o|=u;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;u=c,c=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(f===null&&(d=m),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Vo|=o,e.lanes=o,e.memoizedState=m}}function E_(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var Bu={},ri=Qa(Bu),du=Qa(Bu),uu=Qa(Bu);function wo(e){if(e===Bu)throw Error(Pe(174));return e}function T0(e,t){switch($t(uu,t),$t(du,e),$t(ri,Bu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qv(t,e)}Kt(ri),$t(ri,t)}function cc(){Kt(ri),Kt(du),Kt(uu)}function Hk(e){wo(uu.current);var t=wo(ri.current),s=qv(t,e.type);t!==s&&($t(du,e),$t(ri,s))}function A0(e){du.current===e&&(Kt(ri),Kt(du))}var nn=Qa(0);function $f(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zg=[];function O0(){for(var e=0;e<zg.length;e++)zg[e]._workInProgressVersionPrimary=null;zg.length=0}var af=ea.ReactCurrentDispatcher,Vg=ea.ReactCurrentBatchConfig,zo=0,on=null,Mn=null,$n=null,Bf=!1,$d=!1,hu=0,z3=0;function Xn(){throw Error(Pe(321))}function L0(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Or(e[s],t[s]))return!1;return!0}function R0(e,t,s,r,i,a){if(zo=a,on=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,af.current=e===null||e.memoizedState===null?H3:W3,e=s(r,i),$d){a=0;do{if($d=!1,hu=0,25<=a)throw Error(Pe(301));a+=1,$n=Mn=null,t.updateQueue=null,af.current=Z3,e=s(r,i)}while($d)}if(af.current=zf,t=Mn!==null&&Mn.next!==null,zo=0,$n=Mn=on=null,Bf=!1,t)throw Error(Pe(300));return e}function M0(){var e=hu!==0;return hu=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?on.memoizedState=$n=e:$n=$n.next=e,$n}function cr(){if(Mn===null){var e=on.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var t=$n===null?on.memoizedState:$n.next;if(t!==null)$n=t,Mn=e;else{if(e===null)throw Error(Pe(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},$n===null?on.memoizedState=$n=e:$n=$n.next=e}return $n}function fu(e,t){return typeof t=="function"?t(e):t}function Ug(e){var t=cr(),s=t.queue;if(s===null)throw Error(Pe(311));s.lastRenderedReducer=e;var r=Mn,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var c=o=null,d=null,h=a;do{var f=h.lane;if((zo&f)===f)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=m,o=r):d=d.next=m,on.lanes|=f,Vo|=f}h=h.next}while(h!==null&&h!==a);d===null?o=r:d.next=c,Or(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=d,s.lastRenderedState=r}if(e=s.interleaved,e!==null){i=e;do a=i.lane,on.lanes|=a,Vo|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function qg(e){var t=cr(),s=t.queue;if(s===null)throw Error(Pe(311));s.lastRenderedReducer=e;var r=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Or(a,t.memoizedState)||(ks=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function Wk(){}function Zk(e,t){var s=on,r=cr(),i=t(),a=!Or(r.memoizedState,i);if(a&&(r.memoizedState=i,ks=!0),r=r.queue,I0(Yk.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||$n!==null&&$n.memoizedState.tag&1){if(s.flags|=2048,mu(9,Kk.bind(null,s,r,i,t),void 0,null),Bn===null)throw Error(Pe(349));zo&30||Gk(s,t,i)}return i}function Gk(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Kk(e,t,s,r){t.value=s,t.getSnapshot=r,Xk(t)&&Qk(e)}function Yk(e,t,s){return s(function(){Xk(t)&&Qk(e)})}function Xk(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Or(e,s)}catch{return!0}}function Qk(e){var t=qi(e,1);t!==null&&Tr(t,e,1,-1)}function P_(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:e},t.queue=e,e=e.dispatch=q3.bind(null,on,e),[t.memoizedState,e]}function mu(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function Jk(){return cr().memoizedState}function of(e,t,s,r){var i=Zr();on.flags|=e,i.memoizedState=mu(1|t,s,void 0,r===void 0?null:r)}function Vm(e,t,s,r){var i=cr();r=r===void 0?null:r;var a=void 0;if(Mn!==null){var o=Mn.memoizedState;if(a=o.destroy,r!==null&&L0(r,o.deps)){i.memoizedState=mu(t,s,a,r);return}}on.flags|=e,i.memoizedState=mu(1|t,s,a,r)}function T_(e,t){return of(8390656,8,e,t)}function I0(e,t){return Vm(2048,8,e,t)}function eC(e,t){return Vm(4,2,e,t)}function tC(e,t){return Vm(4,4,e,t)}function nC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sC(e,t,s){return s=s!=null?s.concat([e]):null,Vm(4,4,nC.bind(null,t,e),s)}function D0(){}function rC(e,t){var s=cr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&L0(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function iC(e,t){var s=cr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&L0(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function aC(e,t,s){return zo&21?(Or(s,t)||(s=uk(),on.lanes|=s,Vo|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=s)}function V3(e,t){var s=Rt;Rt=s!==0&&4>s?s:4,e(!0);var r=Vg.transition;Vg.transition={};try{e(!1),t()}finally{Rt=s,Vg.transition=r}}function oC(){return cr().memoizedState}function U3(e,t,s){var r=Ra(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},lC(e))cC(t,s);else if(s=Uk(e,t,s,r),s!==null){var i=gs();Tr(s,e,r,i),dC(s,t,r)}}function q3(e,t,s){var r=Ra(e),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(lC(e))cC(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,s);if(i.hasEagerState=!0,i.eagerState=c,Or(c,o)){var d=t.interleaved;d===null?(i.next=i,E0(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}s=Uk(e,t,i,r),s!==null&&(i=gs(),Tr(s,e,r,i),dC(s,t,r))}}function lC(e){var t=e.alternate;return e===on||t!==null&&t===on}function cC(e,t){$d=Bf=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function dC(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,m0(e,s)}}var zf={readContext:lr,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},H3={readContext:lr,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:lr,useEffect:T_,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,of(4194308,4,nC.bind(null,t,e),s)},useLayoutEffect:function(e,t){return of(4194308,4,e,t)},useInsertionEffect:function(e,t){return of(4,2,e,t)},useMemo:function(e,t){var s=Zr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Zr();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=U3.bind(null,on,e),[r.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:P_,useDebugValue:D0,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=P_(!1),t=e[0];return e=V3.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=on,i=Zr();if(Xt){if(s===void 0)throw Error(Pe(407));s=s()}else{if(s=t(),Bn===null)throw Error(Pe(349));zo&30||Gk(r,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,T_(Yk.bind(null,r,a,e),[e]),r.flags|=2048,mu(9,Kk.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=Zr(),t=Bn.identifierPrefix;if(Xt){var s=Di,r=Ii;s=(r&~(1<<32-Pr(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=hu++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=z3++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W3={readContext:lr,useCallback:rC,useContext:lr,useEffect:I0,useImperativeHandle:sC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:iC,useReducer:Ug,useRef:Jk,useState:function(){return Ug(fu)},useDebugValue:D0,useDeferredValue:function(e){var t=cr();return aC(t,Mn.memoizedState,e)},useTransition:function(){var e=Ug(fu)[0],t=cr().memoizedState;return[e,t]},useMutableSource:Wk,useSyncExternalStore:Zk,useId:oC,unstable_isNewReconciler:!1},Z3={readContext:lr,useCallback:rC,useContext:lr,useEffect:I0,useImperativeHandle:sC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:iC,useReducer:qg,useRef:Jk,useState:function(){return qg(fu)},useDebugValue:D0,useDeferredValue:function(e){var t=cr();return Mn===null?t.memoizedState=e:aC(t,Mn.memoizedState,e)},useTransition:function(){var e=qg(fu)[0],t=cr().memoizedState;return[e,t]},useMutableSource:Wk,useSyncExternalStore:Zk,useId:oC,unstable_isNewReconciler:!1};function br(e,t){if(e&&e.defaultProps){t=ln({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function ux(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:ln({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Um={isMounted:function(e){return(e=e._reactInternals)?Qo(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=gs(),i=Ra(e),a=$i(r,i);a.payload=t,s!=null&&(a.callback=s),t=Oa(e,a,i),t!==null&&(Tr(t,e,i,r),rf(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=gs(),i=Ra(e),a=$i(r,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Oa(e,a,i),t!==null&&(Tr(t,e,i,r),rf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=gs(),r=Ra(e),i=$i(s,r);i.tag=2,t!=null&&(i.callback=t),t=Oa(e,i,r),t!==null&&(Tr(t,e,r,s),rf(t,e,r))}};function A_(e,t,s,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!au(s,r)||!au(i,a):!0}function uC(e,t,s){var r=!1,i=Va,a=t.contextType;return typeof a=="object"&&a!==null?a=lr(a):(i=Ps(t)?$o:as.current,r=t.contextTypes,a=(r=r!=null)?ac(e,i):Va),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Um,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function O_(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Um.enqueueReplaceState(t,t.state,null)}function hx(e,t,s,r){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},P0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=lr(a):(a=Ps(t)?$o:as.current,i.context=ac(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ux(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Um.enqueueReplaceState(i,i.state,null),Ff(e,s,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function dc(e,t){try{var s="",r=t;do s+=w5(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Hg(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function fx(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var G3=typeof WeakMap=="function"?WeakMap:Map;function hC(e,t,s){s=$i(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Uf||(Uf=!0,_x=r),fx(e,t)},s}function fC(e,t,s){s=$i(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;s.payload=function(){return r(i)},s.callback=function(){fx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){fx(e,t),typeof r!="function"&&(La===null?La=new Set([this]):La.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function L_(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new G3;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(s)||(i.add(s),e=lI.bind(null,e,t,s),t.then(e,e))}function R_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function M_(e,t,s,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=$i(-1,1),t.tag=2,Oa(s,t,1))),s.lanes|=1),e)}var K3=ea.ReactCurrentOwner,ks=!1;function hs(e,t,s,r){t.child=e===null?Vk(t,null,s,r):lc(t,e.child,s,r)}function I_(e,t,s,r,i){s=s.render;var a=t.ref;return zl(t,i),r=R0(e,t,s,r,a,i),s=M0(),e!==null&&!ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(Xt&&s&&j0(t),t.flags|=1,hs(e,t,r,i),t.child)}function D_(e,t,s,r,i){if(e===null){var a=s.type;return typeof a=="function"&&!H0(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,mC(e,t,a,r,i)):(e=uf(s.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:au,s(o,r)&&e.ref===t.ref)return Hi(e,t,i)}return t.flags|=1,e=Ma(a,r),e.ref=t.ref,e.return=t,t.child=e}function mC(e,t,s,r,i){if(e!==null){var a=e.memoizedProps;if(au(a,r)&&e.ref===t.ref)if(ks=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ks=!0);else return t.lanes=e.lanes,Hi(e,t,i)}return mx(e,t,s,r,i)}function pC(e,t,s){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Pl,Ms),Ms|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(Pl,Ms),Ms|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,$t(Pl,Ms),Ms|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,$t(Pl,Ms),Ms|=r;return hs(e,t,i,s),t.child}function gC(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function mx(e,t,s,r,i){var a=Ps(s)?$o:as.current;return a=ac(t,a),zl(t,i),s=R0(e,t,s,r,a,i),r=M0(),e!==null&&!ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(Xt&&r&&j0(t),t.flags|=1,hs(e,t,s,i),t.child)}function F_(e,t,s,r,i){if(Ps(s)){var a=!0;Lf(t)}else a=!1;if(zl(t,i),t.stateNode===null)lf(e,t),uC(t,s,r),hx(t,s,r,i),r=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var d=o.context,h=s.contextType;typeof h=="object"&&h!==null?h=lr(h):(h=Ps(s)?$o:as.current,h=ac(t,h));var f=s.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||d!==h)&&O_(t,o,r,h),ga=!1;var u=t.memoizedState;o.state=u,Ff(t,r,o,i),d=t.memoizedState,c!==r||u!==d||Es.current||ga?(typeof f=="function"&&(ux(t,s,f,r),d=t.memoizedState),(c=ga||A_(t,s,c,r,u,d,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=h,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,qk(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:br(t.type,c),o.props=h,m=t.pendingProps,u=o.context,d=s.contextType,typeof d=="object"&&d!==null?d=lr(d):(d=Ps(s)?$o:as.current,d=ac(t,d));var p=s.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==m||u!==d)&&O_(t,o,r,d),ga=!1,u=t.memoizedState,o.state=u,Ff(t,r,o,i);var x=t.memoizedState;c!==m||u!==x||Es.current||ga?(typeof p=="function"&&(ux(t,s,p,r),x=t.memoizedState),(h=ga||A_(t,s,h,r,u,x,d)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=d,r=h):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return px(e,t,s,r,a,i)}function px(e,t,s,r,i,a){gC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&__(t,s,!1),Hi(e,t,a);r=t.stateNode,K3.current=t;var c=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=lc(t,e.child,null,a),t.child=lc(t,null,c,a)):hs(e,t,c,a),t.memoizedState=r.state,i&&__(t,s,!0),t.child}function vC(e){var t=e.stateNode;t.pendingContext?j_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&j_(e,t.context,!1),T0(e,t.containerInfo)}function $_(e,t,s,r,i){return oc(),N0(i),t.flags|=256,hs(e,t,s,r),t.child}var gx={dehydrated:null,treeContext:null,retryLane:0};function vx(e){return{baseLanes:e,cachePool:null,transitions:null}}function xC(e,t,s){var r=t.pendingProps,i=nn.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$t(nn,i&1),e===null)return cx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Wm(o,r,0,null),e=Lo(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=vx(s),t.memoizedState=gx,e):F0(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Y3(e,t,o,r,c,i,s);if(a){a=r.fallback,o=t.mode,i=e.child,c=i.sibling;var d={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Ma(i,d),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Ma(c,a):(a=Lo(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?vx(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=gx,r}return a=e.child,e=a.sibling,r=Ma(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function F0(e,t){return t=Wm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mh(e,t,s,r){return r!==null&&N0(r),lc(t,e.child,null,s),e=F0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y3(e,t,s,r,i,a,o){if(s)return t.flags&256?(t.flags&=-257,r=Hg(Error(Pe(422))),Mh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Wm({mode:"visible",children:r.children},i,0,null),a=Lo(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&lc(t,e.child,null,o),t.child.memoizedState=vx(o),t.memoizedState=gx,a);if(!(t.mode&1))return Mh(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(Pe(419)),r=Hg(a,r,void 0),Mh(e,t,o,r)}if(c=(o&e.childLanes)!==0,ks||c){if(r=Bn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,qi(e,i),Tr(r,e,i,-1))}return q0(),r=Hg(Error(Pe(421))),Mh(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=cI.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,zs=Aa(i.nextSibling),Vs=t,Xt=!0,Sr=null,e!==null&&(tr[nr++]=Ii,tr[nr++]=Di,tr[nr++]=Bo,Ii=e.id,Di=e.overflow,Bo=t),t=F0(t,r.children),t.flags|=4096,t)}function B_(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dx(e.return,t,s)}function Wg(e,t,s,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function yC(e,t,s){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(hs(e,t,r.children,s),r=nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B_(e,s,t);else if(e.tag===19)B_(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($t(nn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&$f(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Wg(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$f(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Wg(t,!0,s,null,a);break;case"together":Wg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Vo|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,s=Ma(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ma(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function X3(e,t,s){switch(t.tag){case 3:vC(t),oc();break;case 5:Hk(t);break;case 1:Ps(t.type)&&Lf(t);break;case 4:T0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$t(If,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($t(nn,nn.current&1),t.flags|=128,null):s&t.child.childLanes?xC(e,t,s):($t(nn,nn.current&1),e=Hi(e,t,s),e!==null?e.sibling:null);$t(nn,nn.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return yC(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(nn,nn.current),r)break;return null;case 22:case 23:return t.lanes=0,pC(e,t,s)}return Hi(e,t,s)}var bC,xx,wC,jC;bC=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};xx=function(){};wC=function(e,t,s,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wo(ri.current);var a=null;switch(s){case"input":i=Bv(e,i),r=Bv(e,r),a=[];break;case"select":i=ln({},i,{value:void 0}),r=ln({},r,{value:void 0}),a=[];break;case"textarea":i=Uv(e,i),r=Uv(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Af)}Hv(s,r);var o;s=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(o in c)c.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Jd.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var d=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(s||(s={}),s[o]=d[o])}else s||(a||(a=[]),a.push(h,s)),s=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Jd.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Wt("scroll",e),a||c===d||(a=[])):(a=a||[]).push(h,d))}s&&(a=a||[]).push("style",s);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};jC=function(e,t,s,r){s!==r&&(t.flags|=4)};function md(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Q3(e,t,s){var r=t.pendingProps;switch(_0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(t),null;case 1:return Ps(t.type)&&Of(),Qn(t),null;case 3:return r=t.stateNode,cc(),Kt(Es),Kt(as),O0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Lh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(kx(Sr),Sr=null))),xx(e,t),Qn(t),null;case 5:A0(t);var i=wo(uu.current);if(s=t.type,e!==null&&t.stateNode!=null)wC(e,t,s,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Pe(166));return Qn(t),null}if(e=wo(ri.current),Lh(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[Xr]=t,r[cu]=a,e=(t.mode&1)!==0,s){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(i=0;i<Pd.length;i++)Wt(Pd[i],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":Kj(r,a),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Wt("invalid",r);break;case"textarea":Xj(r,a),Wt("invalid",r)}Hv(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&Oh(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Oh(r.textContent,c,e),i=["children",""+c]):Jd.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Wt("scroll",r)}switch(s){case"input":Nh(r),Yj(r,a,!0);break;case"textarea":Nh(r),Qj(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Af)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y2(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[Xr]=t,e[cu]=r,bC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wv(s,r),s){case"dialog":Wt("cancel",e),Wt("close",e),i=r;break;case"iframe":case"object":case"embed":Wt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pd.length;i++)Wt(Pd[i],e);i=r;break;case"source":Wt("error",e),i=r;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),i=r;break;case"details":Wt("toggle",e),i=r;break;case"input":Kj(e,r),i=Bv(e,r),Wt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ln({},r,{value:void 0}),Wt("invalid",e);break;case"textarea":Xj(e,r),i=Uv(e,r),Wt("invalid",e);break;default:i=r}Hv(s,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?J2(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&X2(e,d)):a==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&eu(e,d):typeof d=="number"&&eu(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jd.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Wt("scroll",e):d!=null&&l0(e,a,d,o))}switch(s){case"input":Nh(e),Yj(e,r,!1);break;case"textarea":Nh(e),Qj(e);break;case"option":r.value!=null&&e.setAttribute("value",""+za(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Dl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Dl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Af)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qn(t),null;case 6:if(e&&t.stateNode!=null)jC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Pe(166));if(s=wo(uu.current),wo(ri.current),Lh(t)){if(r=t.stateNode,s=t.memoizedProps,r[Xr]=t,(a=r.nodeValue!==s)&&(e=Vs,e!==null))switch(e.tag){case 3:Oh(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oh(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Xr]=t,t.stateNode=r}return Qn(t),null;case 13:if(Kt(nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&zs!==null&&t.mode&1&&!(t.flags&128))Bk(),oc(),t.flags|=98560,a=!1;else if(a=Lh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Pe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Pe(317));a[Xr]=t}else oc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qn(t),a=!1}else Sr!==null&&(kx(Sr),Sr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nn.current&1?In===0&&(In=3):q0())),t.updateQueue!==null&&(t.flags|=4),Qn(t),null);case 4:return cc(),xx(e,t),e===null&&ou(t.stateNode.containerInfo),Qn(t),null;case 10:return C0(t.type._context),Qn(t),null;case 17:return Ps(t.type)&&Of(),Qn(t),null;case 19:if(Kt(nn),a=t.memoizedState,a===null)return Qn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)md(a,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$f(e),o!==null){for(t.flags|=128,md(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return $t(nn,nn.current&1|2),t.child}e=e.sibling}a.tail!==null&&_n()>uc&&(t.flags|=128,r=!0,md(a,!1),t.lanes=4194304)}else{if(!r)if(e=$f(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),md(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xt)return Qn(t),null}else 2*_n()-a.renderingStartTime>uc&&s!==1073741824&&(t.flags|=128,r=!0,md(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_n(),t.sibling=null,s=nn.current,$t(nn,r?s&1|2:s&1),t):(Qn(t),null);case 22:case 23:return U0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ms&1073741824&&(Qn(t),t.subtreeFlags&6&&(t.flags|=8192)):Qn(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function J3(e,t){switch(_0(t),t.tag){case 1:return Ps(t.type)&&Of(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cc(),Kt(Es),Kt(as),O0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return A0(t),null;case 13:if(Kt(nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));oc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(nn),null;case 4:return cc(),null;case 10:return C0(t.type._context),null;case 22:case 23:return U0(),null;case 24:return null;default:return null}}var Ih=!1,es=!1,eI=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function El(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){mn(e,t,r)}else s.current=null}function yx(e,t,s){try{s()}catch(r){mn(e,t,r)}}var z_=!1;function tI(e,t){if(nx=Ef,e=Ck(),w0(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,c=-1,d=-1,h=0,f=0,m=e,u=null;t:for(;;){for(var p;m!==s||i!==0&&m.nodeType!==3||(c=o+i),m!==a||r!==0&&m.nodeType!==3||(d=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)u=m,m=p;for(;;){if(m===e)break t;if(u===s&&++h===i&&(c=o),u===a&&++f===r&&(d=o),(p=m.nextSibling)!==null)break;m=u,u=m.parentNode}m=p}s=c===-1||d===-1?null:{start:c,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(sx={focusedElem:e,selectionRange:s},Ef=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:br(t.type,v),w);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(N){mn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return x=z_,z_=!1,x}function Bd(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&yx(t,s,a)}i=i.next}while(i!==r)}}function qm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function bx(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function _C(e){var t=e.alternate;t!==null&&(e.alternate=null,_C(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xr],delete t[cu],delete t[ax],delete t[D3],delete t[F3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NC(e){return e.tag===5||e.tag===3||e.tag===4}function V_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wx(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Af));else if(r!==4&&(e=e.child,e!==null))for(wx(e,t,s),e=e.sibling;e!==null;)wx(e,t,s),e=e.sibling}function jx(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jx(e,t,s),e=e.sibling;e!==null;)jx(e,t,s),e=e.sibling}var Un=null,Nr=!1;function ca(e,t,s){for(s=s.child;s!==null;)SC(e,t,s),s=s.sibling}function SC(e,t,s){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Im,s)}catch{}switch(s.tag){case 5:es||El(s,t);case 6:var r=Un,i=Nr;Un=null,ca(e,t,s),Un=r,Nr=i,Un!==null&&(Nr?(e=Un,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Un.removeChild(s.stateNode));break;case 18:Un!==null&&(Nr?(e=Un,s=s.stateNode,e.nodeType===8?$g(e.parentNode,s):e.nodeType===1&&$g(e,s),ru(e)):$g(Un,s.stateNode));break;case 4:r=Un,i=Nr,Un=s.stateNode.containerInfo,Nr=!0,ca(e,t,s),Un=r,Nr=i;break;case 0:case 11:case 14:case 15:if(!es&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&yx(s,t,o),i=i.next}while(i!==r)}ca(e,t,s);break;case 1:if(!es&&(El(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(c){mn(s,t,c)}ca(e,t,s);break;case 21:ca(e,t,s);break;case 22:s.mode&1?(es=(r=es)||s.memoizedState!==null,ca(e,t,s),es=r):ca(e,t,s);break;default:ca(e,t,s)}}function U_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new eI),t.forEach(function(r){var i=dI.bind(null,e,r);s.has(r)||(s.add(r),r.then(i,i))})}}function gr(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Un=c.stateNode,Nr=!1;break e;case 3:Un=c.stateNode.containerInfo,Nr=!0;break e;case 4:Un=c.stateNode.containerInfo,Nr=!0;break e}c=c.return}if(Un===null)throw Error(Pe(160));SC(a,o,i),Un=null,Nr=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(h){mn(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kC(t,e),t=t.sibling}function kC(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gr(t,e),qr(e),r&4){try{Bd(3,e,e.return),qm(3,e)}catch(v){mn(e,e.return,v)}try{Bd(5,e,e.return)}catch(v){mn(e,e.return,v)}}break;case 1:gr(t,e),qr(e),r&512&&s!==null&&El(s,s.return);break;case 5:if(gr(t,e),qr(e),r&512&&s!==null&&El(s,s.return),e.flags&32){var i=e.stateNode;try{eu(i,"")}catch(v){mn(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&G2(i,a),Wv(c,o);var h=Wv(c,a);for(o=0;o<d.length;o+=2){var f=d[o],m=d[o+1];f==="style"?J2(i,m):f==="dangerouslySetInnerHTML"?X2(i,m):f==="children"?eu(i,m):l0(i,f,m,h)}switch(c){case"input":zv(i,a);break;case"textarea":K2(i,a);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Dl(i,!!a.multiple,p,!1):u!==!!a.multiple&&(a.defaultValue!=null?Dl(i,!!a.multiple,a.defaultValue,!0):Dl(i,!!a.multiple,a.multiple?[]:"",!1))}i[cu]=a}catch(v){mn(e,e.return,v)}}break;case 6:if(gr(t,e),qr(e),r&4){if(e.stateNode===null)throw Error(Pe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){mn(e,e.return,v)}}break;case 3:if(gr(t,e),qr(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ru(t.containerInfo)}catch(v){mn(e,e.return,v)}break;case 4:gr(t,e),qr(e);break;case 13:gr(t,e),qr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(z0=_n())),r&4&&U_(e);break;case 22:if(f=s!==null&&s.memoizedState!==null,e.mode&1?(es=(h=es)||f,gr(t,e),es=h):gr(t,e),qr(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!f&&e.mode&1)for(Ue=e,f=e.child;f!==null;){for(m=Ue=f;Ue!==null;){switch(u=Ue,p=u.child,u.tag){case 0:case 11:case 14:case 15:Bd(4,u,u.return);break;case 1:El(u,u.return);var x=u.stateNode;if(typeof x.componentWillUnmount=="function"){r=u,s=u.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){mn(r,s,v)}}break;case 5:El(u,u.return);break;case 22:if(u.memoizedState!==null){H_(m);continue}}p!==null?(p.return=u,Ue=p):H_(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Q2("display",o))}catch(v){mn(e,e.return,v)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(v){mn(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gr(t,e),qr(e),r&4&&U_(e);break;case 21:break;default:gr(t,e),qr(e)}}function qr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(NC(s)){var r=s;break e}s=s.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(eu(i,""),r.flags&=-33);var a=V_(e);jx(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=V_(e);wx(e,c,o);break;default:throw Error(Pe(161))}}catch(d){mn(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nI(e,t,s){Ue=e,CC(e)}function CC(e,t,s){for(var r=(e.mode&1)!==0;Ue!==null;){var i=Ue,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ih;if(!o){var c=i.alternate,d=c!==null&&c.memoizedState!==null||es;c=Ih;var h=es;if(Ih=o,(es=d)&&!h)for(Ue=i;Ue!==null;)o=Ue,d=o.child,o.tag===22&&o.memoizedState!==null?W_(i):d!==null?(d.return=o,Ue=d):W_(i);for(;a!==null;)Ue=a,CC(a),a=a.sibling;Ue=i,Ih=c,es=h}q_(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ue=a):q_(e)}}function q_(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:es||qm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!es)if(s===null)r.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:br(t.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&E_(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}E_(t,o,s)}break;case 5:var c=t.stateNode;if(s===null&&t.flags&4){s=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&ru(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}es||t.flags&512&&bx(t)}catch(u){mn(t,t.return,u)}}if(t===e){Ue=null;break}if(s=t.sibling,s!==null){s.return=t.return,Ue=s;break}Ue=t.return}}function H_(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ue=s;break}Ue=t.return}}function W_(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{qm(4,t)}catch(d){mn(t,s,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(d){mn(t,i,d)}}var a=t.return;try{bx(t)}catch(d){mn(t,a,d)}break;case 5:var o=t.return;try{bx(t)}catch(d){mn(t,o,d)}}}catch(d){mn(t,t.return,d)}if(t===e){Ue=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ue=c;break}Ue=t.return}}var sI=Math.ceil,Vf=ea.ReactCurrentDispatcher,$0=ea.ReactCurrentOwner,rr=ea.ReactCurrentBatchConfig,Et=0,Bn=null,Tn=null,Hn=0,Ms=0,Pl=Qa(0),In=0,pu=null,Vo=0,Hm=0,B0=0,zd=null,Ns=null,z0=0,uc=1/0,Ai=null,Uf=!1,_x=null,La=null,Dh=!1,ka=null,qf=0,Vd=0,Nx=null,cf=-1,df=0;function gs(){return Et&6?_n():cf!==-1?cf:cf=_n()}function Ra(e){return e.mode&1?Et&2&&Hn!==0?Hn&-Hn:B3.transition!==null?(df===0&&(df=uk()),df):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:xk(e.type)),e):1}function Tr(e,t,s,r){if(50<Vd)throw Vd=0,Nx=null,Error(Pe(185));Du(e,s,r),(!(Et&2)||e!==Bn)&&(e===Bn&&(!(Et&2)&&(Hm|=s),In===4&&ya(e,Hn)),Ts(e,r),s===1&&Et===0&&!(t.mode&1)&&(uc=_n()+500,zm&&Ja()))}function Ts(e,t){var s=e.callbackNode;B5(e,t);var r=Cf(e,e===Bn?Hn:0);if(r===0)s!==null&&t_(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&t_(s),t===1)e.tag===0?$3(Z_.bind(null,e)):Dk(Z_.bind(null,e)),M3(function(){!(Et&6)&&Ja()}),s=null;else{switch(hk(r)){case 1:s=f0;break;case 4:s=ck;break;case 16:s=kf;break;case 536870912:s=dk;break;default:s=kf}s=MC(s,EC.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function EC(e,t){if(cf=-1,df=0,Et&6)throw Error(Pe(327));var s=e.callbackNode;if(Vl()&&e.callbackNode!==s)return null;var r=Cf(e,e===Bn?Hn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hf(e,r);else{t=r;var i=Et;Et|=2;var a=TC();(Bn!==e||Hn!==t)&&(Ai=null,uc=_n()+500,Oo(e,t));do try{aI();break}catch(c){PC(e,c)}while(!0);k0(),Vf.current=a,Et=i,Tn!==null?t=0:(Bn=null,Hn=0,t=In)}if(t!==0){if(t===2&&(i=Xv(e),i!==0&&(r=i,t=Sx(e,i))),t===1)throw s=pu,Oo(e,0),ya(e,r),Ts(e,_n()),s;if(t===6)ya(e,r);else{if(i=e.current.alternate,!(r&30)&&!rI(i)&&(t=Hf(e,r),t===2&&(a=Xv(e),a!==0&&(r=a,t=Sx(e,a))),t===1))throw s=pu,Oo(e,0),ya(e,r),Ts(e,_n()),s;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Pe(345));case 2:mo(e,Ns,Ai);break;case 3:if(ya(e,r),(r&130023424)===r&&(t=z0+500-_n(),10<t)){if(Cf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){gs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ix(mo.bind(null,e,Ns,Ai),t);break}mo(e,Ns,Ai);break;case 4:if(ya(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Pr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=_n()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sI(r/1960))-r,10<r){e.timeoutHandle=ix(mo.bind(null,e,Ns,Ai),r);break}mo(e,Ns,Ai);break;case 5:mo(e,Ns,Ai);break;default:throw Error(Pe(329))}}}return Ts(e,_n()),e.callbackNode===s?EC.bind(null,e):null}function Sx(e,t){var s=zd;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=Hf(e,t),e!==2&&(t=Ns,Ns=s,t!==null&&kx(t)),e}function kx(e){Ns===null?Ns=e:Ns.push.apply(Ns,e)}function rI(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!Or(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ya(e,t){for(t&=~B0,t&=~Hm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Pr(t),r=1<<s;e[s]=-1,t&=~r}}function Z_(e){if(Et&6)throw Error(Pe(327));Vl();var t=Cf(e,0);if(!(t&1))return Ts(e,_n()),null;var s=Hf(e,t);if(e.tag!==0&&s===2){var r=Xv(e);r!==0&&(t=r,s=Sx(e,r))}if(s===1)throw s=pu,Oo(e,0),ya(e,t),Ts(e,_n()),s;if(s===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,Ns,Ai),Ts(e,_n()),null}function V0(e,t){var s=Et;Et|=1;try{return e(t)}finally{Et=s,Et===0&&(uc=_n()+500,zm&&Ja())}}function Uo(e){ka!==null&&ka.tag===0&&!(Et&6)&&Vl();var t=Et;Et|=1;var s=rr.transition,r=Rt;try{if(rr.transition=null,Rt=1,e)return e()}finally{Rt=r,rr.transition=s,Et=t,!(Et&6)&&Ja()}}function U0(){Ms=Pl.current,Kt(Pl)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,R3(s)),Tn!==null)for(s=Tn.return;s!==null;){var r=s;switch(_0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Of();break;case 3:cc(),Kt(Es),Kt(as),O0();break;case 5:A0(r);break;case 4:cc();break;case 13:Kt(nn);break;case 19:Kt(nn);break;case 10:C0(r.type._context);break;case 22:case 23:U0()}s=s.return}if(Bn=e,Tn=e=Ma(e.current,null),Hn=Ms=t,In=0,pu=null,B0=Hm=Vo=0,Ns=zd=null,bo!==null){for(t=0;t<bo.length;t++)if(s=bo[t],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}bo=null}return e}function PC(e,t){do{var s=Tn;try{if(k0(),af.current=zf,Bf){for(var r=on.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bf=!1}if(zo=0,$n=Mn=on=null,$d=!1,hu=0,$0.current=null,s===null||s.return===null){In=1,pu=t,Tn=null;break}e:{var a=e,o=s.return,c=s,d=t;if(t=Hn,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,f=c,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=R_(o);if(p!==null){p.flags&=-257,M_(p,o,c,a,t),p.mode&1&&L_(a,h,t),t=p,d=h;var x=t.updateQueue;if(x===null){var v=new Set;v.add(d),t.updateQueue=v}else x.add(d);break e}else{if(!(t&1)){L_(a,h,t),q0();break e}d=Error(Pe(426))}}else if(Xt&&c.mode&1){var w=R_(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),M_(w,o,c,a,t),N0(dc(d,c));break e}}a=d=dc(d,c),In!==4&&(In=2),zd===null?zd=[a]:zd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=hC(a,d,t);C_(a,b);break e;case 1:c=d;var y=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(La===null||!La.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=fC(a,c,t);C_(a,N);break e}}a=a.return}while(a!==null)}OC(s)}catch(E){t=E,Tn===s&&s!==null&&(Tn=s=s.return);continue}break}while(!0)}function TC(){var e=Vf.current;return Vf.current=zf,e===null?zf:e}function q0(){(In===0||In===3||In===2)&&(In=4),Bn===null||!(Vo&268435455)&&!(Hm&268435455)||ya(Bn,Hn)}function Hf(e,t){var s=Et;Et|=2;var r=TC();(Bn!==e||Hn!==t)&&(Ai=null,Oo(e,t));do try{iI();break}catch(i){PC(e,i)}while(!0);if(k0(),Et=s,Vf.current=r,Tn!==null)throw Error(Pe(261));return Bn=null,Hn=0,In}function iI(){for(;Tn!==null;)AC(Tn)}function aI(){for(;Tn!==null&&!A5();)AC(Tn)}function AC(e){var t=RC(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,t===null?OC(e):Tn=t,$0.current=null}function OC(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=J3(s,t),s!==null){s.flags&=32767,Tn=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,Tn=null;return}}else if(s=Q3(s,t,Ms),s!==null){Tn=s;return}if(t=t.sibling,t!==null){Tn=t;return}Tn=t=e}while(t!==null);In===0&&(In=5)}function mo(e,t,s){var r=Rt,i=rr.transition;try{rr.transition=null,Rt=1,oI(e,t,s,r)}finally{rr.transition=i,Rt=r}return null}function oI(e,t,s,r){do Vl();while(ka!==null);if(Et&6)throw Error(Pe(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(z5(e,a),e===Bn&&(Tn=Bn=null,Hn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Dh||(Dh=!0,MC(kf,function(){return Vl(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=rr.transition,rr.transition=null;var o=Rt;Rt=1;var c=Et;Et|=4,$0.current=null,tI(e,s),kC(s,e),C3(sx),Ef=!!nx,sx=nx=null,e.current=s,nI(s),O5(),Et=c,Rt=o,rr.transition=a}else e.current=s;if(Dh&&(Dh=!1,ka=e,qf=i),a=e.pendingLanes,a===0&&(La=null),M5(s.stateNode),Ts(e,_n()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uf)throw Uf=!1,e=_x,_x=null,e;return qf&1&&e.tag!==0&&Vl(),a=e.pendingLanes,a&1?e===Nx?Vd++:(Vd=0,Nx=e):Vd=0,Ja(),null}function Vl(){if(ka!==null){var e=hk(qf),t=rr.transition,s=Rt;try{if(rr.transition=null,Rt=16>e?16:e,ka===null)var r=!1;else{if(e=ka,ka=null,qf=0,Et&6)throw Error(Pe(331));var i=Et;for(Et|=4,Ue=e.current;Ue!==null;){var a=Ue,o=a.child;if(Ue.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(Ue=h;Ue!==null;){var f=Ue;switch(f.tag){case 0:case 11:case 15:Bd(8,f,a)}var m=f.child;if(m!==null)m.return=f,Ue=m;else for(;Ue!==null;){f=Ue;var u=f.sibling,p=f.return;if(_C(f),f===h){Ue=null;break}if(u!==null){u.return=p,Ue=u;break}Ue=p}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ue=o;else e:for(;Ue!==null;){if(a=Ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bd(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ue=b;break e}Ue=a.return}}var y=e.current;for(Ue=y;Ue!==null;){o=Ue;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ue=_;else e:for(o=y;Ue!==null;){if(c=Ue,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:qm(9,c)}}catch(E){mn(c,c.return,E)}if(c===o){Ue=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,Ue=N;break e}Ue=c.return}}if(Et=i,Ja(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Im,e)}catch{}r=!0}return r}finally{Rt=s,rr.transition=t}}return!1}function G_(e,t,s){t=dc(s,t),t=hC(e,t,1),e=Oa(e,t,1),t=gs(),e!==null&&(Du(e,1,t),Ts(e,t))}function mn(e,t,s){if(e.tag===3)G_(e,e,s);else for(;t!==null;){if(t.tag===3){G_(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(La===null||!La.has(r))){e=dc(s,e),e=fC(t,e,1),t=Oa(t,e,1),e=gs(),t!==null&&(Du(t,1,e),Ts(t,e));break}}t=t.return}}function lI(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=gs(),e.pingedLanes|=e.suspendedLanes&s,Bn===e&&(Hn&s)===s&&(In===4||In===3&&(Hn&130023424)===Hn&&500>_n()-z0?Oo(e,0):B0|=s),Ts(e,t)}function LC(e,t){t===0&&(e.mode&1?(t=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):t=1);var s=gs();e=qi(e,t),e!==null&&(Du(e,t,s),Ts(e,s))}function cI(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),LC(e,s)}function dI(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(t),LC(e,s)}var RC;RC=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Es.current)ks=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ks=!1,X3(e,t,s);ks=!!(e.flags&131072)}else ks=!1,Xt&&t.flags&1048576&&Fk(t,Mf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;lf(e,t),e=t.pendingProps;var i=ac(t,as.current);zl(t,s),i=R0(null,t,r,e,i,s);var a=M0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(r)?(a=!0,Lf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,P0(t),i.updater=Um,t.stateNode=i,i._reactInternals=t,hx(t,r,e,s),t=px(null,t,r,!0,a,s)):(t.tag=0,Xt&&a&&j0(t),hs(null,t,i,s),t=t.child),t;case 16:r=t.elementType;e:{switch(lf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=hI(r),e=br(r,e),i){case 0:t=mx(null,t,r,e,s);break e;case 1:t=F_(null,t,r,e,s);break e;case 11:t=I_(null,t,r,e,s);break e;case 14:t=D_(null,t,r,br(r.type,e),s);break e}throw Error(Pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:br(r,i),mx(e,t,r,i,s);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:br(r,i),F_(e,t,r,i,s);case 3:e:{if(vC(t),e===null)throw Error(Pe(387));r=t.pendingProps,a=t.memoizedState,i=a.element,qk(e,t),Ff(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=dc(Error(Pe(423)),t),t=$_(e,t,r,s,i);break e}else if(r!==i){i=dc(Error(Pe(424)),t),t=$_(e,t,r,s,i);break e}else for(zs=Aa(t.stateNode.containerInfo.firstChild),Vs=t,Xt=!0,Sr=null,s=Vk(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(oc(),r===i){t=Hi(e,t,s);break e}hs(e,t,r,s)}t=t.child}return t;case 5:return Hk(t),e===null&&cx(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,rx(r,i)?o=null:a!==null&&rx(r,a)&&(t.flags|=32),gC(e,t),hs(e,t,o,s),t.child;case 6:return e===null&&cx(t),null;case 13:return xC(e,t,s);case 4:return T0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lc(t,null,r,s):hs(e,t,r,s),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:br(r,i),I_(e,t,r,i,s);case 7:return hs(e,t,t.pendingProps,s),t.child;case 8:return hs(e,t,t.pendingProps.children,s),t.child;case 12:return hs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,$t(If,r._currentValue),r._currentValue=o,a!==null)if(Or(a.value,o)){if(a.children===i.children&&!Es.current){t=Hi(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=$i(-1,s&-s),d.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?d.next=d:(d.next=f.next,f.next=d),h.pending=d}}a.lanes|=s,d=a.alternate,d!==null&&(d.lanes|=s),dx(a.return,s,t),c.lanes|=s;break}d=d.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Pe(341));o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),dx(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}hs(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zl(t,s),i=lr(i),r=r(i),t.flags|=1,hs(e,t,r,s),t.child;case 14:return r=t.type,i=br(r,t.pendingProps),i=br(r.type,i),D_(e,t,r,i,s);case 15:return mC(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:br(r,i),lf(e,t),t.tag=1,Ps(r)?(e=!0,Lf(t)):e=!1,zl(t,s),uC(t,r,i),hx(t,r,i,s),px(null,t,r,!0,e,s);case 19:return yC(e,t,s);case 22:return pC(e,t,s)}throw Error(Pe(156,t.tag))};function MC(e,t){return lk(e,t)}function uI(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,s,r){return new uI(e,t,s,r)}function H0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hI(e){if(typeof e=="function")return H0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===d0)return 11;if(e===u0)return 14}return 2}function Ma(e,t){var s=e.alternate;return s===null?(s=sr(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function uf(e,t,s,r,i,a){var o=2;if(r=e,typeof e=="function")H0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case yl:return Lo(s.children,i,a,t);case c0:o=8,i|=8;break;case Iv:return e=sr(12,s,t,i|2),e.elementType=Iv,e.lanes=a,e;case Dv:return e=sr(13,s,t,i),e.elementType=Dv,e.lanes=a,e;case Fv:return e=sr(19,s,t,i),e.elementType=Fv,e.lanes=a,e;case H2:return Wm(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U2:o=10;break e;case q2:o=9;break e;case d0:o=11;break e;case u0:o=14;break e;case pa:o=16,r=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=sr(o,s,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Lo(e,t,s,r){return e=sr(7,e,r,t),e.lanes=s,e}function Wm(e,t,s,r){return e=sr(22,e,r,t),e.elementType=H2,e.lanes=s,e.stateNode={isHidden:!1},e}function Zg(e,t,s){return e=sr(6,e,null,t),e.lanes=s,e}function Gg(e,t,s){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fI(e,t,s,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eg(0),this.expirationTimes=Eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W0(e,t,s,r,i,a,o,c,d){return e=new fI(e,t,s,c,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=sr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},P0(a),e}function mI(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function IC(e){if(!e)return Va;e=e._reactInternals;e:{if(Qo(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var s=e.type;if(Ps(s))return Ik(e,s,t)}return t}function DC(e,t,s,r,i,a,o,c,d){return e=W0(s,r,!0,e,i,a,o,c,d),e.context=IC(null),s=e.current,r=gs(),i=Ra(s),a=$i(r,i),a.callback=t??null,Oa(s,a,i),e.current.lanes=i,Du(e,i,r),Ts(e,r),e}function Zm(e,t,s,r){var i=t.current,a=gs(),o=Ra(i);return s=IC(s),t.context===null?t.context=s:t.pendingContext=s,t=$i(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Oa(i,t,o),e!==null&&(Tr(e,i,o,a),rf(e,i,o)),o}function Wf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function K_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Z0(e,t){K_(e,t),(e=e.alternate)&&K_(e,t)}function pI(){return null}var FC=typeof reportError=="function"?reportError:function(e){console.error(e)};function G0(e){this._internalRoot=e}Gm.prototype.render=G0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));Zm(e,t,null,null)};Gm.prototype.unmount=G0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uo(function(){Zm(null,e,null,null)}),t[Ui]=null}};function Gm(e){this._internalRoot=e}Gm.prototype.unstable_scheduleHydration=function(e){if(e){var t=pk();e={blockedOn:null,target:e,priority:t};for(var s=0;s<xa.length&&t!==0&&t<xa[s].priority;s++);xa.splice(s,0,e),s===0&&vk(e)}};function K0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y_(){}function gI(e,t,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var h=Wf(o);a.call(h)}}var o=DC(t,r,e,0,null,!1,!1,"",Y_);return e._reactRootContainer=o,e[Ui]=o.current,ou(e.nodeType===8?e.parentNode:e),Uo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=Wf(d);c.call(h)}}var d=W0(e,0,!1,null,null,!1,!1,"",Y_);return e._reactRootContainer=d,e[Ui]=d.current,ou(e.nodeType===8?e.parentNode:e),Uo(function(){Zm(t,d,s,r)}),d}function Ym(e,t,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var d=Wf(o);c.call(d)}}Zm(t,o,e,i)}else o=gI(s,t,e,i,r);return Wf(o)}fk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Ed(t.pendingLanes);s!==0&&(m0(t,s|1),Ts(t,_n()),!(Et&6)&&(uc=_n()+500,Ja()))}break;case 13:Uo(function(){var r=qi(e,1);if(r!==null){var i=gs();Tr(r,e,1,i)}}),Z0(e,1)}};p0=function(e){if(e.tag===13){var t=qi(e,134217728);if(t!==null){var s=gs();Tr(t,e,134217728,s)}Z0(e,134217728)}};mk=function(e){if(e.tag===13){var t=Ra(e),s=qi(e,t);if(s!==null){var r=gs();Tr(s,e,t,r)}Z0(e,t)}};pk=function(){return Rt};gk=function(e,t){var s=Rt;try{return Rt=e,t()}finally{Rt=s}};Gv=function(e,t,s){switch(t){case"input":if(zv(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var i=Bm(r);if(!i)throw Error(Pe(90));Z2(r),zv(r,i)}}}break;case"textarea":K2(e,s);break;case"select":t=s.value,t!=null&&Dl(e,!!s.multiple,t,!1)}};nk=V0;sk=Uo;var vI={usingClientEntryPoint:!1,Events:[$u,_l,Bm,ek,tk,V0]},pd={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xI={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ak(e),e===null?null:e.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||pI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Im=Fh.inject(xI),si=Fh}catch{}}Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vI;Hs.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K0(t))throw Error(Pe(200));return mI(e,t,null,s)};Hs.createRoot=function(e,t){if(!K0(e))throw Error(Pe(299));var s=!1,r="",i=FC;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=W0(e,1,!1,null,null,s,!1,r,i),e[Ui]=t.current,ou(e.nodeType===8?e.parentNode:e),new G0(t)};Hs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=ak(t),e=e===null?null:e.stateNode,e};Hs.flushSync=function(e){return Uo(e)};Hs.hydrate=function(e,t,s){if(!Km(t))throw Error(Pe(200));return Ym(null,e,t,!0,s)};Hs.hydrateRoot=function(e,t,s){if(!K0(e))throw Error(Pe(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=FC;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=DC(t,null,e,1,s??null,i,!1,a,o),e[Ui]=t.current,ou(e),r)for(e=0;e<r.length;e++)s=r[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Gm(t)};Hs.render=function(e,t,s){if(!Km(t))throw Error(Pe(200));return Ym(null,e,t,!1,s)};Hs.unmountComponentAtNode=function(e){if(!Km(e))throw Error(Pe(40));return e._reactRootContainer?(Uo(function(){Ym(null,null,e,!1,function(){e._reactRootContainer=null,e[Ui]=null})}),!0):!1};Hs.unstable_batchedUpdates=V0;Hs.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Km(s))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return Ym(e,t,s,!1,r)};Hs.version="18.3.1-next-f1338f8080-20240426";function $C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($C)}catch(e){console.error(e)}}$C(),$2.exports=Hs;var eo=$2.exports;const BC=Rm(eo);var zC,X_=eo;zC=X_.createRoot,X_.hydrateRoot;const yI=1,bI=1e6;let Kg=0;function wI(){return Kg=(Kg+1)%Number.MAX_SAFE_INTEGER,Kg.toString()}const Yg=new Map,Q_=e=>{if(Yg.has(e))return;const t=setTimeout(()=>{Yg.delete(e),Ud({type:"REMOVE_TOAST",toastId:e})},bI);Yg.set(e,t)},jI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,yI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Q_(s):e.toasts.forEach(r=>{Q_(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},hf=[];let ff={toasts:[]};function Ud(e){ff=jI(ff,e),hf.forEach(t=>{t(ff)})}function mf({...e}){const t=wI(),s=i=>Ud({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Ud({type:"DISMISS_TOAST",toastId:t});return Ud({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:s}}function cn(){const[e,t]=j.useState(ff);return j.useEffect(()=>(hf.push(t),()=>{const s=hf.indexOf(t);s>-1&&hf.splice(s,1)}),[e]),{...e,toast:mf,dismiss:s=>Ud({type:"DISMISS_TOAST",toastId:s})}}function Le(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function J_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xm(...e){return t=>{let s=!1;const r=e.map(i=>{const a=J_(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():J_(e[i],null)}}}}function dt(...e){return j.useCallback(Xm(...e),e)}function _I(e,t){const s=j.createContext(t),r=a=>{const{children:o,...c}=a,d=j.useMemo(()=>c,Object.values(c));return n.jsx(s.Provider,{value:d,children:o})};r.displayName=e+"Provider";function i(a){const o=j.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function ls(e,t=[]){let s=[];function r(a,o){const c=j.createContext(o),d=s.length;s=[...s,o];const h=m=>{var b;const{scope:u,children:p,...x}=m,v=((b=u==null?void 0:u[e])==null?void 0:b[d])||c,w=j.useMemo(()=>x,Object.values(x));return n.jsx(v.Provider,{value:w,children:p})};h.displayName=a+"Provider";function f(m,u){var v;const p=((v=u==null?void 0:u[e])==null?void 0:v[d])||c,x=j.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=s.map(o=>j.createContext(o));return function(c){const d=(c==null?void 0:c[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[r,NI(i,...t)]}function NI(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function qo(e){const t=kI(e),s=j.forwardRef((r,i)=>{const{children:a,...o}=r,c=j.Children.toArray(a),d=c.find(EI);if(d){const h=d.props.children,f=c.map(m=>m===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:m);return n.jsx(t,{...o,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,f):null})}return n.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}var SI=qo("Slot");function kI(e){const t=j.forwardRef((s,r)=>{const{children:i,...a}=s;if(j.isValidElement(i)){const o=TI(i),c=PI(a,i.props);return i.type!==j.Fragment&&(c.ref=r?Xm(r,o):o),j.cloneElement(i,c)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VC=Symbol("radix.slottable");function CI(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=VC,t}function EI(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VC}function PI(e,t){const s={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function TI(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Qm(e){const t=e+"CollectionProvider",[s,r]=ls(t),[i,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:b}=v,y=_e.useRef(null),_=_e.useRef(new Map).current;return n.jsx(i,{scope:w,itemMap:_,collectionRef:y,children:b})};o.displayName=t;const c=e+"CollectionSlot",d=qo(c),h=_e.forwardRef((v,w)=>{const{scope:b,children:y}=v,_=a(c,b),N=dt(w,_.collectionRef);return n.jsx(d,{ref:N,children:y})});h.displayName=c;const f=e+"CollectionItemSlot",m="data-radix-collection-item",u=qo(f),p=_e.forwardRef((v,w)=>{const{scope:b,children:y,..._}=v,N=_e.useRef(null),E=dt(w,N),I=a(f,b);return _e.useEffect(()=>(I.itemMap.set(N,{ref:N,..._}),()=>void I.itemMap.delete(N))),n.jsx(u,{[m]:"",ref:E,children:y})});p.displayName=f;function x(v){const w=a(e+"CollectionConsumer",v);return _e.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((I,C)=>_.indexOf(I.ref.current)-_.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:h,ItemSlot:p},x,r]}var AI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=AI.reduce((e,t)=>{const s=qo(`Primitive.${t}`),r=j.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Y0(e,t){e&&eo.flushSync(()=>e.dispatchEvent(t))}function pn(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function OI(e,t=globalThis==null?void 0:globalThis.document){const s=pn(e);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var LI="DismissableLayer",Cx="dismissableLayer.update",RI="dismissableLayer.pointerDownOutside",MI="dismissableLayer.focusOutside",e1,UC=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ac=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=e,h=j.useContext(UC),[f,m]=j.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),x=dt(t,C=>m(C)),v=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(w),y=f?v.indexOf(f):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,N=y>=b,E=DI(C=>{const O=C.target,A=[...h.branches].some(k=>k.contains(O));!N||A||(i==null||i(C),o==null||o(C),C.defaultPrevented||c==null||c())},u),I=FI(C=>{const O=C.target;[...h.branches].some(k=>k.contains(O))||(a==null||a(C),o==null||o(C),C.defaultPrevented||c==null||c())},u);return OI(C=>{y===h.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&c&&(C.preventDefault(),c()))},u),j.useEffect(()=>{if(f)return s&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(e1=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),t1(),()=>{s&&h.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=e1)}},[f,u,s,h]),j.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),t1())},[f,h]),j.useEffect(()=>{const C=()=>p({});return document.addEventListener(Cx,C),()=>document.removeEventListener(Cx,C)},[]),n.jsx(We.div,{...d,ref:x,style:{pointerEvents:_?N?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,E.onPointerDownCapture)})});Ac.displayName=LI;var II="DismissableLayerBranch",qC=j.forwardRef((e,t)=>{const s=j.useContext(UC),r=j.useRef(null),i=dt(t,r);return j.useEffect(()=>{const a=r.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.jsx(We.div,{...e,ref:i})});qC.displayName=II;function DI(e,t=globalThis==null?void 0:globalThis.document){const s=pn(e),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){HC(RI,s,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function FI(e,t=globalThis==null?void 0:globalThis.document){const s=pn(e),r=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!r.current&&HC(MI,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function t1(){const e=new CustomEvent(Cx);document.dispatchEvent(e)}function HC(e,t,s,{discrete:r}){const i=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?Y0(i,a):i.dispatchEvent(a)}var $I=Ac,BI=qC,Sn=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},zI="Portal",zu=j.forwardRef((e,t)=>{var c;const{container:s,...r}=e,[i,a]=j.useState(!1);Sn(()=>a(!0),[]);const o=s||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?BC.createPortal(n.jsx(We.div,{...r,ref:t}),o):null});zu.displayName=zI;function VI(e,t){return j.useReducer((s,r)=>t[s][r]??s,e)}var Gn=e=>{const{present:t,children:s}=e,r=UI(t),i=typeof s=="function"?s({present:r.isPresent}):j.Children.only(s),a=dt(r.ref,qI(i));return typeof s=="function"||r.isPresent?j.cloneElement(i,{ref:a}):null};Gn.displayName="Presence";function UI(e){const[t,s]=j.useState(),r=j.useRef(null),i=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[c,d]=VI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=$h(r.current);a.current=c==="mounted"?h:"none"},[c]),Sn(()=>{const h=r.current,f=i.current;if(f!==e){const u=a.current,p=$h(h);e?d("MOUNT"):p==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(f&&u!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Sn(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,m=p=>{const v=$h(r.current).includes(p.animationName);if(p.target===t&&v&&(d("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},u=p=>{p.target===t&&(a.current=$h(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:j.useCallback(h=>{r.current=h?getComputedStyle(h):null,s(h)},[])}}function $h(e){return(e==null?void 0:e.animationName)||"none"}function qI(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var HI=i0[" useInsertionEffect ".trim().toString()]||Sn;function Lr({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[i,a,o]=WI({defaultProp:t,onChange:s}),c=e!==void 0,d=c?e:i;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=j.useCallback(f=>{var m;if(c){const u=ZI(f)?f(e):f;u!==e&&((m=o.current)==null||m.call(o,u))}else a(f)},[c,e,a,o]);return[d,h]}function WI({defaultProp:e,onChange:t}){const[s,r]=j.useState(e),i=j.useRef(s),a=j.useRef(t);return HI(()=>{a.current=t},[t]),j.useEffect(()=>{var o;i.current!==s&&((o=a.current)==null||o.call(a,s),i.current=s)},[s,i]),[s,r,a]}function ZI(e){return typeof e=="function"}var WC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GI="VisuallyHidden",Jm=j.forwardRef((e,t)=>n.jsx(We.span,{...e,ref:t,style:{...WC,...e.style}}));Jm.displayName=GI;var KI=Jm,X0="ToastProvider",[Q0,YI,XI]=Qm("Toast"),[ZC,mse]=ls("Toast",[XI]),[QI,ep]=ZC(X0),GC=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[c,d]=j.useState(null),[h,f]=j.useState(0),m=j.useRef(!1),u=j.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${X0}\`. Expected non-empty \`string\`.`),n.jsx(Q0.Provider,{scope:t,children:n.jsx(QI,{scope:t,label:s,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:j.useCallback(()=>f(p=>p+1),[]),onToastRemove:j.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:u,children:o})})};GC.displayName=X0;var KC="ToastViewport",JI=["F8"],Ex="toast.viewportPause",Px="toast.viewportResume",YC=j.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=JI,label:i="Notifications ({hotkey})",...a}=e,o=ep(KC,s),c=YI(s),d=j.useRef(null),h=j.useRef(null),f=j.useRef(null),m=j.useRef(null),u=dt(t,m,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;j.useEffect(()=>{const w=b=>{var _;r.length!==0&&r.every(N=>b[N]||b.code===N)&&((_=m.current)==null||_.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),j.useEffect(()=>{const w=d.current,b=m.current;if(x&&w&&b){const y=()=>{if(!o.isClosePausedRef.current){const I=new CustomEvent(Ex);b.dispatchEvent(I),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const I=new CustomEvent(Px);b.dispatchEvent(I),o.isClosePausedRef.current=!1}},N=I=>{!w.contains(I.relatedTarget)&&_()},E=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",y),w.addEventListener("focusout",N),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",E),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",E),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[x,o.isClosePausedRef]);const v=j.useCallback(({tabbingDirection:w})=>{const y=c().map(_=>{const N=_.ref.current,E=[N,...hD(N)];return w==="forwards"?E:E.reverse()});return(w==="forwards"?y.reverse():y).flat()},[c]);return j.useEffect(()=>{const w=m.current;if(w){const b=y=>{var E,I,C;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const O=document.activeElement,A=y.shiftKey;if(y.target===w&&A){(E=h.current)==null||E.focus();return}const P=v({tabbingDirection:A?"backwards":"forwards"}),T=P.findIndex(M=>M===O);Xg(P.slice(T+1))?y.preventDefault():A?(I=h.current)==null||I.focus():(C=f.current)==null||C.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[c,v]),n.jsxs(BI,{ref:d,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(Tx,{ref:h,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Xg(w)}}),n.jsx(Q0.Slot,{scope:s,children:n.jsx(We.ol,{tabIndex:-1,...a,ref:u})}),x&&n.jsx(Tx,{ref:f,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Xg(w)}})]})});YC.displayName=KC;var XC="ToastFocusProxy",Tx=j.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...i}=e,a=ep(XC,s);return n.jsx(Jm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var h;const c=o.relatedTarget;!((h=a.viewport)!=null&&h.contains(c))&&r()}})});Tx.displayName=XC;var Vu="Toast",eD="toast.swipeStart",tD="toast.swipeMove",nD="toast.swipeCancel",sD="toast.swipeEnd",QC=j.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[c,d]=Lr({prop:r,defaultProp:i??!0,onChange:a,caller:Vu});return n.jsx(Gn,{present:s||c,children:n.jsx(aD,{open:c,...o,ref:t,onClose:()=>d(!1),onPause:pn(e.onPause),onResume:pn(e.onResume),onSwipeStart:Le(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Le(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});QC.displayName=Vu;var[rD,iD]=ZC(Vu,{onClose(){}}),aD=j.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:u,onSwipeEnd:p,...x}=e,v=ep(Vu,s),[w,b]=j.useState(null),y=dt(t,M=>b(M)),_=j.useRef(null),N=j.useRef(null),E=i||v.duration,I=j.useRef(0),C=j.useRef(E),O=j.useRef(0),{onToastAdd:A,onToastRemove:k}=v,R=pn(()=>{var H;(w==null?void 0:w.contains(document.activeElement))&&((H=v.viewport)==null||H.focus()),o()}),P=j.useCallback(M=>{!M||M===1/0||(window.clearTimeout(O.current),I.current=new Date().getTime(),O.current=window.setTimeout(R,M))},[R]);j.useEffect(()=>{const M=v.viewport;if(M){const H=()=>{P(C.current),h==null||h()},W=()=>{const Z=new Date().getTime()-I.current;C.current=C.current-Z,window.clearTimeout(O.current),d==null||d()};return M.addEventListener(Ex,W),M.addEventListener(Px,H),()=>{M.removeEventListener(Ex,W),M.removeEventListener(Px,H)}}},[v.viewport,E,d,h,P]),j.useEffect(()=>{a&&!v.isClosePausedRef.current&&P(E)},[a,E,v.isClosePausedRef,P]),j.useEffect(()=>(A(),()=>k()),[A,k]);const T=j.useMemo(()=>w?iE(w):null,[w]);return v.viewport?n.jsxs(n.Fragment,{children:[T&&n.jsx(oD,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),n.jsx(rD,{scope:s,onClose:R,children:eo.createPortal(n.jsx(Q0.ItemSlot,{scope:s,children:n.jsx($I,{asChild:!0,onEscapeKeyDown:Le(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(We.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,M=>{M.key==="Escape"&&(c==null||c(M.nativeEvent),M.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Le(e.onPointerDown,M=>{M.button===0&&(_.current={x:M.clientX,y:M.clientY})}),onPointerMove:Le(e.onPointerMove,M=>{if(!_.current)return;const H=M.clientX-_.current.x,W=M.clientY-_.current.y,Z=!!N.current,B=["left","right"].includes(v.swipeDirection),q=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,F=B?q(0,H):0,$=B?0:q(0,W),z=M.pointerType==="touch"?10:2,G={x:F,y:$},X={originalEvent:M,delta:G};Z?(N.current=G,Bh(tD,m,X,{discrete:!1})):n1(G,v.swipeDirection,z)?(N.current=G,Bh(eD,f,X,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(H)>z||Math.abs(W)>z)&&(_.current=null)}),onPointerUp:Le(e.onPointerUp,M=>{const H=N.current,W=M.target;if(W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId),N.current=null,_.current=null,H){const Z=M.currentTarget,B={originalEvent:M,delta:H};n1(H,v.swipeDirection,v.swipeThreshold)?Bh(sD,p,B,{discrete:!0}):Bh(nD,u,B,{discrete:!0}),Z.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),oD=e=>{const{__scopeToast:t,children:s,...r}=e,i=ep(Vu,t),[a,o]=j.useState(!1),[c,d]=j.useState(!1);return dD(()=>o(!0)),j.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:n.jsx(zu,{asChild:!0,children:n.jsx(Jm,{...r,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",s]})})})},lD="ToastTitle",JC=j.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(We.div,{...r,ref:t})});JC.displayName=lD;var cD="ToastDescription",eE=j.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(We.div,{...r,ref:t})});eE.displayName=cD;var tE="ToastAction",nE=j.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(rE,{altText:s,asChild:!0,children:n.jsx(J0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${tE}\`. Expected non-empty \`string\`.`),null)});nE.displayName=tE;var sE="ToastClose",J0=j.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,i=iD(sE,s);return n.jsx(rE,{asChild:!0,children:n.jsx(We.button,{type:"button",...r,ref:t,onClick:Le(e.onClick,i.onClose)})})});J0.displayName=sE;var rE=j.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...i}=e;return n.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function iE(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),uD(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...iE(r))}}),t}function Bh(e,t,s,{discrete:r}){const i=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?Y0(i,a):i.dispatchEvent(a)}var n1=(e,t,s=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>s:!a&&i>s};function dD(e=()=>{}){const t=pn(e);Sn(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function uD(e){return e.nodeType===e.ELEMENT_NODE}function hD(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Xg(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var fD=GC,aE=YC,oE=QC,lE=JC,cE=eE,dE=nE,uE=J0;function hE(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=hE(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function fE(){for(var e,t,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=hE(e))&&(r&&(r+=" "),r+=t);return r}const s1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,r1=fE,Uu=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return r1(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(h=>{const f=s==null?void 0:s[h],m=a==null?void 0:a[h];if(f===null)return null;const u=s1(f)||s1(m);return i[h][u]}),c=s&&Object.entries(s).reduce((h,f)=>{let[m,u]=f;return u===void 0||(h[m]=u),h},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:m,className:u,...p}=f;return Object.entries(p).every(x=>{let[v,w]=x;return Array.isArray(w)?w.includes({...a,...c}[v]):{...a,...c}[v]===w})?[...h,m,u]:h},[]);return r1(e,o,d,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mE=(...e)=>e.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>j.createElement("svg",{ref:d,...pD,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:mE("lucide",i),...c},[...o.map(([h,f])=>j.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const s=j.forwardRef(({className:r,...i},a)=>j.createElement(gD,{ref:a,iconNode:t,className:mE(`lucide-${mD(e)}`,r),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Ie("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Ie("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Ie("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Ie("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Ie("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Ie("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ie("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=Ie("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ie("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Ie("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ie("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Ie("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Ie("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ie("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ie("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Ie("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ie("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Ie("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Ie("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ie("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ib="-",RD=e=>{const t=ID(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const c=o.split(ib);return c[0]===""&&c.length!==1&&c.shift(),kE(c,t)||MD(o)},getConflictingClassGroupIds:(o,c)=>{const d=s[o]||[];return c&&r[o]?[...d,...r[o]]:d}}},kE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),i=r?kE(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(ib);return(o=t.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},c1=/^\[(.+)\]$/,MD=e=>{if(c1.test(e)){const t=c1.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},ID=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return FD(Object.entries(e.classGroups),s).forEach(([a,o])=>{Ox(o,r,a,t)}),r},Ox=(e,t,s,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:d1(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(DD(i)){Ox(i(r),t,s,r);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{Ox(o,d1(t,a),s,r)})})},d1=(e,t)=>{let s=e;return t.split(ib).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},DD=e=>e.isThemeGetter,FD=(e,t)=>t?e.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,c])=>[t+o,c])):a);return[s,i]}):e,$D=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),t++,t>e&&(t=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},CE="!",BD=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,i=t[0],a=t.length,o=c=>{const d=[];let h=0,f=0,m;for(let w=0;w<c.length;w++){let b=c[w];if(h===0){if(b===i&&(r||c.slice(w,w+a)===t)){d.push(c.slice(f,w)),f=w+a;continue}if(b==="/"){m=w;continue}}b==="["?h++:b==="]"&&h--}const u=d.length===0?c:c.substring(f),p=u.startsWith(CE),x=p?u.substring(1):u,v=m&&m>f?m-f:void 0;return{modifiers:d,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:v}};return s?c=>s({className:c,parseClassName:o}):o},zD=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},VD=e=>({cache:$D(e.cacheSize),parseClassName:BD(e),...RD(e)}),UD=/\s+/,qD=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(UD);let c="";for(let d=o.length-1;d>=0;d-=1){const h=o[d],{modifiers:f,hasImportantModifier:m,baseClassName:u,maybePostfixModifierPosition:p}=s(h);let x=!!p,v=r(x?u.substring(0,p):u);if(!v){if(!x){c=h+(c.length>0?" "+c:c);continue}if(v=r(u),!v){c=h+(c.length>0?" "+c:c);continue}x=!1}const w=zD(f).join(":"),b=m?w+CE:w,y=b+v;if(a.includes(y))continue;a.push(y);const _=i(v,x);for(let N=0;N<_.length;++N){const E=_[N];a.push(b+E)}c=h+(c.length>0?" "+c:c)}return c};function HD(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=EE(t))&&(r&&(r+=" "),r+=s);return r}const EE=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=EE(e[r]))&&(s&&(s+=" "),s+=t);return s};function WD(e,...t){let s,r,i,a=o;function o(d){const h=t.reduce((f,m)=>m(f),e());return s=VD(h),r=s.cache.get,i=s.cache.set,a=c,c(d)}function c(d){const h=r(d);if(h)return h;const f=qD(d,s);return i(d,f),f}return function(){return a(HD.apply(null,arguments))}}const Ht=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},PE=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZD=/^\d+\/\d+$/,GD=new Set(["px","full","screen"]),KD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ci=e=>Hl(e)||GD.has(e)||ZD.test(e),da=e=>Lc(e,"length",o6),Hl=e=>!!e&&!Number.isNaN(Number(e)),Qg=e=>Lc(e,"number",Hl),gd=e=>!!e&&Number.isInteger(Number(e)),e6=e=>e.endsWith("%")&&Hl(e.slice(0,-1)),gt=e=>PE.test(e),ua=e=>KD.test(e),t6=new Set(["length","size","percentage"]),n6=e=>Lc(e,t6,TE),s6=e=>Lc(e,"position",TE),r6=new Set(["image","url"]),i6=e=>Lc(e,r6,c6),a6=e=>Lc(e,"",l6),vd=()=>!0,Lc=(e,t,s)=>{const r=PE.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},o6=e=>YD.test(e)&&!XD.test(e),TE=()=>!1,l6=e=>QD.test(e),c6=e=>JD.test(e),d6=()=>{const e=Ht("colors"),t=Ht("spacing"),s=Ht("blur"),r=Ht("brightness"),i=Ht("borderColor"),a=Ht("borderRadius"),o=Ht("borderSpacing"),c=Ht("borderWidth"),d=Ht("contrast"),h=Ht("grayscale"),f=Ht("hueRotate"),m=Ht("invert"),u=Ht("gap"),p=Ht("gradientColorStops"),x=Ht("gradientColorStopPositions"),v=Ht("inset"),w=Ht("margin"),b=Ht("opacity"),y=Ht("padding"),_=Ht("saturate"),N=Ht("scale"),E=Ht("sepia"),I=Ht("skew"),C=Ht("space"),O=Ht("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",gt,t],P=()=>[gt,t],T=()=>["",Ci,da],M=()=>["auto",Hl,gt],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",gt],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Hl,gt];return{cacheSize:500,separator:":",theme:{colors:[vd],spacing:[Ci,da],blur:["none","",ua,gt],brightness:$(),borderColor:[e],borderRadius:["none","","full",ua,gt],borderSpacing:P(),borderWidth:T(),contrast:$(),grayscale:q(),hueRotate:$(),invert:q(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[e6,da],inset:R(),margin:R(),opacity:$(),padding:P(),saturate:$(),scale:$(),sepia:q(),skew:$(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",gt]}],container:["container"],columns:[{columns:[ua]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),gt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gd,gt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gt]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",gd,gt]}],"grid-cols":[{"grid-cols":[vd]}],"col-start-end":[{col:["auto",{span:["full",gd,gt]},gt]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[vd]}],"row-start-end":[{row:["auto",{span:[gd,gt]},gt]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gt]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gt,t]}],"min-w":[{"min-w":[gt,t,"min","max","fit"]}],"max-w":[{"max-w":[gt,t,"none","full","min","max","fit","prose",{screen:[ua]},ua]}],h:[{h:[gt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ua,da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qg]}],"font-family":[{font:[vd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gt]}],"line-clamp":[{"line-clamp":["none",Hl,Qg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ci,gt]}],"list-image":[{"list-image":["none",gt]}],"list-style-type":[{list:["none","disc","decimal",gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ci,da]}],"underline-offset":[{"underline-offset":["auto",Ci,gt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),s6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",n6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},i6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Ci,gt]}],"outline-w":[{outline:[Ci,da]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ci,da]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ua,a6]}],"shadow-color":[{shadow:[vd]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ua,gt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",gt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[gd,gt]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ci,da,Qg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},u6=WD(d6);function Ve(...e){return u6(fE(e))}const h6=fD,AE=j.forwardRef(({className:e,...t},s)=>n.jsx(aE,{ref:s,className:Ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));AE.displayName=aE.displayName;const f6=Uu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),OE=j.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(oE,{ref:r,className:Ve(f6({variant:t}),e),...s}));OE.displayName=oE.displayName;const m6=j.forwardRef(({className:e,...t},s)=>n.jsx(dE,{ref:s,className:Ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));m6.displayName=dE.displayName;const LE=j.forwardRef(({className:e,...t},s)=>n.jsx(uE,{ref:s,className:Ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(rs,{className:"h-4 w-4"})}));LE.displayName=uE.displayName;const RE=j.forwardRef(({className:e,...t},s)=>n.jsx(lE,{ref:s,className:Ve("text-sm font-semibold",e),...t}));RE.displayName=lE.displayName;const ME=j.forwardRef(({className:e,...t},s)=>n.jsx(cE,{ref:s,className:Ve("text-sm opacity-90",e),...t}));ME.displayName=cE.displayName;function p6(){const{toasts:e}=cn();return n.jsxs(h6,{children:[e.map(function({id:t,title:s,description:r,action:i,...a}){return n.jsxs(OE,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(RE,{children:s}),r&&n.jsx(ME,{children:r})]}),i,n.jsx(LE,{})]},t)}),n.jsx(AE,{})]})}var u1=["light","dark"],g6="(prefers-color-scheme: dark)",v6=j.createContext(void 0),x6={setTheme:e=>{},themes:[]},y6=()=>{var e;return(e=j.useContext(v6))!=null?e:x6};j.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,attrs:c,nonce:d})=>{let h=a==="system",f=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,m=i?u1.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",u=(x,v=!1,w=!0)=>{let b=o?o[x]:x,y=v?x+"|| ''":`'${b}'`,_="";return i&&w&&!v&&u1.includes(x)&&(_+=`d.style.colorScheme = '${x}';`),s==="class"?v||b?_+=`c.add(${y})`:_+="null":b&&(_+=`d[s](n,${y})`),_},p=e?`!function(){${f}${u(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${g6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${u("dark")}}else{${u("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${u(o?"x[e]":"e",!0)}}${h?"":"else{"+u(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${u(o?"x[e]":"e",!0)}}else{${u(a,!1,!1)};}${m}}catch(t){}}();`;return j.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:p}})});var b6=e=>{switch(e){case"success":return _6;case"info":return S6;case"warning":return N6;case"error":return k6;default:return null}},w6=Array(12).fill(0),j6=({visible:e,className:t})=>_e.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},_e.createElement("div",{className:"sonner-spinner"},w6.map((s,r)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),N6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),k6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),C6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),E6=()=>{let[e,t]=_e.useState(document.hidden);return _e.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},Lx=1,P6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lx++,a=this.toasts.find(c=>c.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:s}),{...c,...e,id:i,dismissible:o,title:s}):c):this.addToast({title:s,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=s!==void 0,a,o=r.then(async d=>{if(a=["resolve",d],_e.isValidElement(d))i=!1,this.create({id:s,type:"default",message:d});else if(A6(d)&&!d.ok){i=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:s,type:"error",message:h,description:f})}else if(t.success!==void 0){i=!1;let h=typeof t.success=="function"?await t.success(d):t.success,f=typeof t.description=="function"?await t.description(d):t.description;this.create({id:s,type:"success",message:h,description:f})}}).catch(async d=>{if(a=["reject",d],t.error!==void 0){i=!1;let h=typeof t.error=="function"?await t.error(d):t.error,f=typeof t.description=="function"?await t.description(d):t.description;this.create({id:s,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(s),s=void 0),(d=t.finally)==null||d.call(t)}),c=()=>new Promise((d,h)=>o.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Lx++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_s=new P6,T6=(e,t)=>{let s=(t==null?void 0:t.id)||Lx++;return _s.addToast({title:e,...t,id:s}),s},A6=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",O6=T6,L6=()=>_s.toasts,R6=()=>_s.getActiveToasts(),Qs=Object.assign(O6,{success:_s.success,info:_s.info,warning:_s.warning,error:_s.error,custom:_s.custom,message:_s.message,promise:_s.promise,dismiss:_s.dismiss,loading:_s.loading},{getHistory:L6,getToasts:R6});function M6(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}M6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zh(e){return e.label!==void 0}var I6=3,D6="32px",F6="16px",h1=4e3,$6=356,B6=14,z6=20,V6=200;function vr(...e){return e.filter(Boolean).join(" ")}function U6(e){let[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}var q6=e=>{var t,s,r,i,a,o,c,d,h,f,m;let{invert:u,toast:p,unstyled:x,interacting:v,setHeights:w,visibleToasts:b,heights:y,index:_,toasts:N,expanded:E,removeToast:I,defaultRichColors:C,closeButton:O,style:A,cancelButtonStyle:k,actionButtonStyle:R,className:P="",descriptionClassName:T="",duration:M,position:H,gap:W,loadingIcon:Z,expandByDefault:B,classNames:q,icons:F,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:z}=e,[G,X]=_e.useState(null),[J,K]=_e.useState(null),[U,ne]=_e.useState(!1),[se,le]=_e.useState(!1),[pe,ee]=_e.useState(!1),[ye,Ce]=_e.useState(!1),[ue,je]=_e.useState(!1),[xe,ce]=_e.useState(0),[fe,Q]=_e.useState(0),re=_e.useRef(p.duration||M||h1),ie=_e.useRef(null),be=_e.useRef(null),we=_===0,ve=_+1<=b,Ae=p.type,tt=p.dismissible!==!1,Xe=p.className||"",zt=p.descriptionClassName||"",_t=_e.useMemo(()=>y.findIndex(De=>De.toastId===p.id)||0,[y,p.id]),Vt=_e.useMemo(()=>{var De;return(De=p.closeButton)!=null?De:O},[p.closeButton,O]),oe=_e.useMemo(()=>p.duration||M||h1,[p.duration,M]),ze=_e.useRef(0),Ze=_e.useRef(0),ut=_e.useRef(0),it=_e.useRef(null),[Ge,dn]=H.split("-"),Ut=_e.useMemo(()=>y.reduce((De,pt,Nt)=>Nt>=_t?De:De+pt.height,0),[y,_t]),Ls=E6(),Zs=p.invert||u,cs=Ae==="loading";Ze.current=_e.useMemo(()=>_t*W+Ut,[_t,Ut]),_e.useEffect(()=>{re.current=oe},[oe]),_e.useEffect(()=>{ne(!0)},[]),_e.useEffect(()=>{let De=be.current;if(De){let pt=De.getBoundingClientRect().height;return Q(pt),w(Nt=>[{toastId:p.id,height:pt,position:p.position},...Nt]),()=>w(Nt=>Nt.filter(xn=>xn.toastId!==p.id))}},[w,p.id]),_e.useLayoutEffect(()=>{if(!U)return;let De=be.current,pt=De.style.height;De.style.height="auto";let Nt=De.getBoundingClientRect().height;De.style.height=pt,Q(Nt),w(xn=>xn.find(qt=>qt.toastId===p.id)?xn.map(qt=>qt.toastId===p.id?{...qt,height:Nt}:qt):[{toastId:p.id,height:Nt,position:p.position},...xn])},[U,p.title,p.description,w,p.id]);let Kn=_e.useCallback(()=>{le(!0),ce(Ze.current),w(De=>De.filter(pt=>pt.toastId!==p.id)),setTimeout(()=>{I(p)},V6)},[p,I,w,Ze]);_e.useEffect(()=>{if(p.promise&&Ae==="loading"||p.duration===1/0||p.type==="loading")return;let De;return E||v||z&&Ls?(()=>{if(ut.current<ze.current){let pt=new Date().getTime()-ze.current;re.current=re.current-pt}ut.current=new Date().getTime()})():re.current!==1/0&&(ze.current=new Date().getTime(),De=setTimeout(()=>{var pt;(pt=p.onAutoClose)==null||pt.call(p,p),Kn()},re.current)),()=>clearTimeout(De)},[E,v,p,Ae,z,Ls,Kn]),_e.useEffect(()=>{p.delete&&Kn()},[Kn,p.delete]);function aa(){var De,pt,Nt;return F!=null&&F.loading?_e.createElement("div",{className:vr(q==null?void 0:q.loader,(De=p==null?void 0:p.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":Ae==="loading"},F.loading):Z?_e.createElement("div",{className:vr(q==null?void 0:q.loader,(pt=p==null?void 0:p.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Ae==="loading"},Z):_e.createElement(j6,{className:vr(q==null?void 0:q.loader,(Nt=p==null?void 0:p.classNames)==null?void 0:Nt.loader),visible:Ae==="loading"})}return _e.createElement("li",{tabIndex:0,ref:be,className:vr(P,Xe,q==null?void 0:q.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[Ae],(s=p==null?void 0:p.classNames)==null?void 0:s[Ae]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":U,"data-promise":!!p.promise,"data-swiped":ue,"data-removed":se,"data-visible":ve,"data-y-position":Ge,"data-x-position":dn,"data-index":_,"data-front":we,"data-swiping":pe,"data-dismissible":tt,"data-type":Ae,"data-invert":Zs,"data-swipe-out":ye,"data-swipe-direction":J,"data-expanded":!!(E||B&&U),style:{"--index":_,"--toasts-before":_,"--z-index":N.length-_,"--offset":`${se?xe:Ze.current}px`,"--initial-height":B?"auto":`${fe}px`,...A,...p.style},onDragEnd:()=>{ee(!1),X(null),it.current=null},onPointerDown:De=>{cs||!tt||(ie.current=new Date,ce(Ze.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(ee(!0),it.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,pt,Nt,xn;if(ye||!tt)return;it.current=null;let qt=Number(((De=be.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Dr=Number(((pt=be.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ji=new Date().getTime()-((Nt=ie.current)==null?void 0:Nt.getTime()),Rs=G==="x"?qt:Dr,Fr=Math.abs(Rs)/ji;if(Math.abs(Rs)>=z6||Fr>.11){ce(Ze.current),(xn=p.onDismiss)==null||xn.call(p,p),K(G==="x"?qt>0?"right":"left":Dr>0?"down":"up"),Kn(),Ce(!0),je(!1);return}ee(!1),X(null)},onPointerMove:De=>{var pt,Nt,xn,qt;if(!it.current||!tt||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;let Dr=De.clientY-it.current.y,ji=De.clientX-it.current.x,Rs=(Nt=e.swipeDirections)!=null?Nt:U6(H);!G&&(Math.abs(ji)>1||Math.abs(Dr)>1)&&X(Math.abs(ji)>Math.abs(Dr)?"x":"y");let Fr={x:0,y:0};G==="y"?(Rs.includes("top")||Rs.includes("bottom"))&&(Rs.includes("top")&&Dr<0||Rs.includes("bottom")&&Dr>0)&&(Fr.y=Dr):G==="x"&&(Rs.includes("left")||Rs.includes("right"))&&(Rs.includes("left")&&ji<0||Rs.includes("right")&&ji>0)&&(Fr.x=ji),(Math.abs(Fr.x)>0||Math.abs(Fr.y)>0)&&je(!0),(xn=be.current)==null||xn.style.setProperty("--swipe-amount-x",`${Fr.x}px`),(qt=be.current)==null||qt.style.setProperty("--swipe-amount-y",`${Fr.y}px`)}},Vt&&!p.jsx?_e.createElement("button",{"aria-label":$,"data-disabled":cs,"data-close-button":!0,onClick:cs||!tt?()=>{}:()=>{var De;Kn(),(De=p.onDismiss)==null||De.call(p,p)},className:vr(q==null?void 0:q.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=F==null?void 0:F.close)!=null?a:C6):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:_e.createElement(_e.Fragment,null,Ae||p.icon||p.promise?_e.createElement("div",{"data-icon":"",className:vr(q==null?void 0:q.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||aa():null,p.type!=="loading"?p.icon||(F==null?void 0:F[Ae])||b6(Ae):null):null,_e.createElement("div",{"data-content":"",className:vr(q==null?void 0:q.content,(c=p==null?void 0:p.classNames)==null?void 0:c.content)},_e.createElement("div",{"data-title":"",className:vr(q==null?void 0:q.title,(d=p==null?void 0:p.classNames)==null?void 0:d.title)},typeof p.title=="function"?p.title():p.title),p.description?_e.createElement("div",{"data-description":"",className:vr(T,zt,q==null?void 0:q.description,(h=p==null?void 0:p.classNames)==null?void 0:h.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&zh(p.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:De=>{var pt,Nt;zh(p.cancel)&&tt&&((Nt=(pt=p.cancel).onClick)==null||Nt.call(pt,De),Kn())},className:vr(q==null?void 0:q.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&zh(p.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:De=>{var pt,Nt;zh(p.action)&&((Nt=(pt=p.action).onClick)==null||Nt.call(pt,De),!De.defaultPrevented&&Kn())},className:vr(q==null?void 0:q.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function f1(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function H6(e,t){let s={};return[e,t].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",c=a?F6:D6;function d(h){["top","right","bottom","left"].forEach(f=>{s[`${o}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?s[`${o}-${h}`]=c:s[`${o}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),s}var W6=j.forwardRef(function(e,t){let{invert:s,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:c,offset:d,mobileOffset:h,theme:f="light",richColors:m,duration:u,style:p,visibleToasts:x=I6,toastOptions:v,dir:w=f1(),gap:b=B6,loadingIcon:y,icons:_,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:E}=e,[I,C]=_e.useState([]),O=_e.useMemo(()=>Array.from(new Set([r].concat(I.filter(z=>z.position).map(z=>z.position)))),[I,r]),[A,k]=_e.useState([]),[R,P]=_e.useState(!1),[T,M]=_e.useState(!1),[H,W]=_e.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=_e.useRef(null),B=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=_e.useRef(null),F=_e.useRef(!1),$=_e.useCallback(z=>{C(G=>{var X;return(X=G.find(J=>J.id===z.id))!=null&&X.delete||_s.dismiss(z.id),G.filter(({id:J})=>J!==z.id)})},[]);return _e.useEffect(()=>_s.subscribe(z=>{if(z.dismiss){C(G=>G.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{BC.flushSync(()=>{C(G=>{let X=G.findIndex(J=>J.id===z.id);return X!==-1?[...G.slice(0,X),{...G[X],...z},...G.slice(X+1)]:[z,...G]})})})}),[]),_e.useEffect(()=>{if(f!=="system"){W(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:G})=>{W(G?"dark":"light")})}catch{z.addListener(({matches:X})=>{try{W(X?"dark":"light")}catch(J){console.error(J)}})}},[f]),_e.useEffect(()=>{I.length<=1&&P(!1)},[I]),_e.useEffect(()=>{let z=G=>{var X,J;i.every(K=>G[K]||G.code===K)&&(P(!0),(X=Z.current)==null||X.focus()),G.code==="Escape"&&(document.activeElement===Z.current||(J=Z.current)!=null&&J.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),_e.useEffect(()=>{if(Z.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,F.current=!1)}},[Z.current]),_e.createElement("section",{ref:t,"aria-label":`${N} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((z,G)=>{var X;let[J,K]=z.split("-");return I.length?_e.createElement("ol",{key:z,dir:w==="auto"?f1():w,tabIndex:-1,ref:Z,className:c,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":J,"data-lifted":R&&I.length>1&&!a,"data-x-position":K,style:{"--front-toast-height":`${((X=A[0])==null?void 0:X.height)||0}px`,"--width":`${$6}px`,"--gap":`${b}px`,...p,...H6(d,h)},onBlur:U=>{F.current&&!U.currentTarget.contains(U.relatedTarget)&&(F.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||F.current||(F.current=!0,q.current=U.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{T||P(!1)},onDragEnd:()=>P(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},I.filter(U=>!U.position&&G===0||U.position===z).map((U,ne)=>{var se,le;return _e.createElement(q6,{key:U.id,icons:_,index:ne,toast:U,defaultRichColors:m,duration:(se=v==null?void 0:v.duration)!=null?se:u,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:s,visibleToasts:x,closeButton:(le=v==null?void 0:v.closeButton)!=null?le:o,interacting:T,position:z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:$,toasts:I.filter(pe=>pe.position==U.position),heights:A.filter(pe=>pe.position==U.position),setHeights:k,expandByDefault:a,gap:b,loadingIcon:y,expanded:R,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const Z6=({...e})=>{const{theme:t="system"}=y6();return n.jsx(W6,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var G6=i0[" useId ".trim().toString()]||(()=>{}),K6=0;function Ar(e){const[t,s]=j.useState(G6());return Sn(()=>{e||s(r=>r??String(K6++))},[e]),e||(t?`radix-${t}`:"")}const Y6=["top","right","bottom","left"],qa=Math.min,Ds=Math.max,Qf=Math.round,Vh=Math.floor,ii=e=>({x:e,y:e}),X6={left:"right",right:"left",bottom:"top",top:"bottom"},Q6={start:"end",end:"start"};function Rx(e,t,s){return Ds(e,qa(t,s))}function Wi(e,t){return typeof e=="function"?e(t):e}function Zi(e){return e.split("-")[0]}function Rc(e){return e.split("-")[1]}function ab(e){return e==="x"?"y":"x"}function ob(e){return e==="y"?"height":"width"}const J6=new Set(["top","bottom"]);function ti(e){return J6.has(Zi(e))?"y":"x"}function lb(e){return ab(ti(e))}function eF(e,t,s){s===void 0&&(s=!1);const r=Rc(e),i=lb(e),a=ob(i);let o=i==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Jf(o)),[o,Jf(o)]}function tF(e){const t=Jf(e);return[Mx(e),t,Mx(t)]}function Mx(e){return e.replace(/start|end/g,t=>Q6[t])}const m1=["left","right"],p1=["right","left"],nF=["top","bottom"],sF=["bottom","top"];function rF(e,t,s){switch(e){case"top":case"bottom":return s?t?p1:m1:t?m1:p1;case"left":case"right":return t?nF:sF;default:return[]}}function iF(e,t,s,r){const i=Rc(e);let a=rF(Zi(e),s==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Mx)))),a}function Jf(e){return e.replace(/left|right|bottom|top/g,t=>X6[t])}function aF(e){return{top:0,right:0,bottom:0,left:0,...e}}function IE(e){return typeof e!="number"?aF(e):{top:e,right:e,bottom:e,left:e}}function em(e){const{x:t,y:s,width:r,height:i}=e;return{width:r,height:i,top:s,left:t,right:t+r,bottom:s+i,x:t,y:s}}function g1(e,t,s){let{reference:r,floating:i}=e;const a=ti(t),o=lb(t),c=ob(o),d=Zi(t),h=a==="y",f=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,u=r[c]/2-i[c]/2;let p;switch(d){case"top":p={x:f,y:r.y-i.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-i.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Rc(t)){case"start":p[o]-=u*(s&&h?-1:1);break;case"end":p[o]+=u*(s&&h?-1:1);break}return p}const oF=async(e,t,s)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=s,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:m}=g1(h,r,d),u=r,p={},x=0;for(let v=0;v<c.length;v++){const{name:w,fn:b}=c[v],{x:y,y:_,data:N,reset:E}=await b({x:f,y:m,initialPlacement:r,placement:u,strategy:i,middlewareData:p,rects:h,platform:o,elements:{reference:e,floating:t}});f=y??f,m=_??m,p={...p,[w]:{...p[w],...N}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(u=E.placement),E.rects&&(h=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:f,y:m}=g1(h,u,d)),v=-1)}return{x:f,y:m,placement:u,strategy:i,middlewareData:p}};async function vu(e,t){var s;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:u=!1,padding:p=0}=Wi(t,e),x=IE(p),w=c[u?m==="floating"?"reference":"floating":m],b=em(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(w)))==null||s?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:d})),y=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),N=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},E=em(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:_,strategy:d}):y);return{top:(b.top-E.top+x.top)/N.y,bottom:(E.bottom-b.bottom+x.bottom)/N.y,left:(b.left-E.left+x.left)/N.x,right:(E.right-b.right+x.right)/N.x}}const lF=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=t,{element:h,padding:f=0}=Wi(e,t)||{};if(h==null)return{};const m=IE(f),u={x:s,y:r},p=lb(i),x=ob(p),v=await o.getDimensions(h),w=p==="y",b=w?"top":"left",y=w?"bottom":"right",_=w?"clientHeight":"clientWidth",N=a.reference[x]+a.reference[p]-u[p]-a.floating[x],E=u[p]-a.reference[p],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let C=I?I[_]:0;(!C||!await(o.isElement==null?void 0:o.isElement(I)))&&(C=c.floating[_]||a.floating[x]);const O=N/2-E/2,A=C/2-v[x]/2-1,k=qa(m[b],A),R=qa(m[y],A),P=k,T=C-v[x]-R,M=C/2-v[x]/2+O,H=Rx(P,M,T),W=!d.arrow&&Rc(i)!=null&&M!==H&&a.reference[x]/2-(M<P?k:R)-v[x]/2<0,Z=W?M<P?M-P:M-T:0;return{[p]:u[p]+Z,data:{[p]:H,centerOffset:M-H-Z,...W&&{alignmentOffset:Z}},reset:W}}}),cF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...w}=Wi(e,t);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const b=Zi(i),y=ti(c),_=Zi(c)===c,N=await(d.isRTL==null?void 0:d.isRTL(h.floating)),E=u||(_||!v?[Jf(c)]:tF(c)),I=x!=="none";!u&&I&&E.push(...iF(c,v,x,N));const C=[c,...E],O=await vu(t,w),A=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&A.push(O[b]),m){const M=eF(i,o,N);A.push(O[M[0]],O[M[1]])}if(k=[...k,{placement:i,overflows:A}],!A.every(M=>M<=0)){var R,P;const M=(((R=a.flip)==null?void 0:R.index)||0)+1,H=C[M];if(H&&(!(m==="alignment"?y!==ti(H):!1)||k.every(B=>B.overflows[0]>0&&ti(B.placement)===y)))return{data:{index:M,overflows:k},reset:{placement:H}};let W=(P=k.filter(Z=>Z.overflows[0]<=0).sort((Z,B)=>Z.overflows[1]-B.overflows[1])[0])==null?void 0:P.placement;if(!W)switch(p){case"bestFit":{var T;const Z=(T=k.filter(B=>{if(I){const q=ti(B.placement);return q===y||q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(q=>q>0).reduce((q,F)=>q+F,0)]).sort((B,q)=>B[1]-q[1])[0])==null?void 0:T[0];Z&&(W=Z);break}case"initialPlacement":W=c;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function v1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function x1(e){return Y6.some(t=>e[t]>=0)}const dF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...i}=Wi(e,t);switch(r){case"referenceHidden":{const a=await vu(t,{...i,elementContext:"reference"}),o=v1(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:x1(o)}}}case"escaped":{const a=await vu(t,{...i,altBoundary:!0}),o=v1(a,s.floating);return{data:{escapedOffsets:o,escaped:x1(o)}}}default:return{}}}}},DE=new Set(["left","top"]);async function uF(e,t){const{placement:s,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Zi(s),c=Rc(s),d=ti(s)==="y",h=DE.has(o)?-1:1,f=a&&d?-1:1,m=Wi(t,e);let{mainAxis:u,crossAxis:p,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(p=c==="end"?x*-1:x),d?{x:p*f,y:u*h}:{x:u*h,y:p*f}}const hF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:i,y:a,placement:o,middlewareData:c}=t,d=await uF(t,e);return o===((s=c.offset)==null?void 0:s.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},fF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:w=>{let{x:b,y}=w;return{x:b,y}}},...d}=Wi(e,t),h={x:s,y:r},f=await vu(t,d),m=ti(Zi(i)),u=ab(m);let p=h[u],x=h[m];if(a){const w=u==="y"?"top":"left",b=u==="y"?"bottom":"right",y=p+f[w],_=p-f[b];p=Rx(y,p,_)}if(o){const w=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=x+f[w],_=x-f[b];x=Rx(y,x,_)}const v=c.fn({...t,[u]:p,[m]:x});return{...v,data:{x:v.x-s,y:v.y-r,enabled:{[u]:a,[m]:o}}}}}},mF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Wi(e,t),f={x:s,y:r},m=ti(i),u=ab(m);let p=f[u],x=f[m];const v=Wi(c,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const _=u==="y"?"height":"width",N=a.reference[u]-a.floating[_]+w.mainAxis,E=a.reference[u]+a.reference[_]-w.mainAxis;p<N?p=N:p>E&&(p=E)}if(h){var b,y;const _=u==="y"?"width":"height",N=DE.has(Zi(i)),E=a.reference[m]-a.floating[_]+(N&&((b=o.offset)==null?void 0:b[m])||0)+(N?0:w.crossAxis),I=a.reference[m]+a.reference[_]+(N?0:((y=o.offset)==null?void 0:y[m])||0)-(N?w.crossAxis:0);x<E?x=E:x>I&&(x=I)}return{[u]:p,[m]:x}}}},pF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:i,rects:a,platform:o,elements:c}=t,{apply:d=()=>{},...h}=Wi(e,t),f=await vu(t,h),m=Zi(i),u=Rc(i),p=ti(i)==="y",{width:x,height:v}=a.floating;let w,b;m==="top"||m==="bottom"?(w=m,b=u===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=m,w=u==="end"?"top":"bottom");const y=v-f.top-f.bottom,_=x-f.left-f.right,N=qa(v-f[w],y),E=qa(x-f[b],_),I=!t.middlewareData.shift;let C=N,O=E;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(O=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=y),I&&!u){const k=Ds(f.left,0),R=Ds(f.right,0),P=Ds(f.top,0),T=Ds(f.bottom,0);p?O=x-2*(k!==0||R!==0?k+R:Ds(f.left,f.right)):C=v-2*(P!==0||T!==0?P+T:Ds(f.top,f.bottom))}await d({...t,availableWidth:O,availableHeight:C});const A=await o.getDimensions(c.floating);return x!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function sp(){return typeof window<"u"}function Mc(e){return FE(e)?(e.nodeName||"").toLowerCase():"#document"}function Us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yi(e){var t;return(t=(FE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function FE(e){return sp()?e instanceof Node||e instanceof Us(e).Node:!1}function Rr(e){return sp()?e instanceof Element||e instanceof Us(e).Element:!1}function vi(e){return sp()?e instanceof HTMLElement||e instanceof Us(e).HTMLElement:!1}function y1(e){return!sp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Us(e).ShadowRoot}const gF=new Set(["inline","contents"]);function Zu(e){const{overflow:t,overflowX:s,overflowY:r,display:i}=Mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!gF.has(i)}const vF=new Set(["table","td","th"]);function xF(e){return vF.has(Mc(e))}const yF=[":popover-open",":modal"];function rp(e){return yF.some(t=>{try{return e.matches(t)}catch{return!1}})}const bF=["transform","translate","scale","rotate","perspective"],wF=["transform","translate","scale","rotate","perspective","filter"],jF=["paint","layout","strict","content"];function cb(e){const t=db(),s=Rr(e)?Mr(e):e;return bF.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||wF.some(r=>(s.willChange||"").includes(r))||jF.some(r=>(s.contain||"").includes(r))}function _F(e){let t=Ha(e);for(;vi(t)&&!fc(t);){if(cb(t))return t;if(rp(t))return null;t=Ha(t)}return null}function db(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NF=new Set(["html","body","#document"]);function fc(e){return NF.has(Mc(e))}function Mr(e){return Us(e).getComputedStyle(e)}function ip(e){return Rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ha(e){if(Mc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||y1(e)&&e.host||yi(e);return y1(t)?t.host:t}function $E(e){const t=Ha(e);return fc(t)?e.ownerDocument?e.ownerDocument.body:e.body:vi(t)&&Zu(t)?t:$E(t)}function xu(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=$E(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Us(i);if(a){const c=Ix(o);return t.concat(o,o.visualViewport||[],Zu(i)?i:[],c&&s?xu(c):[])}return t.concat(i,xu(i,[],s))}function Ix(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BE(e){const t=Mr(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=vi(e),a=i?e.offsetWidth:s,o=i?e.offsetHeight:r,c=Qf(s)!==a||Qf(r)!==o;return c&&(s=a,r=o),{width:s,height:r,$:c}}function ub(e){return Rr(e)?e:e.contextElement}function Wl(e){const t=ub(e);if(!vi(t))return ii(1);const s=t.getBoundingClientRect(),{width:r,height:i,$:a}=BE(t);let o=(a?Qf(s.width):s.width)/r,c=(a?Qf(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const SF=ii(0);function zE(e){const t=Us(e);return!db()||!t.visualViewport?SF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kF(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Us(e)?!1:t}function Ho(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),a=ub(e);let o=ii(1);t&&(r?Rr(r)&&(o=Wl(r)):o=Wl(e));const c=kF(a,s,r)?zE(a):ii(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(a){const u=Us(a),p=r&&Rr(r)?Us(r):r;let x=u,v=Ix(x);for(;v&&r&&p!==x;){const w=Wl(v),b=v.getBoundingClientRect(),y=Mr(v),_=b.left+(v.clientLeft+parseFloat(y.paddingLeft))*w.x,N=b.top+(v.clientTop+parseFloat(y.paddingTop))*w.y;d*=w.x,h*=w.y,f*=w.x,m*=w.y,d+=_,h+=N,x=Us(v),v=Ix(x)}}return em({width:f,height:m,x:d,y:h})}function hb(e,t){const s=ip(e).scrollLeft;return t?t.left+s:Ho(yi(e)).left+s}function VE(e,t,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(s?0:hb(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function CF(e){let{elements:t,rect:s,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=yi(r),c=t?rp(t.floating):!1;if(r===o||c&&a)return s;let d={scrollLeft:0,scrollTop:0},h=ii(1);const f=ii(0),m=vi(r);if((m||!m&&!a)&&((Mc(r)!=="body"||Zu(o))&&(d=ip(r)),vi(r))){const p=Ho(r);h=Wl(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const u=o&&!m&&!a?VE(o,d,!0):ii(0);return{width:s.width*h.x,height:s.height*h.y,x:s.x*h.x-d.scrollLeft*h.x+f.x+u.x,y:s.y*h.y-d.scrollTop*h.y+f.y+u.y}}function EF(e){return Array.from(e.getClientRects())}function PF(e){const t=yi(e),s=ip(e),r=e.ownerDocument.body,i=Ds(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ds(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+hb(e);const c=-s.scrollTop;return Mr(r).direction==="rtl"&&(o+=Ds(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}function TF(e,t){const s=Us(e),r=yi(e),i=s.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const h=db();(!h||h&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:o,x:c,y:d}}const AF=new Set(["absolute","fixed"]);function OF(e,t){const s=Ho(e,!0,t==="fixed"),r=s.top+e.clientTop,i=s.left+e.clientLeft,a=vi(e)?Wl(e):ii(1),o=e.clientWidth*a.x,c=e.clientHeight*a.y,d=i*a.x,h=r*a.y;return{width:o,height:c,x:d,y:h}}function b1(e,t,s){let r;if(t==="viewport")r=TF(e,s);else if(t==="document")r=PF(yi(e));else if(Rr(t))r=OF(t,s);else{const i=zE(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return em(r)}function UE(e,t){const s=Ha(e);return s===t||!Rr(s)||fc(s)?!1:Mr(s).position==="fixed"||UE(s,t)}function LF(e,t){const s=t.get(e);if(s)return s;let r=xu(e,[],!1).filter(c=>Rr(c)&&Mc(c)!=="body"),i=null;const a=Mr(e).position==="fixed";let o=a?Ha(e):e;for(;Rr(o)&&!fc(o);){const c=Mr(o),d=cb(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&AF.has(i.position)||Zu(o)&&!d&&UE(e,o))?r=r.filter(f=>f!==o):i=c,o=Ha(o)}return t.set(e,r),r}function RF(e){let{element:t,boundary:s,rootBoundary:r,strategy:i}=e;const o=[...s==="clippingAncestors"?rp(t)?[]:LF(t,this._c):[].concat(s),r],c=o[0],d=o.reduce((h,f)=>{const m=b1(t,f,i);return h.top=Ds(m.top,h.top),h.right=qa(m.right,h.right),h.bottom=qa(m.bottom,h.bottom),h.left=Ds(m.left,h.left),h},b1(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function MF(e){const{width:t,height:s}=BE(e);return{width:t,height:s}}function IF(e,t,s){const r=vi(t),i=yi(t),a=s==="fixed",o=Ho(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=ii(0);function h(){d.x=hb(i)}if(r||!r&&!a)if((Mc(t)!=="body"||Zu(i))&&(c=ip(t)),r){const p=Ho(t,!0,a,t);d.x=p.x+t.clientLeft,d.y=p.y+t.clientTop}else i&&h();a&&!r&&i&&h();const f=i&&!r&&!a?VE(i,c):ii(0),m=o.left+c.scrollLeft-d.x-f.x,u=o.top+c.scrollTop-d.y-f.y;return{x:m,y:u,width:o.width,height:o.height}}function Jg(e){return Mr(e).position==="static"}function w1(e,t){if(!vi(e)||Mr(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return yi(e)===s&&(s=s.ownerDocument.body),s}function qE(e,t){const s=Us(e);if(rp(e))return s;if(!vi(e)){let i=Ha(e);for(;i&&!fc(i);){if(Rr(i)&&!Jg(i))return i;i=Ha(i)}return s}let r=w1(e,t);for(;r&&xF(r)&&Jg(r);)r=w1(r,t);return r&&fc(r)&&Jg(r)&&!cb(r)?s:r||_F(e)||s}const DF=async function(e){const t=this.getOffsetParent||qE,s=this.getDimensions,r=await s(e.floating);return{reference:IF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FF(e){return Mr(e).direction==="rtl"}const $F={convertOffsetParentRelativeRectToViewportRelativeRect:CF,getDocumentElement:yi,getClippingRect:RF,getOffsetParent:qE,getElementRects:DF,getClientRects:EF,getDimensions:MF,getScale:Wl,isElement:Rr,isRTL:FF};function HE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BF(e,t){let s=null,r;const i=yi(e);function a(){var c;clearTimeout(r),(c=s)==null||c.disconnect(),s=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=e.getBoundingClientRect(),{left:f,top:m,width:u,height:p}=h;if(c||t(),!u||!p)return;const x=Vh(m),v=Vh(i.clientWidth-(f+u)),w=Vh(i.clientHeight-(m+p)),b=Vh(f),_={rootMargin:-x+"px "+-v+"px "+-w+"px "+-b+"px",threshold:Ds(0,qa(1,d))||1};let N=!0;function E(I){const C=I[0].intersectionRatio;if(C!==d){if(!N)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!HE(h,e.getBoundingClientRect())&&o(),N=!1}try{s=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{s=new IntersectionObserver(E,_)}s.observe(e)}return o(!0),a}function zF(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=ub(e),f=i||a?[...h?xu(h):[],...xu(t)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",s,{passive:!0}),a&&b.addEventListener("resize",s)});const m=h&&c?BF(h,s):null;let u=-1,p=null;o&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===h&&p&&(p.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),s()}),h&&!d&&p.observe(h),p.observe(t));let x,v=d?Ho(e):null;d&&w();function w(){const b=Ho(e);v&&!HE(v,b)&&s(),v=b,x=requestAnimationFrame(w)}return s(),()=>{var b;f.forEach(y=>{i&&y.removeEventListener("scroll",s),a&&y.removeEventListener("resize",s)}),m==null||m(),(b=p)==null||b.disconnect(),p=null,d&&cancelAnimationFrame(x)}}const VF=hF,UF=fF,qF=cF,HF=pF,WF=dF,j1=lF,ZF=mF,GF=(e,t,s)=>{const r=new Map,i={platform:$F,...s},a={...i.platform,_c:r};return oF(e,t,{...i,platform:a})};var KF=typeof document<"u",YF=function(){},pf=KF?j.useLayoutEffect:YF;function tm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!tm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=s;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!tm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function WE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _1(e,t){const s=WE(e);return Math.round(t*s)/s}function ev(e){const t=j.useRef(e);return pf(()=>{t.current=e}),t}function XF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[f,m]=j.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[u,p]=j.useState(r);tm(u,r)||p(r);const[x,v]=j.useState(null),[w,b]=j.useState(null),y=j.useCallback(B=>{B!==I.current&&(I.current=B,v(B))},[]),_=j.useCallback(B=>{B!==C.current&&(C.current=B,b(B))},[]),N=a||x,E=o||w,I=j.useRef(null),C=j.useRef(null),O=j.useRef(f),A=d!=null,k=ev(d),R=ev(i),P=ev(h),T=j.useCallback(()=>{if(!I.current||!C.current)return;const B={placement:t,strategy:s,middleware:u};R.current&&(B.platform=R.current),GF(I.current,C.current,B).then(q=>{const F={...q,isPositioned:P.current!==!1};M.current&&!tm(O.current,F)&&(O.current=F,eo.flushSync(()=>{m(F)}))})},[u,t,s,R,P]);pf(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m(B=>({...B,isPositioned:!1})))},[h]);const M=j.useRef(!1);pf(()=>(M.current=!0,()=>{M.current=!1}),[]),pf(()=>{if(N&&(I.current=N),E&&(C.current=E),N&&E){if(k.current)return k.current(N,E,T);T()}},[N,E,T,k,A]);const H=j.useMemo(()=>({reference:I,floating:C,setReference:y,setFloating:_}),[y,_]),W=j.useMemo(()=>({reference:N,floating:E}),[N,E]),Z=j.useMemo(()=>{const B={position:s,left:0,top:0};if(!W.floating)return B;const q=_1(W.floating,f.x),F=_1(W.floating,f.y);return c?{...B,transform:"translate("+q+"px, "+F+"px)",...WE(W.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:q,top:F}},[s,c,W.floating,f.x,f.y]);return j.useMemo(()=>({...f,update:T,refs:H,elements:W,floatingStyles:Z}),[f,T,H,W,Z])}const QF=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:i}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?j1({element:r.current,padding:i}).fn(s):{}:r?j1({element:r,padding:i}).fn(s):{}}}},JF=(e,t)=>({...VF(e),options:[e,t]}),e8=(e,t)=>({...UF(e),options:[e,t]}),t8=(e,t)=>({...ZF(e),options:[e,t]}),n8=(e,t)=>({...qF(e),options:[e,t]}),s8=(e,t)=>({...HF(e),options:[e,t]}),r8=(e,t)=>({...WF(e),options:[e,t]}),i8=(e,t)=>({...QF(e),options:[e,t]});var a8="Arrow",ZE=j.forwardRef((e,t)=>{const{children:s,width:r=10,height:i=5,...a}=e;return n.jsx(We.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZE.displayName=a8;var o8=ZE;function ap(e){const[t,s]=j.useState(void 0);return Sn(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=e.offsetWidth,c=e.offsetHeight;s({width:o,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var fb="Popper",[GE,Ic]=ls(fb),[l8,KE]=GE(fb),YE=e=>{const{__scopePopper:t,children:s}=e,[r,i]=j.useState(null);return n.jsx(l8,{scope:t,anchor:r,onAnchorChange:i,children:s})};YE.displayName=fb;var XE="PopperAnchor",QE=j.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...i}=e,a=KE(XE,s),o=j.useRef(null),c=dt(t,o);return j.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:n.jsx(We.div,{...i,ref:c})});QE.displayName=XE;var mb="PopperContent",[c8,d8]=GE(mb),JE=j.forwardRef((e,t)=>{var U,ne,se,le,pe,ee;const{__scopePopper:s,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:u=!1,updatePositionStrategy:p="optimized",onPlaced:x,...v}=e,w=KE(mb,s),[b,y]=j.useState(null),_=dt(t,ye=>y(ye)),[N,E]=j.useState(null),I=ap(N),C=(I==null?void 0:I.width)??0,O=(I==null?void 0:I.height)??0,A=r+(a!=="center"?"-"+a:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(h)?h:[h],P=R.length>0,T={padding:k,boundary:R.filter(h8),altBoundary:P},{refs:M,floatingStyles:H,placement:W,isPositioned:Z,middlewareData:B}=XF({strategy:"fixed",placement:A,whileElementsMounted:(...ye)=>zF(...ye,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[JF({mainAxis:i+O,alignmentAxis:o}),d&&e8({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?t8():void 0,...T}),d&&n8({...T}),s8({...T,apply:({elements:ye,rects:Ce,availableWidth:ue,availableHeight:je})=>{const{width:xe,height:ce}=Ce.reference,fe=ye.floating.style;fe.setProperty("--radix-popper-available-width",`${ue}px`),fe.setProperty("--radix-popper-available-height",`${je}px`),fe.setProperty("--radix-popper-anchor-width",`${xe}px`),fe.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),N&&i8({element:N,padding:c}),f8({arrowWidth:C,arrowHeight:O}),u&&r8({strategy:"referenceHidden",...T})]}),[q,F]=nP(W),$=pn(x);Sn(()=>{Z&&($==null||$())},[Z,$]);const z=(U=B.arrow)==null?void 0:U.x,G=(ne=B.arrow)==null?void 0:ne.y,X=((se=B.arrow)==null?void 0:se.centerOffset)!==0,[J,K]=j.useState();return Sn(()=>{b&&K(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Z?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(le=B.transformOrigin)==null?void 0:le.x,(pe=B.transformOrigin)==null?void 0:pe.y].join(" "),...((ee=B.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(c8,{scope:s,placedSide:q,onArrowChange:E,arrowX:z,arrowY:G,shouldHideArrow:X,children:n.jsx(We.div,{"data-side":q,"data-align":F,...v,ref:_,style:{...v.style,animation:Z?void 0:"none"}})})})});JE.displayName=mb;var eP="PopperArrow",u8={top:"bottom",right:"left",bottom:"top",left:"right"},tP=j.forwardRef(function(t,s){const{__scopePopper:r,...i}=t,a=d8(eP,r),o=u8[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx(o8,{...i,ref:s,style:{...i.style,display:"block"}})})});tP.displayName=eP;function h8(e){return e!==null}var f8=e=>({name:"transformOrigin",options:e,fn(t){var w,b,y;const{placement:s,rects:r,middlewareData:i}=t,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[h,f]=nP(s),m={start:"0%",center:"50%",end:"100%"}[f],u=(((b=i.arrow)==null?void 0:b.x)??0)+c/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+d/2;let x="",v="";return h==="bottom"?(x=o?m:`${u}px`,v=`${-d}px`):h==="top"?(x=o?m:`${u}px`,v=`${r.floating.height+d}px`):h==="right"?(x=`${-d}px`,v=o?m:`${p}px`):h==="left"&&(x=`${r.floating.width+d}px`,v=o?m:`${p}px`),{data:{x,y:v}}}});function nP(e){const[t,s="center"]=e.split("-");return[t,s]}var pb=YE,gb=QE,vb=JE,xb=tP,[op,pse]=ls("Tooltip",[Ic]),lp=Ic(),sP="TooltipProvider",m8=700,Dx="tooltip.open",[p8,yb]=op(sP),rP=e=>{const{__scopeTooltip:t,delayDuration:s=m8,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=j.useRef(!0),c=j.useRef(!1),d=j.useRef(0);return j.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),n.jsx(p8,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:j.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:j.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:a})};rP.displayName=sP;var yu="Tooltip",[g8,cp]=op(yu),iP=e=>{const{__scopeTooltip:t,children:s,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:c}=e,d=yb(yu,e.__scopeTooltip),h=lp(t),[f,m]=j.useState(null),u=Ar(),p=j.useRef(0),x=o??d.disableHoverableContent,v=c??d.delayDuration,w=j.useRef(!1),[b,y]=Lr({prop:r,defaultProp:i??!1,onChange:C=>{C?(d.onOpen(),document.dispatchEvent(new CustomEvent(Dx))):d.onClose(),a==null||a(C)},caller:yu}),_=j.useMemo(()=>b?w.current?"delayed-open":"instant-open":"closed",[b]),N=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,y(!0)},[y]),E=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),I=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,y(!0),p.current=0},v)},[v,y]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(pb,{...h,children:n.jsx(g8,{scope:t,contentId:u,open:b,stateAttribute:_,trigger:f,onTriggerChange:m,onTriggerEnter:j.useCallback(()=>{d.isOpenDelayedRef.current?I():N()},[d.isOpenDelayedRef,I,N]),onTriggerLeave:j.useCallback(()=>{x?E():(window.clearTimeout(p.current),p.current=0)},[E,x]),onOpen:N,onClose:E,disableHoverableContent:x,children:s})})};iP.displayName=yu;var Fx="TooltipTrigger",aP=j.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,i=cp(Fx,s),a=yb(Fx,s),o=lp(s),c=j.useRef(null),d=dt(t,c,i.onTriggerChange),h=j.useRef(!1),f=j.useRef(!1),m=j.useCallback(()=>h.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(gb,{asChild:!0,...o,children:n.jsx(We.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Le(e.onPointerMove,u=>{u.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:Le(e.onBlur,i.onClose),onClick:Le(e.onClick,i.onClose)})})});aP.displayName=Fx;var v8="TooltipPortal",[gse,x8]=op(v8,{forceMount:void 0}),mc="TooltipContent",oP=j.forwardRef((e,t)=>{const s=x8(mc,e.__scopeTooltip),{forceMount:r=s.forceMount,side:i="top",...a}=e,o=cp(mc,e.__scopeTooltip);return n.jsx(Gn,{present:r||o.open,children:o.disableHoverableContent?n.jsx(lP,{side:i,...a,ref:t}):n.jsx(y8,{side:i,...a,ref:t})})}),y8=j.forwardRef((e,t)=>{const s=cp(mc,e.__scopeTooltip),r=yb(mc,e.__scopeTooltip),i=j.useRef(null),a=dt(t,i),[o,c]=j.useState(null),{trigger:d,onClose:h}=s,f=i.current,{onPointerInTransitChange:m}=r,u=j.useCallback(()=>{c(null),m(!1)},[m]),p=j.useCallback((x,v)=>{const w=x.currentTarget,b={x:x.clientX,y:x.clientY},y=N8(b,w.getBoundingClientRect()),_=S8(b,y),N=k8(v.getBoundingClientRect()),E=E8([..._,...N]);c(E),m(!0)},[m]);return j.useEffect(()=>()=>u(),[u]),j.useEffect(()=>{if(d&&f){const x=w=>p(w,f),v=w=>p(w,d);return d.addEventListener("pointerleave",x),f.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",v)}}},[d,f,p,u]),j.useEffect(()=>{if(o){const x=v=>{const w=v.target,b={x:v.clientX,y:v.clientY},y=(d==null?void 0:d.contains(w))||(f==null?void 0:f.contains(w)),_=!C8(b,o);y?u():_&&(u(),h())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,f,o,h,u]),n.jsx(lP,{...e,ref:a})}),[b8,w8]=op(yu,{isInside:!1}),j8=CI("TooltipContent"),lP=j.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=e,d=cp(mc,s),h=lp(s),{onClose:f}=d;return j.useEffect(()=>(document.addEventListener(Dx,f),()=>document.removeEventListener(Dx,f)),[f]),j.useEffect(()=>{if(d.trigger){const m=u=>{const p=u.target;p!=null&&p.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),n.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:n.jsxs(vb,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(j8,{children:r}),n.jsx(b8,{scope:s,isInside:!0,children:n.jsx(KI,{id:d.contentId,role:"tooltip",children:i||r})})]})})});oP.displayName=mc;var cP="TooltipArrow",_8=j.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,i=lp(s);return w8(cP,s).isInside?null:n.jsx(xb,{...i,...r,ref:t})});_8.displayName=cP;function N8(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,r,i,a)){case a:return"left";case i:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function S8(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function k8(e){const{top:t,right:s,bottom:r,left:i}=e;return[{x:i,y:t},{x:s,y:t},{x:s,y:r},{x:i,y:r}]}function C8(e,t){const{x:s,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],d=t[o],h=c.x,f=c.y,m=d.x,u=d.y;f>r!=u>r&&s<(m-h)*(r-f)/(u-f)+h&&(i=!i)}return i}function E8(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),P8(t)}function P8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var T8=rP,A8=iP,O8=aP,dP=oP;const L8=T8,N1=A8,S1=O8,$x=j.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(dP,{ref:r,sideOffset:t,className:Ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));$x.displayName=dP.displayName;var dp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},up=typeof window>"u"||"Deno"in globalThis;function wr(){}function R8(e,t){return typeof e=="function"?e(t):e}function M8(e){return typeof e=="number"&&e>=0&&e!==1/0}function I8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bx(e,t){return typeof e=="function"?e(t):e}function D8(e,t){return typeof e=="function"?e(t):e}function k1(e,t){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=e;if(o){if(r){if(t.queryHash!==bb(o,t.options))return!1}else if(!wu(t.queryKey,o))return!1}if(s!=="all"){const d=t.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||a&&!a(t))}function C1(e,t){const{exact:s,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(bu(t.options.mutationKey)!==bu(a))return!1}else if(!wu(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function bb(e,t){return((t==null?void 0:t.queryKeyHashFn)||bu)(e)}function bu(e){return JSON.stringify(e,(t,s)=>zx(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function wu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>wu(e[s],t[s])):!1}function uP(e,t){if(e===t)return e;const s=E1(e)&&E1(t);if(s||zx(e)&&zx(t)){const r=s?e:Object.keys(e),i=r.length,a=s?t:Object.keys(t),o=a.length,c=s?[]:{},d=new Set(r);let h=0;for(let f=0;f<o;f++){const m=s?f:a[f];(!s&&d.has(m)||s)&&e[m]===void 0&&t[m]===void 0?(c[m]=void 0,h++):(c[m]=uP(e[m],t[m]),c[m]===e[m]&&e[m]!==void 0&&h++)}return i===o&&h===i?e:c}return t}function E1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zx(e){if(!P1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!P1(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function P1(e){return Object.prototype.toString.call(e)==="[object Object]"}function F8(e){return new Promise(t=>{setTimeout(t,e)})}function $8(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?uP(e,t):t}function B8(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function z8(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var wb=Symbol();function hP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ko,ba,Xl,b2,V8=(b2=class extends dp{constructor(){super();Tt(this,ko);Tt(this,ba);Tt(this,Xl);ht(this,Xl,t=>{if(!up&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){Se(this,ba)||this.setEventListener(Se(this,Xl))}onUnsubscribe(){var t;this.hasListeners()||((t=Se(this,ba))==null||t.call(this),ht(this,ba,void 0))}setEventListener(t){var s;ht(this,Xl,t),(s=Se(this,ba))==null||s.call(this),ht(this,ba,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Se(this,ko)!==t&&(ht(this,ko,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof Se(this,ko)=="boolean"?Se(this,ko):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ko=new WeakMap,ba=new WeakMap,Xl=new WeakMap,b2),fP=new V8,Ql,wa,Jl,w2,U8=(w2=class extends dp{constructor(){super();Tt(this,Ql,!0);Tt(this,wa);Tt(this,Jl);ht(this,Jl,t=>{if(!up&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){Se(this,wa)||this.setEventListener(Se(this,Jl))}onUnsubscribe(){var t;this.hasListeners()||((t=Se(this,wa))==null||t.call(this),ht(this,wa,void 0))}setEventListener(t){var s;ht(this,Jl,t),(s=Se(this,wa))==null||s.call(this),ht(this,wa,t(this.setOnline.bind(this)))}setOnline(t){Se(this,Ql)!==t&&(ht(this,Ql,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Se(this,Ql)}},Ql=new WeakMap,wa=new WeakMap,Jl=new WeakMap,w2),nm=new U8;function q8(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},s.reject=i=>{r({status:"rejected",reason:i}),t(i)},s}function H8(e){return Math.min(1e3*2**e,3e4)}function mP(e){return(e??"online")==="online"?nm.isOnline():!0}var pP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function tv(e){return e instanceof pP}function gP(e){let t=!1,s=0,r=!1,i;const a=q8(),o=v=>{var w;r||(u(new pP(v)),(w=e.abort)==null||w.call(e))},c=()=>{t=!0},d=()=>{t=!1},h=()=>fP.isFocused()&&(e.networkMode==="always"||nm.isOnline())&&e.canRun(),f=()=>mP(e.networkMode)&&e.canRun(),m=v=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,v),i==null||i(),a.resolve(v))},u=v=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,v),i==null||i(),a.reject(v))},p=()=>new Promise(v=>{var w;i=b=>{(r||h())&&v(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(r)return;let v;const w=s===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(m).catch(b=>{var I;if(r)return;const y=e.retry??(up?0:3),_=e.retryDelay??H8,N=typeof _=="function"?_(s,b):_,E=y===!0||typeof y=="number"&&s<y||typeof y=="function"&&y(s,b);if(t||!E){u(b);return}s++,(I=e.onFail)==null||I.call(e,s,b),F8(N).then(()=>h()?void 0:p()).then(()=>{t?u(b):x()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?x():p().then(x),a)}}var W8=e=>setTimeout(e,0);function Z8(){let e=[],t=0,s=c=>{c()},r=c=>{c()},i=W8;const a=c=>{t?e.push(c):i(()=>{s(c)})},o=()=>{const c=e;e=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{s(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||o()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var ms=Z8(),Co,j2,vP=(j2=class{constructor(){Tt(this,Co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M8(this.gcTime)&&ht(this,Co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(up?1/0:5*60*1e3))}clearGcTimeout(){Se(this,Co)&&(clearTimeout(Se(this,Co)),ht(this,Co,void 0))}},Co=new WeakMap,j2),ec,Eo,er,Po,Jn,Ru,To,jr,Ti,_2,G8=(_2=class extends vP{constructor(t){super();Tt(this,jr);Tt(this,ec);Tt(this,Eo);Tt(this,er);Tt(this,Po);Tt(this,Jn);Tt(this,Ru);Tt(this,To);ht(this,To,!1),ht(this,Ru,t.defaultOptions),this.setOptions(t.options),this.observers=[],ht(this,Po,t.client),ht(this,er,Se(this,Po).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ht(this,ec,Y8(this.options)),this.state=t.state??Se(this,ec),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Se(this,Jn))==null?void 0:t.promise}setOptions(t){this.options={...Se(this,Ru),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,er).remove(this)}setData(t,s){const r=$8(this.state.data,t,this.options);return Yn(this,jr,Ti).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){Yn(this,jr,Ti).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,i;const s=(r=Se(this,Jn))==null?void 0:r.promise;return(i=Se(this,Jn))==null||i.cancel(t),s?s.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,ec))}isActive(){return this.observers.some(t=>D8(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bx(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!I8(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=Se(this,Jn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=Se(this,Jn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Se(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(Se(this,Jn)&&(Se(this,To)?Se(this,Jn).cancel({revert:!0}):Se(this,Jn).cancelRetry()),this.scheduleGc()),Se(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yn(this,jr,Ti).call(this,{type:"invalidate"})}fetch(t,s){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(Se(this,Jn))return Se(this,Jn).continueRetry(),Se(this,Jn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(p=>p.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ht(this,To,!0),r.signal)})},a=()=>{const u=hP(this.options,s),x=(()=>{const v={client:Se(this,Po),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return ht(this,To,!1),this.options.persister?this.options.persister(u,x,this):u(x)},c=(()=>{const u={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:Se(this,Po),state:this.state,fetchFn:a};return i(u),u})();(h=this.options.behavior)==null||h.onFetch(c,this),ht(this,Eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Yn(this,jr,Ti).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=u=>{var p,x,v,w;tv(u)&&u.silent||Yn(this,jr,Ti).call(this,{type:"error",error:u}),tv(u)||((x=(p=Se(this,er).config).onError)==null||x.call(p,u,this),(w=(v=Se(this,er).config).onSettled)==null||w.call(v,this.state.data,u,this)),this.scheduleGc()};return ht(this,Jn,gP({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var p,x,v,w;if(u===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(b){d(b);return}(x=(p=Se(this,er).config).onSuccess)==null||x.call(p,u,this),(w=(v=Se(this,er).config).onSettled)==null||w.call(v,u,this.state.error,this),this.scheduleGc()},onError:d,onFail:(u,p)=>{Yn(this,jr,Ti).call(this,{type:"failed",failureCount:u,error:p})},onPause:()=>{Yn(this,jr,Ti).call(this,{type:"pause"})},onContinue:()=>{Yn(this,jr,Ti).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Se(this,Jn).start()}},ec=new WeakMap,Eo=new WeakMap,er=new WeakMap,Po=new WeakMap,Jn=new WeakMap,Ru=new WeakMap,To=new WeakMap,jr=new WeakSet,Ti=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...K8(r.data,this.options),fetchMeta:t.meta??null};case"success":return ht(this,Eo,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return tv(i)&&i.revert&&Se(this,Eo)?{...Se(this,Eo),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),ms.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Se(this,er).notify({query:this,type:"updated",action:t})})},_2);function K8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Y8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Gr,N2,X8=(N2=class extends dp{constructor(t={}){super();Tt(this,Gr);this.config=t,ht(this,Gr,new Map)}build(t,s,r){const i=s.queryKey,a=s.queryHash??bb(i,s);let o=this.get(a);return o||(o=new G8({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Se(this,Gr).has(t.queryHash)||(Se(this,Gr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=Se(this,Gr).get(t.queryHash);s&&(t.destroy(),s===t&&Se(this,Gr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Se(this,Gr).get(t)}getAll(){return[...Se(this,Gr).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>k1(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>k1(t,r)):s}notify(t){ms.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){ms.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ms.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gr=new WeakMap,N2),Kr,us,Ao,Yr,ha,S2,Q8=(S2=class extends vP{constructor(t){super();Tt(this,Yr);Tt(this,Kr);Tt(this,us);Tt(this,Ao);this.mutationId=t.mutationId,ht(this,us,t.mutationCache),ht(this,Kr,[]),this.state=t.state||J8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Se(this,Kr).includes(t)||(Se(this,Kr).push(t),this.clearGcTimeout(),Se(this,us).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ht(this,Kr,Se(this,Kr).filter(s=>s!==t)),this.scheduleGc(),Se(this,us).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Se(this,Kr).length||(this.state.status==="pending"?this.scheduleGc():Se(this,us).remove(this))}continue(){var t;return((t=Se(this,Ao))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,c,d,h,f,m,u,p,x,v,w,b,y,_,N,E,I,C,O;const s=()=>{Yn(this,Yr,ha).call(this,{type:"continue"})};ht(this,Ao,gP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{Yn(this,Yr,ha).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{Yn(this,Yr,ha).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,us).canRun(this)}));const r=this.state.status==="pending",i=!Se(this,Ao).canStart();try{if(r)s();else{Yn(this,Yr,ha).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=Se(this,us).config).onMutate)==null?void 0:o.call(a,t,this));const k=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t));k!==this.state.context&&Yn(this,Yr,ha).call(this,{type:"pending",context:k,variables:t,isPaused:i})}const A=await Se(this,Ao).start();return await((f=(h=Se(this,us).config).onSuccess)==null?void 0:f.call(h,A,t,this.state.context,this)),await((u=(m=this.options).onSuccess)==null?void 0:u.call(m,A,t,this.state.context)),await((x=(p=Se(this,us).config).onSettled)==null?void 0:x.call(p,A,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,A,null,t,this.state.context)),Yn(this,Yr,ha).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(b=Se(this,us).config).onError)==null?void 0:y.call(b,A,t,this.state.context,this)),await((N=(_=this.options).onError)==null?void 0:N.call(_,A,t,this.state.context)),await((I=(E=Se(this,us).config).onSettled)==null?void 0:I.call(E,void 0,A,this.state.variables,this.state.context,this)),await((O=(C=this.options).onSettled)==null?void 0:O.call(C,void 0,A,t,this.state.context)),A}finally{Yn(this,Yr,ha).call(this,{type:"error",error:A})}}finally{Se(this,us).runNext(this)}}},Kr=new WeakMap,us=new WeakMap,Ao=new WeakMap,Yr=new WeakSet,ha=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ms.batch(()=>{Se(this,Kr).forEach(r=>{r.onMutationUpdate(t)}),Se(this,us).notify({mutation:this,type:"updated",action:t})})},S2);function J8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Li,_r,Mu,k2,e$=(k2=class extends dp{constructor(t={}){super();Tt(this,Li);Tt(this,_r);Tt(this,Mu);this.config=t,ht(this,Li,new Set),ht(this,_r,new Map),ht(this,Mu,0)}build(t,s,r){const i=new Q8({mutationCache:this,mutationId:++wh(this,Mu)._,options:t.defaultMutationOptions(s),state:r});return this.add(i),i}add(t){Se(this,Li).add(t);const s=Uh(t);if(typeof s=="string"){const r=Se(this,_r).get(s);r?r.push(t):Se(this,_r).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Se(this,Li).delete(t)){const s=Uh(t);if(typeof s=="string"){const r=Se(this,_r).get(s);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&Se(this,_r).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Uh(t);if(typeof s=="string"){const r=Se(this,_r).get(s),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const s=Uh(t);if(typeof s=="string"){const i=(r=Se(this,_r).get(s))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ms.batch(()=>{Se(this,Li).forEach(t=>{this.notify({type:"removed",mutation:t})}),Se(this,Li).clear(),Se(this,_r).clear()})}getAll(){return Array.from(Se(this,Li))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>C1(s,r))}findAll(t={}){return this.getAll().filter(s=>C1(t,s))}notify(t){ms.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return ms.batch(()=>Promise.all(t.map(s=>s.continue().catch(wr))))}},Li=new WeakMap,_r=new WeakMap,Mu=new WeakMap,k2);function Uh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function T1(e){return{onFetch:(t,s)=>{var f,m,u,p,x;const r=t.options,i=(u=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:u.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let v=!1;const w=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=hP(t.options,t.fetchOptions),y=async(_,N,E)=>{if(v)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const C=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:N,direction:E?"backward":"forward",meta:t.options.meta};return w(R),R})(),O=await b(C),{maxPages:A}=t.options,k=E?z8:B8;return{pages:k(_.pages,O,A),pageParams:k(_.pageParams,N,A)}};if(i&&a.length){const _=i==="backward",N=_?t$:A1,E={pages:a,pageParams:o},I=N(r,E);c=await y(E,I,_)}else{const _=e??a.length;do{const N=d===0?o[0]??r.initialPageParam:A1(r,c);if(d>0&&N==null)break;c=await y(c,N),d++}while(d<_)}return c};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=h}}}function A1(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function t$(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var un,ja,_a,tc,nc,Na,sc,rc,C2,n$=(C2=class{constructor(e={}){Tt(this,un);Tt(this,ja);Tt(this,_a);Tt(this,tc);Tt(this,nc);Tt(this,Na);Tt(this,sc);Tt(this,rc);ht(this,un,e.queryCache||new X8),ht(this,ja,e.mutationCache||new e$),ht(this,_a,e.defaultOptions||{}),ht(this,tc,new Map),ht(this,nc,new Map),ht(this,Na,0)}mount(){wh(this,Na)._++,Se(this,Na)===1&&(ht(this,sc,fP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Se(this,un).onFocus())})),ht(this,rc,nm.subscribe(async e=>{e&&(await this.resumePausedMutations(),Se(this,un).onOnline())})))}unmount(){var e,t;wh(this,Na)._--,Se(this,Na)===0&&((e=Se(this,sc))==null||e.call(this),ht(this,sc,void 0),(t=Se(this,rc))==null||t.call(this),ht(this,rc,void 0))}isFetching(e){return Se(this,un).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Se(this,ja).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=Se(this,un).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=Se(this,un).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Bx(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Se(this,un).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=Se(this,un).get(r.queryHash),a=i==null?void 0:i.state.data,o=R8(t,a);if(o!==void 0)return Se(this,un).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return ms.batch(()=>Se(this,un).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=Se(this,un).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=Se(this,un);ms.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=Se(this,un);return ms.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=ms.batch(()=>Se(this,un).findAll(e).map(i=>i.cancel(s)));return Promise.all(r).then(wr).catch(wr)}invalidateQueries(e,t={}){return ms.batch(()=>(Se(this,un).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=ms.batch(()=>Se(this,un).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(wr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=Se(this,un).build(this,t);return s.isStaleByTime(Bx(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wr).catch(wr)}fetchInfiniteQuery(e){return e.behavior=T1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wr).catch(wr)}ensureInfiniteQueryData(e){return e.behavior=T1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nm.isOnline()?Se(this,ja).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,un)}getMutationCache(){return Se(this,ja)}getDefaultOptions(){return Se(this,_a)}setDefaultOptions(e){ht(this,_a,e)}setQueryDefaults(e,t){Se(this,tc).set(bu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Se(this,tc).values()],s={};return t.forEach(r=>{wu(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){Se(this,nc).set(bu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Se(this,nc).values()],s={};return t.forEach(r=>{wu(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Se(this,_a).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Se(this,_a).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Se(this,un).clear(),Se(this,ja).clear()}},un=new WeakMap,ja=new WeakMap,_a=new WeakMap,tc=new WeakMap,nc=new WeakMap,Na=new WeakMap,sc=new WeakMap,rc=new WeakMap,C2),s$=j.createContext(void 0),r$=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(s$.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ju.apply(this,arguments)}var Ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ca||(Ca={}));const O1="popstate";function i$(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:c}=r.location;return Vx("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:yP(i)}return o$(t,s,null,e)}function Dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a$(){return Math.random().toString(36).substr(2,8)}function L1(e,t){return{usr:e.state,key:e.key,idx:t}}function Vx(e,t,s,r){return s===void 0&&(s=null),ju({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Dc(t):t,{state:s,key:t&&t.key||r||a$()})}function yP(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Dc(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function o$(e,t,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c=Ca.Pop,d=null,h=f();h==null&&(h=0,o.replaceState(ju({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function m(){c=Ca.Pop;let w=f(),b=w==null?null:w-h;h=w,d&&d({action:c,location:v.location,delta:b})}function u(w,b){c=Ca.Push;let y=Vx(v.location,w,b);h=f()+1;let _=L1(y,h),N=v.createHref(y);try{o.pushState(_,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(N)}a&&d&&d({action:c,location:v.location,delta:1})}function p(w,b){c=Ca.Replace;let y=Vx(v.location,w,b);h=f();let _=L1(y,h),N=v.createHref(y);o.replaceState(_,"",N),a&&d&&d({action:c,location:v.location,delta:0})}function x(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:yP(w);return y=y.replace(/ $/,"%20"),Dn(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let v={get action(){return c},get location(){return e(i,o)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(O1,m),d=w,()=>{i.removeEventListener(O1,m),d=null}},createHref(w){return t(i,w)},createURL:x,encodeLocation(w){let b=x(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:u,replace:p,go(w){return o.go(w)}};return v}var R1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(R1||(R1={}));function l$(e,t,s){return s===void 0&&(s="/"),c$(e,t,s,!1)}function c$(e,t,s,r){let i=typeof t=="string"?Dc(t):t,a=jP(i.pathname||"/",s);if(a==null)return null;let o=bP(e);d$(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=w$(a);c=y$(o[d],h,r)}return c}function bP(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let i=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Dn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Mo([r,d.relativePath]),f=s.concat(d);a.children&&a.children.length>0&&(Dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),bP(a.children,t,f,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:v$(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let d of wP(a.path))i(a,o,d)}),t}function wP(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=wP(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function d$(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:x$(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const u$=/^:[\w-]+$/,h$=3,f$=2,m$=1,p$=10,g$=-2,M1=e=>e==="*";function v$(e,t){let s=e.split("/"),r=s.length;return s.some(M1)&&(r+=g$),t&&(r+=f$),s.filter(i=>!M1(i)).reduce((i,a)=>i+(u$.test(a)?h$:a===""?m$:p$),r)}function x$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function y$(e,t,s){let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=I1({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),u=d.route;if(!m&&h&&s&&!r[r.length-1].route.index&&(m=I1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Mo([a,m.pathname]),pathnameBase:C$(Mo([a,m.pathnameBase])),route:u}),m.pathnameBase!=="/"&&(a=Mo([a,m.pathnameBase]))}return o}function I1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=b$(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,f,m)=>{let{paramName:u,isOptional:p}=f;if(u==="*"){let v=c[m]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[m];return p&&!x?h[u]=void 0:h[u]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:e}}function b$(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),xP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function w$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function j$(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:i=""}=typeof e=="string"?Dc(e):e;return{pathname:s?s.startsWith("/")?s:_$(s,t):t,search:E$(r),hash:P$(i)}}function _$(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function nv(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N$(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function S$(e,t){let s=N$(e);return t?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function k$(e,t,s,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Dc(e):(i=ju({},e),Dn(!i.pathname||!i.pathname.includes("?"),nv("?","pathname","search",i)),Dn(!i.pathname||!i.pathname.includes("#"),nv("#","pathname","hash",i)),Dn(!i.search||!i.search.includes("#"),nv("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=s;else{let m=t.length-1;if(!r&&o.startsWith("..")){let u=o.split("/");for(;u[0]==="..";)u.shift(),m-=1;i.pathname=u.join("/")}c=m>=0?t[m]:"/"}let d=j$(i,c),h=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}const Mo=e=>e.join("/").replace(/\/\/+/g,"/"),C$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _P=["post","put","patch","delete"];new Set(_P);const A$=["get",..._P];new Set(A$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},_u.apply(this,arguments)}const jb=j.createContext(null),O$=j.createContext(null),hp=j.createContext(null),fp=j.createContext(null),Jo=j.createContext({outlet:null,matches:[],isDataRoute:!1}),NP=j.createContext(null);function mp(){return j.useContext(fp)!=null}function na(){return mp()||Dn(!1),j.useContext(fp).location}function SP(e){j.useContext(hp).static||j.useLayoutEffect(e)}function nt(){let{isDataRoute:e}=j.useContext(Jo);return e?H$():L$()}function L$(){mp()||Dn(!1);let e=j.useContext(jb),{basename:t,future:s,navigator:r}=j.useContext(hp),{matches:i}=j.useContext(Jo),{pathname:a}=na(),o=JSON.stringify(S$(i,s.v7_relativeSplatPath)),c=j.useRef(!1);return SP(()=>{c.current=!0}),j.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let m=k$(h,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Mo([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,o,a,e])}function pp(){let{matches:e}=j.useContext(Jo),t=e[e.length-1];return t?t.params:{}}function R$(e,t){return M$(e,t)}function M$(e,t,s,r){mp()||Dn(!1);let{navigator:i}=j.useContext(hp),{matches:a}=j.useContext(Jo),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let h=na(),f;if(t){var m;let w=typeof t=="string"?Dc(t):t;d==="/"||(m=w.pathname)!=null&&m.startsWith(d)||Dn(!1),f=w}else f=h;let u=f.pathname||"/",p=u;if(d!=="/"){let w=d.replace(/^\//,"").split("/");p="/"+u.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=l$(e,{pathname:p}),v=B$(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Mo([d,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Mo([d,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,s,r);return t&&v?j.createElement(fp.Provider,{value:{location:_u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ca.Pop}},v):v}function I$(){let e=q$(),t=T$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),s?j.createElement("pre",{style:i},s):null,null)}const D$=j.createElement(I$,null);class F$ extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?j.createElement(Jo.Provider,{value:this.props.routeContext},j.createElement(NP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $$(e){let{routeContext:t,match:s,children:r}=e,i=j.useContext(jb);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(Jo.Provider,{value:t},r)}function B$(e,t,s,r){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,c=(i=s)==null?void 0:i.errors;if(c!=null){let f=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);f>=0||Dn(!1),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,h=-1;if(s&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:u,errors:p}=s,x=m.route.loader&&u[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||x){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,u)=>{let p,x=!1,v=null,w=null;s&&(p=c&&m.route.id?c[m.route.id]:void 0,v=m.route.errorElement||D$,d&&(h<0&&u===0?(x=!0,w=null):h===u&&(x=!0,w=m.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,u+1)),y=()=>{let _;return p?_=v:x?_=w:m.route.Component?_=j.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,j.createElement($$,{match:m,routeContext:{outlet:f,matches:b,isDataRoute:s!=null},children:_})};return s&&(m.route.ErrorBoundary||m.route.errorElement||u===0)?j.createElement(F$,{location:s.location,revalidation:s.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var kP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kP||{}),sm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sm||{});function z$(e){let t=j.useContext(jb);return t||Dn(!1),t}function V$(e){let t=j.useContext(O$);return t||Dn(!1),t}function U$(e){let t=j.useContext(Jo);return t||Dn(!1),t}function CP(e){let t=U$(),s=t.matches[t.matches.length-1];return s.route.id||Dn(!1),s.route.id}function q$(){var e;let t=j.useContext(NP),s=V$(sm.UseRouteError),r=CP(sm.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function H$(){let{router:e}=z$(kP.UseNavigateStable),t=CP(sm.UseNavigateStable),s=j.useRef(!1);return SP(()=>{s.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,_u({fromRouteId:t},a)))},[e,t])}function W$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ye(e){Dn(!1)}function Z$(e){let{basename:t="/",children:s=null,location:r,navigationType:i=Ca.Pop,navigator:a,static:o=!1,future:c}=e;mp()&&Dn(!1);let d=t.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:d,navigator:a,static:o,future:_u({v7_relativeSplatPath:!1},c)}),[d,c,a,o]);typeof r=="string"&&(r=Dc(r));let{pathname:f="/",search:m="",hash:u="",state:p=null,key:x="default"}=r,v=j.useMemo(()=>{let w=jP(f,d);return w==null?null:{location:{pathname:w,search:m,hash:u,state:p,key:x},navigationType:i}},[d,f,m,u,p,x,i]);return v==null?null:j.createElement(hp.Provider,{value:h},j.createElement(fp.Provider,{children:s,value:v}))}function G$(e){let{children:t,location:s}=e;return R$(Ux(t),s)}new Promise(()=>{});function Ux(e,t){t===void 0&&(t=[]);let s=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let a=[...t,i];if(r.type===j.Fragment){s.push.apply(s,Ux(r.props.children,a));return}r.type!==Ye&&Dn(!1),!r.props.index||!r.props.children||Dn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ux(r.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function K$(e,t){let s=qx(e);return t&&t.forEach((r,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const Y$="6";try{window.__reactRouterVersion=Y$}catch{}const X$="startTransition",D1=i0[X$];function Q$(e){let{basename:t,children:s,future:r,window:i}=e,a=j.useRef();a.current==null&&(a.current=i$({window:i,v5Compat:!0}));let o=a.current,[c,d]=j.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},f=j.useCallback(m=>{h&&D1?D1(()=>d(m)):d(m)},[d,h]);return j.useLayoutEffect(()=>o.listen(f),[o,f]),j.useEffect(()=>W$(r),[r]),j.createElement(Z$,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o,future:r})}var F1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(F1||(F1={}));var $1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($1||($1={}));function _b(e){let t=j.useRef(qx(e)),s=j.useRef(!1),r=na(),i=j.useMemo(()=>K$(r.search,s.current?null:t.current),[r.search]),a=nt(),o=j.useCallback((c,d)=>{const h=qx(typeof c=="function"?c(i):c);s.current=!0,a("?"+h,d)},[a,i]);return[i,o]}const J$="modulepreload",eB=function(e){return"/"+e},B1={},et=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(d=>{if(d=eB(d),d in B1)return;B1[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":J$,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((u,p)=>{m.addEventListener("load",u),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var pc;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(pc||(pc={}));class Zl extends Error{constructor(t,s,r){super(t),this.message=t,this.code=s,this.data=r}}const tB=e=>{var t,s;return e!=null&&e.androidBridge?"android":!((s=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},nB=e=>{const t=e.CapacitorCustomPlatform||null,s=e.Capacitor||{},r=s.Plugins=s.Plugins||{},i=()=>t!==null?t.name:tB(e),a=()=>i()!=="web",o=m=>{const u=h.get(m);return!!(u!=null&&u.platforms.has(i())||c(m))},c=m=>{var u;return(u=s.PluginHeaders)===null||u===void 0?void 0:u.find(p=>p.name===m)},d=m=>e.console.error(m),h=new Map,f=(m,u={})=>{const p=h.get(m);if(p)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),p.proxy;const x=i(),v=c(m);let w;const b=async()=>(!w&&x in u?w=typeof u[x]=="function"?w=await u[x]():w=u[x]:t!==null&&!w&&"web"in u&&(w=typeof u.web=="function"?w=await u.web():w=u.web),w),y=(O,A)=>{var k,R;if(v){const P=v==null?void 0:v.methods.find(T=>A===T.name);if(P)return P.rtype==="promise"?T=>s.nativePromise(m,A.toString(),T):(T,M)=>s.nativeCallback(m,A.toString(),T,M);if(O)return(k=O[A])===null||k===void 0?void 0:k.bind(O)}else{if(O)return(R=O[A])===null||R===void 0?void 0:R.bind(O);throw new Zl(`"${m}" plugin is not implemented on ${x}`,pc.Unimplemented)}},_=O=>{let A;const k=(...R)=>{const P=b().then(T=>{const M=y(T,O);if(M){const H=M(...R);return A=H==null?void 0:H.remove,H}else throw new Zl(`"${m}.${O}()" is not implemented on ${x}`,pc.Unimplemented)});return O==="addListener"&&(P.remove=async()=>A()),P};return k.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(k,"name",{value:O,writable:!1,configurable:!1}),k},N=_("addListener"),E=_("removeListener"),I=(O,A)=>{const k=N({eventName:O},A),R=async()=>{const T=await k;E({eventName:O,callbackId:T},A)},P=new Promise(T=>k.then(()=>T({remove:R})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await R()},P},C=new Proxy({},{get(O,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?I:N;case"removeListener":return E;default:return _(A)}}});return r[m]=C,h.set(m,{name:m,proxy:C,platforms:new Set([...Object.keys(u),...v?[x]:[]])}),C};return s.convertFileSrc||(s.convertFileSrc=m=>m),s.getPlatform=i,s.handleError=d,s.isNativePlatform=a,s.isPluginAvailable=o,s.registerPlugin=f,s.Exception=Zl,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},sB=e=>e.Capacitor=nB(e),vt=sB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}),no=vt.registerPlugin;class Nb{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,s){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(s);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,s);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,s,r){const i=this.listeners[t];if(!i){if(r){let a=this.retainedEventArguments[t];a||(a=[]),a.push(s),this.retainedEventArguments[t]=a}return}i.forEach(a=>a(s))}hasListeners(t){var s;return!!(!((s=this.listeners[t])===null||s===void 0)&&s.length)}registerWindowListener(t,s){this.windowListeners[s]={registered:!1,windowEventName:t,pluginEventName:s,handler:r=>{this.notifyListeners(s,r)}}}unimplemented(t="not implemented"){return new vt.Exception(t,pc.Unimplemented)}unavailable(t="not available"){return new vt.Exception(t,pc.Unavailable)}async removeListener(t,s){const r=this.listeners[t];if(!r)return;const i=r.indexOf(s);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const s=this.retainedEventArguments[t];s&&(delete this.retainedEventArguments[t],s.forEach(r=>{this.notifyListeners(t,r)}))}}const z1=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),V1=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class rB extends Nb{async getCookies(){const t=document.cookie,s={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[i,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=V1(i).trim(),a=V1(a).trim(),s[i]=a}),s}async setCookie(t){try{const s=z1(t.key),r=z1(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${s}=${r||""}${i}; path=${a}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const s of t)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}no("CapacitorCookies",{web:()=>new rB});const iB=async e=>new Promise((t,s)=>{const r=new FileReader;r.onload=()=>{const i=r.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>s(i),r.readAsDataURL(e)}),aB=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,a,o)=>(i[a]=e[t[o]],i),{})},oB=(e,t=!0)=>e?Object.entries(e).reduce((r,i)=>{const[a,o]=i;let c,d;return Array.isArray(o)?(d="",o.forEach(h=>{c=t?encodeURIComponent(h):h,d+=`${a}=${c}&`}),d.slice(0,-1)):(c=t?encodeURIComponent(o):o,d=`${a}=${c}`),`${r}&${d}`},"").substr(1):null,lB=(e,t={})=>{const s=Object.assign({method:e.method||"GET",headers:e.headers},t),i=aB(e.headers)["content-type"]||"";if(typeof e.data=="string")s.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,c]of Object.entries(e.data||{}))a.set(o,c);s.body=a.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((c,d)=>{a.append(d,c)});else for(const c of Object.keys(e.data))a.append(c,e.data[c]);s.body=a;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(i.includes("application/json")||typeof e.data=="object")&&(s.body=JSON.stringify(e.data));return s};class cB extends Nb{async request(t){const s=lB(t,t.webFetchExtra),r=oB(t.params,t.shouldEncodeUrlParams),i=r?`${t.url}?${r}`:t.url,a=await fetch(i,s),o=a.headers.get("content-type")||"";let{responseType:c="text"}=a.ok?t:{};o.includes("application/json")&&(c="json");let d,h;switch(c){case"arraybuffer":case"blob":h=await a.blob(),d=await iB(h);break;case"json":d=await a.json();break;case"document":case"text":default:d=await a.text()}const f={};return a.headers.forEach((m,u)=>{f[u]=m}),{data:d,headers:f,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}no("CapacitorHttp",{web:()=>new cB});function dB(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,s){return new Proxy({},{get(r,i){return(a,o,c)=>{const d=e.Capacitor.Plugins[s];if(d===void 0){c(new Error(`Capacitor plugin ${s} not found`));return}if(typeof d[i]!="function"){c(new Error(`Method ${i} not found in Capacitor plugin ${s}`));return}(async()=>{try{const h=await d[i](a);o(h)}catch(h){c(h)}})()}}})}})}function uB(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,s){return e.cordova.plugins[s]}})}function hB(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?dB(window):window.cordova!==void 0&&uB(window))}const sv=no("Geolocation",{web:()=>et(()=>import("./web-h4VfMc72.js"),[]).then(e=>new e.GeolocationWeb)});hB();var Tl;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Tl||(Tl={}));var qd;(function(e){e.Rear="REAR",e.Front="FRONT"})(qd||(qd={}));var U1;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(U1||(U1={}));class fB extends Nb{async getPhoto(t){return new Promise(async(s,r)=>{if(t.webUseInput||t.source===Tl.Photos)this.fileInputExperience(t,s,r);else if(t.source===Tl.Prompt){let i=document.querySelector("pwa-action-sheet");i||(i=document.createElement("pwa-action-sheet"),document.body.appendChild(i)),i.header=t.promptLabelHeader||"Photo",i.cancelable=!1,i.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],i.addEventListener("onSelection",async a=>{a.detail===0?this.fileInputExperience(t,s,r):this.cameraExperience(t,s,r)})}else this.cameraExperience(t,s,r)})}async pickImages(t){return new Promise(async(s,r)=>{this.multipleFileInputExperience(s,r)})}async cameraExperience(t,s,r){if(customElements.get("pwa-camera-modal")){const i=document.createElement("pwa-camera-modal");i.facingMode=t.direction===qd.Front?"user":"environment",document.body.appendChild(i);try{await i.componentOnReady(),i.addEventListener("onPhoto",async a=>{const o=a.detail;o===null?r(new Zl("User cancelled photos app")):o instanceof Error?r(o):s(await this._getCameraPhoto(o,t)),i.dismiss(),document.body.removeChild(i)}),i.present()}catch{this.fileInputExperience(t,s,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,s,r)}fileInputExperience(t,s,r){let i=document.querySelector("#_capacitor-camera-input");const a=()=>{var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",o=>{const c=i.files[0];let d="jpeg";if(c.type==="image/png"?d="png":c.type==="image/gif"&&(d="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const h=new FileReader;h.addEventListener("load",()=>{if(t.resultType==="dataUrl")s({dataUrl:h.result,format:d});else if(t.resultType==="base64"){const f=h.result.split(",")[1];s({base64String:f,format:d})}a()}),h.readAsDataURL(c)}else s({webPath:URL.createObjectURL(c),format:d}),a()}),i.addEventListener("cancel",o=>{r(new Zl("User cancelled photos app")),a()})),i.accept="image/*",i.capture=!0,t.source===Tl.Photos||t.source===Tl.Prompt?i.removeAttribute("capture"):t.direction===qd.Front?i.capture="user":t.direction===qd.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(t,s){let r=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",a=>{const o=[];for(let c=0;c<r.files.length;c++){const d=r.files[c];let h="jpeg";d.type==="image/png"?h="png":d.type==="image/gif"&&(h="gif"),o.push({webPath:URL.createObjectURL(d),format:h})}t({photos:o}),i()}),r.addEventListener("cancel",a=>{s(new Zl("User cancelled photos app")),i()})),r.accept="image/*",r.click()}_getCameraPhoto(t,s){return new Promise((r,i)=>{const a=new FileReader,o=t.type.split("/")[1];s.resultType==="uri"?r({webPath:URL.createObjectURL(t),format:o,saved:!1}):(a.readAsDataURL(t),a.onloadend=()=>{const c=a.result;s.resultType==="dataUrl"?r({dataUrl:c,format:o,saved:!1}):r({base64String:c.split(",")[1],format:o,saved:!1})},a.onerror=c=>{i(c)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const mB=no("Camera",{web:()=>new fB}),pB=no("Device",{web:()=>et(()=>import("./web-FxLn8ro5.js"),[]).then(e=>new e.DeviceWeb)});class gB{static async requestAllPermissions(){if(!vt.isNativePlatform()){console.log("Running in web, skipping native permissions");return}try{await this.requestLocationPermission(),await this.requestCameraPermission(),console.log("Microphone permissions handled through camera plugin")}catch(t){console.error("Error requesting permissions:",t)}}static async requestLocationPermission(){try{const t=await sv.requestPermissions();return console.log("Location permissions:",t),t}catch(t){throw console.error("Location permission error:",t),t}}static async requestCameraPermission(){try{const t=await mB.requestPermissions();return console.log("Camera permissions:",t),t}catch(t){throw console.error("Camera permission error:",t),t}}static async checkLocationPermission(){try{return(await sv.checkPermissions()).location==="granted"}catch(t){return console.error("Check location permission error:",t),!1}}static async getCurrentLocation(){try{return await this.checkLocationPermission()||await this.requestLocationPermission(),await sv.getCurrentPosition()}catch(t){throw console.error("Get location error:",t),t}}static async getDeviceInfo(){try{const t=await pB.getInfo();return console.log("Device info:",t),t}catch(t){return console.error("Device info error:",t),null}}}class vB{constructor(){Ur(this,"location",null);Ur(this,"intervalId",null);Ur(this,"listeners",[]);this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("userLocation");if(t)try{const s=JSON.parse(t),r=localStorage.getItem("userLocationTimestamp");r&&Date.now()-parseInt(r)<10*60*1e3&&(this.location=s)}catch(s){console.error("Error loading location from storage:",s)}}saveToStorage(){this.location&&(localStorage.setItem("userLocation",JSON.stringify(this.location)),localStorage.setItem("userLocationTimestamp",Date.now().toString()))}updateLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.location={latitude:t.coords.latitude,longitude:t.coords.longitude},this.saveToStorage(),this.notifyListeners()},t=>console.error("Location error:",t),{enableHighAccuracy:!1,timeout:1e4,maximumAge:18e4})}notifyListeners(){this.listeners.forEach(t=>t(this.location))}startTracking(){this.updateLocation(),this.intervalId||(this.intervalId=setInterval(()=>{this.updateLocation()},3*60*1e3))}stopTracking(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}getLocation(){return this.location}subscribe(t){return this.listeners.push(t),t(this.location),()=>{this.listeners=this.listeners.filter(s=>s!==t)}}}const xt=new vB,Vn=no("Preferences",{web:()=>et(()=>import("./web-DwtI5_js.js"),[]).then(e=>new e.PreferencesWeb)}),vse=Object.freeze(Object.defineProperty({__proto__:null,Preferences:Vn},Symbol.toStringTag,{value:"Module"}));class xB{constructor(){Ur(this,"isNative",vt.isNativePlatform())}async setAuth(t,s){this.isNative?(await Vn.set({key:"auth_token",value:t}),await Vn.set({key:"auth_user",value:JSON.stringify(s)}),await Vn.set({key:"last_activity",value:Date.now().toString()})):(localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("lastActivity",Date.now().toString()))}async getToken(){return this.isNative?(await Vn.get({key:"auth_token"})).value:localStorage.getItem("token")}async getUser(){if(this.isNative){const t=await Vn.get({key:"auth_user"});return t.value?JSON.parse(t.value):null}else{const t=localStorage.getItem("user");return t?JSON.parse(t):null}}async isAuthenticated(){const t=await this.getToken(),s=await this.getUser();return!!(t&&s)}async updateActivity(){this.isNative?await Vn.set({key:"last_activity",value:Date.now().toString()}):localStorage.setItem("lastActivity",Date.now().toString())}async getLastActivity(){if(this.isNative){const t=await Vn.get({key:"last_activity"});return t.value?parseInt(t.value):null}else{const t=localStorage.getItem("lastActivity");return t?parseInt(t):null}}async clearAuth(){console.log(" clearAuth() called - Stack trace:"),console.trace(),this.isNative?(console.log(" Clearing native storage (Capacitor Preferences)"),await Vn.remove({key:"auth_token"}),await Vn.remove({key:"auth_user"}),await Vn.remove({key:"last_activity"}),await Vn.remove({key:"cart"}),await Vn.remove({key:"wishlist"})):(console.log(" Clearing web storage (localStorage)"),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("lastActivity"),localStorage.removeItem("cart"),localStorage.removeItem("wishlist"),localStorage.removeItem("userLocation"),localStorage.removeItem("userLocationTimestamp")),console.log(" Auth cleared successfully")}async setCart(t){this.isNative?await Vn.set({key:"cart",value:JSON.stringify(t)}):localStorage.setItem("cart",JSON.stringify(t))}async getCart(){if(this.isNative){const t=await Vn.get({key:"cart"});return t.value?JSON.parse(t.value):[]}else{const t=localStorage.getItem("cart");return t?JSON.parse(t):[]}}async setWishlist(t){this.isNative?await Vn.set({key:"wishlist",value:JSON.stringify(t)}):localStorage.setItem("wishlist",JSON.stringify(t))}async getWishlist(){if(this.isNative){const t=await Vn.get({key:"wishlist"});return t.value?JSON.parse(t.value):[]}else{const t=localStorage.getItem("wishlist");return t?JSON.parse(t):[]}}async isSessionValid(){const t=await this.getLastActivity();if(!t)return!1;const s=this.isNative?7*24*60*60*1e3:24*60*60*1e3;return Date.now()-t<=s}async autoLogin(){const t=await this.getToken(),s=await this.getUser();if(t&&s&&s.user_type==="vendor"){if(await this.isSessionValid())return await this.updateActivity(),console.log(" Auto-login successful for vendor:",s.username),!0;console.log(" Session expired, clearing auth"),await this.clearAuth()}return!1}async keepAlive(){await this.isAuthenticated()&&await this.updateActivity()}}const Te=new xB,Nu=Object.freeze(Object.defineProperty({__proto__:null,authService:Te},Symbol.toStringTag,{value:"Module"})),yB={user:null,cart:[],wishlist:[],searchQuery:"",isLoading:!1,error:null};function bB(e,t){switch(t.type){case"SET_USER":return{...e,user:t.payload};case"ADD_TO_CART":return e.cart.find(r=>r.id===t.payload.id)?{...e,cart:e.cart.map(r=>r.id===t.payload.id?{...r,quantity:r.quantity+1}:r)}:{...e,cart:[...e.cart,{...t.payload,quantity:1}]};case"REMOVE_FROM_CART":return{...e,cart:e.cart.filter(s=>s.id!==t.payload)};case"UPDATE_CART_QUANTITY":return{...e,cart:e.cart.map(s=>s.id===t.payload.id?{...s,quantity:Math.max(0,t.payload.quantity)}:s).filter(s=>s.quantity>0)};case"CLEAR_CART":return{...e,cart:[]};case"ADD_TO_WISHLIST":return e.wishlist.find(r=>r.id===t.payload.id)?e:{...e,wishlist:[...e.wishlist,t.payload]};case"REMOVE_FROM_WISHLIST":return{...e,wishlist:e.wishlist.filter(s=>s.id!==t.payload)};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"LOAD_FROM_STORAGE":return e;default:return e}}const EP=j.createContext(void 0);function wB({children:e}){const[t,s]=j.useReducer(bB,yB);j.useEffect(()=>{(async()=>{try{const[x,v,w,b]=await Promise.all([Te.getCart(),Te.getWishlist(),Te.getUser(),Te.isAuthenticated()]);b&&w&&(await Te.isSessionValid()||await Te.clearAuth()),t.cart=x,t.wishlist=v,s({type:"SET_LOADING",payload:!1})}catch(x){console.error("Failed to load stored data:",x)}})()},[]),j.useEffect(()=>{(async()=>{try{await Promise.all([Te.setCart(t.cart),Te.setWishlist(t.wishlist)]),t.user&&await Te.updateActivity()}catch(x){console.error("Failed to save data:",x)}})()},[t.cart,t.wishlist,t.user]);const u={state:t,dispatch:s,addToCart:p=>{s({type:"ADD_TO_CART",payload:p})},removeFromCart:p=>{s({type:"REMOVE_FROM_CART",payload:p})},updateCartQuantity:(p,x)=>{s({type:"UPDATE_CART_QUANTITY",payload:{id:p,quantity:x}})},clearCart:()=>{s({type:"CLEAR_CART"})},addToWishlist:p=>{s({type:"ADD_TO_WISHLIST",payload:p})},removeFromWishlist:p=>{s({type:"REMOVE_FROM_WISHLIST",payload:p})},setSearchQuery:p=>{s({type:"SET_SEARCH_QUERY",payload:p})},login:async(p,x)=>{try{await Te.setAuth(x,p),s({type:"SET_USER",payload:p}),xt.startTracking()}catch(v){console.error("Failed to save login data:",v)}},logout:async()=>{try{await Te.clearAuth(),s({type:"SET_USER",payload:null}),xt.stopTracking()}catch(p){console.error("Failed to clear auth data:",p)}}};return n.jsx(EP.Provider,{value:u,children:e})}function sa(){const e=j.useContext(EP);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e}const jB=()=>{const{state:e,dispatch:t}=sa(),s=j.useCallback(async()=>{e.user&&await Te.updateActivity()},[e.user]),r=j.useCallback(async()=>{e.user&&await Promise.all([Te.setCart(e.cart),Te.setWishlist(e.wishlist),Te.updateActivity()])},[e.user,e.cart,e.wishlist]);return j.useCallback(async()=>{},[t]),j.useEffect(()=>{},[]),j.useEffect(()=>{},[]),j.useEffect(()=>{const i=()=>{r().catch(console.error)};return window.addEventListener("beforeunload",i),()=>window.removeEventListener("beforeunload",i)},[r]),{extendSession:s,saveState:r}},_B=()=>window.location.protocol==="capacitor:"||window.location.protocol==="ionic:"||window.navigator.userAgent.includes("Capacitor"),NB=()=>"http://localhost:8000",Hx=["http://localhost:8000","http://10.0.2.2:8000","http://192.168.1.100:8000"],SB=()=>"wss://ezeyway.com",As={BASE_URL:NB(),WS_BASE_URL:SB()};console.log("API Config Debug:",{isMobile:_B(),protocol:window.location.protocol,userAgent:window.navigator.userAgent,baseUrl:As.BASE_URL,wsUrl:As.WS_BASE_URL});const Sb=(e="")=>`${As.BASE_URL}${e.startsWith("/")?e:`/${e}`}`,Je=`${As.BASE_URL}/`,kB=Object.freeze(Object.defineProperty({__proto__:null,API_BASE:Je,API_CONFIG:As,FALLBACK_URLS:Hx,getApiUrl:Sb},Symbol.toStringTag,{value:"Module"})),xd=Sb("/api");class CB{async getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Token ${await Te.getToken()}`,"ngrok-skip-browser-warning":"true"}}async getCart(){if(!await Te.getToken())throw new Error("User not authenticated");const s=await fetch(`${xd}/cart/`,{headers:await this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch cart");return s.json()}async addToCart(t,s=1){const r=await fetch(`${xd}/cart/add/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({product_id:t,quantity:s})});if(!r.ok)throw new Error("Failed to add item to cart");return(await r.json()).cart}async updateCartItem(t,s){const r=await fetch(`${xd}/cart/items/${t}/update/`,{method:"PUT",headers:await this.getAuthHeaders(),body:JSON.stringify({quantity:s})});if(!r.ok)throw new Error("Failed to update cart item");return(await r.json()).cart}async removeFromCart(t){const s=await fetch(`${xd}/cart/items/${t}/remove/`,{method:"DELETE",headers:await this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to remove item from cart");return(await s.json()).cart}async clearCart(){if(!(await fetch(`${xd}/cart/clear/`,{method:"DELETE",headers:await this.getAuthHeaders()})).ok)throw new Error("Failed to clear cart")}}const yd=new CB,PP=j.createContext(void 0),EB=({children:e})=>{const[t,s]=j.useState(null),[r,i]=j.useState(!1),{toast:a}=cn(),o=async()=>{try{if(!await Te.getToken())return;i(!0);const u=await yd.getCart();s(u)}catch(m){m.message.includes("not authenticated")||console.error("Failed to fetch cart:",m)}finally{i(!1)}},c=async(m,u=1)=>{try{if(!await Te.getToken()){a({title:"Login Required",description:"Please login to add items to cart",variant:"destructive"});return}const x=await yd.addToCart(m,u);s(x),a({title:"Success",description:"Item added to cart"})}catch{a({title:"Error",description:"Failed to add item to cart",variant:"destructive"})}},d=async(m,u)=>{try{const p=await yd.updateCartItem(m,u);s(p)}catch{a({title:"Error",description:"Failed to update item quantity",variant:"destructive"})}},h=async m=>{try{const u=await yd.removeFromCart(m);s(u),a({title:"Success",description:"Item removed from cart"})}catch{a({title:"Error",description:"Failed to remove item",variant:"destructive"})}},f=async()=>{try{await yd.clearCart(),s({...t,items:[],total_items:0,subtotal:0}),a({title:"Success",description:"Cart cleared"})}catch{a({title:"Error",description:"Failed to clear cart",variant:"destructive"})}};return j.useEffect(()=>{(async()=>{await Te.getToken()&&o()})()},[]),n.jsx(PP.Provider,{value:{cart:t,loading:r,addToCart:c,updateCartItem:d,removeFromCart:h,clearCart:f,fetchCart:o},children:e})},ur=()=>{const e=j.useContext(PP);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},PB=({children:e})=>{const{dispatch:t}=sa(),[s,r]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{await Te.isAuthenticated()&&(await Te.isSessionValid()||await Te.clearAuth())}catch(a){console.error("Auth initialization failed:",a)}finally{r(!0)}})()},[t]),s?n.jsx(n.Fragment,{children:e}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})},Hr=({children:e})=>{const t=nt(),[s,r]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const a=await Te.isAuthenticated();r(a),a||t("/login")}catch(a){console.error("Auth check failed:",a),r(!1),t("/login")}})()},[t]),s===null?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?n.jsx(n.Fragment,{children:e}):null},Wa="/assets/ezeywaylogo.png";function TB(){const e=nt();return j.useEffect(()=>{(async()=>{try{const{simplePersistentAuth:s}=await et(async()=>{const{simplePersistentAuth:c}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:c}},[]);if(await s.isVendorLoggedIn()){console.log(" Vendor already logged in, redirecting to dashboard"),e("/vendor/dashboard");return}const{authService:i}=await et(async()=>{const{authService:c}=await Promise.resolve().then(()=>Nu);return{authService:c}},void 0),a=await i.isAuthenticated(),o=await i.getUser();if(a&&o&&o.user_type==="customer"){console.log(" Customer already logged in, redirecting to home"),e("/home");return}console.log(" No authentication found, redirecting to home"),e("/home")}catch(s){console.error("Error checking authentication:",s),e("/home")}})()},[e]),n.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-32 h-32 mx-auto animate-pulse object-contain"}),n.jsx("div",{className:"mt-4",children:n.jsxs("div",{className:"flex justify-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})}const AB=Uu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"gradient-primary text-primary-foreground font-semibold shadow-brand hover:scale-105 transition-bounce",accent:"gradient-accent text-accent-foreground font-semibold shadow-brand hover:scale-105 transition-bounce",premium:"bg-primary-dark text-primary-foreground border border-primary-light/20 shadow-lg hover:bg-primary hover:shadow-brand transition-smooth"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=j.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},a)=>{const o=r?SI:"button";return n.jsx(o,{className:Ve(AB({variant:t,size:s,className:e})),ref:a,...i})});te.displayName="Button";const me=j.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));me.displayName="Input";const kb=async(e=!0,t=!1)=>{const s={"ngrok-skip-browser-warning":"true","x-ngrok-skip-browser-warning":"true"};if(t||(s["Content-Type"]="application/json"),e){const r=await Te.getToken();r&&(s.Authorization=`Token ${r}`)}return s},Fe=async(e,t={},s=!0)=>{var o,c,d,h;const r=`${As.BASE_URL}${e.startsWith("/")?e:`/${e}`}`,i=t.body instanceof FormData,a={headers:await kb(s,i),...t};if(console.log(" API Request:",e,"Auth:",s),e.includes("switch-role")||e.includes("switch")){console.log(" SWITCH ROLE REQUEST DETECTED!"),console.log(" Full URL:",r),console.log(" Include Auth:",s),console.log(" Request Headers:",JSON.stringify(a.headers,null,2));const{authService:f}=await et(async()=>{const{authService:x}=await Promise.resolve().then(()=>Nu);return{authService:x}},void 0),m=await f.getToken();console.log(" Token from authService:",m?`${m.substring(0,10)}...`:"NO TOKEN");const u=typeof localStorage<"u"?localStorage.getItem("token"):"NO LOCALSTORAGE";console.log(" localStorage token:",u?`${u.substring(0,10)}...`:"NO TOKEN IN LOCALSTORAGE");const p=((o=a.headers)==null?void 0:o.Authorization)||((c=a.headers)==null?void 0:c.authorization);console.log(" Authorization header:",p?`${p.substring(0,15)}...`:"NO AUTH HEADER")}t.headers&&(a.headers={...a.headers,...t.headers},i&&a.headers["Content-Type"]&&delete a.headers["Content-Type"]);try{const f=await fetch(r,a),m=f.clone(),u=f.headers.get("content-type");if(u&&u.includes("application/json"))try{const p=await f.json();return{response:m,data:p}}catch(p){return console.warn("Failed to parse JSON response:",p),{response:m,data:null}}else return console.warn("API returned non-JSON response:",f.status,f.statusText),{response:m,data:null}}catch(f){if(console.error("API request failed:",f),r.includes("ngrok-free.app")&&((d=f.message)!=null&&d.includes("Unable to resolve host")||(h=f.message)!=null&&h.includes("UnknownHostException"))){console.log("Ngrok failed, trying fallback URLs...");for(let m=1;m<Hx.length;m++){const p=`${Hx[m]}${e.startsWith("/")?e:`/${e}`}`;try{console.log(`Trying fallback URL: ${p}`);const x=await fetch(p,{...a,headers:{...a.headers,"ngrok-skip-browser-warning":void 0,"x-ngrok-skip-browser-warning":void 0}}),v=x.clone(),w=x.headers.get("content-type");if(w&&w.includes("application/json"))try{const b=await x.json();return console.log(`Fallback URL ${p} succeeded`),{response:v,data:b}}catch{return console.log(`Fallback URL ${p} succeeded (non-JSON)`),{response:v,data:null}}else return console.log(`Fallback URL ${p} succeeded (non-JSON)`),{response:v,data:null}}catch(x){console.error(`Fallback URL ${p} failed:`,x);continue}}}throw f}},ai=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:Fe,createApiHeaders:kb},Symbol.toStringTag,{value:"Module"}));function TP({currentType:e}){const t=nt(),s=na(),r=()=>{t(e==="customer"?"/vendor/login":"/login",{state:s.state})};return n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-xl text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 transition-all shadow-lg border border-white/20",children:e==="customer"?n.jsxs(n.Fragment,{children:[n.jsx(Ss,{className:"h-4 w-4"}),"Vendor Login"]}):n.jsxs(n.Fragment,{children:[n.jsx(Er,{className:"h-4 w-4"}),"Customer Login"]})})})}function OB(){const e=nt(),t=na(),{login:s}=sa(),[r,i]=j.useState("password"),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(!1),[p,x]=j.useState(!1),[v,w]=j.useState(!1),[b,y]=j.useState("");j.useEffect(()=>{(async()=>{try{await Te.isAuthenticated()&&(await Te.isSessionValid()||await Te.clearAuth())}catch(O){console.error("Session check failed:",O)}})()},[]);const _=async()=>{var C,O;w(!0),y("");try{await Te.clearAuth();const{response:A,data:k}=await Fe("/login/",{method:"POST",body:JSON.stringify({username:a,password:c})},!1);if(!A.ok)throw new Error((k==null?void 0:k.error)||"Login failed");if(k.user&&k.token){const R={...k.user,available_roles:k.available_roles||["customer"],user_type:k.user.user_type||"customer"};await s(R,k.token);const P=((O=(C=t.state)==null?void 0:C.from)==null?void 0:O.pathname)||"/home";e(P,{replace:!0})}else throw new Error("Invalid login response")}catch(A){y(A.message)}finally{w(!1)}},N=async()=>{w(!0),y("");try{const{response:C,data:O}=await Fe("/send-otp/",{method:"POST",body:JSON.stringify({email:a})},!1);if(!C.ok)throw new Error((O==null?void 0:O.error)||"Failed to send OTP");x(!0),y("OTP sent successfully")}catch(C){y(C.message)}finally{w(!1)}},E=async()=>{var C,O;w(!0),y("");try{const{response:A,data:k}=await Fe("/verify-otp/",{method:"POST",body:JSON.stringify({email:a,otp:h})},!1);if(!A.ok)throw new Error((k==null?void 0:k.error)||"OTP verification failed");if(k.user&&k.token){const P={...k.user,available_roles:k.available_roles||["customer"],user_type:k.user.user_type||"customer"};await s(P,k.token)}const R=((O=(C=t.state)==null?void 0:C.from)==null?void 0:O.pathname)||"/home";e(R,{replace:!0})}catch(A){y(A.message)}finally{w(!1)}},I=()=>{e("/signup")};return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4 relative",children:[n.jsx(TP,{currentType:"customer"}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("div",{className:"w-full max-w-80 mx-auto px-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"text-center",children:n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-16 h-16 mx-auto mb-6"})}),n.jsx("div",{className:"text-center mb-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-700 bg-blue-50 px-3 py-1 rounded-full",children:"Customer Login"})}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"flex space-x-8",children:[n.jsx("button",{onClick:()=>i("password"),className:`pb-2 text-sm font-medium transition-colors ${r==="password"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Password"}),n.jsx("button",{onClick:()=>i("otp"),className:`pb-2 text-sm font-medium transition-colors ${r==="otp"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"OTP"})]})}),r==="password"&&n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(me,{type:"text",value:a,onChange:C=>o(C.target.value),placeholder:"Phone Number or Email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{type:m?"text":"password",value:c,onChange:C=>d(C.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),n.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),b&&n.jsx("p",{className:"text-red-600 text-center",children:b}),n.jsx(te,{onClick:_,disabled:!a||!c||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Logging in...":"Login"})]}),r==="otp"&&n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(me,{type:"text",value:a,onChange:C=>o(C.target.value),placeholder:"Enter your phone number or email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),b&&n.jsx("p",{className:"text-red-600 text-center",children:b}),p?n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx(me,{type:"text",value:h,onChange:C=>f(C.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),n.jsx(te,{onClick:E,disabled:h.length!==6||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Verifying...":"Verify & Login"}),n.jsx("button",{onClick:N,disabled:v,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}):n.jsx(te,{onClick:N,disabled:!a||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Sending...":"Send OTP"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:I,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Don't have an account? Sign up"})})]})})})]})}const LB=Uu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:e,variant:t,...s}){return n.jsx("div",{className:Ve(LB({variant:t}),e),...s})}let rv=null;const RB=async()=>{if(!rv){const{notificationService:e}=await et(async()=>{const{notificationService:t}=await Promise.resolve().then(()=>AP);return{notificationService:t}},void 0);rv=e}return rv};class MB{async getConversations(){try{const{response:t,data:s}=await Fe("/api/messaging/conversations/");return t.ok?Array.isArray(s)?s:(s==null?void 0:s.results)||[]:[]}catch{return[]}}async getMessages(t){try{const{response:s,data:r}=await Fe(`/api/messaging/conversations/${t}/messages/`);return s.ok?(console.log("Messages API response:",r),Array.isArray(r)?r:(r==null?void 0:r.results)||[]):(console.error(`Messages API error: ${s.status}`),[])}catch(s){return console.error("Messages API error:",s),[]}}async sendMessage(t){try{const s=new FormData;t.conversation_id&&s.append("conversation_id",t.conversation_id.toString()),t.recipient_id&&s.append("recipient_id",t.recipient_id.toString()),s.append("message_type",t.message_type),t.content&&s.append("content",t.content),t.file&&s.append("file",t.file);const{response:r,data:i}=await Fe("/api/messaging/messages/send/",{method:"POST",body:s});if(!r.ok)throw console.error(`Message send failed: ${r.status}`),new Error(`HTTP ${r.status}`);return console.log("Message sent successfully:",i),i}catch{console.warn("Backend not available, simulating message send");const r=await Te.getUser();return{message:{id:Date.now(),sender:{id:(r==null?void 0:r.id)||0,username:(r==null?void 0:r.username)||"You"},message_type:t.message_type,content:t.content,status:"sent",is_pinned:!1,created_at:new Date().toISOString(),is_read:!1}}}}async handleIncomingMessage(t,s){try{(await RB()).showBrowserNotification(`New message from ${s}`,{body:t.content||"New message received",tag:`message-${t.id}`,requireInteraction:!1,data:{actionUrl:"/vendor/messages"}}),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("newMessage",{detail:{message:t,senderName:s}}))}catch(r){console.error("Failed to handle incoming message notification:",r)}}async getOrCreateConversation(t){try{const{response:s,data:r}=await Fe(`/api/messaging/conversations/user/${t}/`);if(!s.ok)throw new Error(`HTTP ${s.status}`);return r||this.createMockConversation(t)}catch{return console.warn("Backend not available, creating mock conversation"),this.createMockConversation(t)}}createMockConversation(t){return{id:t,participants:[],last_message:void 0,unread_count:0,other_participant:{id:t,username:t===1?"EzzeYway Support":`User ${t}`,profile_picture:void 0}}}}const Bs=new MB;typeof window<"u"&&window.addEventListener("message",async e=>{var t,s;if(((t=e.data)==null?void 0:t.type)==="new_message"){const{message:r}=e.data;await Bs.handleIncomingMessage(r,((s=r.sender)==null?void 0:s.username)||"Unknown")}});class IB{constructor(){Ur(this,"audio",null);Ur(this,"isInitialized",!1)}async initialize(){if(!this.isInitialized){if(this.audio=null,"serviceWorker"in navigator&&!vt.isNativePlatform())try{const t=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registered successfully"),navigator.serviceWorker.addEventListener("message",s=>{s.data&&s.data.type==="SHOW_ORDER_MODAL"&&window.dispatchEvent(new CustomEvent("showOrderModal",{detail:s.data.data}))}),document.addEventListener("visibilitychange",()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"VISIBILITY_CHANGE",hidden:document.hidden})}),"sync"in window.ServiceWorkerRegistration.prototype&&t.sync.register("background-sync-orders")}catch(t){console.error("Service Worker registration failed:",t)}!vt.isNativePlatform()&&"Notification"in window&&(Notification.permission==="default"?await Notification.requestPermission()==="granted"?(console.log("Notification permission granted"),this.showTestNotification()):console.warn("Notification permission denied"):Notification.permission==="granted"&&console.log("Notification permission already granted")),console.log("Notification service initialized for:",vt.isNativePlatform()?"mobile":"web"),this.isInitialized=!0}}async initializeMobileNotifications(){try{if(vt.isNativePlatform()){const{LocalNotifications:t}=await et(async()=>{const{LocalNotifications:a}=await import("./index-ClhcSPaY.js");return{LocalNotifications:a}},[]),{PushNotifications:s}=await et(async()=>{const{PushNotifications:a}=await Promise.resolve().then(()=>$4);return{PushNotifications:a}},void 0),{Haptics:r,ImpactStyle:i}=await et(async()=>{const{Haptics:a,ImpactStyle:o}=await import("./index-CIszWtlt.js");return{Haptics:a,ImpactStyle:o}},[]);await t.requestPermissions(),await s.requestPermissions(),await s.register(),s.addListener("pushNotificationReceived",async a=>{console.log("Push notification received:",a),await this.handleMobileOrderNotification(a.data)}),s.addListener("pushNotificationActionPerformed",async a=>{console.log("Push notification tapped:",a);const o=a.notification.data;(o==null?void 0:o.type)==="order"&&(await r.impact({style:i.Heavy}),this.openOrderModal(o))}),t.addListener("localNotificationActionPerformed",async a=>{console.log("Local notification tapped:",a);const o=a.notification.extra;(o==null?void 0:o.type)==="order"&&(await r.impact({style:i.Heavy}),this.openOrderModal(o))})}}catch(t){console.error("Failed to initialize mobile notifications:",t)}}async playNotificationSound(){this.createBeepSound()}createBeepSound(){try{const t=new(window.AudioContext||window.webkitAudioContext);this.playBeep(t,800,.3,.4),setTimeout(()=>this.playBeep(t,1e3,.3,.4),400),setTimeout(()=>this.playBeep(t,1200,.4,.5),800)}catch(t){console.warn("Web Audio API not supported:",t)}}playBeep(t,s,r,i){const a=t.createOscillator(),o=t.createGain();a.connect(o),o.connect(t.destination),a.frequency.value=s,a.type="square",o.gain.setValueAtTime(i,t.currentTime),o.gain.exponentialRampToValueAtTime(.01,t.currentTime+r),a.start(t.currentTime),a.stop(t.currentTime+r)}async showTestNotification(){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const t=new Notification("Notifications Enabled!",{body:"You will now receive order notifications even when the app is in the background.",icon:"/favicon.ico",badge:"/favicon.ico",tag:"test-notification",requireInteraction:!1});setTimeout(()=>t.close(),3e3)}}async showOrderNotification(t,s,r){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const i=new Notification(" New Order Received!",{body:`Order #${t} - ${s}
Tap to view and respond`,icon:"/favicon.ico",tag:`order-${r}`,requireInteraction:!0});i.onclick=()=>{window.focus(),this.openOrderModal({orderId:r,orderNumber:t,amount:s}),i.close()},setTimeout(()=>i.close(),15e3)}vt.isNativePlatform()&&("vibrate"in navigator&&navigator.vibrate([300,100,300,100,500]),this.openOrderModal({orderId:r,orderNumber:t,amount:s}))}async showBrowserNotification(t,s,r,i){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const a=new Notification(t,{body:s,icon:"/favicon.ico",badge:"/favicon.ico",tag:`message-${r}`,requireInteraction:!0,data:{conversationId:r,userType:i}});a.onclick=()=>{window.focus(),this.navigateToConversation(r,i),a.close()},setTimeout(()=>a.close(),1e4)}}async showMobileOrderNotification(t,s,r){if(vt.isNativePlatform())try{const{LocalNotifications:i}=await et(async()=>{const{LocalNotifications:c}=await import("./index-ClhcSPaY.js");return{LocalNotifications:c}},[]),{Haptics:a,ImpactStyle:o}=await et(async()=>{const{Haptics:c,ImpactStyle:d}=await import("./index-CIszWtlt.js");return{Haptics:c,ImpactStyle:d}},[]);await a.impact({style:o.Heavy}),await i.schedule({notifications:[{title:" New Order Received!",body:`Order #${t} - ${s}
Tap to accept/reject`,id:Date.now(),sound:"default",smallIcon:"ic_stat_icon_config_sample",iconColor:"#FF6B35",actionTypeId:"OPEN_ORDER",extra:{type:"order",orderId:r,orderNumber:t,amount:s,autoOpen:!0}}]})}catch(i){console.error("Failed to show mobile order notification:",i)}}async showMobileNotification(t,s,r,i){if(vt.isNativePlatform())try{const{LocalNotifications:a}=await et(async()=>{const{LocalNotifications:o}=await import("./index-ClhcSPaY.js");return{LocalNotifications:o}},[]);await a.schedule({notifications:[{title:t,body:s,id:Date.now(),schedule:{at:new Date(Date.now()+1e3)},sound:"default",attachments:[],actionTypeId:"OPEN_MESSAGE",extra:{conversationId:r,userType:i}}]})}catch(a){console.error("Failed to show mobile notification:",a)}}openOrderModal(t){if(window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t})),vt.isNativePlatform()){const s=window.location.pathname;!s.includes("/vendor/home")&&!s.includes("/vendor/dashboard")&&(window.location.href="/vendor/home")}}async handleMobileOrderNotification(t){try{const{Haptics:s,ImpactStyle:r}=await et(async()=>{const{Haptics:i,ImpactStyle:a}=await import("./index-CIszWtlt.js");return{Haptics:i,ImpactStyle:a}},[]);await s.impact({style:r.Heavy}),await this.playNotificationSound(),this.openOrderModal(t)}catch(s){console.error("Error handling mobile order notification:",s)}}navigateToConversation(t,s){const i={vendor:`/vendor/messages/${t}`,customer:`/messages/${t}`,superadmin:`/accounts/superadmin/messages/${t}/`}[s];i&&(window.location.href=i)}async notifyNewMessage(t,s,r,i){await this.initialize();const a=`New message from ${t}`,o=s.length>50?s.substring(0,50)+"...":s;await this.playNotificationSound(),await this.showBrowserNotification(a,o,r,i),await this.showMobileNotification(a,o,r,i)}async requestPermissions(){return await this.initialize(),!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"}async requestPermission(){return this.requestPermissions()}async getNotifications(){return[]}async getUnreadCount(){return 0}async markAsRead(t){console.log("Marking notification as read:",t)}async markAllAsRead(){console.log("Marking all notifications as read")}async showBrowserNotificationCompat(t,s){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const r=new Notification(t,{body:s.body,icon:"/favicon.ico",tag:s.tag,requireInteraction:s.requireInteraction,data:s.data});r.onclick=()=>{var i;window.focus(),(i=s.data)!=null&&i.actionUrl&&(window.location.href=s.data.actionUrl),r.close()},setTimeout(()=>r.close(),1e4)}}}const Gt=new IB,AP=Object.freeze(Object.defineProperty({__proto__:null,notificationService:Gt},Symbol.toStringTag,{value:"Module"}));function DB(){const[e,t]=j.useState([]),[s,r]=j.useState(0),[i,a]=j.useState(!1),o=async()=>{try{a(!0);const[h,f]=await Promise.all([Gt.getNotifications(),Gt.getUnreadCount()]);t(h),r(f)}catch(h){console.error("Failed to load notifications:",h)}finally{a(!1)}},c=async h=>{try{await Gt.markAsRead(h),r(f=>Math.max(0,f-1)),t(f=>f.map(m=>m.id===h?{...m,read:!0}:m))}catch(f){console.error("Failed to mark notification as read:",f)}},d=async()=>{try{await Gt.markAllAsRead(),r(0),t(h=>h.map(f=>({...f,read:!0})))}catch(h){console.error("Failed to mark all notifications as read:",h)}};return j.useEffect(()=>{o();const h=setInterval(o,1e4);return()=>clearInterval(h)},[]),j.useEffect(()=>{Gt.requestPermission()},[]),{notifications:e,unreadCount:s,isLoading:i,markAsRead:c,markAllAsRead:d,refreshNotifications:o}}var FB=j.createContext(void 0);function Fc(e){const t=j.useContext(FB);return e||t||"ltr"}var iv=0;function Cb(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q1()),document.body.insertAdjacentElement("beforeend",e[1]??q1()),iv++,()=>{iv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),iv--}},[])}function q1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var av="focusScope.autoFocusOnMount",ov="focusScope.autoFocusOnUnmount",H1={bubbles:!1,cancelable:!0},$B="FocusScope",gp=j.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[c,d]=j.useState(null),h=pn(i),f=pn(a),m=j.useRef(null),u=dt(t,v=>d(v)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let v=function(_){if(p.paused||!c)return;const N=_.target;c.contains(N)?m.current=N:fa(m.current,{select:!0})},w=function(_){if(p.paused||!c)return;const N=_.relatedTarget;N!==null&&(c.contains(N)||fa(m.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&fa(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),y.disconnect()}}},[r,c,p.paused]),j.useEffect(()=>{if(c){Z1.add(p);const v=document.activeElement;if(!c.contains(v)){const b=new CustomEvent(av,H1);c.addEventListener(av,h),c.dispatchEvent(b),b.defaultPrevented||(BB(HB(OP(c)),{select:!0}),document.activeElement===v&&fa(c))}return()=>{c.removeEventListener(av,h),setTimeout(()=>{const b=new CustomEvent(ov,H1);c.addEventListener(ov,f),c.dispatchEvent(b),b.defaultPrevented||fa(v??document.body,{select:!0}),c.removeEventListener(ov,f),Z1.remove(p)},0)}}},[c,h,f,p]);const x=j.useCallback(v=>{if(!s&&!r||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(w&&b){const y=v.currentTarget,[_,N]=zB(y);_&&N?!v.shiftKey&&b===N?(v.preventDefault(),s&&fa(_,{select:!0})):v.shiftKey&&b===_&&(v.preventDefault(),s&&fa(N,{select:!0})):b===y&&v.preventDefault()}},[s,r,p.paused]);return n.jsx(We.div,{tabIndex:-1,...o,ref:u,onKeyDown:x})});gp.displayName=$B;function BB(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(fa(r,{select:t}),document.activeElement!==s)return}function zB(e){const t=OP(e),s=W1(t,e),r=W1(t.reverse(),e);return[s,r]}function OP(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function W1(e,t){for(const s of e)if(!VB(s,{upTo:t}))return s}function VB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function UB(e){return e instanceof HTMLInputElement&&"select"in e}function fa(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&UB(e)&&t&&e.select()}}var Z1=qB();function qB(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=G1(e,t),e.unshift(t)},remove(t){var s;e=G1(e,t),(s=e[0])==null||s.resume()}}}function G1(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function HB(e){return e.filter(t=>t.tagName!=="A")}var lv="rovingFocusGroup.onEntryFocus",WB={bubbles:!1,cancelable:!0},Gu="RovingFocusGroup",[Wx,LP,ZB]=Qm(Gu),[GB,$c]=ls(Gu,[ZB]),[KB,YB]=GB(Gu),RP=j.forwardRef((e,t)=>n.jsx(Wx.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Wx.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(XB,{...e,ref:t})})}));RP.displayName=Gu;var XB=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...m}=e,u=j.useRef(null),p=dt(t,u),x=Fc(a),[v,w]=Lr({prop:o,defaultProp:c??null,onChange:d,caller:Gu}),[b,y]=j.useState(!1),_=pn(h),N=LP(s),E=j.useRef(!1),[I,C]=j.useState(0);return j.useEffect(()=>{const O=u.current;if(O)return O.addEventListener(lv,_),()=>O.removeEventListener(lv,_)},[_]),n.jsx(KB,{scope:s,orientation:r,dir:x,loop:i,currentTabStopId:v,onItemFocus:j.useCallback(O=>w(O),[w]),onItemShiftTab:j.useCallback(()=>y(!0),[]),onFocusableItemAdd:j.useCallback(()=>C(O=>O+1),[]),onFocusableItemRemove:j.useCallback(()=>C(O=>O-1),[]),children:n.jsx(We.div,{tabIndex:b||I===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{E.current=!0}),onFocus:Le(e.onFocus,O=>{const A=!E.current;if(O.target===O.currentTarget&&A&&!b){const k=new CustomEvent(lv,WB);if(O.currentTarget.dispatchEvent(k),!k.defaultPrevented){const R=N().filter(W=>W.focusable),P=R.find(W=>W.active),T=R.find(W=>W.id===v),H=[P,T,...R].filter(Boolean).map(W=>W.ref.current);DP(H,f)}}E.current=!1}),onBlur:Le(e.onBlur,()=>y(!1))})})}),MP="RovingFocusGroupItem",IP=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...c}=e,d=Ar(),h=a||d,f=YB(MP,s),m=f.currentTabStopId===h,u=LP(s),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:v}=f;return j.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),n.jsx(Wx.ItemSlot,{scope:s,id:h,focusable:r,active:i,children:n.jsx(We.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:Le(e.onMouseDown,w=>{r?f.onItemFocus(h):w.preventDefault()}),onFocus:Le(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:Le(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=ez(w,f.orientation,f.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=u().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const N=_.indexOf(w.currentTarget);_=f.loop?tz(_,N+1):_.slice(N+1)}setTimeout(()=>DP(_))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:v!=null}):o})})});IP.displayName=MP;var QB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ez(e,t,s){const r=JB(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QB[r]}function DP(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function tz(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var Eb=RP,Pb=IP,nz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},hl=new WeakMap,qh=new WeakMap,Hh={},cv=0,FP=function(e){return e&&(e.host||FP(e.parentNode))},sz=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=FP(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},rz=function(e,t,s,r){var i=sz(t,Array.isArray(e)?e:[e]);Hh[s]||(Hh[s]=new WeakMap);var a=Hh[s],o=[],c=new Set,d=new Set(i),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};i.forEach(h);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(u){if(c.has(u))f(u);else try{var p=u.getAttribute(r),x=p!==null&&p!=="false",v=(hl.get(u)||0)+1,w=(a.get(u)||0)+1;hl.set(u,v),a.set(u,w),o.push(u),v===1&&x&&qh.set(u,!0),w===1&&u.setAttribute(s,"true"),x||u.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",u,b)}})};return f(t),c.clear(),cv++,function(){o.forEach(function(m){var u=hl.get(m)-1,p=a.get(m)-1;hl.set(m,u),a.set(m,p),u||(qh.has(m)||m.removeAttribute(r),qh.delete(m)),p||m.removeAttribute(s)}),cv--,cv||(hl=new WeakMap,hl=new WeakMap,qh=new WeakMap,Hh={})}},Tb=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=nz(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),rz(r,i,s,"aria-hidden")):function(){return null}},Jr=function(){return Jr=Object.assign||function(t){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Jr.apply(this,arguments)};function $P(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s}function iz(e,t,s){if(s||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var gf="right-scroll-bar-position",vf="width-before-scroll-bar",az="with-scroll-bars-hidden",oz="--removed-body-scroll-bar-size";function dv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lz(e,t){var s=j.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var i=s.value;i!==r&&(s.value=r,s.callback(r,i))}}}})[0];return s.callback=t,s.facade}var cz=typeof window<"u"?j.useLayoutEffect:j.useEffect,K1=new WeakMap;function dz(e,t){var s=lz(null,function(r){return e.forEach(function(i){return dv(i,r)})});return cz(function(){var r=K1.get(s);if(r){var i=new Set(r),a=new Set(e),o=s.current;i.forEach(function(c){a.has(c)||dv(c,null)}),a.forEach(function(c){i.has(c)||dv(c,o)})}K1.set(s,e)},[e]),s}function uz(e){return e}function hz(e,t){t===void 0&&(t=uz);var s=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(a){var o=t(a,r);return s.push(o),function(){s=s.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(r=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(c){return a(c)},filter:function(){return s}}},assignMedium:function(a){r=!0;var o=[];if(s.length){var c=s;s=[],c.forEach(a),o=s}var d=function(){var f=o;o=[],f.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),s={push:function(f){o.push(f),h()},filter:function(f){return o=o.filter(f),s}}}};return i}function fz(e){e===void 0&&(e={});var t=hz(null);return t.options=Jr({async:!0,ssr:!1},e),t}var BP=function(e){var t=e.sideCar,s=$P(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Jr({},s))};BP.isSideCarExport=!0;function mz(e,t){return e.useMedium(t),BP}var zP=fz(),uv=function(){},vp=j.forwardRef(function(e,t){var s=j.useRef(null),r=j.useState({onScrollCapture:uv,onWheelCapture:uv,onTouchMoveCapture:uv}),i=r[0],a=r[1],o=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,f=e.enabled,m=e.shards,u=e.sideCar,p=e.noRelative,x=e.noIsolation,v=e.inert,w=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,_=e.gapMode,N=$P(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=u,I=dz([s,t]),C=Jr(Jr({},N),i);return j.createElement(j.Fragment,null,f&&j.createElement(E,{sideCar:zP,removeScrollBar:h,shards:m,noRelative:p,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!w,lockRef:s,gapMode:_}),o?j.cloneElement(j.Children.only(c),Jr(Jr({},C),{ref:I})):j.createElement(y,Jr({},C,{className:d,ref:I}),c))});vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vp.classNames={fullWidth:vf,zeroRight:gf};var pz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pz();return t&&e.setAttribute("nonce",t),e}function vz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yz=function(){var e=0,t=null;return{add:function(s){e==0&&(t=gz())&&(vz(t,s),xz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bz=function(){var e=yz();return function(t,s){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},VP=function(){var e=bz(),t=function(s){var r=s.styles,i=s.dynamic;return e(r,i),null};return t},wz={left:0,top:0,right:0,gap:0},hv=function(e){return parseInt(e||"",10)||0},jz=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[hv(s),hv(r),hv(i)]},_z=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wz;var t=jz(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},Nz=VP(),Gl="data-scroll-locked",Sz=function(e,t,s,r){var i=e.left,a=e.top,o=e.right,c=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(az,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Gl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gl,`] {
    `).concat(oz,": ").concat(c,`px;
  }
`)},Y1=function(){var e=parseInt(document.body.getAttribute(Gl)||"0",10);return isFinite(e)?e:0},kz=function(){j.useEffect(function(){return document.body.setAttribute(Gl,(Y1()+1).toString()),function(){var e=Y1()-1;e<=0?document.body.removeAttribute(Gl):document.body.setAttribute(Gl,e.toString())}},[])},Cz=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;kz();var a=j.useMemo(function(){return _z(i)},[i]);return j.createElement(Nz,{styles:Sz(a,!t,i,s?"":"!important")})},Zx=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return Zx=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{Zx=!1}var fl=Zx?{passive:!1}:!1,Ez=function(e){return e.tagName==="TEXTAREA"},UP=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!Ez(e)&&s[t]==="visible")},Pz=function(e){return UP(e,"overflowY")},Tz=function(e){return UP(e,"overflowX")},X1=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=qP(e,r);if(i){var a=HP(e,r),o=a[1],c=a[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},Az=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},Oz=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},qP=function(e,t){return e==="v"?Pz(t):Tz(t)},HP=function(e,t){return e==="v"?Az(t):Oz(t)},Lz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Rz=function(e,t,s,r,i){var a=Lz(e,window.getComputedStyle(t).direction),o=a*r,c=s.target,d=t.contains(c),h=!1,f=o>0,m=0,u=0;do{if(!c)break;var p=HP(e,c),x=p[0],v=p[1],w=p[2],b=v-w-a*x;(x||b)&&qP(e,c)&&(m+=b,u+=x);var y=c.parentNode;c=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(f&&(Math.abs(m)<1||!i)||!f&&(Math.abs(u)<1||!i))&&(h=!0),h},Zh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Q1=function(e){return[e.deltaX,e.deltaY]},J1=function(e){return e&&"current"in e?e.current:e},Mz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Iz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Dz=0,ml=[];function Fz(e){var t=j.useRef([]),s=j.useRef([0,0]),r=j.useRef(),i=j.useState(Dz++)[0],a=j.useState(VP)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=iz([e.lockRef.current],(e.shards||[]).map(J1),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=j.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=Zh(v),y=s.current,_="deltaX"in v?v.deltaX:y[0]-b[0],N="deltaY"in v?v.deltaY:y[1]-b[1],E,I=v.target,C=Math.abs(_)>Math.abs(N)?"h":"v";if("touches"in v&&C==="h"&&I.type==="range")return!1;var O=X1(C,I);if(!O)return!0;if(O?E=C:(E=C==="v"?"h":"v",O=X1(C,I)),!O)return!1;if(!r.current&&"changedTouches"in v&&(_||N)&&(r.current=E),!E)return!0;var A=r.current||E;return Rz(A,w,v,A==="h"?_:N,!0)},[]),d=j.useCallback(function(v){var w=v;if(!(!ml.length||ml[ml.length-1]!==a)){var b="deltaY"in w?Q1(w):Zh(w),y=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&Mz(E.delta,b)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var _=(o.current.shards||[]).map(J1).filter(Boolean).filter(function(E){return E.contains(w.target)}),N=_.length>0?c(w,_[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),h=j.useCallback(function(v,w,b,y){var _={name:v,delta:w,target:b,should:y,shadowParent:$z(b)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(N){return N!==_})},1)},[]),f=j.useCallback(function(v){s.current=Zh(v),r.current=void 0},[]),m=j.useCallback(function(v){h(v.type,Q1(v),v.target,c(v,e.lockRef.current))},[]),u=j.useCallback(function(v){h(v.type,Zh(v),v.target,c(v,e.lockRef.current))},[]);j.useEffect(function(){return ml.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:u}),document.addEventListener("wheel",d,fl),document.addEventListener("touchmove",d,fl),document.addEventListener("touchstart",f,fl),function(){ml=ml.filter(function(v){return v!==a}),document.removeEventListener("wheel",d,fl),document.removeEventListener("touchmove",d,fl),document.removeEventListener("touchstart",f,fl)}},[]);var p=e.removeScrollBar,x=e.inert;return j.createElement(j.Fragment,null,x?j.createElement(a,{styles:Iz(i)}):null,p?j.createElement(Cz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $z(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Bz=mz(zP,Fz);var xp=j.forwardRef(function(e,t){return j.createElement(vp,Jr({},e,{ref:t,sideCar:Bz}))});xp.classNames=vp.classNames;var Gx=["Enter"," "],zz=["ArrowDown","PageUp","Home"],WP=["ArrowUp","PageDown","End"],Vz=[...zz,...WP],Uz={ltr:[...Gx,"ArrowRight"],rtl:[...Gx,"ArrowLeft"]},qz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ku="Menu",[Su,Hz,Wz]=Qm(Ku),[el,ZP]=ls(Ku,[Wz,Ic,$c]),yp=Ic(),GP=$c(),[Zz,tl]=el(Ku),[Gz,Yu]=el(Ku),KP=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,c=yp(t),[d,h]=j.useState(null),f=j.useRef(!1),m=pn(a),u=Fc(i);return j.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(pb,{...c,children:n.jsx(Zz,{scope:t,open:s,onOpenChange:m,content:d,onContentChange:h,children:n.jsx(Gz,{scope:t,onClose:j.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:u,modal:o,children:r})})})};KP.displayName=Ku;var Kz="MenuAnchor",Ab=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,i=yp(s);return n.jsx(gb,{...i,...r,ref:t})});Ab.displayName=Kz;var Ob="MenuPortal",[Yz,YP]=el(Ob,{forceMount:void 0}),XP=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:i}=e,a=tl(Ob,t);return n.jsx(Yz,{scope:t,forceMount:s,children:n.jsx(Gn,{present:s||a.open,children:n.jsx(zu,{asChild:!0,container:i,children:r})})})};XP.displayName=Ob;var ar="MenuContent",[Xz,Lb]=el(ar),QP=j.forwardRef((e,t)=>{const s=YP(ar,e.__scopeMenu),{forceMount:r=s.forceMount,...i}=e,a=tl(ar,e.__scopeMenu),o=Yu(ar,e.__scopeMenu);return n.jsx(Su.Provider,{scope:e.__scopeMenu,children:n.jsx(Gn,{present:r||a.open,children:n.jsx(Su.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Qz,{...i,ref:t}):n.jsx(Jz,{...i,ref:t})})})})}),Qz=j.forwardRef((e,t)=>{const s=tl(ar,e.__scopeMenu),r=j.useRef(null),i=dt(t,r);return j.useEffect(()=>{const a=r.current;if(a)return Tb(a)},[]),n.jsx(Rb,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),Jz=j.forwardRef((e,t)=>{const s=tl(ar,e.__scopeMenu);return n.jsx(Rb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),eV=qo("MenuContent.ScrollLock"),Rb=j.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:u,onDismiss:p,disableOutsideScroll:x,...v}=e,w=tl(ar,s),b=Yu(ar,s),y=yp(s),_=GP(s),N=Hz(s),[E,I]=j.useState(null),C=j.useRef(null),O=dt(t,C,w.onContentChange),A=j.useRef(0),k=j.useRef(""),R=j.useRef(0),P=j.useRef(null),T=j.useRef("right"),M=j.useRef(0),H=x?xp:j.Fragment,W=x?{as:eV,allowPinchZoom:!0}:void 0,Z=q=>{var U,ne;const F=k.current+q,$=N().filter(se=>!se.disabled),z=document.activeElement,G=(U=$.find(se=>se.ref.current===z))==null?void 0:U.textValue,X=$.map(se=>se.textValue),J=hV(X,F,G),K=(ne=$.find(se=>se.textValue===J))==null?void 0:ne.ref.current;(function se(le){k.current=le,window.clearTimeout(A.current),le!==""&&(A.current=window.setTimeout(()=>se(""),1e3))})(F),K&&setTimeout(()=>K.focus())};j.useEffect(()=>()=>window.clearTimeout(A.current),[]),Cb();const B=j.useCallback(q=>{var $,z;return T.current===(($=P.current)==null?void 0:$.side)&&mV(q,(z=P.current)==null?void 0:z.area)},[]);return n.jsx(Xz,{scope:s,searchRef:k,onItemEnter:j.useCallback(q=>{B(q)&&q.preventDefault()},[B]),onItemLeave:j.useCallback(q=>{var F;B(q)||((F=C.current)==null||F.focus(),I(null))},[B]),onTriggerLeave:j.useCallback(q=>{B(q)&&q.preventDefault()},[B]),pointerGraceTimerRef:R,onPointerGraceIntentChange:j.useCallback(q=>{P.current=q},[]),children:n.jsx(H,{...W,children:n.jsx(gp,{asChild:!0,trapped:i,onMountAutoFocus:Le(a,q=>{var F;q.preventDefault(),(F=C.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:u,onDismiss:p,children:n.jsx(Eb,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:I,onEntryFocus:Le(d,q=>{b.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(vb,{role:"menu","aria-orientation":"vertical","data-state":mT(w.open),"data-radix-menu-content":"",dir:b.dir,...y,...v,ref:O,style:{outline:"none",...v.style},onKeyDown:Le(v.onKeyDown,q=>{const $=q.target.closest("[data-radix-menu-content]")===q.currentTarget,z=q.ctrlKey||q.altKey||q.metaKey,G=q.key.length===1;$&&(q.key==="Tab"&&q.preventDefault(),!z&&G&&Z(q.key));const X=C.current;if(q.target!==X||!Vz.includes(q.key))return;q.preventDefault();const K=N().filter(U=>!U.disabled).map(U=>U.ref.current);WP.includes(q.key)&&K.reverse(),dV(K)}),onBlur:Le(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(A.current),k.current="")}),onPointerMove:Le(e.onPointerMove,ku(q=>{const F=q.target,$=M.current!==q.clientX;if(q.currentTarget.contains(F)&&$){const z=q.clientX>M.current?"right":"left";T.current=z,M.current=q.clientX}}))})})})})})})});QP.displayName=ar;var tV="MenuGroup",Mb=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(We.div,{role:"group",...r,ref:t})});Mb.displayName=tV;var nV="MenuLabel",JP=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(We.div,{...r,ref:t})});JP.displayName=nV;var rm="MenuItem",eN="menu.itemSelect",bp=j.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...i}=e,a=j.useRef(null),o=Yu(rm,e.__scopeMenu),c=Lb(rm,e.__scopeMenu),d=dt(t,a),h=j.useRef(!1),f=()=>{const m=a.current;if(!s&&m){const u=new CustomEvent(eN,{bubbles:!0,cancelable:!0});m.addEventListener(eN,p=>r==null?void 0:r(p),{once:!0}),Y0(m,u),u.defaultPrevented?h.current=!1:o.onClose()}};return n.jsx(eT,{...i,ref:d,disabled:s,onClick:Le(e.onClick,f),onPointerDown:m=>{var u;(u=e.onPointerDown)==null||u.call(e,m),h.current=!0},onPointerUp:Le(e.onPointerUp,m=>{var u;h.current||(u=m.currentTarget)==null||u.click()}),onKeyDown:Le(e.onKeyDown,m=>{const u=c.searchRef.current!=="";s||u&&m.key===" "||Gx.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});bp.displayName=rm;var eT=j.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:i,...a}=e,o=Lb(rm,s),c=GP(s),d=j.useRef(null),h=dt(t,d),[f,m]=j.useState(!1),[u,p]=j.useState("");return j.useEffect(()=>{const x=d.current;x&&p((x.textContent??"").trim())},[a.children]),n.jsx(Su.ItemSlot,{scope:s,disabled:r,textValue:i??u,children:n.jsx(Pb,{asChild:!0,...c,focusable:!r,children:n.jsx(We.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:Le(e.onPointerMove,ku(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(e.onPointerLeave,ku(x=>o.onItemLeave(x))),onFocus:Le(e.onFocus,()=>m(!0)),onBlur:Le(e.onBlur,()=>m(!1))})})})}),sV="MenuCheckboxItem",tT=j.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...i}=e;return n.jsx(aT,{scope:e.__scopeMenu,checked:s,children:n.jsx(bp,{role:"menuitemcheckbox","aria-checked":im(s)?"mixed":s,...i,ref:t,"data-state":Db(s),onSelect:Le(i.onSelect,()=>r==null?void 0:r(im(s)?!0:!s),{checkForDefaultPrevented:!1})})})});tT.displayName=sV;var nT="MenuRadioGroup",[rV,iV]=el(nT,{value:void 0,onValueChange:()=>{}}),sT=j.forwardRef((e,t)=>{const{value:s,onValueChange:r,...i}=e,a=pn(r);return n.jsx(rV,{scope:e.__scopeMenu,value:s,onValueChange:a,children:n.jsx(Mb,{...i,ref:t})})});sT.displayName=nT;var rT="MenuRadioItem",iT=j.forwardRef((e,t)=>{const{value:s,...r}=e,i=iV(rT,e.__scopeMenu),a=s===i.value;return n.jsx(aT,{scope:e.__scopeMenu,checked:a,children:n.jsx(bp,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Db(a),onSelect:Le(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,s)},{checkForDefaultPrevented:!1})})})});iT.displayName=rT;var Ib="MenuItemIndicator",[aT,aV]=el(Ib,{checked:!1}),oT=j.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...i}=e,a=aV(Ib,s);return n.jsx(Gn,{present:r||im(a.checked)||a.checked===!0,children:n.jsx(We.span,{...i,ref:t,"data-state":Db(a.checked)})})});oT.displayName=Ib;var oV="MenuSeparator",lT=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});lT.displayName=oV;var lV="MenuArrow",cT=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,i=yp(s);return n.jsx(xb,{...i,...r,ref:t})});cT.displayName=lV;var cV="MenuSub",[xse,dT]=el(cV),Td="MenuSubTrigger",uT=j.forwardRef((e,t)=>{const s=tl(Td,e.__scopeMenu),r=Yu(Td,e.__scopeMenu),i=dT(Td,e.__scopeMenu),a=Lb(Td,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:e.__scopeMenu},f=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>f,[f]),j.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),n.jsx(Ab,{asChild:!0,...h,children:n.jsx(eT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":mT(s.open),...e,ref:Xm(t,i.onTriggerChange),onClick:m=>{var u;(u=e.onClick)==null||u.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Le(e.onPointerMove,ku(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),f()},100))})),onPointerLeave:Le(e.onPointerLeave,ku(m=>{var p,x;f();const u=(p=s.content)==null?void 0:p.getBoundingClientRect();if(u){const v=(x=s.content)==null?void 0:x.dataset.side,w=v==="right",b=w?-5:5,y=u[w?"left":"right"],_=u[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+b,y:m.clientY},{x:y,y:u.top},{x:_,y:u.top},{x:_,y:u.bottom},{x:y,y:u.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Le(e.onKeyDown,m=>{var p;const u=a.searchRef.current!=="";e.disabled||u&&m.key===" "||Uz[r.dir].includes(m.key)&&(s.onOpenChange(!0),(p=s.content)==null||p.focus(),m.preventDefault())})})})});uT.displayName=Td;var hT="MenuSubContent",fT=j.forwardRef((e,t)=>{const s=YP(ar,e.__scopeMenu),{forceMount:r=s.forceMount,...i}=e,a=tl(ar,e.__scopeMenu),o=Yu(ar,e.__scopeMenu),c=dT(hT,e.__scopeMenu),d=j.useRef(null),h=dt(t,d);return n.jsx(Su.Provider,{scope:e.__scopeMenu,children:n.jsx(Gn,{present:r||a.open,children:n.jsx(Su.Slot,{scope:e.__scopeMenu,children:n.jsx(Rb,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Le(e.onFocusOutside,f=>{f.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Le(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Le(e.onKeyDown,f=>{var p;const m=f.currentTarget.contains(f.target),u=qz[o.dir].includes(f.key);m&&u&&(a.onOpenChange(!1),(p=c.trigger)==null||p.focus(),f.preventDefault())})})})})})});fT.displayName=hT;function mT(e){return e?"open":"closed"}function im(e){return e==="indeterminate"}function Db(e){return im(e)?"indeterminate":e?"checked":"unchecked"}function dV(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function uV(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function hV(e,t,s){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let o=uV(e,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==s));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==s?d:void 0}function fV(e,t){const{x:s,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],d=t[o],h=c.x,f=c.y,m=d.x,u=d.y;f>r!=u>r&&s<(m-h)*(r-f)/(u-f)+h&&(i=!i)}return i}function mV(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return fV(s,t)}function ku(e){return t=>t.pointerType==="mouse"?e(t):void 0}var pV=KP,gV=Ab,vV=XP,xV=QP,yV=Mb,bV=JP,wV=bp,jV=tT,_V=sT,NV=iT,SV=oT,kV=lT,CV=cT,EV=uT,PV=fT,wp="DropdownMenu",[TV,yse]=ls(wp,[ZP]),bs=ZP(),[AV,pT]=TV(wp),gT=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=bs(t),h=j.useRef(null),[f,m]=Lr({prop:i,defaultProp:a??!1,onChange:o,caller:wp});return n.jsx(AV,{scope:t,triggerId:Ar(),triggerRef:h,contentId:Ar(),open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(u=>!u),[m]),modal:c,children:n.jsx(pV,{...d,open:f,onOpenChange:m,dir:r,modal:c,children:s})})};gT.displayName=wp;var vT="DropdownMenuTrigger",xT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...i}=e,a=pT(vT,s),o=bs(s);return n.jsx(gV,{asChild:!0,...o,children:n.jsx(We.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Xm(t,a.triggerRef),onPointerDown:Le(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Le(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});xT.displayName=vT;var OV="DropdownMenuPortal",yT=e=>{const{__scopeDropdownMenu:t,...s}=e,r=bs(t);return n.jsx(vV,{...r,...s})};yT.displayName=OV;var bT="DropdownMenuContent",wT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=pT(bT,s),a=bs(s),o=j.useRef(!1);return n.jsx(xV,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:Le(e.onCloseAutoFocus,c=>{var d;o.current||(d=i.triggerRef.current)==null||d.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Le(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wT.displayName=bT;var LV="DropdownMenuGroup",RV=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(yV,{...i,...r,ref:t})});RV.displayName=LV;var MV="DropdownMenuLabel",jT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(bV,{...i,...r,ref:t})});jT.displayName=MV;var IV="DropdownMenuItem",_T=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(wV,{...i,...r,ref:t})});_T.displayName=IV;var DV="DropdownMenuCheckboxItem",NT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(jV,{...i,...r,ref:t})});NT.displayName=DV;var FV="DropdownMenuRadioGroup",$V=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(_V,{...i,...r,ref:t})});$V.displayName=FV;var BV="DropdownMenuRadioItem",ST=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(NV,{...i,...r,ref:t})});ST.displayName=BV;var zV="DropdownMenuItemIndicator",kT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(SV,{...i,...r,ref:t})});kT.displayName=zV;var VV="DropdownMenuSeparator",CT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(kV,{...i,...r,ref:t})});CT.displayName=VV;var UV="DropdownMenuArrow",qV=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(CV,{...i,...r,ref:t})});qV.displayName=UV;var HV="DropdownMenuSubTrigger",ET=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(EV,{...i,...r,ref:t})});ET.displayName=HV;var WV="DropdownMenuSubContent",PT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=bs(s);return n.jsx(PV,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PT.displayName=WV;var ZV=gT,GV=xT,KV=yT,TT=wT,AT=jT,OT=_T,LT=NT,RT=ST,MT=kT,IT=CT,DT=ET,FT=PT;const gc=ZV,vc=GV,YV=j.forwardRef(({className:e,inset:t,children:s,...r},i)=>n.jsxs(DT,{ref:i,className:Ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,n.jsx(hc,{className:"ml-auto h-4 w-4"})]}));YV.displayName=DT.displayName;const XV=j.forwardRef(({className:e,...t},s)=>n.jsx(FT,{ref:s,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));XV.displayName=FT.displayName;const Wo=j.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(KV,{children:n.jsx(TT,{ref:r,sideOffset:t,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Wo.displayName=TT.displayName;const po=j.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(OT,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));po.displayName=OT.displayName;const QV=j.forwardRef(({className:e,children:t,checked:s,...r},i)=>n.jsxs(LT,{ref:i,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(MT,{children:n.jsx(tp,{className:"h-4 w-4"})})}),t]}));QV.displayName=LT.displayName;const JV=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(RT,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(MT,{children:n.jsx(bE,{className:"h-2 w-2 fill-current"})})}),t]}));JV.displayName=RT.displayName;const e9=j.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(AT,{ref:r,className:Ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));e9.displayName=AT.displayName;const t9=j.forwardRef(({className:e,...t},s)=>n.jsx(IT,{ref:s,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));t9.displayName=IT.displayName;var $T={exports:{}},BT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=j;function n9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s9=typeof Object.is=="function"?Object.is:n9,r9=xc.useState,i9=xc.useEffect,a9=xc.useLayoutEffect,o9=xc.useDebugValue;function l9(e,t){var s=t(),r=r9({inst:{value:s,getSnapshot:t}}),i=r[0].inst,a=r[1];return a9(function(){i.value=s,i.getSnapshot=t,fv(i)&&a({inst:i})},[e,s,t]),i9(function(){return fv(i)&&a({inst:i}),e(function(){fv(i)&&a({inst:i})})},[e]),o9(s),s}function fv(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!s9(e,s)}catch{return!0}}function c9(e,t){return t()}var d9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c9:l9;BT.useSyncExternalStore=xc.useSyncExternalStore!==void 0?xc.useSyncExternalStore:d9;$T.exports=BT;var u9=$T.exports;function h9(){return u9.useSyncExternalStore(f9,()=>!0,()=>!1)}function f9(){return()=>{}}var Fb="Avatar",[m9,bse]=ls(Fb),[p9,zT]=m9(Fb),VT=j.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[i,a]=j.useState("idle");return n.jsx(p9,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:n.jsx(We.span,{...r,ref:t})})});VT.displayName=Fb;var UT="AvatarImage",qT=j.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=zT(UT,s),c=g9(r,a),d=pn(h=>{i(h),o.onImageLoadingStatusChange(h)});return Sn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?n.jsx(We.img,{...a,ref:t,src:r}):null});qT.displayName=UT;var HT="AvatarFallback",WT=j.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...i}=e,a=zT(HT,s),[o,c]=j.useState(r===void 0);return j.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&a.imageLoadingStatus!=="loaded"?n.jsx(We.span,{...i,ref:t}):null});WT.displayName=HT;function tN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function g9(e,{referrerPolicy:t,crossOrigin:s}){const r=h9(),i=j.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,c]=j.useState(()=>tN(a,e));return Sn(()=>{c(tN(a,e))},[a,e]),Sn(()=>{const d=m=>()=>{c(m)};if(!a)return;const h=d("loaded"),f=d("error");return a.addEventListener("load",h),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",h),a.removeEventListener("error",f)}},[a,s,t]),o}var ZT=VT,GT=qT,KT=WT;const Gi=j.forwardRef(({className:e,...t},s)=>n.jsx(ZT,{ref:s,className:Ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Gi.displayName=ZT.displayName;const Ki=j.forwardRef(({className:e,...t},s)=>n.jsx(GT,{ref:s,className:Ve("aspect-square h-full w-full",e),...t}));Ki.displayName=GT.displayName;const Yi=j.forwardRef(({className:e,...t},s)=>n.jsx(KT,{ref:s,className:Ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Yi.displayName=KT.displayName;function v9(){const e=nt(),[t,s]=j.useState({city:"Getting location...",area:"Please wait"}),[r,i]=j.useState([]),[a,o]=j.useState(0),{notifications:c,unreadCount:d,markAsRead:h,markAllAsRead:f}=DB();j.useEffect(()=>{const x=async()=>{if(await Te.isAuthenticated()){m();const w=setInterval(m,5e3);return()=>clearInterval(w)}};p(),x()},[]);const m=async()=>{var x,v;try{if(!await Te.getToken())return;const b=await Bs.getConversations(),y=Array.isArray(b)?b:(b==null?void 0:b.results)||[];r.length>0&&y.forEach(N=>{var I,C;const E=r.find(O=>O.id===N.id);E&&N.unread_count>E.unread_count&&u(`New message from ${(I=N.other_participant)==null?void 0:I.username}`,((C=N.last_message)==null?void 0:C.content)||"New message received")}),i(y);const _=y.reduce((N,E)=>N+(E.unread_count||0),0);o(_)}catch(w){!((x=w.message)!=null&&x.includes("401"))&&!((v=w.message)!=null&&v.includes("Unauthorized"))&&console.error("Failed to load conversations:",w)}},u=(x,v)=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(x,{body:v,icon:"/favicon.ico"})},p=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async x=>{const{latitude:v,longitude:w}=x.coords;try{const y=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${v}&lon=${w}&addressdetails=1`)).json();if(y.address){const _=y.address.road||y.address.neighbourhood,N=y.address.neighbourhood||y.address.suburb||y.address.city||y.address.town||y.address.village||y.address.county;s({city:_||N||"Unknown City",area:`${y.address.neighbourhood||y.address.suburb||y.address.city||y.address.town||y.address.state||""}${y.address.city_district?`, ${y.address.city_district}`:""}`})}else s({city:"Location found",area:`${v.toFixed(4)}, ${w.toFixed(4)}`})}catch{s({city:"Location unavailable",area:"Service error"})}},x=>{s({city:"Location denied",area:"Enable location access"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}):s({city:"Location not supported",area:"Browser not compatible"})};return n.jsxs("div",{className:"sticky top-0 z-50 flex items-center justify-between px-3 py-2 md:py-1 bg-card/95 backdrop-blur-sm border-b border-border/30 min-h-[60px] md:min-h-[50px]",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:Wa,alt:"Ezeyway",className:"h-20 w-20 md:h-12 md:w-24 object-contain"})}),n.jsxs("div",{className:"flex items-center gap-1.5 cursor-pointer text-center",onClick:p,children:[n.jsx(Bt,{className:"h-3 w-3 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-foreground",children:t.city}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.area})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(gc,{children:[n.jsx(vc,{asChild:!0,children:n.jsxs("button",{className:"p-1.5 hover:bg-muted rounded-lg transition-smooth relative",children:[n.jsx(Ul,{className:"h-5 w-5 text-foreground"}),a>0&&n.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white font-bold",children:a>9?"9+":a})})]})}),n.jsxs(Wo,{align:"end",className:"w-80",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h4",{className:"font-semibold",children:"Messages"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/messages"),className:"text-xs",children:"View all"})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:r.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No messages"}):r.slice(0,5).map(x=>{var v,w,b,y,_,N;return n.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${x.unread_count>0?"bg-blue-50/50":""}`,onClick:()=>e("/messages"),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Gi,{className:"h-8 w-8",children:[n.jsx(Ki,{src:(v=x.other_participant)==null?void 0:v.profile_picture}),n.jsx(Yi,{children:(b=(w=x.other_participant)==null?void 0:w.username)==null?void 0:b.charAt(0)})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:(y=x.other_participant)==null?void 0:y.username}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((_=x.last_message)==null?void 0:_.content)||((N=x.last_message)==null?void 0:N.file_name)||"No messages"})]}),x.unread_count>0&&n.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white font-bold",children:x.unread_count})})]})},x.id)})})]})]}),n.jsxs(gc,{children:[n.jsx(vc,{asChild:!0,children:n.jsxs("button",{className:"relative p-1.5 hover:bg-muted rounded-lg transition-smooth",children:[n.jsx(ts,{className:"h-5 w-5 text-foreground"}),d>0&&n.jsx(Me,{className:"absolute -top-0.5 -right-0.5 h-4 w-4 rounded-full p-0 text-[10px] flex items-center justify-center min-w-[16px] bg-destructive text-destructive-foreground",children:d>9?"9+":d})]})}),n.jsxs(Wo,{align:"end",className:"w-80",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h4",{className:"font-semibold",children:"Notifications"}),n.jsxs("div",{className:"flex gap-2",children:[d>0&&n.jsx(te,{variant:"ghost",size:"sm",onClick:f,className:"text-xs",children:"Mark all read"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/notifications"),className:"text-xs",children:"View all"})]})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:c.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):c.slice(0,5).map(x=>n.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${x.read?"":"bg-blue-50/50"}`,onClick:()=>{h(x.id),x.action_url&&e(x.action_url)},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${x.read?"bg-transparent":"bg-blue-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm font-medium ${x.read?"text-gray-700":"text-gray-900"}`,children:x.title}),n.jsx("p",{className:`text-sm ${x.read?"text-gray-600":"text-gray-700"}`,children:x.message}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(x.created_at).toLocaleString()})]}),n.jsx(Me,{variant:"outline",className:`text-xs ${x.type==="order"?"border-green-200 text-green-700":x.type==="payment"?"border-blue-200 text-blue-700":x.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:x.type})]})},x.id))})]})]})]})]})}const x9=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function y9(){const[e,t]=j.useState(""),[s,r]=j.useState([]),[i,a]=j.useState(!1),[o,c]=j.useState(!1),d=nt();cn();const h=j.useRef(null),f=j.useRef(null);j.useEffect(()=>{const b=y=>{h.current&&!h.current.contains(y.target)&&f.current&&!f.current.contains(y.target)&&a(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),j.useEffect(()=>{e.trim().length>1?m(e.trim()):(r([]),a(!1))},[e]);const m=async b=>{c(!0);try{const y=await Te.getToken(),_=y?{Authorization:`Token ${y}`}:{},N=xt.getLocation(),E=new URLSearchParams({search:b,page_size:"5"});N&&(E.append("latitude",N.latitude.toString()),E.append("longitude",N.longitude.toString()));const C=await(await fetch(`${Je}api/search/products/?${E}`,{headers:_})).json(),O=u(C.results||[]);r(O),a(!0)}catch(y){console.error("Search error:",y)}finally{c(!1)}},u=b=>{const y=xt.getLocation();return b.map(_=>{var I,C;const N=((I=_.images)==null?void 0:I.find(O=>O.is_primary))||((C=_.images)==null?void 0:C[0]);let E="N/A";return y&&_.vendor_latitude&&_.vendor_longitude&&(E=`${x9(y.latitude,y.longitude,_.vendor_latitude,_.vendor_longitude).toFixed(1)} km`),{id:_.id,name:_.name,vendor:_.vendor_name||"Unknown Vendor",price:`${_.price}`,image:(N==null?void 0:N.image_url)||"/placeholder-product.jpg",distance:E,category:_.category}})},p=b=>{b.preventDefault(),e.trim()&&(d(`/search?q=${encodeURIComponent(e.trim())}`),a(!1))},x=b=>{t(b.target.value)},v=b=>{d(`/product/${b}`),a(!1),t("")},w=()=>{e.trim()&&(d(`/search?q=${encodeURIComponent(e.trim())}`),a(!1))};return n.jsxs("div",{className:"px-3 py-2 bg-background relative",children:[n.jsx("form",{onSubmit:p,className:"flex gap-2",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ro,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx("input",{ref:f,type:"text",placeholder:"Search products, vendors...",value:e,onChange:x,className:"w-full pl-9 pr-3 py-2.5 bg-muted/50 border border-border/50 rounded-lg text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-smooth"})]})}),i&&n.jsx("div",{ref:h,className:"absolute top-full left-3 right-3 mt-1 bg-white border border-border rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:o?n.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Searching..."}):s.length>0?n.jsxs(n.Fragment,{children:[s.map(b=>n.jsxs("div",{onClick:()=>v(b.id),className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer border-b border-border/50 last:border-b-0",children:[n.jsx("img",{src:b.image,alt:b.name,className:"w-10 h-10 object-cover rounded",onError:y=>{y.target.src="/placeholder-product.jpg"}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-sm truncate",children:b.name}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:b.vendor}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"text-xs font-medium text-primary",children:b.price}),n.jsx("span",{className:"text-xs text-muted-foreground",children:b.distance})]})]})]},b.id)),n.jsx("div",{className:"p-3 border-t border-border",children:n.jsxs("button",{onClick:w,className:"w-full text-center text-sm text-primary hover:text-primary/80 font-medium",children:['View all results for "',e,'"']})})]}):e.trim().length>1?n.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:['No results found for "',e,'"']}):null})]})}const b9={Electronics:"",Fashion:"",Food:"",Home:"",Books:"",Sports:"",Beauty:"",Toys:"",Jewelry:"",Furniture:"",Automotive:"",Health:"","Pet Supplies":"",Stationery:"",Garden:"",Kids:"",Appliances:"",Hardware:"",Crafts:"",Travel:"",Grocery:"",Vegetables:"",Fruits:"",Dairy:"",Meat:"",Bakery:"",Beverages:"",Snacks:"",Organic:""};function w9(){const[e,t]=j.useState([]),[s,r]=j.useState(!0),i=nt();return j.useEffect(()=>{(async()=>{try{const o=await fetch(Je+"categories/"),c=await o.json();if(o.ok&&c.categories){const d=c.categories.map((h,f)=>({id:h.id||f+1,name:h.name,icon:b9[h.name]||""}));t(d)}}catch(o){console.error("Error fetching categories:",o),t([])}finally{r(!1)}})()},[]),s?n.jsx("div",{className:"px-2 py-2 bg-gray-50",children:n.jsx("div",{className:"flex gap-3 overflow-x-auto",children:[...Array(6)].map((a,o)=>n.jsx("div",{className:"flex-none w-16",children:n.jsxs("div",{className:"w-full p-1 rounded-xl bg-gray-200 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-300 rounded mb-1"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded"})]})},o))})}):e.length===0?n.jsx("div",{className:"px-2 py-2 bg-gray-50",children:n.jsx("div",{className:"text-center text-gray-500 text-sm py-4",children:"No categories available"})}):n.jsx("div",{className:"px-2 py-2 bg-gray-50",children:n.jsx("div",{className:"flex gap-3 overflow-x-auto overflow-y-hidden pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:e.map(a=>n.jsxs("button",{className:"flex-none px-3 py-1 rounded-xl font-medium text-center transition-all duration-200 bg-white text-gray-800 hover:bg-gray-100 active:scale-95 focus:outline-none min-w-16 touch-manipulation",onClick:()=>i(`/category/${encodeURIComponent(a.name)}`),children:[n.jsx("div",{className:"text-2xl mb-1",children:a.icon}),n.jsx("div",{className:"text-xs font-semibold whitespace-nowrap",children:a.name})]},a.id))})})}const j9="/assets/banner-grocery.jpg",_9="/assets/banner-electronics.jpg",N9="/assets/banner-food.jpg",S9=[{id:1,image:j9,title:"Fresh Groceries",subtitle:"Same day delivery"},{id:2,image:_9,title:"Electronics & Gadgets",subtitle:"Best prices guaranteed"},{id:3,image:N9,title:"Traditional Food",subtitle:"Authentic Nepali cuisine"}];function k9(){const[e,t]=j.useState(1),[s,r]=j.useState(!1),[i,a]=j.useState(0),[o,c]=j.useState(0),[d,h]=j.useState([]),[f,m]=j.useState(!0),[u,p]=j.useState(!0),x=j.useRef(null),v=d.length>0?d.map(I=>({id:I.id,image:I.image_url,title:I.title,subtitle:I.description||"",link_url:I.link_url})):S9,w=v.length>0?[v[v.length-1],...v,v[0]]:[],b=I=>{r(!0),a(I.touches[0].clientX),c(I.touches[0].clientX)},y=I=>{s&&c(I.touches[0].clientX)},_=()=>{if(!s)return;const I=i-o;Math.abs(I)>50&&(I>0&&e<v.length?t(O=>O+1):I<0&&e>1&&t(O=>O-1)),r(!1),c(0)},N=I=>{I.link_url&&window.open(I.link_url,"_blank")};j.useEffect(()=>{if(v.length>0){const I=setInterval(()=>{t(C=>C+1)},4e3);return()=>clearInterval(I)}},[v.length]),j.useEffect(()=>{v.length>0&&(e===w.length-1?setTimeout(()=>{p(!1),t(1),setTimeout(()=>p(!0),50)},500):e===0&&setTimeout(()=>{p(!1),t(v.length),setTimeout(()=>p(!0),50)},500))},[e,v.length]),j.useEffect(()=>{(async()=>{try{const{API_BASE:C}=await et(async()=>{const{API_BASE:k}=await Promise.resolve().then(()=>kB);return{API_BASE:k}},void 0),O=await fetch(C+"sliders/?user_type=customer"),A=await O.json();O.ok&&A&&A.sliders?(h(A.sliders),t(1)):h([])}catch(C){console.error("Error fetching sliders:",C),h([])}finally{m(!1)}})()},[]);const E=()=>{var C;if(window.innerWidth<768){if(s){const O=o-i,A=100,k=O/(((C=x.current)==null?void 0:C.offsetWidth)||1)*100,R=Math.max(-A,Math.min(A,k));return`translateX(calc(-${e*100}% + ${R}px))`}return`translateX(-${e*100}%)`}else return`translateX(calc(-${e*50}% + 25%))`};return f?n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-brand h-48 bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[n.jsx(os,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Loading banners..."})]})})}):n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative md:overflow-visible overflow-hidden md:px-8",children:[n.jsx("div",{ref:x,className:`flex ${u?"transition-transform duration-500 ease-in-out":""}`,style:{transform:E()},onTouchStart:b,onTouchMove:y,onTouchEnd:_,children:(w.length>0?w:v).map((I,C)=>{const O=window.innerWidth<768,A=!O&&C===e;return n.jsx("div",{className:`flex-shrink-0 relative cursor-pointer transition-all duration-300 ${O?"w-full rounded-2xl shadow-brand overflow-hidden":`${A?"scale-100 opacity-100 z-10":"scale-75 opacity-60 z-0"} rounded-lg overflow-hidden`}`,style:O?{}:{width:"50%"},onClick:()=>N(I),children:n.jsx("img",{src:I.image,alt:I.title,className:"w-full h-48 md:h-auto md:max-h-64 object-cover md:object-contain",onError:k=>{k.target.style.display="none",k.target.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}})},`${I.id}-${C}`)})}),v.length>1&&n.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-1",children:v.map((I,C)=>n.jsx("button",{onClick:()=>t(C+1),className:`w-2 h-2 rounded-full transition-colors ${C===(e-1+v.length)%v.length?"bg-blue-500":"bg-gray-300"}`},C))})]})})}const $b=j.createContext({});function Bb(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const zb=typeof window<"u",YT=zb?j.useLayoutEffect:j.useEffect,jp=j.createContext(null);function Vb(e,t){e.indexOf(t)===-1&&e.push(t)}function Ub(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Xi=(e,t,s)=>s>t?t:s<e?e:s;let am=()=>{};const Qi={},XT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function QT(e){return typeof e=="object"&&e!==null}const JT=e=>/^0[^.\s]+$/u.test(e);function qb(e){let t;return()=>(t===void 0&&(t=e()),t)}const or=e=>e,C9=(e,t)=>s=>t(e(s)),Xu=(...e)=>e.reduce(C9),Cu=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class Hb{constructor(){this.subscriptions=[]}add(t){return Vb(this.subscriptions,t),()=>Ub(this.subscriptions,t)}notify(t,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oi=e=>e*1e3,li=e=>e/1e3;function eA(e,t){return t?e*(1e3/t):0}const tA=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,E9=1e-7,P9=12;function T9(e,t,s,r,i){let a,o,c=0;do o=t+(s-t)/2,a=tA(o,r,i)-e,a>0?s=o:t=o;while(Math.abs(a)>E9&&++c<P9);return o}function Qu(e,t,s,r){if(e===t&&s===r)return or;const i=a=>T9(a,0,1,e,s);return a=>a===0||a===1?a:tA(i(a),t,r)}const nA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sA=e=>t=>1-e(1-t),rA=Qu(.33,1.53,.69,.99),Wb=sA(rA),iA=nA(Wb),aA=e=>(e*=2)<1?.5*Wb(e):.5*(2-Math.pow(2,-10*(e-1))),Zb=e=>1-Math.sin(Math.acos(e)),oA=sA(Zb),lA=nA(Zb),A9=Qu(.42,0,1,1),O9=Qu(0,0,.58,1),cA=Qu(.42,0,.58,1),L9=e=>Array.isArray(e)&&typeof e[0]!="number",dA=e=>Array.isArray(e)&&typeof e[0]=="number",nN={linear:or,easeIn:A9,easeInOut:cA,easeOut:O9,circIn:Zb,circInOut:lA,circOut:oA,backIn:Wb,backInOut:iA,backOut:rA,anticipate:aA},R9=e=>typeof e=="string",sN=e=>{if(dA(e)){am(e.length===4);const[t,s,r,i]=e;return Qu(t,s,r,i)}else if(R9(e))return am(nN[e]!==void 0),nN[e];return e},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],rN={value:null,addProjectionMetrics:null};function M9(e,t){let s=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function h(m){o.has(m)&&(f.schedule(m),e()),d++,m(c)}const f={schedule:(m,u=!1,p=!1)=>{const v=p&&i?s:r;return u&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[s,r]=[r,s],s.forEach(h),t&&rN.value&&rN.value.frameloop[t].push(d),d=0,s.clear(),i=!1,a&&(a=!1,f.process(m))}};return f}const I9=40;function uA(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Gh.reduce((_,N)=>(_[N]=M9(a,t?N:void 0),_),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:f,update:m,preRender:u,render:p,postRender:x}=o,v=()=>{const _=Qi.useManualTiming?i.timestamp:performance.now();s=!1,Qi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,I9),1)),i.timestamp=_,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),f.process(i),m.process(i),u.process(i),p.process(i),x.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(v))},w=()=>{s=!0,r=!0,i.isProcessing||e(v)};return{schedule:Gh.reduce((_,N)=>{const E=o[N];return _[N]=(I,C=!1,O=!1)=>(s||w(),E.schedule(I,C,O)),_},{}),cancel:_=>{for(let N=0;N<Gh.length;N++)o[Gh[N]].cancel(_)},state:i,steps:o}}const{schedule:en,cancel:Za,state:qn,steps:mv}=uA(typeof requestAnimationFrame<"u"?requestAnimationFrame:or,!0);let xf;function D9(){xf=void 0}const Cs={now:()=>(xf===void 0&&Cs.set(qn.isProcessing||Qi.useManualTiming?qn.timestamp:performance.now()),xf),set:e=>{xf=e,queueMicrotask(D9)}},hA=e=>t=>typeof t=="string"&&t.startsWith(e),Gb=hA("--"),F9=hA("var(--"),Kb=e=>F9(e)?$9.test(e.split("/*")[0].trim()):!1,$9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Eu={...Bc,transform:e=>Xi(0,1,e)},Kh={...Bc,default:1},Hd=e=>Math.round(e*1e5)/1e5,Yb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B9(e){return e==null}const z9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xb=(e,t)=>s=>!!(typeof s=="string"&&z9.test(s)&&s.startsWith(e)||t&&!B9(s)&&Object.prototype.hasOwnProperty.call(s,t)),fA=(e,t,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(Yb);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},V9=e=>Xi(0,255,e),pv={...Bc,transform:e=>Math.round(V9(e))},jo={test:Xb("rgb","red"),parse:fA("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+pv.transform(e)+", "+pv.transform(t)+", "+pv.transform(s)+", "+Hd(Eu.transform(r))+")"};function U9(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Kx={test:Xb("#"),parse:U9,transform:jo.transform},Ju=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ma=Ju("deg"),ci=Ju("%"),rt=Ju("px"),q9=Ju("vh"),H9=Ju("vw"),iN={...ci,parse:e=>ci.parse(e)/100,transform:e=>ci.transform(e*100)},Al={test:Xb("hsl","hue"),parse:fA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+ci.transform(Hd(t))+", "+ci.transform(Hd(s))+", "+Hd(Eu.transform(r))+")"},Pn={test:e=>jo.test(e)||Kx.test(e)||Al.test(e),parse:e=>jo.test(e)?jo.parse(e):Al.test(e)?Al.parse(e):Kx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?jo.transform(e):Al.transform(e),getAnimatableNone:e=>{const t=Pn.parse(e);return t.alpha=0,Pn.transform(t)}},W9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z9(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Yb))==null?void 0:t.length)||0)+(((s=e.match(W9))==null?void 0:s.length)||0)>0}const mA="number",pA="color",G9="var",K9="var(",aN="${}",Y9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=t.replace(Y9,d=>(Pn.test(d)?(r.color.push(a),i.push(pA),s.push(Pn.parse(d))):d.startsWith(K9)?(r.var.push(a),i.push(G9),s.push(d)):(r.number.push(a),i.push(mA),s.push(parseFloat(d))),++a,aN)).split(aN);return{values:s,split:c,indexes:r,types:i}}function gA(e){return Pu(e).values}function vA(e){const{split:t,types:s}=Pu(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const c=s[o];c===mA?a+=Hd(i[o]):c===pA?a+=Pn.transform(i[o]):a+=i[o]}return a}}const X9=e=>typeof e=="number"?0:Pn.test(e)?Pn.getAnimatableNone(e):e;function Q9(e){const t=gA(e);return vA(e)(t.map(X9))}const Ga={test:Z9,parse:gA,createTransformer:vA,getAnimatableNone:Q9};function gv(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function J9({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const c=s<.5?s*(1+t):s+t-s*t,d=2*s-c;i=gv(d,c,e+1/3),a=gv(d,c,e),o=gv(d,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function om(e,t){return s=>s>0?t:e}const sn=(e,t,s)=>e+(t-e)*s,vv=(e,t,s)=>{const r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},e7=[Kx,jo,Al],t7=e=>e7.find(t=>t.test(e));function oN(e){const t=t7(e);if(!t)return!1;let s=t.parse(e);return t===Al&&(s=J9(s)),s}const lN=(e,t)=>{const s=oN(e),r=oN(t);if(!s||!r)return om(e,t);const i={...s};return a=>(i.red=vv(s.red,r.red,a),i.green=vv(s.green,r.green,a),i.blue=vv(s.blue,r.blue,a),i.alpha=sn(s.alpha,r.alpha,a),jo.transform(i))},Yx=new Set(["none","hidden"]);function n7(e,t){return Yx.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function s7(e,t){return s=>sn(e,t,s)}function Qb(e){return typeof e=="number"?s7:typeof e=="string"?Kb(e)?om:Pn.test(e)?lN:a7:Array.isArray(e)?xA:typeof e=="object"?Pn.test(e)?lN:r7:om}function xA(e,t){const s=[...e],r=s.length,i=e.map((a,o)=>Qb(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function r7(e,t){const s={...e,...t},r={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Qb(e[i])(e[i],t[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function i7(e,t){const s=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],c=e.values[o]??0;s[i]=c,r[a]++}return s}const a7=(e,t)=>{const s=Ga.createTransformer(t),r=Pu(e),i=Pu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Yx.has(e)&&!i.values.length||Yx.has(t)&&!r.values.length?n7(e,t):Xu(xA(i7(r,i),i.values),s):om(e,t)};function yA(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?sn(e,t,s):Qb(e)(e,t)}const o7=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>en.update(t,s),stop:()=>Za(t),now:()=>qn.isProcessing?qn.timestamp:Cs.now()}},bA=(e,t,s=10)=>{let r="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},lm=2e4;function Jb(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<lm;)t+=s,r=e.next(t);return t>=lm?1/0:t}function l7(e,t=100,s){const r=s({...e,keyframes:[0,t]}),i=Math.min(Jb(r),lm);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:li(i)}}const c7=5;function wA(e,t,s){const r=Math.max(t-c7,0);return eA(s-e(r),t-r)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xv=.001;function d7({duration:e=hn.duration,bounce:t=hn.bounce,velocity:s=hn.velocity,mass:r=hn.mass}){let i,a,o=1-t;o=Xi(hn.minDamping,hn.maxDamping,o),e=Xi(hn.minDuration,hn.maxDuration,li(e)),o<1?(i=h=>{const f=h*o,m=f*e,u=f-s,p=Xx(h,o),x=Math.exp(-m);return xv-u/p*x},a=h=>{const m=h*o*e,u=m*s+s,p=Math.pow(o,2)*Math.pow(h,2)*e,x=Math.exp(-m),v=Xx(Math.pow(h,2),o);return(-i(h)+xv>0?-1:1)*((u-p)*x)/v}):(i=h=>{const f=Math.exp(-h*e),m=(h-s)*e+1;return-xv+f*m},a=h=>{const f=Math.exp(-h*e),m=(s-h)*(e*e);return f*m});const c=5/e,d=h7(i,a,c);if(e=oi(e),isNaN(d))return{stiffness:hn.stiffness,damping:hn.damping,duration:e};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:e}}}const u7=12;function h7(e,t,s){let r=s;for(let i=1;i<u7;i++)r=r-e(r)/t(r);return r}function Xx(e,t){return e*Math.sqrt(1-t*t)}const f7=["duration","bounce"],m7=["stiffness","damping","mass"];function cN(e,t){return t.some(s=>e[s]!==void 0)}function p7(e){let t={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...e};if(!cN(e,m7)&&cN(e,f7))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*Xi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:hn.mass,stiffness:i,damping:a}}else{const s=d7(e);t={...t,...s,mass:hn.mass},t.isResolvedFromDuration=!0}return t}function cm(e=hn.visualDuration,t=hn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:f,duration:m,velocity:u,isResolvedFromDuration:p}=p7({...s,velocity:-li(s.velocity||0)}),x=u||0,v=h/(2*Math.sqrt(d*f)),w=o-a,b=li(Math.sqrt(d/f)),y=Math.abs(w)<5;r||(r=y?hn.restSpeed.granular:hn.restSpeed.default),i||(i=y?hn.restDelta.granular:hn.restDelta.default);let _;if(v<1){const E=Xx(b,v);_=I=>{const C=Math.exp(-v*b*I);return o-C*((x+v*b*w)/E*Math.sin(E*I)+w*Math.cos(E*I))}}else if(v===1)_=E=>o-Math.exp(-b*E)*(w+(x+b*w)*E);else{const E=b*Math.sqrt(v*v-1);_=I=>{const C=Math.exp(-v*b*I),O=Math.min(E*I,300);return o-C*((x+v*b*w)*Math.sinh(O)+E*w*Math.cosh(O))/E}}const N={calculatedDuration:p&&m||null,next:E=>{const I=_(E);if(p)c.done=E>=m;else{let C=E===0?x:0;v<1&&(C=E===0?oi(x):wA(_,E,I));const O=Math.abs(C)<=r,A=Math.abs(o-I)<=i;c.done=O&&A}return c.value=c.done?o:I,c},toString:()=>{const E=Math.min(Jb(N),lm),I=bA(C=>N.next(E*C).value,E,30);return E+"ms "+I},toTransition:()=>{}};return N}cm.applyToOptions=e=>{const t=l7(e,100,cm);return e.ease=t.ease,e.duration=oi(t.duration),e.type="keyframes",e};function Qx({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:f}){const m=e[0],u={done:!1,value:m},p=O=>c!==void 0&&O<c||d!==void 0&&O>d,x=O=>c===void 0?d:d===void 0||Math.abs(c-O)<Math.abs(d-O)?c:d;let v=s*t;const w=m+v,b=o===void 0?w:o(w);b!==w&&(v=b-m);const y=O=>-v*Math.exp(-O/r),_=O=>b+y(O),N=O=>{const A=y(O),k=_(O);u.done=Math.abs(A)<=h,u.value=u.done?b:k};let E,I;const C=O=>{p(u.value)&&(E=O,I=cm({keyframes:[u.value,x(u.value)],velocity:wA(_,O,u.value),damping:i,stiffness:a,restDelta:h,restSpeed:f}))};return C(0),{calculatedDuration:null,next:O=>{let A=!1;return!I&&E===void 0&&(A=!0,N(O),C(O)),E!==void 0&&O>=E?I.next(O-E):(!A&&N(O),u)}}}function g7(e,t,s){const r=[],i=s||Qi.mix||yA,a=e.length-1;for(let o=0;o<a;o++){let c=i(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||or:t;c=Xu(d,c)}r.push(c)}return r}function v7(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const a=e.length;if(am(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=g7(t,r,i),d=c.length,h=f=>{if(o&&f<e[0])return t[0];let m=0;if(d>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const u=Cu(e[m],e[m+1],f);return c[m](u)};return s?f=>h(Xi(e[0],e[a-1],f)):h}function x7(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=Cu(0,t,r);e.push(sn(s,1,i))}}function y7(e){const t=[0];return x7(t,e.length-1),t}function b7(e,t){return e.map(s=>s*t)}function w7(e,t){return e.map(()=>t||cA).splice(0,e.length-1)}function Wd({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=L9(r)?r.map(sN):sN(r),a={done:!1,value:t[0]},o=b7(s&&s.length===t.length?s:y7(t),e),c=v7(o,t,{ease:Array.isArray(i)?i:w7(t,i)});return{calculatedDuration:e,next:d=>(a.value=c(d),a.done=d>=e,a)}}const j7=e=>e!==null;function ew(e,{repeat:t,repeatType:s="loop"},r,i=1){const a=e.filter(j7),c=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const _7={decay:Qx,inertia:Qx,tween:Wd,keyframes:Wd,spring:cm};function jA(e){typeof e.type=="string"&&(e.type=_7[e.type])}class tw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const N7=e=>e/100;class nw extends tw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==Cs.now()&&this.tick(Cs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jA(t);const{type:s=Wd,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:c}=t;const d=s||Wd;d!==Wd&&typeof c[0]!="number"&&(this.mixKeyframes=Xu(N7,yA(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Jb(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:u,repeatDelay:p,type:x,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const b=this.currentTime-h*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,N=r;if(m){const O=Math.min(this.currentTime,i)/c;let A=Math.floor(O),k=O%1;!k&&O>=1&&(k=1),k===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(u==="reverse"?(k=1-k,p&&(k-=p/c)):u==="mirror"&&(N=o)),_=Xi(0,1,k)*c}const E=y?{done:!1,value:f[0]}:N.next(_);a&&(E.value=a(E.value));let{done:I}=E;!y&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return C&&x!==Qx&&(E.value=ew(f,this.options,w,this.speed)),v&&v(E.value),C&&this.finish(),E}then(t,s){return this.finished.then(t,s)}get duration(){return li(this.calculatedDuration)}get time(){return li(this.currentTime)}set time(t){var s;t=oi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Cs.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=li(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=o7,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function S7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _o=e=>e*180/Math.PI,Jx=e=>{const t=_o(Math.atan2(e[1],e[0]));return ey(t)},k7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jx,rotateZ:Jx,skewX:e=>_o(Math.atan(e[1])),skewY:e=>_o(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ey=e=>(e=e%360,e<0&&(e+=360),e),dN=Jx,uN=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),hN=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),C7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uN,scaleY:hN,scale:e=>(uN(e)+hN(e))/2,rotateX:e=>ey(_o(Math.atan2(e[6],e[5]))),rotateY:e=>ey(_o(Math.atan2(-e[2],e[0]))),rotateZ:dN,rotate:dN,skewX:e=>_o(Math.atan(e[4])),skewY:e=>_o(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ty(e){return e.includes("scale")?1:0}function ny(e,t){if(!e||e==="none")return ty(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=C7,i=s;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=k7,i=c}if(!i)return ty(t);const a=r[t],o=i[1].split(",").map(P7);return typeof a=="function"?a(o):o[a]}const E7=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return ny(s,t)};function P7(e){return parseFloat(e.trim())}const zc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vc=new Set(zc),fN=e=>e===Bc||e===rt,T7=new Set(["x","y","z"]),A7=zc.filter(e=>!T7.has(e));function O7(e){const t=[];return A7.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Io={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ny(t,"x"),y:(e,{transform:t})=>ny(t,"y")};Io.translateX=Io.x;Io.translateY=Io.y;const Do=new Set;let sy=!1,ry=!1,iy=!1;function _A(){if(ry){const e=Array.from(Do).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const i=O7(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ry=!1,sy=!1,Do.forEach(e=>e.complete(iy)),Do.clear()}function NA(){Do.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ry=!0)})}function L7(){iy=!0,NA(),_A(),iy=!1}class sw{constructor(t,s,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Do.add(this),sy||(sy=!0,en.read(NA),en.resolveKeyframes(_A))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&s){const c=r.readValue(s,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}S7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Do.delete(this)}cancel(){this.state==="scheduled"&&(Do.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R7=e=>e.startsWith("--");function M7(e,t,s){R7(t)?e.style.setProperty(t,s):e.style[t]=s}const I7=qb(()=>window.ScrollTimeline!==void 0),D7={};function F7(e,t){const s=qb(e);return()=>D7[t]??s()}const SA=F7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ad=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,mN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ad([0,.65,.55,1]),circOut:Ad([.55,0,1,.45]),backIn:Ad([.31,.01,.66,-.59]),backOut:Ad([.33,1.53,.69,.99])};function kA(e,t){if(e)return typeof e=="function"?SA()?bA(e,t):"ease-out":dA(e)?Ad(e):Array.isArray(e)?e.map(s=>kA(s,t)||mN.easeOut):mN[e]}function $7(e,t,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const f={[t]:s};d&&(f.offset=d);const m=kA(c,i);Array.isArray(m)&&(f.easing=m);const u={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(u.pseudoElement=h),e.animate(f,u)}function CA(e){return typeof e=="function"&&"applyToOptions"in e}function B7({type:e,...t}){return CA(e)&&SA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class z7 extends tw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,am(typeof t.type!="string");const h=B7(t);this.animation=$7(s,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=ew(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):M7(s,r,f),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return li(Number(t))}get time(){return li(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=oi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&I7()?(this.animation.timeline=t,or):s(this)}}const EA={anticipate:aA,backInOut:iA,circInOut:lA};function V7(e){return e in EA}function U7(e){typeof e.ease=="string"&&V7(e.ease)&&(e.ease=EA[e.ease])}const pN=10;class q7 extends z7{constructor(t){U7(t),jA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const c=new nw({...o,autoplay:!1}),d=oi(this.finishedTime??this.time);s.setWithVelocity(c.sample(d-pN).value,c.sample(d).value,pN),c.stop()}}const gN=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ga.test(e)||e==="0")&&!e.startsWith("url("));function H7(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function W7(e,t,s,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=gN(i,t),c=gN(a,t);return!o||!c?!1:H7(e)||(s==="spring"||CA(s))&&r}function ay(e){e.duration=0,e.type}const Z7=new Set(["opacity","clipPath","filter","transform"]),G7=qb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K7(e){var f;const{motionValue:t,name:s,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return G7()&&s&&Z7.has(s)&&(s!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const Y7=40;class X7 extends tw{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:f,...m}){var x;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Cs.now();const u={autoplay:t,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:f,...m},p=(f==null?void 0:f.KeyframeResolver)||sw;this.keyframeResolver=new p(c,(v,w,b)=>this.onKeyframesResolved(v,w,u,!b),d,h,f),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:f}=r;this.resolvedAt=Cs.now(),W7(t,a,o,c)||((Qi.instantAnimations||!d)&&(f==null||f(ew(t,r,s))),t[0]=t[t.length-1],ay(r),r.repeat=0);const u={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Y7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},p=!h&&K7(u)?new q7({...u,element:u.motionValue.owner.current}):new nw(u);p.finished.then(()=>this.notifyFinished()).catch(or),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),L7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Q7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J7(e){const t=Q7.exec(e);if(!t)return[,];const[,s,r,i]=t;return[`--${s??r}`,i]}function PA(e,t,s=1){const[r,i]=J7(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return XT(o)?parseFloat(o):o}return Kb(i)?PA(i,t,s+1):i}function rw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const TA=new Set(["width","height","top","left","right","bottom",...zc]),eU={test:e=>e==="auto",parse:e=>e},AA=e=>t=>t.test(e),OA=[Bc,rt,ci,ma,H9,q9,eU],vN=e=>OA.find(AA(e));function tU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||JT(e):!0}const nU=new Set(["brightness","contrast","saturate","opacity"]);function sU(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Yb)||[];if(!r)return e;const i=s.replace(r,"");let a=nU.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+i+")"}const rU=/\b([a-z-]*)\(.*?\)/gu,oy={...Ga,getAnimatableNone:e=>{const t=e.match(rU);return t?t.map(sU).join(" "):e}},xN={...Bc,transform:Math.round},iU={rotate:ma,rotateX:ma,rotateY:ma,rotateZ:ma,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:ma,skewX:ma,skewY:ma,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Eu,originX:iN,originY:iN,originZ:rt},iw={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt,...iU,zIndex:xN,fillOpacity:Eu,strokeOpacity:Eu,numOctaves:xN},aU={...iw,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:oy,WebkitFilter:oy},LA=e=>aU[e];function RA(e,t){let s=LA(e);return s!==oy&&(s=Ga),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const oU=new Set(["auto","none","0"]);function lU(e,t,s){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!oU.has(a)&&Pu(a).values.length&&(i=e[r]),r++}if(i&&s)for(const a of t)e[a]=RA(s,i)}class cU extends sw{constructor(t,s,r,i,a){super(t,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Kb(h))){const f=PA(h,s.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!TA.has(r)||t.length!==2)return;const[i,a]=t,o=vN(i),c=vN(a);if(o!==c)if(fN(o)&&fN(c))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Io[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||tU(t[i]))&&r.push(i);r.length&&lU(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Io[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Io[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function dU(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const MA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function IA(e){return QT(e)&&"offsetHeight"in e}const yN=30,uU=e=>!isNaN(parseFloat(e));class hU{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=Cs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Cs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=uU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Hb);const r=this.events[t].add(s);return t==="change"?()=>{r(),en.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yN)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,yN);return eA(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yc(e,t){return new hU(e,t)}const{schedule:aw,cancel:wse}=uA(queueMicrotask,!1),xr={x:!1,y:!1};function DA(){return xr.x||xr.y}function fU(e){return e==="x"||e==="y"?xr[e]?null:(xr[e]=!0,()=>{xr[e]=!1}):xr.x||xr.y?null:(xr.x=xr.y=!0,()=>{xr.x=xr.y=!1})}function FA(e,t){const s=dU(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[s,i,()=>r.abort()]}function bN(e){return!(e.pointerType==="touch"||DA())}function mU(e,t,s={}){const[r,i,a]=FA(e,s),o=c=>{if(!bN(c))return;const{target:d}=c,h=t(d,c);if(typeof h!="function"||!d)return;const f=m=>{bN(m)&&(h(m),d.removeEventListener("pointerleave",f))};d.addEventListener("pointerleave",f,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const $A=(e,t)=>t?e===t?!0:$A(e,t.parentElement):!1,ow=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,pU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gU(e){return pU.has(e.tagName)||e.tabIndex!==-1}const yf=new WeakSet;function wN(e){return t=>{t.key==="Enter"&&e(t)}}function yv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vU=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=wN(()=>{if(yf.has(s))return;yv(s,"down");const i=wN(()=>{yv(s,"up")}),a=()=>yv(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function jN(e){return ow(e)&&!DA()}function xU(e,t,s={}){const[r,i,a]=FA(e,s),o=c=>{const d=c.currentTarget;if(!jN(c))return;yf.add(d);const h=t(d,c),f=(p,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",u),yf.has(d)&&yf.delete(d),jN(p)&&typeof h=="function"&&h(p,{success:x})},m=p=>{f(p,d===window||d===document||s.useGlobalTarget||$A(d,p.target))},u=p=>{f(p,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",u,i)};return r.forEach(c=>{(s.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),IA(c)&&(c.addEventListener("focus",h=>vU(h,i)),!gU(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function BA(e){return QT(e)&&"ownerSVGElement"in e}function yU(e){return BA(e)&&e.tagName==="svg"}const ns=e=>!!(e&&e.getVelocity),bU=[...OA,Pn,Ga],wU=e=>bU.find(AA(e)),lw=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class jU extends j.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,i=IA(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _U({children:e,isPresent:t,anchorX:s,root:r}){const i=j.useId(),a=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(lw);return j.useInsertionEffect(()=>{const{width:d,height:h,top:f,left:m,right:u}=o.current;if(t||!a.current||!d||!h)return;const p=s==="left"?`left: ${m}`:`right: ${u}`;a.current.dataset.motionPopId=i;const x=document.createElement("style");c&&(x.nonce=c);const v=r??document.head;return v.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(x)&&v.removeChild(x)}},[t]),n.jsx(jU,{isPresent:t,childRef:a,sizeRef:o,children:j.cloneElement(e,{ref:a})})}const NU=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=Bb(SU),f=j.useId();let m=!0,u=j.useMemo(()=>(m=!1,{id:f,initial:t,isPresent:s,custom:i,onExitComplete:p=>{h.set(p,!0);for(const x of h.values())if(!x)return;r&&r()},register:p=>(h.set(p,!1),()=>h.delete(p))}),[s,h,r]);return a&&m&&(u={...u}),j.useMemo(()=>{h.forEach((p,x)=>h.set(x,!1))},[s]),j.useEffect(()=>{!s&&!h.size&&r&&r()},[s]),o==="popLayout"&&(e=n.jsx(_U,{isPresent:s,anchorX:c,root:d,children:e})),n.jsx(jp.Provider,{value:u,children:e})};function SU(){return new Map}function zA(e=!0){const t=j.useContext(jp);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=t,a=j.useId();j.useEffect(()=>{if(e)return i(a)},[e]);const o=j.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const Yh=e=>e.key||"";function _N(e){const t=[];return j.Children.forEach(e,s=>{j.isValidElement(s)&&t.push(s)}),t}const NN=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,f]=zA(o),m=j.useMemo(()=>_N(e),[e]),u=o&&!h?[]:m.map(Yh),p=j.useRef(!0),x=j.useRef(m),v=Bb(()=>new Map),[w,b]=j.useState(m),[y,_]=j.useState(m);YT(()=>{p.current=!1,x.current=m;for(let I=0;I<y.length;I++){const C=Yh(y[I]);u.includes(C)?v.delete(C):v.get(C)!==!0&&v.set(C,!1)}},[y,u.length,u.join("-")]);const N=[];if(m!==w){let I=[...m];for(let C=0;C<y.length;C++){const O=y[C],A=Yh(O);u.includes(A)||(I.splice(C,0,O),N.push(O))}return a==="wait"&&N.length&&(I=N),_(_N(I)),b(m),null}const{forceRender:E}=j.useContext($b);return n.jsx(n.Fragment,{children:y.map(I=>{const C=Yh(I),O=o&&!h?!1:m===y||u.includes(C),A=()=>{if(v.has(C))v.set(C,!0);else return;let k=!0;v.forEach(R=>{R||(k=!1)}),k&&(E==null||E(),_(x.current),o&&(f==null||f()),r&&r())};return n.jsx(NU,{isPresent:O,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:O?void 0:A,anchorX:c,children:I},C)})})},VA=j.createContext({strict:!1}),SN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bc={};for(const e in SN)bc[e]={isEnabled:t=>SN[e].some(s=>!!t[s])};function kU(e){for(const t in e)bc[t]={...bc[t],...e[t]}}const CU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CU.has(e)}let UA=e=>!dm(e);function EU(e){typeof e=="function"&&(UA=t=>t.startsWith("on")?!dm(t):e(t))}try{EU(require("@emotion/is-prop-valid").default)}catch{}function PU(e,t,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(UA(i)||s===!0&&dm(i)||!t&&!dm(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const _p=j.createContext({});function Np(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Tu(e){return typeof e=="string"||Array.isArray(e)}const cw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dw=["initial",...cw];function Sp(e){return Np(e.animate)||dw.some(t=>Tu(e[t]))}function qA(e){return!!(Sp(e)||e.variants)}function TU(e,t){if(Sp(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Tu(s)?s:void 0,animate:Tu(r)?r:void 0}}return e.inherit!==!1?t:{}}function AU(e){const{initial:t,animate:s}=TU(e,j.useContext(_p));return j.useMemo(()=>({initial:t,animate:s}),[kN(t),kN(s)])}function kN(e){return Array.isArray(e)?e.join(" "):e}const Au={};function OU(e){for(const t in e)Au[t]=e[t],Gb(t)&&(Au[t].isCSSVariable=!0)}function HA(e,{layout:t,layoutId:s}){return Vc.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Au[e]||e==="opacity")}const LU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RU=zc.length;function MU(e,t,s){let r="",i=!0;for(let a=0;a<RU;a++){const o=zc[a],c=e[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||s){const h=MA(c,iw[o]);if(!d){i=!1;const f=LU[o]||o;r+=`${f}(${h}) `}s&&(t[o]=h)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}function uw(e,t,s){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,c=!1;for(const d in t){const h=t[d];if(Vc.has(d)){o=!0;continue}else if(Gb(d)){i[d]=h;continue}else{const f=MA(h,iw[d]);d.startsWith("origin")?(c=!0,a[d]=f):r[d]=f}}if(t.transform||(o||s?r.transform=MU(t,e.transform,s):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;r.transformOrigin=`${d} ${h} ${f}`}}const hw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WA(e,t,s){for(const r in t)!ns(t[r])&&!HA(r,s)&&(e[r]=t[r])}function IU({transformTemplate:e},t){return j.useMemo(()=>{const s=hw();return uw(s,t,e),Object.assign({},s.vars,s.style)},[t])}function DU(e,t){const s=e.style||{},r={};return WA(r,s,e),Object.assign(r,IU(e,t)),r}function FU(e,t){const s={},r=DU(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const $U={offset:"stroke-dashoffset",array:"stroke-dasharray"},BU={offset:"strokeDashoffset",array:"strokeDasharray"};function zU(e,t,s=1,r=0,i=!0){e.pathLength=1;const a=i?$U:BU;e[a.offset]=rt.transform(-r);const o=rt.transform(t),c=rt.transform(s);e[a.array]=`${o} ${c}`}function ZA(e,{attrX:t,attrY:s,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,h,f){if(uw(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:u}=e;m.transform&&(u.transform=m.transform,delete m.transform),(u.transform||m.transformOrigin)&&(u.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),u.transform&&(u.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),i!==void 0&&zU(m,i,a,o,!1)}const GA=()=>({...hw(),attrs:{}}),KA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function VU(e,t,s,r){const i=j.useMemo(()=>{const a=GA();return ZA(a,t,KA(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};WA(a,e.style,e),i.style={...a,...i.style}}return i}const UU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fw(e){return typeof e!="string"||e.includes("-")?!1:!!(UU.indexOf(e)>-1||/[A-Z]/u.test(e))}function qU(e,t,s,{latestValues:r},i,a=!1){const c=(fw(e)?VU:FU)(t,r,i,e),d=PU(t,typeof e=="string",a),h=e!==j.Fragment?{...d,...c,ref:s}:{},{children:f}=t,m=j.useMemo(()=>ns(f)?f.get():f,[f]);return j.createElement(e,{...h,children:m})}function CN(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function mw(e,t,s,r){if(typeof t=="function"){const[i,a]=CN(r);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=CN(r);t=t(s!==void 0?s:e.custom,i,a)}return t}function bf(e){return ns(e)?e.get():e}function HU({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,i){return{latestValues:WU(s,r,i,e),renderState:t()}}function WU(e,t,s,r){const i={},a=r(e,{});for(const u in a)i[u]=bf(a[u]);let{initial:o,animate:c}=e;const d=Sp(e),h=qA(e);t&&h&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let f=s?s.initial===!1:!1;f=f||o===!1;const m=f?c:o;if(m&&typeof m!="boolean"&&!Np(m)){const u=Array.isArray(m)?m:[m];for(let p=0;p<u.length;p++){const x=mw(e,u[p]);if(x){const{transitionEnd:v,transition:w,...b}=x;for(const y in b){let _=b[y];if(Array.isArray(_)){const N=f?_.length-1:0;_=_[N]}_!==null&&(i[y]=_)}for(const y in v)i[y]=v[y]}}}return i}const YA=e=>(t,s)=>{const r=j.useContext(_p),i=j.useContext(jp),a=()=>HU(e,t,r,i);return s?a():Bb(a)};function pw(e,t,s){var a;const{style:r}=e,i={};for(const o in r)(ns(r[o])||t.style&&ns(t.style[o])||HA(o,e)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const ZU=YA({scrapeMotionValuesFromProps:pw,createRenderState:hw});function XA(e,t,s){const r=pw(e,t,s);for(const i in e)if(ns(e[i])||ns(t[i])){const a=zc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const GU=YA({scrapeMotionValuesFromProps:XA,createRenderState:GA}),KU=Symbol.for("motionComponentSymbol");function Ol(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function YU(e,t,s){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Ol(s)&&(s.current=r))},[t])}const gw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XU="framerAppearId",QA="data-"+gw(XU),JA=j.createContext({});function QU(e,t,s,r,i){var v,w;const{visualElement:a}=j.useContext(_p),o=j.useContext(VA),c=j.useContext(jp),d=j.useContext(lw).reducedMotion,h=j.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=j.useContext(JA);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&JU(h.current,s,i,m);const u=j.useRef(!1);j.useInsertionEffect(()=>{f&&u.current&&f.update(s,c)});const p=s[QA],x=j.useRef(!!p&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,p))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,p)));return YT(()=>{f&&(u.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),x.current=!1),f.enteringChildren=void 0)}),f}function JU(e,t,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:f}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:eO(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&Ol(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:d,layoutRoot:h})}function eO(e){if(e)return e.options.allowProjection!==!1?e.projection:eO(e.parent)}function bv(e,{forwardMotionProps:t=!1}={},s,r){s&&kU(s);const i=fw(e)?GU:ZU;function a(c,d){let h;const f={...j.useContext(lw),...c,layoutId:eq(c)},{isStatic:m}=f,u=AU(c),p=i(c,m);if(!m&&zb){tq();const x=nq(f);h=x.MeasureLayout,u.visualElement=QU(e,p,f,r,x.ProjectionNode)}return n.jsxs(_p.Provider,{value:u,children:[h&&u.visualElement?n.jsx(h,{visualElement:u.visualElement,...f}):null,qU(e,c,YU(p,u.visualElement,d),p,m,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=j.forwardRef(a);return o[KU]=e,o}function eq({layoutId:e}){const t=j.useContext($b).id;return t&&e!==void 0?t+"-"+e:e}function tq(e,t){j.useContext(VA).strict}function nq(e){const{drag:t,layout:s}=bc;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sq(e,t){if(typeof Proxy>"u")return bv;const s=new Map,r=(a,o)=>bv(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(s.has(o)||s.set(o,bv(o,void 0,e,t)),s.get(o))})}function tO({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function rq({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iq(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function wv(e){return e===void 0||e===1}function ly({scale:e,scaleX:t,scaleY:s}){return!wv(e)||!wv(t)||!wv(s)}function go(e){return ly(e)||nO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function nO(e){return EN(e.x)||EN(e.y)}function EN(e){return e&&e!=="0%"}function um(e,t,s){const r=e-s,i=t*r;return s+i}function PN(e,t,s,r,i){return i!==void 0&&(e=um(e,i,r)),um(e,s,r)+t}function cy(e,t=0,s=1,r,i){e.min=PN(e.min,t,s,r,i),e.max=PN(e.max,t,s,r,i)}function sO(e,{x:t,y:s}){cy(e.x,t.translate,t.scale,t.originPoint),cy(e.y,s.translate,s.scale,s.originPoint)}const TN=.999999999999,AN=1.0000000000001;function aq(e,t,s,r=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let c=0;c<i;c++){a=s[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Rl(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,sO(e,o)),r&&go(a.latestValues)&&Rl(e,a.latestValues))}t.x<AN&&t.x>TN&&(t.x=1),t.y<AN&&t.y>TN&&(t.y=1)}function Ll(e,t){e.min=e.min+t,e.max=e.max+t}function ON(e,t,s,r,i=.5){const a=sn(e.min,e.max,i);cy(e,t,s,a,r)}function Rl(e,t){ON(e.x,t.x,t.scaleX,t.scale,t.originX),ON(e.y,t.y,t.scaleY,t.scale,t.originY)}function rO(e,t){return tO(iq(e.getBoundingClientRect(),t))}function oq(e,t,s){const r=rO(e,s),{scroll:i}=t;return i&&(Ll(r.x,i.offset.x),Ll(r.y,i.offset.y)),r}const LN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ml=()=>({x:LN(),y:LN()}),RN=()=>({min:0,max:0}),bn=()=>({x:RN(),y:RN()}),dy={current:null},iO={current:!1};function lq(){if(iO.current=!0,!!zb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dy.current=e.matches;e.addEventListener("change",t),t()}else dy.current=!1}const cq=new WeakMap;function dq(e,t,s){for(const r in t){const i=t[r],a=s[r];if(ns(i))e.addValue(r,i);else if(ns(a))e.addValue(r,yc(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,yc(o!==void 0?o:i,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const MN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uq{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const u=Cs.now();this.renderScheduledAt<u&&(this.renderScheduledAt=u,en.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Sp(s),this.isVariantNode=qA(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const u in m){const p=m[u];d[u]!==void 0&&ns(p)&&p.set(d[u])}}mount(t){var s;this.current=t,cq.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),iO.current||lq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dy.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Za(this.notifyUpdate),Za(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Vc.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&en.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bc){const s=bc[t];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<MN.length;r++){const i=MN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=dq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=yc(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(XT(r)||JT(r))?r=parseFloat(r):!wU(r)&&Ga.test(s)&&(r=RA(t,s)),this.setBaseTarget(t,ns(r)?r.get():r)),ns(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=mw(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ns(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Hb),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){aw.render(this.render)}}class aO extends uq{constructor(){super(...arguments),this.KeyframeResolver=cU}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ns(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function oO(e,{style:t,vars:s},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,r);for(o in s)a.setProperty(o,s[o])}function hq(e){return window.getComputedStyle(e)}class fq extends aO{constructor(){super(...arguments),this.type="html",this.renderInstance=oO}readValueFromInstance(t,s){var r;if(Vc.has(s))return(r=this.projection)!=null&&r.isProjecting?ty(s):E7(t,s);{const i=hq(t),a=(Gb(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return rO(t,s)}build(t,s,r){uw(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return pw(t,s,r)}}const lO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mq(e,t,s,r){oO(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(lO.has(i)?i:gw(i),t.attrs[i])}class pq extends aO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Vc.has(s)){const r=LA(s);return r&&r.default||0}return s=lO.has(s)?s:gw(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return XA(t,s,r)}build(t,s,r){ZA(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,i){mq(t,s,r,i)}mount(t){this.isSVGTag=KA(t.tagName),super.mount(t)}}const gq=(e,t)=>fw(e)?new pq(t):new fq(t,{allowProjection:e!==j.Fragment});function Kl(e,t,s){const r=e.getProps();return mw(r,t,s!==void 0?s:r.custom,e)}const uy=e=>Array.isArray(e);function vq(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,yc(s))}function xq(e){return uy(e)?e[e.length-1]||0:e}function yq(e,t){const s=Kl(e,t);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const c=xq(a[o]);vq(e,o,c)}}function bq(e){return!!(ns(e)&&e.add)}function hy(e,t){const s=e.getValue("willChange");if(bq(s))return s.add(t);if(!s&&Qi.WillChange){const r=new Qi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function cO(e){return e.props[QA]}const wq=e=>e!==null;function jq(e,{repeat:t,repeatType:s="loop"},r){const i=e.filter(wq),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const _q={type:"spring",stiffness:500,damping:25,restSpeed:10},Nq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Sq={type:"keyframes",duration:.8},kq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cq=(e,{keyframes:t})=>t.length>2?Sq:Vc.has(e)?e.startsWith("scale")?Nq(t[1]):_q:kq;function Eq({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...f}){return!!Object.keys(f).length}const vw=(e,t,s,r={},i,a)=>o=>{const c=rw(r,e)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-oi(d);const f={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:u=>{t.set(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:i};Eq(c)||Object.assign(f,Cq(e,f)),f.duration&&(f.duration=oi(f.duration)),f.repeatDelay&&(f.repeatDelay=oi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(ay(f),f.delay===0&&(m=!0)),(Qi.instantAnimations||Qi.skipAnimations)&&(m=!0,ay(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!a&&t.get()!==void 0){const u=jq(f.keyframes,c);if(u!==void 0){en.update(()=>{f.onUpdate(u),f.onComplete()});return}}return c.isSync?new nw(f):new X7(f)};function Pq({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function dO(e,t,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(a=r);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const m=e.getValue(f,e.latestValues[f]??null),u=c[f];if(u===void 0||h&&Pq(h,f))continue;const p={delay:s,...rw(a||{},f)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(u)&&u===x&&!p.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const b=cO(e);if(b){const y=window.MotionHandoffAnimation(b,f,en);y!==null&&(p.startTime=y,v=!0)}}hy(e,f),m.start(vw(f,m,u,e.shouldReduceMotion&&TA.has(f)?{type:!1}:p,e,v));const w=m.animation;w&&d.push(w)}return o&&Promise.all(d).then(()=>{en.update(()=>{o&&yq(e,o)})}),d}function uO(e,t,s,r=0,i=1){const a=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(t),o=e.size,c=(o-1)*r;return typeof s=="function"?s(a,o):i===1?a*r:c-a*r}function fy(e,t,s={}){var d;const r=Kl(e,t,s.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const a=r?()=>Promise.all(dO(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:u}=i;return Tq(e,t,h,f,m,u,s)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,f]=c==="beforeChildren"?[a,o]:[o,a];return h().then(()=>f())}else return Promise.all([a(),o(s.delay)])}function Tq(e,t,s=0,r=0,i=0,a=1,o){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(fy(d,t,{...o,delay:s+(typeof r=="function"?0:r)+uO(e.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function Aq(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>fy(e,a,s));r=Promise.all(i)}else if(typeof t=="string")r=fy(e,t,s);else{const i=typeof t=="function"?Kl(e,t,s.custom):t;r=Promise.all(dO(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function hO(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Oq=dw.length;function fO(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?fO(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Oq;s++){const r=dw[s],i=e.props[r];(Tu(i)||i===!1)&&(t[r]=i)}return t}const Lq=[...cw].reverse(),Rq=cw.length;function Mq(e){return t=>Promise.all(t.map(({animation:s,options:r})=>Aq(e,s,r)))}function Iq(e){let t=Mq(e),s=IN(),r=!0;const i=d=>(h,f)=>{var u;const m=Kl(e,f,d==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);if(m){const{transition:p,transitionEnd:x,...v}=m;h={...h,...v,...x}}return h};function a(d){t=d(e)}function o(d){const{props:h}=e,f=fO(e.parent)||{},m=[],u=new Set;let p={},x=1/0;for(let w=0;w<Rq;w++){const b=Lq[w],y=s[b],_=h[b]!==void 0?h[b]:f[b],N=Tu(_),E=b===d?y.isActive:null;E===!1&&(x=w);let I=_===f[b]&&_!==h[b]&&N;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),y.protectedKeys={...p},!y.isActive&&E===null||!_&&!y.prevProp||Np(_)||typeof _=="boolean")continue;const C=Dq(y.prevProp,_);let O=C||b===d&&y.isActive&&!I&&N||w>x&&N,A=!1;const k=Array.isArray(_)?_:[_];let R=k.reduce(i(b),{});E===!1&&(R={});const{prevResolvedValues:P={}}=y,T={...P,...R},M=Z=>{O=!0,u.has(Z)&&(A=!0,u.delete(Z)),y.needsAnimating[Z]=!0;const B=e.getValue(Z);B&&(B.liveStyle=!1)};for(const Z in T){const B=R[Z],q=P[Z];if(p.hasOwnProperty(Z))continue;let F=!1;uy(B)&&uy(q)?F=!hO(B,q):F=B!==q,F?B!=null?M(Z):u.add(Z):B!==void 0&&u.has(Z)?M(Z):y.protectedKeys[Z]=!0}y.prevProp=_,y.prevResolvedValues=R,y.isActive&&(p={...p,...R}),r&&e.blockInitialAnimation&&(O=!1);const H=I&&C;O&&(!H||A)&&m.push(...k.map(Z=>{const B={type:b};if(typeof Z=="string"&&r&&!H&&e.manuallyAnimateOnMount&&e.parent){const{parent:q}=e,F=Kl(q,Z);if(q.enteringChildren&&F){const{delayChildren:$}=F.transition||{};B.delay=uO(q.enteringChildren,e,$)}}return{animation:Z,options:B}}))}if(u.size){const w={};if(typeof h.initial!="boolean"){const b=Kl(e,Array.isArray(h.initial)?h.initial[0]:h.initial);b&&b.transition&&(w.transition=b.transition)}u.forEach(b=>{const y=e.getBaseTarget(b),_=e.getValue(b);_&&(_.liveStyle=!0),w[b]=y??null}),m.push({animation:w})}let v=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(m):Promise.resolve()}function c(d,h){var m;if(s[d].isActive===h)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(u=>{var p;return(p=u.animationState)==null?void 0:p.setActive(d,h)}),s[d].isActive=h;const f=o(d);for(const u in s)s[u].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>s,reset:()=>{s=IN(),r=!0}}}function Dq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hO(t,e):!1}function ho(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IN(){return{animate:ho(!0),whileInView:ho(),whileHover:ho(),whileTap:ho(),whileDrag:ho(),whileFocus:ho(),exit:ho()}}class so{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Fq extends so{constructor(t){super(t),t.animationState||(t.animationState=Iq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Np(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $q=0;class Bq extends so{constructor(){super(...arguments),this.id=$q++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const zq={animation:{Feature:Fq},exit:{Feature:Bq}};function Ou(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function eh(e){return{point:{x:e.pageX,y:e.pageY}}}const Vq=e=>t=>ow(t)&&e(t,eh(t));function Zd(e,t,s,r){return Ou(e,t,Vq(s),r)}const mO=1e-4,Uq=1-mO,qq=1+mO,pO=.01,Hq=0-pO,Wq=0+pO;function ps(e){return e.max-e.min}function Zq(e,t,s){return Math.abs(e-t)<=s}function DN(e,t,s,r=.5){e.origin=r,e.originPoint=sn(t.min,t.max,e.origin),e.scale=ps(s)/ps(t),e.translate=sn(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Uq&&e.scale<=qq||isNaN(e.scale))&&(e.scale=1),(e.translate>=Hq&&e.translate<=Wq||isNaN(e.translate))&&(e.translate=0)}function Gd(e,t,s,r){DN(e.x,t.x,s.x,r?r.originX:void 0),DN(e.y,t.y,s.y,r?r.originY:void 0)}function FN(e,t,s){e.min=s.min+t.min,e.max=e.min+ps(t)}function Gq(e,t,s){FN(e.x,t.x,s.x),FN(e.y,t.y,s.y)}function $N(e,t,s){e.min=t.min-s.min,e.max=e.min+ps(t)}function Kd(e,t,s){$N(e.x,t.x,s.x),$N(e.y,t.y,s.y)}function Js(e){return[e("x"),e("y")]}const gO=({current:e})=>e?e.ownerDocument.defaultView:null,BN=(e,t)=>Math.abs(e-t);function Kq(e,t){const s=BN(e.x,t.x),r=BN(e.y,t.y);return Math.sqrt(s**2+r**2)}class vO{constructor(t,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=_v(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=Kq(u.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:v}=u,{timestamp:w}=qn;this.history.push({...v,timestamp:w});const{onStart:b,onMove:y}=this.handlers;p||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,p)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=jv(p,this.transformPagePoint),en.update(this.updatePoint,!0)},this.handlePointerUp=(u,p)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=_v(u.type==="pointercancel"?this.lastMoveEventInfo:jv(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(u,b),v&&v(u,b)},!ow(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=eh(t),d=jv(c,this.transformPagePoint),{point:h}=d,{timestamp:f}=qn;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=s;m&&m(t,_v(d,this.history)),this.removeListeners=Xu(Zd(this.contextWindow,"pointermove",this.handlePointerMove),Zd(this.contextWindow,"pointerup",this.handlePointerUp),Zd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Za(this.updatePoint)}}function jv(e,t){return t?{point:t(e.point)}:e}function zN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _v({point:e},t){return{point:e,delta:zN(e,xO(t)),offset:zN(e,Yq(t)),velocity:Xq(t,.1)}}function Yq(e){return e[0]}function xO(e){return e[e.length-1]}function Xq(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=xO(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>oi(t)));)s--;if(!r)return{x:0,y:0};const a=li(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qq(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?sn(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?sn(s,e,r.max):Math.min(e,s)),e}function VN(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function Jq(e,{top:t,left:s,bottom:r,right:i}){return{x:VN(e.x,s,i),y:VN(e.y,t,r)}}function UN(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function eH(e,t){return{x:UN(e.x,t.x),y:UN(e.y,t.y)}}function tH(e,t){let s=.5;const r=ps(e),i=ps(t);return i>r?s=Cu(t.min,t.max-r,e.min):r>i&&(s=Cu(e.min,e.max-i,t.min)),Xi(0,1,s)}function nH(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const my=.35;function sH(e=my){return e===!1?e=0:e===!0&&(e=my),{x:qN(e,"left","right"),y:qN(e,"top","bottom")}}function qN(e,t,s){return{min:HN(e,t),max:HN(e,s)}}function HN(e,t){return typeof e=="number"?e:e[t]||0}const rH=new WeakMap;class iH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(eh(m).point)},o=(m,u)=>{const{drag:p,dragPropagation:x,onDragStart:v}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fU(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=u,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Js(b=>{let y=this.getAxisMotionValue(b).get()||0;if(ci.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const N=_.layout.layoutBox[b];N&&(y=ps(N)*(parseFloat(y)/100))}}this.originPoint[b]=y}),v&&en.postRender(()=>v(m,u)),hy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=u;if(x&&this.currentDirection===null){this.currentDirection=aH(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),w&&w(m,u)},d=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u,this.stop(m,u),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Js(m=>{var u;return this.getAnimationState(m)==="paused"&&((u=this.getAxisMotionValue(m).animation)==null?void 0:u.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new vO(t,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:gO(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&en.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:i}=this.getProps();if(!r||!Xh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Qq(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Ol(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Jq(r.layoutBox,t):this.constraints=!1,this.elastic=sH(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Js(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ol(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=oq(r,i.root,this.visualElement.getTransformPagePoint());let o=eH(i.layout.layoutBox,a);if(s){const c=s(rq(o));this.hasMutatedConstraints=!!c,c&&(o=tO(c))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Js(f=>{if(!Xh(f,s,this.currentDirection))return;let m=d&&d[f]||{};o&&(m={min:0,max:0});const u=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:r?t[f]:0,bounceStiffness:u,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(h).then(c)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return hy(this.visualElement,t),r.start(vw(t,r,0,s,this.visualElement,!1))}stopAnimation(){Js(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Js(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Js(s=>{const{drag:r}=this.getProps();if(!Xh(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[s];a.set(t[s]-sn(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Ol(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Js(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=tH({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Js(o=>{if(!Xh(o,t,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(sn(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;rH.set(this.visualElement,this);const t=this.visualElement.current,s=Zd(t,"pointerdown",d=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Ol(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),en.read(r);const o=Ou(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Js(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=d[f].translate,m.set(m.get()+d[f].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=my,dragMomentum:c=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Xh(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function aH(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class oH extends so{constructor(t){super(t),this.removeGroupControls=or,this.removeListeners=or,this.controls=new iH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||or}unmount(){this.removeGroupControls(),this.removeListeners()}}const WN=e=>(t,s)=>{e&&en.postRender(()=>e(t,s))};class lH extends so{constructor(){super(...arguments),this.removePointerDownListener=or}onPointerDown(t){this.session=new vO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:WN(t),onStart:WN(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&en.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Zd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const s=ZN(e,t.target.x),r=ZN(e,t.target.y);return`${s}% ${r}%`}},cH={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=Ga.parse(e);if(i.length>5)return r;const a=Ga.createTransformer(e),o=typeof i[0]!="number"?1:0,c=s.x.scale*t.x,d=s.y.scale*t.y;i[0+o]/=c,i[1+o]/=d;const h=sn(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let Nv=!1;class dH extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;OU(uH),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),Nv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,Nv=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||en.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),aw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=t;Nv=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yO(e){const[t,s]=zA(),r=j.useContext($b);return n.jsx(dH,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(JA),isPresent:t,safeToRemove:s})}const uH={borderRadius:{...bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bd,borderTopRightRadius:bd,borderBottomLeftRadius:bd,borderBottomRightRadius:bd,boxShadow:cH};function hH(e,t,s){const r=ns(e)?e:yc(e);return r.start(vw("",r,t,s)),r.animation}const fH=(e,t)=>e.depth-t.depth;class mH{constructor(){this.children=[],this.isDirty=!1}add(t){Vb(this.children,t),this.isDirty=!0}remove(t){Ub(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fH),this.isDirty=!1,this.children.forEach(t)}}function pH(e,t){const s=Cs.now(),r=({timestamp:i})=>{const a=i-s;a>=t&&(Za(r),e(a-t))};return en.setup(r,!0),()=>Za(r)}const bO=["TopLeft","TopRight","BottomLeft","BottomRight"],gH=bO.length,GN=e=>typeof e=="string"?parseFloat(e):e,KN=e=>typeof e=="number"||rt.test(e);function vH(e,t,s,r,i,a){i?(e.opacity=sn(0,s.opacity??1,xH(r)),e.opacityExit=sn(t.opacity??1,0,yH(r))):a&&(e.opacity=sn(t.opacity??1,s.opacity??1,r));for(let o=0;o<gH;o++){const c=`border${bO[o]}Radius`;let d=YN(t,c),h=YN(s,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||KN(d)===KN(h)?(e[c]=Math.max(sn(GN(d),GN(h),r),0),(ci.test(h)||ci.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||s.rotate)&&(e.rotate=sn(t.rotate||0,s.rotate||0,r))}function YN(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xH=wO(0,.5,oA),yH=wO(.5,.95,or);function wO(e,t,s){return r=>r<e?0:r>t?1:s(Cu(e,t,r))}function XN(e,t){e.min=t.min,e.max=t.max}function Xs(e,t){XN(e.x,t.x),XN(e.y,t.y)}function QN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function JN(e,t,s,r,i){return e-=t,e=um(e,1/s,r),i!==void 0&&(e=um(e,1/i,r)),e}function bH(e,t=0,s=1,r=.5,i,a=e,o=e){if(ci.test(t)&&(t=parseFloat(t),t=sn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=sn(a.min,a.max,r);e===a&&(c-=t),e.min=JN(e.min,t,s,c,i),e.max=JN(e.max,t,s,c,i)}function eS(e,t,[s,r,i],a,o){bH(e,t[s],t[r],t[i],t.scale,a,o)}const wH=["x","scaleX","originX"],jH=["y","scaleY","originY"];function tS(e,t,s,r){eS(e.x,t,wH,s?s.x:void 0,r?r.x:void 0),eS(e.y,t,jH,s?s.y:void 0,r?r.y:void 0)}function nS(e){return e.translate===0&&e.scale===1}function jO(e){return nS(e.x)&&nS(e.y)}function sS(e,t){return e.min===t.min&&e.max===t.max}function _H(e,t){return sS(e.x,t.x)&&sS(e.y,t.y)}function rS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _O(e,t){return rS(e.x,t.x)&&rS(e.y,t.y)}function iS(e){return ps(e.x)/ps(e.y)}function aS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NH{constructor(){this.members=[]}add(t){Vb(this.members,t),t.scheduleRender()}remove(t){if(Ub(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SH(e,t,s){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:u,skewX:p,skewY:x}=s;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),u&&(r+=`rotateY(${u}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Sv=["","X","Y","Z"],kH=1e3;let CH=0;function kv(e,t,s,r){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function NO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=cO(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",en,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&NO(r)}function SO({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=t==null?void 0:t()){this.id=CH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TH),this.nodes.forEach(RH),this.nodes.forEach(MH),this.nodes.forEach(AH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new mH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hb),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=BA(o)&&!yU(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let f,m=0;const u=()=>this.root.updateBlockedByResize=!1;en.read(()=>{m=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,f&&f(),f=pH(u,250),wf.hasAnimatedSinceResize&&(wf.hasAnimatedSinceResize=!1,this.nodes.forEach(cS)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:u,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||BH,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=h.getProps(),b=!this.targetLayout||!_O(this.targetLayout,p),y=!m&&u;if(this.options.layoutRoot||this.resumeFrom||y||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...rw(x,"layout"),onPlay:v,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(f,y)}else m||cS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Za(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LH),this.nodes.forEach(EH),this.nodes.forEach(PH)):this.nodes.forEach(lS),this.clearAllSnapshots();const c=Cs.now();qn.delta=Xi(0,1e3/60,c-qn.timestamp),qn.timestamp=c,qn.isProcessing=!0,mv.update.process(qn),mv.preRender.process(qn),mv.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OH),this.sharedNodes.forEach(DH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,en.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){en.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ps(this.snapshot.measuredBox.x)&&!ps(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!jO(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||go(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),zH(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return bn();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(VH))){const{scroll:f}=this.root;f&&(Ll(c.x,f.offset.x),Ll(c.y,f.offset.y))}return c}removeElementScroll(o){var d;const c=bn();if(Xs(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:u}=f;f!==this.root&&m&&u.layoutScroll&&(m.wasRoot&&Xs(c,o),Ll(c.x,m.offset.x),Ll(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const d=bn();Xs(d,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Rl(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),go(f.latestValues)&&Rl(d,f.latestValues)}return go(this.latestValues)&&Rl(d,this.latestValues),d}removeTransform(o){const c=bn();Xs(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!go(h.latestValues))continue;ly(h.latestValues)&&h.updateSnapshot();const f=bn(),m=h.measurePageBox();Xs(f,m),tS(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return go(this.latestValues)&&tS(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),Kd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xs(this.target,this.layout.layoutBox),sO(this.target,this.targetDelta)):Xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),Kd(this.relativeTargetOrigin,this.target,p.target),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ly(this.parent.latestValues)||nO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Xs(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,u=this.treeScale.y;aq(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=bn());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QN(this.prevProjectionDelta.x,this.projectionDelta.x),QN(this.prevProjectionDelta.y,this.projectionDelta.y)),Gd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==u||!aS(this.projectionDelta.x,this.prevProjectionDelta.x)||!aS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ml(),this.projectionDelta=Ml(),this.projectionDeltaWithTransform=Ml()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},f={...this.latestValues},m=Ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const u=bn(),p=d?d.source:void 0,x=this.layout?this.layout.source:void 0,v=p!==x,w=this.getStack(),b=!w||w.members.length<=1,y=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some($H));this.animationProgress=0;let _;this.mixTargetDelta=N=>{const E=N/1e3;dS(m.x,o.x,E),dS(m.y,o.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kd(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FH(this.relativeTarget,this.relativeTargetOrigin,u,E),_&&_H(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=bn()),Xs(_,this.relativeTarget)),v&&(this.animationValues=f,vH(f,h,this.latestValues,E,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Za(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=en.update(()=>{wf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yc(0)),this.currentAnimation=hH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:f}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&kO(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||bn();const m=ps(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+m;const u=ps(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+u}Xs(c,d),Rl(c,f),Gd(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NH),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&kv("z",o,h,this.animationValues);for(let f=0;f<Sv.length;f++)kv(`rotate${Sv[f]}`,o,h,this.animationValues),kv(`skew${Sv[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=bf(c==null?void 0:c.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=bf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=SH(this.projectionDeltaWithTransform,this.treeScale,f);d&&(m=d(f,m)),o.transform=m;const{x:u,y:p}=this.projectionDelta;o.transformOrigin=`${u.origin*100}% ${p.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Au){if(f[x]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:b}=Au[x],y=m==="none"?f[x]:v(f[x],h);if(w){const _=w.length;for(let N=0;N<_;N++)o[w[N]]=y}else b?this.options.visualElement.renderState.vars[x]=y:o[x]=y}this.options.layoutId&&(o.pointerEvents=h===this?bf(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(oS),this.root.sharedNodes.clear()}}}function EH(e){e.updateLayout()}function PH(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Js(m=>{const u=o?t.measuredBox[m]:t.layoutBox[m],p=ps(u);u.min=r[m].min,u.max=u.min+p}):kO(a,t.layoutBox,r)&&Js(m=>{const u=o?t.measuredBox[m]:t.layoutBox[m],p=ps(r[m]);u.max=u.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const c=Ml();Gd(c,r,t.layoutBox);const d=Ml();o?Gd(d,e.applyTransform(i,!0),t.measuredBox):Gd(d,r,t.layoutBox);const h=!jO(c);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:u,layout:p}=m;if(u&&p){const x=bn();Kd(x,t.layoutBox,u.layoutBox);const v=bn();Kd(v,r,p.layoutBox),_O(x,v)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function TH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function AH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function OH(e){e.clearSnapshot()}function oS(e){e.clearMeasurements()}function lS(e){e.isLayoutDirty=!1}function LH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function RH(e){e.resolveTargetDelta()}function MH(e){e.calcProjection()}function IH(e){e.resetSkewAndRotation()}function DH(e){e.removeLeadSnapshot()}function dS(e,t,s){e.translate=sn(t.translate,0,s),e.scale=sn(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function uS(e,t,s,r){e.min=sn(t.min,s.min,r),e.max=sn(t.max,s.max,r)}function FH(e,t,s,r){uS(e.x,t.x,s.x,r),uS(e.y,t.y,s.y,r)}function $H(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const BH={duration:.45,ease:[.4,0,.1,1]},hS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fS=hS("applewebkit/")&&!hS("chrome/")?Math.round:or;function mS(e){e.min=fS(e.min),e.max=fS(e.max)}function zH(e){mS(e.x),mS(e.y)}function kO(e,t,s){return e==="position"||e==="preserve-aspect"&&!Zq(iS(t),iS(s),.2)}function VH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const UH=SO({attachResizeListener:(e,t)=>Ou(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cv={current:void 0},CO=SO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cv.current){const e=new UH({});e.mount(window),e.setOptions({layoutScroll:!0}),Cv.current=e}return Cv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qH={pan:{Feature:lH},drag:{Feature:oH,ProjectionNode:CO,MeasureLayout:yO}};function pS(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&en.postRender(()=>a(t,eh(t)))}class HH extends so{mount(){const{current:t}=this.node;t&&(this.unmount=mU(t,(s,r)=>(pS(this.node,r,"Start"),i=>pS(this.node,i,"End"))))}unmount(){}}class WH extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xu(Ou(this.node.current,"focus",()=>this.onFocus()),Ou(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gS(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&en.postRender(()=>a(t,eh(t)))}class ZH extends so{mount(){const{current:t}=this.node;t&&(this.unmount=xU(t,(s,r)=>(gS(this.node,r,"Start"),(i,{success:a})=>gS(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const py=new WeakMap,Ev=new WeakMap,GH=e=>{const t=py.get(e.target);t&&t(e)},KH=e=>{e.forEach(GH)};function YH({root:e,...t}){const s=e||document;Ev.has(s)||Ev.set(s,{});const r=Ev.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(KH,{root:e,...t})),r[i]}function XH(e,t,s){const r=YH(t);return py.set(e,s),r.observe(e),()=>{py.delete(e),r.unobserve(e)}}const QH={some:0,all:1};class JH extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QH[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),u=h?f:m;u&&u(d)};return XH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(eW(t,s))&&this.startObserver()}unmount(){}}function eW({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const tW={inView:{Feature:JH},tap:{Feature:ZH},focus:{Feature:WH},hover:{Feature:HH}},nW={layout:{ProjectionNode:CO,MeasureLayout:yO}},sW={...zq,...tW,...qH,...nW},Yl=sq(sW,gq),rW=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function iW(e){const t=Math.floor(e),s=e%1>=.5,r=5-t-(s?1:0);return n.jsxs(n.Fragment,{children:[Array.from({length:t}).map((i,a)=>n.jsx(vn,{className:"h-2.5 w-2.5 fill-yellow-400 text-yellow-400"},`full-${a}`)),s&&n.jsx(vn,{className:"h-2.5 w-2.5 fill-yellow-400 text-yellow-400",style:{clipPath:"inset(0 50% 0 0)"}},"half"),Array.from({length:r}).map((i,a)=>n.jsx(vn,{className:"h-2.5 w-2.5 stroke-yellow-400 text-transparent"},`empty-${a}`))]})}function aW(){const e=nt(),[t,s]=j.useState([]),[r,i]=j.useState(!0),[a,o]=j.useState(xt.getLocation());j.useEffect(()=>{const f=xt.subscribe(o);return c(),f},[]),j.useEffect(()=>{a&&c()},[a]);const c=async()=>{try{i(!0);const f={"ngrok-skip-browser-warning":"true"},m=xt.getLocation(),u=new URLSearchParams({page_size:"20"});m&&(u.append("latitude",m.latitude.toString()),u.append("longitude",m.longitude.toString()));const x=await(await fetch(`${Je}search/products/?${u}`,{headers:f})).json(),v=d(x.results||[]);s(v)}catch(f){console.error("Error fetching trending items:",f)}finally{i(!1)}},d=f=>{const m=xt.getLocation();let u=f.map(p=>{var b,y;const x=((b=p.images)==null?void 0:b.find(_=>_.is_primary))||((y=p.images)==null?void 0:y[0]);let v="N/A",w=1/0;return m&&p.vendor_latitude&&p.vendor_longitude&&(w=rW(m.latitude,m.longitude,p.vendor_latitude,p.vendor_longitude),v=`${w.toFixed(1)} km`),{id:p.id,name:p.name,vendor:p.vendor_name||"Unknown Vendor",distance:v,distanceValue:w,rating:4.5,price:`${p.price}`,priceValue:parseFloat(p.price),image:(x==null?void 0:x.image_url)||"/placeholder-product.jpg",inStock:p.quantity>0,category:p.category}});return u.sort((p,x)=>x.rating-p.rating),u.slice(0,6)},h=f=>{e(`/product/${f}`)};return r?n.jsxs("section",{className:"px-4 sm:px-6 md:px-8 mb-6 lg:mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground tracking-tight",children:"Trending Now "}),n.jsx(te,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/trending-items"),children:"View All"})]}),n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(os,{className:"h-8 w-8 animate-spin"})})]}):n.jsxs("section",{className:"px-4 sm:px-6 md:px-8 mb-6 lg:mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground tracking-tight",children:"Trending Now "}),n.jsx(te,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/trending-items"),children:"View All"})]}),n.jsx("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto custom-scrollbar pb-3 snap-x snap-mandatory",children:t.map((f,m)=>n.jsxs(Yl.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,delay:m*.08,ease:"easeOut"},whileHover:{scale:1.03,boxShadow:"0 12px 24px rgba(0,0,0,0.15)"},whileTap:{scale:.97},className:"relative min-w-[120px] sm:min-w-[140px] md:min-w-[120px] bg-gradient-to-br from-card/90 to-card rounded-xl p-3 shadow-lg border border-border/20 hover:shadow-xl hover:border-primary/40 transition-all duration-300 cursor-pointer group snap-start",onClick:()=>h(f.id),"aria-label":`View ${f.name} from ${f.vendor}`,children:[n.jsxs(N1,{children:[n.jsx(S1,{asChild:!0,children:n.jsx("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-full p-1 shadow-md group-hover:animate-bounce",children:n.jsx(SD,{className:"h-3 w-3"})})}),n.jsx($x,{side:"top",className:"text-xs",children:"Hot Item!"})]}),n.jsx("div",{className:"w-full h-20 mb-2 overflow-hidden rounded-md",children:n.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out",onError:u=>{u.target.src="/placeholder-product.jpg"}})}),n.jsx("h3",{className:"font-semibold text-xs mb-1 text-foreground line-clamp-1",children:f.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-1 truncate",children:f.vendor}),n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"flex gap-0.5",children:iW(f.rating)}),n.jsxs(N1,{children:[n.jsx(S1,{asChild:!0,children:n.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{className:"text-xs",children:f.distance})]})}),n.jsx($x,{side:"bottom",className:"text-xs",children:"Distance from you"})]})]}),n.jsx("p",{className:"font-bold text-primary text-sm",children:f.price})]},f.id))})]})}const oW=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function lW(){const e=nt(),{addToCart:t}=ur(),{toast:s}=cn(),[r,i]=j.useState([]),[a,o]=j.useState(!0),[c,d]=j.useState(xt.getLocation());j.useEffect(()=>{const p=xt.subscribe(d);return h(),p},[]),j.useEffect(()=>{c&&h()},[c]);const h=async()=>{try{o(!0);const p={"ngrok-skip-browser-warning":"true"},x=xt.getLocation(),v=new URLSearchParams({page_size:"20"});x&&(v.append("latitude",x.latitude.toString()),v.append("longitude",x.longitude.toString()));const b=await(await fetch(`${Je}search/products/?${v}`,{headers:p})).json(),y=f(b.results||[]);i(y)}catch(p){console.error("Error fetching featured products:",p)}finally{o(!1)}},f=p=>{const x=xt.getLocation();let w=p.filter(b=>b.featured===!0).map(b=>{var E,I;const y=((E=b.images)==null?void 0:E.find(C=>C.is_primary))||((I=b.images)==null?void 0:I[0]);let _="N/A",N=1/0;return x&&b.vendor_latitude&&b.vendor_longitude&&(N=oW(x.latitude,x.longitude,b.vendor_latitude,b.vendor_longitude),_=`${N.toFixed(1)} km`),{id:b.id,name:b.name,vendor:b.vendor_name||"Unknown Vendor",distance:_,distanceValue:N,rating:4.5,price:`${b.price}`,priceValue:parseFloat(b.price),image:(y==null?void 0:y.image_url)||"/placeholder-product.jpg",inStock:b.quantity>0,category:b.category,featured:b.featured}});return w.sort((b,y)=>y.rating-b.rating),w.slice(0,6)},m=p=>{e(`/product/${p}`)},u=p=>{t(p.id,1),s({title:"Added to Cart",description:`${p.name} added to your cart`}),e("/cart")};return a?n.jsxs("section",{className:"px-4 py-3 mb-8 bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h2",{className:"text-xl md:text-2xl font-semibold tracking-tight text-black",children:"Featured Products"})}),n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(os,{className:"h-8 w-8 animate-spin"})})]}):n.jsxs("section",{className:"px-4 py-3 mb-8 bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl md:text-2xl font-semibold tracking-tight text-black",children:"Featured Products"}),n.jsx(te,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/featured-items"),children:"View All"})]}),n.jsx("div",{className:"flex gap-3 overflow-x-auto pb-3 md:grid md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 md:overflow-visible md:pb-0",children:r.map((p,x)=>n.jsxs(Yl.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:x*.1,duration:.3},whileHover:{scale:1.02,rotate:.5},className:"relative flex-shrink-0 w-40 md:w-auto rounded-lg bg-white border border-gray-200 hover:border-[#856043] shadow-sm hover:shadow-md hover:bg-gray-50 transition-all duration-300 overflow-hidden group cursor-pointer",onClick:()=>m(p.id),children:[n.jsx(Yl.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:x*.1+.2,duration:.2},className:"absolute top-2 left-2 bg-emerald-600 text-white text-xs px-2 py-0.5 rounded-full font-semibold shadow-sm",children:"Featured"}),n.jsx("div",{className:"w-full h-32 overflow-hidden",children:n.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:v=>{v.target.src="/placeholder-product.jpg"}})}),n.jsxs("div",{className:"p-3 flex flex-col justify-between h-40",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-xs md:text-sm text-gray-800 mb-1 line-clamp-2 leading-tight",children:p.name}),n.jsx("p",{className:"text-xs text-gray-600 mb-1 truncate",children:p.vendor})]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"font-medium text-sm text-[#856043]",children:p.price})}),n.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[Array.from({length:5}).map((v,w)=>n.jsx("span",{className:`text-xs ${w<Math.floor(p.rating)?"text-amber-400":"text-gray-300"}`,children:""},w)),n.jsx("span",{className:"text-xs text-gray-500 ml-1",children:p.rating.toFixed(1)})]}),n.jsx("div",{className:"flex justify-center",children:p.inStock?n.jsxs(te,{variant:"outline",className:"w-full text-xs py-1.5 shadow-sm h-7",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},onMouseOver:v=>{v.currentTarget.style.backgroundColor="#856043",v.currentTarget.style.color="#ffffff"},onMouseOut:v=>{v.currentTarget.style.backgroundColor="transparent",v.currentTarget.style.color="#856043"},onClick:v=>{v.stopPropagation(),u(p)},children:[n.jsx(ss,{className:"h-3 w-3 mr-1"})," Buy"]}):n.jsx(te,{disabled:!0,className:"w-full bg-gray-200 text-gray-500 cursor-not-allowed text-xs py-1.5 shadow-sm h-7",children:"Out of Stock"})})]})]})]},p.id))}),r.length===0&&!a&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No featured products"}),n.jsx("p",{className:"text-muted-foreground",children:"Featured products will appear here when available"})]})]})}const cW=e=>[{icon:nb,label:"Home",id:"home",path:"/home"},{icon:Ot,label:"Product",id:"search",path:"/search"},{icon:ss,label:"Cart",id:"cart",path:"/cart",badge:e>0?e:void 0},{icon:wD,label:"Orders",id:"orders",path:"/orders"},{icon:Er,label:"Profile",id:"profile",path:"/profile"}];function Os(){const[e,t]=j.useState("home"),s=nt(),r=na(),{cart:i}=ur(),a=cW((i==null?void 0:i.total_items)||0);j.useEffect(()=>{const c=r.pathname,d=a.find(h=>h.path===c);d&&t(d.id)},[r.pathname]);const o=(c,d)=>{t(c),s(d)};return n.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200/50 z-50 shadow-[0_-2px_8px_rgba(0,0,0,0.05)]",children:[n.jsx("div",{className:"flex justify-around items-center h-20 md:h-14 max-w-lg mx-auto py-2 md:py-1",children:a.map(c=>{const d=e===c.id;return n.jsxs("button",{onClick:()=>o(c.id,c.path),className:`relative flex flex-col items-center justify-center p-4 md:p-2 transition-all duration-300 ease-in-out group ${d?"text-black":"text-gray-500 hover:text-black/80"}`,children:[n.jsxs("div",{className:"relative flex items-center justify-center",children:[n.jsx(c.icon,{className:`h-6 w-6 md:h-5 md:w-5 transition-all duration-300 ease-in-out ${d?"scale-110 drop-shadow-[0_0_6px_rgba(0,0,0,0.2)]":"group-hover:scale-105 group-hover:drop-shadow-[0_0_4px_rgba(0,0,0,0.1)]"}`}),c.badge&&n.jsx("span",{className:"absolute -top-2 -right-3 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold animate-bounce",children:c.badge})]}),n.jsx("span",{className:"text-xs font-semibold tracking-wide mt-1.5 font-sans",children:c.label}),d&&n.jsx("div",{className:"absolute bottom-0 w-10 h-1 bg-black rounded-full shadow-[0_0_6px_rgba(0,0,0,0.3)] animate-scale-in"}),n.jsx("div",{className:`absolute inset-0 rounded-full bg-black/5 transition-all duration-300 ${d?"opacity-10 scale-105":"opacity-0 group-hover:opacity-10 group-hover:scale-100"}`})]},c.id)})}),n.jsx("style",{children:`
        .animate-scale-in {
          animation: scale-in 0.3s ease-in-out;
        }
        @keyframes scale-in {
          from {
            transform: scaleX(0);
          }
          to {
            transform: scaleX(1);
          }
        }
        .animate-bounce {
          animation: bounce 1.8s ease-in-out infinite;
        }
        @keyframes bounce {
          0%, 100% {
            transform: translateY(-20%);
            animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
          }
          50% {
            transform: translateY(0);
            animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
          }
        }
      `})]})}const vS=()=>n.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[n.jsx(v9,{}),n.jsx(y9,{}),n.jsx(w9,{}),n.jsx(k9,{}),n.jsx(aW,{}),n.jsx(lW,{}),n.jsx(Os,{})]}),is=e=>{if(!e)return"/placeholder-product.jpg";if(e.includes("ngrok-free.app")){const r=new URL(e);return r.searchParams.set("ngrok-skip-browser-warning","true"),r.toString()}if(e.startsWith("/media/")||e.startsWith("media/")){const r=`${As.BASE_URL}${e.startsWith("/")?e:`/${e}`}`,i=new URL(r);return i.searchParams.set("ngrok-skip-browser-warning","true"),i.toString()}if(e.startsWith("http"))return e;const t=`${As.BASE_URL}/media/${e}`,s=new URL(t);return s.searchParams.set("ngrok-skip-browser-warning","true"),s.toString()};function dW(){var k,R,P;const e=nt(),{id:t}=pp(),{addToCart:s}=ur(),{toast:r}=cn(),[i,a]=j.useState(1),[o,c]=j.useState(!1),[d,h]=j.useState(!1),[f,m]=j.useState(null),[u,p]=j.useState(!0),[x,v]=j.useState(""),[w,b]=j.useState(0);j.useEffect(()=>{t&&y()},[t]);const y=async()=>{var T,M;try{p(!0);const H=await fetch(`${Je}api/search/products/?page_size=1000`,{headers:{"ngrok-skip-browser-warning":"true"}});if(!H.ok)throw new Error("Failed to fetch products");const Z=(T=(await H.json()).results)==null?void 0:T.find(q=>q.id===parseInt(t));if(!Z)throw new Error("Product not found");m(Z);const B=await Te.getToken();if(B)try{const q=await fetch(`${Je}favorites/`,{headers:{Authorization:`Token ${B}`,"ngrok-skip-browser-warning":"true"}});if(q.ok){const $=(M=(await q.json()).results)==null?void 0:M.some(z=>z.product.id===Z.id);c($||!1)}}catch(q){console.log("Could not fetch favorites:",q)}}catch(H){console.error("Error fetching product:",H),v("Failed to load product details")}finally{p(!1)}},_=T=>{a(Math.max(1,i+T))},N=async()=>{if(f){h(!0);try{await s(f.id,i)}catch{}finally{h(!1)}}},E=async()=>{f&&e("/checkout",{state:{directBuy:!0,product:{id:f.id,name:f.name,price:f.price,quantity:i,vendor_name:f.vendor_name,vendor_id:f.vendor_id,images:f.images}}})},I=async()=>{if(!f)return;const T=await Te.getToken();if(!T){r({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const M=await fetch(`${Je}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${T}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({product_id:f.id})});if(!M.ok)throw new Error("Failed to toggle favorite");const H=await M.json();c(H.is_favorite),r({title:H.is_favorite?"Added to Favorites":"Removed from Favorites",description:H.message})}catch(M){console.error("Error toggling favorite:",M),r({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},C=async()=>{if(!f)return;const T={title:f.name,text:`Check out ${f.name} - ${f.price}`,url:window.location.href};try{navigator.share?await navigator.share(T):(await navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Product link copied to clipboard"}))}catch(M){console.error("Error sharing:",M),r({title:"Error",description:"Failed to share product",variant:"destructive"})}};if(u)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(os,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading product details..."})]})});if(x||!f)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:x||"Product not found"}),n.jsx(te,{onClick:()=>e(-1),children:"Go Back"})]})});const O=((k=f.images)==null?void 0:k.find(T=>T.is_primary))||((R=f.images)==null?void 0:R[0]),A=((P=f.images)==null?void 0:P[w])||O;return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-md",children:n.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"rounded-full hover:bg-gray-100",children:n.jsx(Dt,{className:"h-5 w-5 text-gray-800"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:I,className:"rounded-full hover:bg-gray-100",children:n.jsx(dr,{className:`h-5 w-5 ${o?"fill-red-500 text-red-500":"text-gray-800"}`})}),n.jsx(te,{variant:"ghost",size:"icon",onClick:C,className:"rounded-full hover:bg-gray-100",children:n.jsx(AD,{className:"h-5 w-5 text-gray-800"})})]})]})}),n.jsxs("div",{className:"relative bg-white p-4",children:[n.jsx("div",{className:"aspect-square max-w-md mx-auto mb-4 border-t-2 border-b-2 border-gray-100",children:n.jsx("img",{src:is(A==null?void 0:A.image_url),alt:f.name,className:"w-full h-full object-cover",onError:T=>{T.target.src="/placeholder-product.jpg"}})}),f.images&&f.images.length>1&&n.jsx("div",{className:"border-t border-b border-gray-200 py-3",children:n.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-md mx-auto",children:f.images.slice(0,4).map((T,M)=>n.jsx("button",{onClick:()=>b(M),className:`aspect-square overflow-hidden border-2 transition-all duration-200 ${w===M?"border-blue-500 shadow-md scale-105":"border-gray-300 hover:border-gray-400"}`,children:n.jsx("img",{src:is(T.image_url),alt:`${f.name} ${M+1}`,className:"w-full h-full object-cover",onError:H=>{H.target.src="/placeholder-product.jpg"}})},T.id))})})]}),n.jsxs("div",{className:"bg-white px-4 py-6 space-y-4 shadow-sm",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:f.name}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-baseline gap-2",children:n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",f.price]})}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"4.5"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Me,{variant:"secondary",className:"bg-blue-100 text-blue-800 capitalize",children:f.category}),f.quantity>0?n.jsxs(Me,{variant:"secondary",className:"bg-green-100 text-green-800",children:["In Stock (",f.quantity," available)"]}):n.jsx(Me,{variant:"destructive",children:"Out of Stock"})]})]}),n.jsxs("div",{className:"bg-white px-4 py-6 space-y-2 shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Description"}),n.jsx("div",{className:"text-sm text-gray-600 leading-relaxed",dangerouslySetInnerHTML:{__html:f.description}}),f.short_description&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Summary:"})," ",f.short_description]})]}),f.tags&&f.tags.length>0&&n.jsxs("div",{className:"bg-white px-4 py-6 space-y-2 shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:f.tags.map((T,M)=>n.jsx(Me,{variant:"outline",className:"text-xs border-gray-300 text-gray-700",children:T},M))})]}),n.jsx("div",{className:"mx-4 my-4 bg-white shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e(`/vendor/${f.vendor_id}`),children:n.jsxs("div",{className:"p-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 flex items-center justify-center text-2xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900",children:f.vendor_name}),n.jsx(gi,{className:"h-4 w-4 text-primary"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:"4.8"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ir,{className:"h-3 w-3"}),n.jsx("span",{children:"30-45 mins"})]})]})]})]})}),n.jsxs("div",{className:"bg-white px-4 py-6 flex items-center justify-between shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Quantity"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"outline",size:"icon",onClick:()=>_(-1),className:"h-8 w-8 rounded-full",children:n.jsx(ED,{className:"h-4 w-4"})}),n.jsx("span",{className:"font-semibold text-lg w-8 text-center",children:i}),n.jsx(te,{variant:"outline",size:"icon",onClick:()=>_(1),className:"h-8 w-8 rounded-full",children:n.jsx(gn,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4",children:n.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[n.jsx(te,{variant:"outline",className:"flex-1 h-12 rounded-lg text-gray-800 font-semibold",onClick:N,disabled:d||f.quantity===0,children:d?"Adding...":"Add to Cart"}),n.jsx(te,{className:"flex-1 h-12 rounded-lg bg-green-600 hover:bg-green-700 text-white font-semibold",onClick:E,disabled:d||f.quantity===0,children:d?"Processing...":"Buy Now"})]})})]})}const Ne=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ne.displayName="Card";const ot=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ve("flex flex-col space-y-1.5 p-6",e),...t}));ot.displayName="CardHeader";const lt=j.forwardRef(({className:e,...t},s)=>n.jsx("h3",{ref:s,className:Ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));lt.displayName="CardTitle";const uW=j.forwardRef(({className:e,...t},s)=>n.jsx("p",{ref:s,className:Ve("text-sm text-muted-foreground",e),...t}));uW.displayName="CardDescription";const ke=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ve("p-6 pt-0",e),...t}));ke.displayName="CardContent";const hW=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ve("flex items-center p-6 pt-0",e),...t}));hW.displayName="CardFooter";var kp="Tabs",[fW,_se]=ls(kp,[$c]),EO=$c(),[mW,xw]=fW(kp),PO=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=e,f=Fc(c),[m,u]=Lr({prop:r,onChange:i,defaultProp:a??"",caller:kp});return n.jsx(mW,{scope:s,baseId:Ar(),value:m,onValueChange:u,orientation:o,dir:f,activationMode:d,children:n.jsx(We.div,{dir:f,"data-orientation":o,...h,ref:t})})});PO.displayName=kp;var TO="TabsList",AO=j.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...i}=e,a=xw(TO,s),o=EO(s);return n.jsx(Eb,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:n.jsx(We.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});AO.displayName=TO;var OO="TabsTrigger",LO=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:i=!1,...a}=e,o=xw(OO,s),c=EO(s),d=IO(o.baseId,r),h=DO(o.baseId,r),f=r===o.value;return n.jsx(Pb,{asChild:!0,...c,focusable:!i,active:f,children:n.jsx(We.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:Le(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:Le(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:Le(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(r)})})})});LO.displayName=OO;var RO="TabsContent",MO=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:i,children:a,...o}=e,c=xw(RO,s),d=IO(c.baseId,r),h=DO(c.baseId,r),f=r===c.value,m=j.useRef(f);return j.useEffect(()=>{const u=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(u)},[]),n.jsx(Gn,{present:i||f,children:({present:u})=>n.jsx(We.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!u,id:h,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:u&&a})})});MO.displayName=RO;function IO(e,t){return`${e}-trigger-${t}`}function DO(e,t){return`${e}-content-${t}`}var pW=PO,FO=AO,$O=LO,BO=MO;const ra=pW,bi=j.forwardRef(({className:e,...t},s)=>n.jsx(FO,{ref:s,className:Ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));bi.displayName=FO.displayName;const Mt=j.forwardRef(({className:e,...t},s)=>n.jsx($O,{ref:s,className:Ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Mt.displayName=$O.displayName;const ft=j.forwardRef(({className:e,...t},s)=>n.jsx(BO,{ref:s,className:Ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ft.displayName=BO.displayName;const gW=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function vW(){var N;const e=nt(),{vendorId:t}=pp(),[s,r]=j.useState(!1),[i,a]=j.useState(null),[o,c]=j.useState([]),[d,h]=j.useState(!0),[f,m]=j.useState(null),[u,p]=j.useState(xt.getLocation()),[x,v]=j.useState("N/A"),{toast:w}=cn(),{addToCart:b}=ur();j.useEffect(()=>{const E=xt.subscribe(p);return xt.startTracking(),E},[]),j.useEffect(()=>{t&&y()},[t]);const y=async()=>{var E;try{h(!0),m(null);const{response:I,data:C}=await Fe(`/api/vendors/${t}/`);if(!I.ok)throw I.status===404?new Error("Vendor not found"):new Error("Failed to fetch vendor profile");if(!C)throw new Error("No vendor data received");a(C);const O=xt.getLocation();if(O&&C.latitude&&C.longitude){const R=gW(O.latitude,O.longitude,C.latitude,C.longitude);v(`${R.toFixed(1)} km`)}const{response:A,data:k}=await Fe(`/api/search/products/?search=${encodeURIComponent(C.business_name)}`);if(A.ok&&k){const R=((E=k.results)==null?void 0:E.filter(P=>P.vendor_name===C.business_name))||[];c(R)}if(!I.ok)throw I.status===404?new Error("Vendor not found"):new Error("Failed to fetch vendor profile")}catch(I){console.error("Error fetching vendor profile:",I),m(I.message),w({title:"Error",description:"Failed to load vendor profile",variant:"destructive"})}finally{h(!1)}},_=E=>{const I=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],C=[];for(const O of I){const A=`${O}_open`,k=`${O}_close`,R=`${O}_closed`;!E[R]&&E[A]&&E[k]&&C.push(`${O.charAt(0).toUpperCase()+O.slice(1)}: ${E[A]} - ${E[k]}`)}return C.length>0?C.join(", "):"Hours not specified"};return d?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(os,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading vendor profile..."})]})}):f||!i?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between p-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold",children:"Vendor Not Found"}),n.jsx("div",{className:"w-10"})]})}),n.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ss,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The vendor you're looking for doesn't exist or is not available."}),n.jsx(te,{onClick:()=>e("/search"),children:"Browse Vendors"})]})})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between p-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold truncate",children:i.business_name}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>r(!s),className:"p-2",children:n.jsx(dr,{className:`h-5 w-5 ${s?"fill-red-500 text-red-500":""}`})})]})}),n.jsx("div",{className:"p-4 bg-gradient-subtle",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:(N=i.user_info)!=null&&N.profile_picture?n.jsx("img",{src:is(i.user_info.profile_picture),alt:i.business_name,className:"w-full h-full object-cover",onError:E=>{E.target.src="/placeholder-vendor.jpg"}}):n.jsx(Ss,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h2",{className:"text-lg font-bold",children:i.business_name}),i.is_approved&&n.jsx(gi,{className:"h-5 w-5 text-green-500"}),n.jsx(Me,{variant:i.is_active?"default":"destructive",className:"text-xs",children:i.is_active?"Open":"Closed"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"font-medium",children:"4.5"}),n.jsx("span",{children:"(Reviews coming soon)"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bt,{className:"h-4 w-4"}),n.jsx("span",{children:x})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.categories&&i.categories.map((E,I)=>n.jsx(Me,{variant:"secondary",className:"text-xs",children:E},I))})]})]})}),n.jsx("div",{className:"px-4 py-3 bg-card border-b border-border/50",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx(ir,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery"}),n.jsx("p",{className:"text-sm font-medium",children:i.estimated_delivery_time||"30-45 mins"})]}),n.jsxs("div",{children:[n.jsx(Ss,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Min Order"}),n.jsxs("p",{className:"text-sm font-medium",children:["",i.min_order_amount||"0"]})]}),n.jsxs("div",{children:[n.jsx(Bt,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Type"}),n.jsx("p",{className:"text-sm font-medium capitalize",children:i.business_type})]})]})}),n.jsxs("div",{className:"px-4 py-3 flex gap-3",children:[n.jsxs(te,{variant:"brand",className:"flex-1 h-10",onClick:()=>e(`/messages?vendor=${i.user}`),children:[n.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Message"]}),n.jsxs(te,{variant:"outline",className:"flex-1 h-10",onClick:()=>{if(i.latitude&&i.longitude&&u){const E=`https://www.google.com/maps/dir/${u.latitude},${u.longitude}/${i.latitude},${i.longitude}`;window.open(E,"_blank")}else if(i.latitude&&i.longitude){const E=`https://www.google.com/maps/place/${i.latitude},${i.longitude}`;window.open(E,"_blank")}},children:[n.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View in Map"]})]}),n.jsx("div",{className:"flex-1",children:n.jsxs(ra,{defaultValue:"products",className:"w-full",children:[n.jsxs(bi,{className:"grid w-full grid-cols-3 mx-4",children:[n.jsx(Mt,{value:"products",children:"Products"}),n.jsx(Mt,{value:"about",children:"About"}),n.jsx(Mt,{value:"reviews",children:"Reviews"})]}),n.jsx(ft,{value:"products",className:"p-4 space-y-3",children:o.length>0?n.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(E=>{var C,O;const I=((C=E.images)==null?void 0:C.find(A=>A.is_primary))||((O=E.images)==null?void 0:O[0]);return n.jsx(Ne,{className:"p-3 cursor-pointer hover:shadow-md transition-smooth",onClick:()=>e(`/product/${E.id}`),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"aspect-square mb-2 bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:is(I==null?void 0:I.image_url),alt:E.name,className:"w-full h-full object-cover",onError:A=>{A.target.src="/placeholder-product.jpg"}})}),n.jsx("h3",{className:"font-medium text-sm mb-1 line-clamp-2",children:E.name}),n.jsxs("p",{className:"font-semibold text-primary text-sm mb-2",children:["",E.price]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(te,{variant:"outline",size:"sm",className:"flex-1 h-7 text-xs",disabled:E.quantity===0,onClick:A=>{A.stopPropagation(),b(E.id,1)},children:n.jsx(ss,{className:"h-3 w-3"})}),n.jsxs(te,{size:"sm",className:"flex-1 h-7 text-xs bg-green-600 hover:bg-green-700",disabled:E.quantity===0,onClick:A=>{A.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:E.id,name:E.name,price:E.price,quantity:1,vendor_name:E.vendor_name,images:E.images}}})},children:[n.jsx(gn,{className:"h-3 w-3"}),"Buy"]})]})]})},E.id)})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ss,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold mb-2",children:"No Products Available"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"This vendor hasn't added any products yet."})]})}),n.jsxs(ft,{value:"about",className:"p-4 space-y-4",children:[i.description&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.description})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Business Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ss,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Owner:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:i.owner_name})]}),i.business_email&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ul,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Email:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:i.business_email})]}),i.business_phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ul,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Phone:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:i.business_phone})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Location"}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Bt,{className:"h-4 w-4 text-primary mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:i.business_address}),i.location_address&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.location_address}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.city,", ",i.state," - ",i.pincode]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Operating Hours"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:_(i)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Services"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.home_delivery&&n.jsx(Me,{variant:"secondary",children:"Home Delivery"}),i.pickup_service&&n.jsx(Me,{variant:"secondary",children:"Pickup Service"}),i.online_ordering&&n.jsx(Me,{variant:"secondary",children:"Online Ordering"}),i.bulk_orders&&n.jsx(Me,{variant:"secondary",children:"Bulk Orders"}),i.subscription_service&&n.jsx(Me,{variant:"secondary",children:"Subscription"}),i.loyalty_program&&n.jsx(Me,{variant:"secondary",children:"Loyalty Program"})]})]})]}),n.jsx(ft,{value:"reviews",className:"p-4",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx(vn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"Reviews coming soon"})]})})]})})]})}function xW(){const e=nt();return j.useEffect(()=>{const t=setTimeout(()=>{e("/login")},3e3);return()=>clearTimeout(t)},[e]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-700 via-emerald-600 to-blue-600 flex flex-col items-center justify-center px-6 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-64 h-64 bg-indigo-400/20 rounded-full blur-3xl animate-float top-10 left-10"}),n.jsx("div",{className:"absolute w-80 h-80 bg-emerald-400/20 rounded-full blur-3xl animate-float-delayed bottom-20 right-20"})]}),n.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl w-full max-w-sm rounded-2xl p-10 text-center shadow-2xl border border-white/15 animate-in fade-in zoom-in-95 duration-1000",children:[n.jsx("div",{className:"relative w-28 h-28 bg-gradient-to-r from-indigo-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-6 shadow-xl transform transition-all duration-700 hover:scale-110 hover:rotate-3",children:n.jsx("span",{className:"text-6xl drop-shadow-lg animate-pulse-subtle",children:""})}),n.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-100 to-emerald-100 tracking-tight mb-3",children:"KathSnap"}),n.jsx("p",{className:"text-white/90 text-lg font-medium tracking-wide leading-relaxed",children:"Swift Shopping, Delivered to Your Door"})]}),n.jsxs("div",{className:"absolute bottom-16 flex flex-col items-center",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-transparent border-white/95 rounded-full animate-spin mb-4 shadow-lg"}),n.jsx("p",{className:"text-white/85 text-sm font-medium tracking-wide animate-pulse-subtle",children:"Preparing Your Shopping Journey..."})]}),n.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0) translateX(0); }
          50% { transform: translateY(-20px) translateX(10px); }
        }
        @keyframes float-delayed {
          0%, 100% { transform: translateY(0) translateX(0); }
          50% { transform: translateY(20px) translateX(-10px); }
        }
        @keyframes pulse-subtle {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.03); opacity: 0.9; }
        }
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        .animate-float-delayed {
          animation: float-delayed 6s ease-in-out infinite;
        }
        .animate-pulse-subtle {
          animation: pulse-subtle 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
      `})]})}function Cp(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ep="Checkbox",[yW,Nse]=ls(Ep),[bW,yw]=yW(Ep);function wW(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:h,value:f="on",internal_do_not_use_render:m}=e,[u,p]=Lr({prop:s,defaultProp:i??!1,onChange:d,caller:Ep}),[x,v]=j.useState(null),[w,b]=j.useState(null),y=j.useRef(!1),_=x?!!o||!!x.closest("form"):!0,N={checked:u,disabled:a,setChecked:p,control:x,setControl:v,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:y,required:h,defaultChecked:Ia(i)?!1:i,isFormControl:_,bubbleInput:w,setBubbleInput:b};return n.jsx(bW,{scope:t,...N,children:jW(m)?m(N):r})}var zO="CheckboxTrigger",VO=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},i)=>{const{control:a,value:o,disabled:c,checked:d,required:h,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:u,isFormControl:p,bubbleInput:x}=yw(zO,e),v=dt(i,f),w=j.useRef(d);return j.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const y=()=>m(w.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[a,m]),n.jsx(We.button,{type:"button",role:"checkbox","aria-checked":Ia(d)?"mixed":d,"aria-required":h,"data-state":ZO(d),"data-disabled":c?"":void 0,disabled:c,value:o,...r,ref:v,onKeyDown:Le(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Le(s,b=>{m(y=>Ia(y)?!0:!y),x&&p&&(u.current=b.isPropagationStopped(),u.current||b.stopPropagation())})})});VO.displayName=zO;var bw=j.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:h,form:f,...m}=e;return n.jsx(wW,{__scopeCheckbox:s,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:r,form:f,value:d,internal_do_not_use_render:({isFormControl:u})=>n.jsxs(n.Fragment,{children:[n.jsx(VO,{...m,ref:t,__scopeCheckbox:s}),u&&n.jsx(WO,{__scopeCheckbox:s})]})})});bw.displayName=Ep;var UO="CheckboxIndicator",qO=j.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...i}=e,a=yw(UO,s);return n.jsx(Gn,{present:r||Ia(a.checked)||a.checked===!0,children:n.jsx(We.span,{"data-state":ZO(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});qO.displayName=UO;var HO="CheckboxBubbleInput",WO=j.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:h,value:f,form:m,bubbleInput:u,setBubbleInput:p}=yw(HO,e),x=dt(s,p),v=Cp(a),w=ap(r);j.useEffect(()=>{const y=u;if(!y)return;const _=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(_,"checked").set,I=!i.current;if(v!==a&&E){const C=new Event("click",{bubbles:I});y.indeterminate=Ia(a),E.call(y,Ia(a)?!1:a),y.dispatchEvent(C)}},[u,v,a,i]);const b=j.useRef(Ia(a)?!1:a);return n.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:d,name:h,value:f,form:m,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WO.displayName=HO;function jW(e){return typeof e=="function"}function Ia(e){return e==="indeterminate"}function ZO(e){return Ia(e)?"indeterminate":e?"checked":"unchecked"}const gy=j.forwardRef(({className:e,...t},s)=>n.jsx(bw,{ref:s,className:Ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(qO,{className:Ve("flex items-center justify-center text-current"),children:n.jsx(tp,{className:"h-4 w-4"})})}));gy.displayName=bw.displayName;const _W=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3},xS=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),{addToCart:i}=ur(),a=nt();j.useEffect(()=>{o()},[]);const o=async()=>{try{const c={"ngrok-skip-browser-warning":"true"},d=xt.getLocation(),h=new URLSearchParams({page_size:"6"});d&&(h.append("latitude",d.latitude.toString()),h.append("longitude",d.longitude.toString()));const u=((await(await fetch(`${Je}search/products/?${h}`,{headers:c})).json()).results||[]).map(p=>{var w,b;const x=((w=p.images)==null?void 0:w.find(y=>y.is_primary))||((b=p.images)==null?void 0:b[0]);let v="N/A";return d&&p.vendor_latitude&&p.vendor_longitude&&(v=`${_W(d.latitude,d.longitude,p.vendor_latitude,p.vendor_longitude).toFixed(1)} km`),{id:p.id,name:p.name,vendor:p.vendor_name||"Unknown Vendor",price:p.price,image:(x==null?void 0:x.image_url)||"/placeholder-product.jpg",distance:v,inStock:p.quantity>0}});t(u)}catch(c){console.error("Failed to fetch products:",c)}finally{r(!1)}};return s?n.jsx("div",{className:"grid grid-cols-2 gap-2 px-2 md:grid-cols-3 md:gap-3",children:[...Array(6)].map((c,d)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden animate-pulse",children:[n.jsx("div",{className:"h-24 bg-gray-200"}),n.jsxs("div",{className:"p-2 space-y-2",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},d))}):n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3 px-2",children:"Products Near You"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 px-2 md:grid-cols-3 md:gap-3",children:e.map(c=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-[#856043]/30 overflow-hidden shadow-sm",children:[n.jsx("div",{className:"relative h-24 overflow-hidden bg-gray-100 cursor-pointer",onClick:()=>a(`/product/${c.id}`),children:n.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:d=>{d.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),n.jsxs("div",{className:"p-2 space-y-1",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-900 line-clamp-2 leading-tight",children:c.name}),n.jsx("p",{className:"text-[10px] text-gray-500",children:c.vendor}),n.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[n.jsx(Bt,{className:"h-2 w-2"}),n.jsx("span",{children:c.distance})]}),n.jsxs("p",{className:"text-xs font-bold text-[#856043]",children:["",c.price]}),n.jsxs(te,{variant:"outline",size:"sm",className:"w-full border-[#856043] text-[#856043] hover:bg-[#856043] hover:text-white rounded-md text-[10px] py-1",disabled:!c.inStock,onClick:()=>i(c.id,1),children:[n.jsx(ss,{className:"w-2 h-2 mr-1"}),"Add to Cart"]})]})]},c.id))})]})};function NW(){const{toast:e}=cn(),{cart:t,loading:s,updateCartItem:r,removeFromCart:i}=ur();j.useState("");const[a,o]=j.useState(0),[c,d]=j.useState([]),h=nt(),f=[];j.useEffect(()=>{t!=null&&t.items&&d([])},[t]);const m=(t==null?void 0:t.items)||[],u=m.filter(k=>c.includes(k.id)),p=c.length===m.length&&m.length>0,x=k=>{d(k?m.map(R=>R.id):[])},v=k=>{d(R=>R.includes(k)?R.filter(P=>P!==k):[...R,k])},w=async(k,R)=>{const P=m.find(T=>T.id===k);if(P){const T=P.quantity+R;T>0&&await r(k,T)}},b=async k=>{await i(k)},y=async()=>{if(c.length!==0){for(const k of c)await i(k);d([])}},_=k=>{b(k.id),e({title:"Feature Coming Soon",description:"Save for later feature will be available soon"})},N=k=>{e({title:"Feature Coming Soon",description:"Move to cart feature will be available soon"})},I=u.reduce((k,R)=>k+parseFloat(R.total_price.toString()),0),C=I*.05,O=I*a,A=I+C-O;return s?n.jsx("div",{className:"min-h-screen bg-gray-50 font-sans flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ss,{className:"mx-auto h-10 w-10 text-[#856043] mb-2 animate-pulse"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading cart..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-sm border-b py-2 px-3",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-2",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(ss,{className:"w-4 h-4 mr-1 text-[#856043]"}),"(",m.length,")"]}),n.jsx(te,{variant:"outline",className:"border-[#856043] text-[#856043] hover:bg-[#856043]/10 hover:text-[#856043] rounded-md text-xs font-medium py-1 px-2",onClick:()=>h("/search"),children:"Continue Shopping"})]})}),n.jsx("main",{className:"max-w-7xl mx-auto px-3 py-4 pb-52 overflow-y-auto",style:{height:"calc(100vh - 120px)"},children:m.length===0?n.jsxs("div",{children:[n.jsxs("div",{className:"text-center py-6",children:[n.jsx(ss,{className:"mx-auto h-10 w-10 text-[#856043] mb-2"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Your Cart is Empty"}),n.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Discover products near you"})]}),n.jsx(xS,{})]}):n.jsxs("div",{className:"md:flex md:gap-4 space-y-2 md:space-y-0",children:[n.jsxs("div",{className:"md:w-1/2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gy,{id:"select-all",checked:p,onCheckedChange:x,className:"data-[state=checked]:bg-[#856043] data-[state=checked]:border-[#856043]"}),n.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium text-gray-700 cursor-pointer",children:["Select all (",m.length,")"]})]}),n.jsxs(te,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs px-3 py-1 rounded-md",onClick:y,disabled:c.length===0,children:[n.jsx(Ua,{className:"w-3 h-3 mr-1"}),"Delete (",c.length,")"]})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(NN,{children:m.map((k,R)=>{var P,T;return n.jsxs(Yl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:R*.1},className:"bg-white p-3 flex items-center gap-3 rounded-lg border border-gray-200 shadow-sm hover:bg-gray-50 transition-colors",children:[n.jsx(gy,{checked:c.includes(k.id),onCheckedChange:()=>v(k.id),className:"data-[state=checked]:bg-[#856043] data-[state=checked]:border-[#856043] flex-shrink-0"}),n.jsx("div",{className:"w-12 h-12 flex-shrink-0 overflow-hidden rounded",children:n.jsx("img",{src:((T=(P=k.product.images)==null?void 0:P[0])==null?void 0:T.image_url)||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200",alt:k.product.name,className:"w-full h-full object-cover",onError:M=>{M.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-xs font-medium text-gray-900 truncate",children:k.product.name}),n.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:["Sold by ",k.product.vendor_name]}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:n.jsxs("p",{className:"text-xs font-bold text-[#856043]",children:["",k.product.price]})})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(te,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-gray-600 border-gray-300 hover:border-[#856043] hover:text-[#856043]",onClick:()=>w(k.id,-1),children:"-"}),n.jsx("span",{className:"text-xs min-w-[1rem] text-center",children:k.quantity}),n.jsx(te,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-gray-600 border-gray-300 hover:border-[#856043] hover:text-[#856043]",onClick:()=>w(k.id,1),children:"+"})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(te,{variant:"ghost",size:"sm",className:"p-1 text-[#856043] hover:text-[#856043]/90 hover:bg-[#856043]/5",onClick:()=>_(k),children:n.jsx(dr,{className:"w-3 h-3"})}),n.jsx(te,{variant:"ghost",size:"sm",className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>b(k.id),children:n.jsx(Ua,{className:"w-3 h-3"})})]})]},k.id)})})}),f.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 px-2",children:"Saved for Later"}),n.jsx(NN,{children:f.map((k,R)=>n.jsxs(Yl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:R*.1},className:"bg-white p-2 flex items-center gap-2 border-b border-gray-300 hover:bg-gray-50",children:[n.jsx("div",{className:"w-12 h-12 flex-shrink-0 overflow-hidden rounded",children:n.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover",onError:P=>{P.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-xs font-medium text-gray-900 truncate",children:k.name}),n.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:["Sold by ",k.vendor]}),n.jsx("p",{className:"text-xs font-bold text-[#856043] mt-1",children:k.price})]}),n.jsx(te,{variant:"outline",size:"sm",className:"border-[#856043] text-[#856043] hover:bg-[#856043]/10 text-[10px] px-2 py-1",onClick:()=>N(),children:"Move to Cart"})]},k.id))})]})]}),n.jsx("div",{className:"md:w-1/2",children:n.jsx(xS,{})})]})}),m.length>0&&n.jsx(Yl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"fixed bottom-20 left-0 right-0 bg-white border-t border-gray-300 z-40",children:n.jsx("div",{className:"max-w-7xl mx-auto px-3",children:n.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"30vh"},children:n.jsx("div",{className:"py-2",children:n.jsxs("div",{className:"md:flex md:items-center md:justify-between md:gap-6",children:[n.jsxs("div",{className:"md:flex-1",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Order Summary"}),n.jsxs("div",{className:"space-y-2 text-xs mb-4 md:mb-0",children:[n.jsxs("div",{className:"flex justify-between text-gray-700",children:[n.jsxs("span",{children:["Subtotal (",u.length," items)"]}),n.jsxs("span",{className:"font-medium",children:["",I.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-gray-700",children:[n.jsx("span",{children:"Taxes (5%)"}),n.jsxs("span",{className:"font-medium",children:["",C.toFixed(2)]})]}),n.jsx("hr",{className:"border-gray-300 my-2"}),n.jsxs("div",{className:"flex justify-between font-bold text-sm text-gray-900",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["",A.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-600 mt-2",children:[n.jsx(ql,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-semibold",children:"Estimated delivery: 50-60"})]})]})]}),n.jsx(te,{size:"lg",className:"w-full md:w-auto md:px-8 rounded-md bg-[#856043] text-white hover:bg-[#856043]/90 py-3 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed mb-2 md:mb-0",disabled:u.length===0,onClick:()=>h("/checkout",{state:{selectedItems:u}}),children:"Proceed to Checkout"})]})})})})}),n.jsx(Os,{})]})}const hm=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3},SW=()=>{const e=27.6398805,t=85.3303725,s=27.66424179701499,r=85.3465231243003,i=hm(e,t,s,r);console.log(` Your coordinates test: ${i.toFixed(3)} km (Google shows: 5.1 km)`);const a={lat:40.7128,lon:-74.006},o={lat:34.0522,lon:-118.2437},c=hm(a.lat,a.lon,o.lat,o.lon);console.log(`Test: NYC to LA = ${c.toFixed(2)} km (Google: ~3944 km)`),console.log(` Verify on Google Maps: https://www.google.com/maps/dir/${e},${t}/${s},${r}`)};function kW(){const e=nt(),[t,s]=_b(),[r,i]=j.useState(t.get("q")||""),[a,o]=j.useState({products:[],vendors:[]}),[c,d]=j.useState("all"),[h,f]=j.useState(!1),[m,u]=j.useState(xt.getLocation()),[p,x]=j.useState({page:1,hasMore:!0}),[v,w]=j.useState(new Set),[b,y]=j.useState(!1),[_,N]=j.useState(""),[E,I]=j.useState([]),{addToCart:C}=ur(),{toast:O}=cn(),[A,k]=j.useState([]),R=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const z=xt.subscribe(u);return xt.startTracking(),SW(),P(),B(),z},[]),j.useEffect(()=>{s(r?{q:r}:{}),x({page:1,hasMore:!0}),P(1,r)},[r,s]),j.useEffect(()=>{P(1,r)},[_,E]),j.useEffect(()=>{m&&(console.log(" Location updated, refetching data:",m),P(1,r))},[m]);const P=async(z=1,G="")=>{var X;f(!0);try{const J={"ngrok-skip-browser-warning":"true"},K=xt.getLocation();console.log(" Frontend location check:",{userLocation:m,currentLocation:K});const U=new URLSearchParams({page:z.toString(),page_size:"10"});G&&U.append("search",G),K?(U.append("latitude",K.latitude.toString()),U.append("longitude",K.longitude.toString()),console.log(" Sending location to API:",K)):console.log(" No location available for API call");const[ne,se]=await Promise.all([fetch(`${Je}search/products/?${U}`,{headers:J}),fetch(`${Je}search/vendors/?${U}`,{headers:J})]),le=await ne.json(),pe=await se.json(),ee=T(le.results||[]),ye=M(pe.results||[]),Ce=[...new Set(((X=le.results)==null?void 0:X.map(ue=>ue.category).filter(Boolean))||[])];k(Ce),o(z===1?{products:ee,vendors:ye}:ue=>({products:[...ue.products,...ee],vendors:[...ue.vendors,...ye]})),x({page:z,hasMore:le.next!==null||pe.next!==null})}catch(J){console.error("Fetch error:",J)}finally{f(!1)}},T=z=>{const G=xt.getLocation();let X=z.map(J=>{var se,le;const K=((se=J.images)==null?void 0:se.find(pe=>pe.is_primary))||((le=J.images)==null?void 0:le[0]);let U="N/A",ne=1/0;return G&&J.vendor_latitude&&J.vendor_longitude&&(ne=hm(G.latitude,G.longitude,J.vendor_latitude,J.vendor_longitude),U=`${ne.toFixed(1)} km`),{id:J.id,name:J.name,vendor:J.vendor_name||"Unknown Vendor",price:`${J.price}`,priceValue:parseFloat(J.price),image:(K==null?void 0:K.image_url)||"/placeholder-product.jpg",rating:4.5,distance:U,distanceValue:ne,deliveryTime:"30-45 mins",inStock:J.quantity>0,category:J.category}});return E.length>0&&(X=X.filter(J=>E.includes(J.category))),_==="price_low"?X.sort((J,K)=>J.priceValue-K.priceValue):_==="price_high"?X.sort((J,K)=>K.priceValue-J.priceValue):X.sort((J,K)=>J.distanceValue-K.distanceValue),X},M=z=>{const G=xt.getLocation();return z.map(X=>{var U;let J="N/A",K=1/0;return G&&X.latitude&&X.longitude&&(K=hm(G.latitude,G.longitude,X.latitude,X.longitude),J=`${K.toFixed(1)} km`),{id:X.id,name:X.business_name,image:((U=X.user_info)==null?void 0:U.profile_picture)||"/placeholder-vendor.jpg",rating:4.5,distance:J,distanceValue:K,deliveryTime:"30-45 mins",categories:X.categories||[]}}).sort((X,J)=>X.distanceValue-J.distanceValue)},H=()=>{!h&&p.hasMore&&P(p.page+1,r)},W=z=>{e(`/product/${z}`)},Z=z=>{e(`/vendor/${z.id}`)},B=async()=>{var G;const z=await Te.getToken();if(z)try{const X=await fetch(`${Je}favorites/`,{headers:{Authorization:`Token ${z}`,"ngrok-skip-browser-warning":"true"}});if(X.ok){const J=await X.json(),K=new Set(((G=J.results)==null?void 0:G.map(U=>U.product.id))||[]);w(K)}}catch(X){console.error("Failed to fetch favorites:",X)}},q=async(z,G)=>{G.stopPropagation();const X=await Te.getToken();if(!X){O({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const J=await fetch(`${Je}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${X}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({product_id:z})});if(J.ok){const K=await J.json(),U=new Set(v);K.is_favorite?U.add(z):U.delete(z),w(U),O({title:K.is_favorite?"Added to Favorites":"Removed from Favorites",description:K.message})}}catch{O({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},F=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",children:a.products.map(z=>n.jsxs(Ne,{className:"overflow-hidden",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>W(z.id),children:[n.jsxs("div",{className:"aspect-square md:aspect-[4/3] relative",children:[n.jsx("img",{src:z.image,alt:z.name,className:"w-full h-full object-cover",onError:G=>{G.target.src="/placeholder-product.jpg"}}),n.jsx(te,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:G=>q(z.id,G),children:n.jsx(dr,{className:`h-4 w-4 ${v.has(z.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),n.jsx(Me,{variant:z.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:z.inStock?"In Stock":"Out of Stock"})]}),n.jsxs(ke,{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:z.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:z.vendor}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:z.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{children:z.distance})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-bold text-primary text-sm",children:z.price}),n.jsx("span",{className:"text-xs text-muted-foreground",children:z.deliveryTime})]})]})]}),n.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[n.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!z.inStock,onClick:G=>{G.stopPropagation(),C(z.id,1)},children:[n.jsx(ss,{className:"h-3 w-3 mr-1"}),"Cart"]}),n.jsxs(te,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!z.inStock,onClick:G=>{G.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:z.id,name:z.name,price:z.price.replace("",""),quantity:1,vendor_name:z.vendor,images:[{image_url:z.image}]}}})},children:[n.jsx(gn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},z.id))}),p.hasMore&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(te,{onClick:H,disabled:h,variant:"outline",children:[h?n.jsx(os,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]}),$=()=>n.jsx("div",{className:"space-y-3",children:a.vendors.map(z=>n.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>Z(z),children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("img",{src:z.image,alt:z.name,className:"w-16 h-16 object-cover rounded-full",onError:G=>{G.target.src="/placeholder-vendor.jpg"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-base mb-1",children:z.name}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:z.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{children:z.distance})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ir,{className:"h-3 w-3"}),n.jsx("span",{children:z.deliveryTime})]})]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:z.categories.map((G,X)=>n.jsx(Me,{variant:"secondary",className:"text-xs",children:G},X))})]})]})})},z.id))});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search products, vendors...",value:r,onChange:z=>i(z.target.value),className:"pl-10 pr-4 py-2"})]}),n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>y(!0),children:n.jsx(to,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"px-4 py-3 border-b border-border/50",children:n.jsx("div",{className:"flex gap-2",children:[{id:"all",label:"All"},{id:"products",label:"Products"},{id:"vendors",label:"Vendors"}].map(z=>n.jsx(te,{variant:c===z.id?"default":"ghost",size:"sm",onClick:()=>d(z.id),className:"flex-1",children:z.label},z.id))})}),n.jsxs("div",{className:"p-4 pb-20",children:[r&&n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[c==="all"&&`Found ${a.products.length} products and ${a.vendors.length} vendors`,c==="products"&&`Found ${a.products.length} products`,c==="vendors"&&`Found ${a.vendors.length} vendors`,r&&" for ",n.jsxs("span",{className:"font-medium",children:['"',r,'"']})]}),(c==="all"||c==="products")&&a.products.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Products"}),F()]}),(c==="all"||c==="vendors")&&a.vendors.length>0&&n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Vendors"}),$()]}),r&&a.products.length===0&&a.vendors.length===0&&!h&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ro,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No results found"}),n.jsx("p",{className:"text-muted-foreground",children:"Try searching for products or vendors with different keywords"})]}),!r&&!h&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ro,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search for anything"}),n.jsx("p",{className:"text-muted-foreground",children:"Find products, vendors, and more in your area"})]}),h&&a.products.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(os,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),b&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>y(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:z=>z.stopPropagation(),children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:""})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),n.jsx("div",{className:"space-y-2",children:R.map(z=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"sort",value:z.value,checked:_===z.value,onChange:G=>N(G.target.value),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:z.label})]},z.value))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Categories"}),n.jsx("div",{className:"space-y-2",children:A.map(z=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:E.includes(z),onChange:G=>{G.target.checked?I([...E,z]):I(E.filter(X=>X!==z))},className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:z})]},z))})]}),n.jsx(te,{variant:"outline",className:"w-full",onClick:()=>{N(""),I([])},children:"Clear All Filters"})]})]})}),n.jsx(Os,{})]})}const yS=As.BASE_URL;class CW{async getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Token ${await Te.getToken()}`,"ngrok-skip-browser-warning":"true"}}async getFavorites(){try{const t=await fetch(`${yS}/favorites/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch favorites");const s=await t.json();return s.results||s}catch(t){throw console.error("Error fetching favorites:",t),t}}async toggleFavorite(t){try{const s=await fetch(`${yS}/favorites/toggle/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({product_id:t})});if(!s.ok)throw new Error("Failed to toggle favorite");return await s.json()}catch(s){throw console.error("Error toggling favorite:",s),s}}}const bS=new CW,EW=()=>{const e=nt();sa();const{addToCart:t}=ur(),{toast:s}=cn(),[r,i]=j.useState([]),[a,o]=j.useState(!0),[c,d]=j.useState([]),[h,f]=j.useState(xt.getLocation());j.useEffect(()=>(u(),xt.subscribe(f)),[]),j.useEffect(()=>{r.length>0&&p()},[r,h]);const m=(I,C,O,A)=>{const R=B=>B*(Math.PI/180),P=R(O-I),T=R(A-C),M=R(I),H=R(O),W=Math.sin(P/2)*Math.sin(P/2)+Math.cos(M)*Math.cos(H)*Math.sin(T/2)*Math.sin(T/2);return 6371*(2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W)))},u=async()=>{if(!await Te.getToken()){o(!1);return}try{const C=await bS.getFavorites();i(C)}catch(C){console.error("Error fetching favorites:",C),s({title:"Error",description:"Failed to load favorites",variant:"destructive"})}finally{o(!1)}},p=async()=>{try{const I=[...new Set(r.map(T=>T.product.category).filter(Boolean))];if(I.length===0)return;const C=await Te.getToken(),O=C?{Authorization:`Token ${C}`}:{},A=new URLSearchParams({page_size:"12"});h&&(A.append("latitude",h.latitude.toString()),A.append("longitude",h.longitude.toString()));const P=((await(await fetch(`http://localhost:8000/api/search/products/?${A}`,{headers:O})).json()).results||[]).filter(T=>I.includes(T.category)).map(T=>{var Z,B;const M=((Z=T.images)==null?void 0:Z.find(q=>q.is_primary))||((B=T.images)==null?void 0:B[0]);let H="N/A",W=1/0;return h&&T.vendor_latitude&&T.vendor_longitude&&(W=m(h.latitude,h.longitude,T.vendor_latitude,T.vendor_longitude),H=`${W.toFixed(1)} km`),{id:T.id,name:T.name,vendor:T.vendor_name||"Unknown Vendor",price:T.price,image:(M==null?void 0:M.image_url)||"/placeholder-product.jpg",distance:H,distanceValue:W,inStock:T.quantity>0,category:T.category}}).sort((T,M)=>T.distanceValue-M.distanceValue).slice(0,8);d(P)}catch(I){console.error("Error fetching related products:",I)}},x=async I=>{try{await bS.toggleFavorite(I),i(C=>C.filter(O=>O.product.id!==I)),s({title:"Removed from Wishlist",description:"Item has been removed from your wishlist"})}catch{s({title:"Error",description:"Failed to remove from wishlist",variant:"destructive"})}},v=async(I,C)=>{C==null||C.stopPropagation();try{await t(I.product.id,1),s({title:"Added to Cart",description:`${I.product.name} has been added to your cart`})}catch{s({title:"Error",description:"Failed to add to cart",variant:"destructive"})}},w=async(I,C)=>{C==null||C.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:I.product.id,name:I.product.name,price:I.product.price,quantity:1,vendor_name:I.product.vendor_name,vendor_id:I.product.vendor_id,images:I.product.images}}})},b=I=>{e(`/product/${I}`)},[y,_]=j.useState(!1),[N,E]=j.useState(!0);return j.useEffect(()=>{(async()=>{const C=await Te.getToken();_(!!C),E(!1)})()},[]),N?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):y?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Dt,{className:"h-6 w-6 text-gray-700"})}),n.jsx("div",{}),n.jsxs("span",{className:"bg-red-100 text-red-800 text-sm font-medium px-3 py-1 rounded-full",children:[r.length," items"]})]})}),n.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[a?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):r.length>0?n.jsx("div",{className:"space-y-4",children:r.map(I=>{var C,O;return n.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl border p-4 flex items-center transition-all duration-300 cursor-pointer hover:bg-gray-50",onClick:()=>b(I.product.id),children:[n.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden bg-gray-100",children:n.jsx("img",{src:((O=(C=I.product.images)==null?void 0:C[0])==null?void 0:O.image_url)||"/placeholder-product.jpg",alt:I.product.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"ml-6 flex-1",children:[n.jsx("h3",{className:"font-semibold text-xl text-gray-900 truncate",children:I.product.name}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:I.product.vendor_name}),n.jsxs("p",{className:"font-bold text-2xl text-emerald-600 mt-1",children:["",parseFloat(I.product.price).toFixed(2)]}),n.jsx("div",{className:"flex items-center mt-2",children:I.product.quantity>0?n.jsx("span",{className:"text-green-600 text-sm font-medium bg-green-50 px-2 py-1 rounded-full",children:"In Stock"}):n.jsx("span",{className:"text-red-600 text-sm font-medium bg-red-50 px-2 py-1 rounded-full",children:"Out of Stock"})})]}),n.jsxs("div",{className:"flex flex-col justify-between items-end space-y-2",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),x(I.product.id)},className:"text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-full",children:n.jsx(Ua,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{size:"sm",disabled:I.product.quantity<=0,onClick:A=>v(I,A),className:"bg-emerald-600 hover:bg-emerald-700 text-white rounded-full disabled:bg-gray-300 disabled:text-gray-500",children:n.jsx(ss,{className:"h-3 w-3 mr-1"})}),n.jsxs(te,{size:"sm",disabled:I.product.quantity<=0,onClick:A=>w(I,A),className:"bg-orange-600 hover:bg-orange-700 text-white rounded-full disabled:bg-gray-300 disabled:text-gray-500",children:[n.jsx(LD,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]})]},I.id)})}):n.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg border",children:[n.jsx(dr,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your wishlist is empty"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Start adding items you love!"}),n.jsx(te,{className:"bg-emerald-600 hover:bg-emerald-700 text-white rounded-full px-6 py-2",onClick:()=>e("/"),children:"Browse Products"})]}),c.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Products Near You"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.map(I=>n.jsx(Ne,{className:"p-3 cursor-pointer hover:shadow-md transition-smooth",onClick:()=>e(`/product/${I.id}`),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"aspect-square mb-2 bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover",onError:C=>{C.target.src="/placeholder-product.jpg"}})}),n.jsx("h3",{className:"font-medium text-sm mb-1 line-clamp-2",children:I.name}),n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:I.vendor}),n.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500 mb-2",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{children:I.distance})]}),n.jsxs("p",{className:"font-semibold text-emerald-600 text-sm mb-2",children:["",I.price]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(te,{variant:"outline",size:"sm",className:"flex-1 h-7 text-xs",disabled:!I.inStock,onClick:C=>{C.stopPropagation(),t(I.id,1)},children:n.jsx(ss,{className:"h-3 w-3"})}),n.jsxs(te,{size:"sm",className:"flex-1 h-7 text-xs bg-green-600 hover:bg-green-700",disabled:!I.inStock,onClick:C=>{C.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:I.id,name:I.name,price:I.price,quantity:1,vendor_name:I.vendor,images:[{image_url:I.image}]}}})},children:[n.jsx(gn,{className:"h-3 w-3"}),"Buy"]})]})]})},I.id))})]})]}),n.jsx(Os,{})]}):n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(dr,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Please Login"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"You need to login to view your wishlist"}),n.jsx(te,{onClick:()=>e("/login"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Login"})]})})};function GO(){var a,o,c;const{state:e,login:t}=sa(),s=nt();console.log(" RoleSwitcher rendered, user:",e.user),console.log(" Available roles:",(a=e.user)==null?void 0:a.available_roles),console.log(" Current user_type:",(o=e.user)==null?void 0:o.user_type);const r=async d=>{var h;console.log(" handleRoleSwitch called with role:",d);try{console.log(" Attempting role switch to:",d),console.log(" Current user:",e.user),console.log(" Current user_type:",(h=e.user)==null?void 0:h.user_type);const{response:f,data:m}=await Fe("/switch-role/",{method:"POST",body:JSON.stringify({role:d})});if(console.log(" Switch role response:",f.status,m),f.ok){console.log(" Role switch successful");const u={...e.user,user_type:d};if(await t(u,""),d==="customer")console.log(" Navigating to customer home"),s("/home");else{console.log(" Navigating to vendor dashboard");try{const p=await Fe("/vendor/status/");p.response.ok&&p.data.profile_exists&&p.data.is_approved?s("/vendor/dashboard"):s("/vendor/onboarding")}catch{s("/vendor/onboarding")}}}else console.error(" Role switch failed:",m)}catch(f){console.error(" Role switch error:",f)}};if(!((c=e.user)!=null&&c.available_roles)||e.user.available_roles.length<=1)return null;const i=e.user.available_roles.find(d=>d!==e.user.user_type);return n.jsxs("button",{onClick:()=>r(i),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:["Switch to ",i==="customer"?"Customer":"Vendor"]})}const PW=[{icon:NE,label:"My Orders",path:"/orders"},{icon:dr,label:"Wishlist",path:"/wishlist"},{icon:Er,label:"Personal Information",path:"/profile-edit"},{icon:gi,label:"Privacy & Security",path:"/privacy"}],TW=()=>{const e=nt(),{logout:t,state:s,login:r}=sa(),[i,a]=j.useState(null),[o,c]=j.useState(!0),[d,h]=j.useState("");j.useEffect(()=>{f()},[]);const f=async()=>{try{const p=await Te.getToken();if(!p){e("/login");return}const x=await fetch(Je+"profile/",{headers:{Authorization:`Token ${p}`,"ngrok-skip-browser-warning":"true"}});if(!x.ok)throw new Error("Failed to fetch profile");const v=await x.json();if(s.user){const w={...s.user,available_roles:v.available_roles||s.user.available_roles,user_type:v.user_type||s.user.user_type};await r(w,"")}a({email:v.email,avatar:v.profile_picture?v.profile_picture.startsWith("http")?v.profile_picture:`${Je}media/${v.profile_picture}`:"/placeholder-avatar.jpg"})}catch(p){h(p.message),console.error("Error fetching profile:",p)}finally{c(!1)}},m=async()=>{try{const p=await Te.getToken();p&&await fetch(Je+"logout/",{method:"POST",headers:{Authorization:`Token ${p}`,"ngrok-skip-browser-warning":"true"}})}catch(p){console.error("Logout error:",p)}finally{await t(),e("/login")}},u=async p=>{if(p)try{const x=await Te.getToken();if(!x)return;const v=new FormData;v.append("profile_picture",p);const w=await fetch(Je+"profile/upload-picture/",{method:"POST",headers:{Authorization:`Token ${x}`,"ngrok-skip-browser-warning":"true"},body:v});if(w.ok){const b=await w.json();a(y=>({...y,avatar:b.profile_picture}))}}catch(x){console.error("Profile image upload error:",x)}};return o?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):d||!i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:d||"Failed to load profile"}),n.jsx(te,{onClick:()=>e("/login"),children:"Go to Login"})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsxs("div",{className:"flex flex-col items-center pt-6 pb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden mb-3 cursor-pointer hover:bg-gray-300 transition-colors",onClick:()=>{const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=x=>{var w;const v=(w=x.target.files)==null?void 0:w[0];v&&u(v)},p.click()},children:i.avatar&&i.avatar!=="/placeholder-avatar.jpg"?n.jsx("img",{src:i.avatar,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-semibold text-lg",children:i.email?i.email.charAt(0).toUpperCase():"U"})}),n.jsx(te,{size:"sm",className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=x=>{var w;const v=(w=x.target.files)==null?void 0:w[0];v&&u(v)},p.click()},children:n.jsx(Bi,{className:"h-3 w-3"})})]}),n.jsx("p",{className:"text-gray-800 text-base font-medium",children:i.email}),n.jsx("div",{className:"mt-3",children:n.jsx(GO,{})})]})}),n.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[n.jsxs(Ne,{children:[n.jsx(ot,{className:"pb-3",children:n.jsx(lt,{className:"text-base",children:"Account"})}),n.jsx(ke,{className:"space-y-1",children:PW.map((p,x)=>{const v=p.icon;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>e(p.path),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:n.jsx(v,{className:"h-4 w-4 text-primary"})}),n.jsx("span",{className:"font-medium text-sm",children:p.label})]}),n.jsx("div",{className:"text-gray-400",children:""})]},x)})})]}),n.jsxs(te,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:m,children:[n.jsx(sb,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"font-medium text-base",children:"Logout"})]})]}),n.jsx(Os,{})]})};var AW="Label",KO=j.forwardRef((e,t)=>n.jsx(We.label,{...e,ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));KO.displayName=AW;var YO=KO;const OW=Uu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=j.forwardRef(({className:e,...t},s)=>n.jsx(YO,{ref:s,className:Ve(OW(),e),...t}));de.displayName=YO.displayName;const Wn=j.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:Ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Wn.displayName="Textarea";const LW=()=>{const e=nt(),{toast:t}=cn(),[s,r]=j.useState(!1),[i,a]=j.useState(!0),[o,c]=j.useState(!1),[d,h]=j.useState({username:"",email:"",phone_number:"",address:"",date_of_birth:"",profile_picture:null});j.useEffect(()=>{f()},[]);const f=async()=>{try{const x=await Te.getToken();if(!x){e("/login");return}const v=await fetch(Je+"profile/",{headers:{Authorization:`Token ${x}`,"ngrok-skip-browser-warning":"true"}});if(!v.ok)throw new Error("Failed to fetch profile");const w=await v.json();h({username:w.username||"",email:w.email||"",phone_number:w.phone_number||"",address:w.address||"",date_of_birth:w.date_of_birth||"",profile_picture:w.profile_picture?w.profile_picture.startsWith("http")?w.profile_picture:`${Je}media/${w.profile_picture}`:null})}catch(x){console.error("Error fetching profile:",x),t({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{a(!1)}},m=async()=>{c(!0);try{const x=await Te.getToken();if(!x)return;if((await fetch(Je+"profile/update/",{method:"PUT",headers:{Authorization:`Token ${x}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({username:d.username,phone_number:d.phone_number,address:d.address,date_of_birth:d.date_of_birth||null})})).ok)r(!1),t({title:"Success",description:"Profile updated successfully!"});else throw new Error("Failed to update profile")}catch(x){console.error("Error saving profile:",x),t({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{c(!1)}},u=async x=>{if(x)try{const v=await Te.getToken();if(!v)return;const w=new FormData;w.append("profile_picture",x);const b=await fetch(Je+"profile/upload-picture/",{method:"POST",headers:{Authorization:`Token ${v}`,"ngrok-skip-browser-warning":"true"},body:w});if(b.ok){const y=await b.json();h(_=>({..._,profile_picture:y.profile_picture})),t({title:"Success",description:"Profile picture updated successfully!"})}else throw new Error("Failed to upload image")}catch(v){console.error("Profile image upload error:",v),t({title:"Error",description:"Failed to upload profile picture",variant:"destructive"})}},p=(x,v)=>{h(w=>({...w,[x]:v}))};return i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-30",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-lg font-semibold",children:"Personal Information"})]}),n.jsx(te,{onClick:()=>s?m():r(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",disabled:o,children:s?n.jsxs(n.Fragment,{children:[n.jsx(Oc,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save"]}):n.jsxs(n.Fragment,{children:[n.jsx(Hu,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),n.jsx("div",{className:"p-4 pb-20",children:n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsxs(lt,{className:"flex items-center gap-2",children:[n.jsx(Er,{className:"h-5 w-5"}),"Profile Information"]})}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden ${s?"cursor-pointer hover:bg-gray-200":""}`,onClick:s?()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.onchange=v=>{var b;const w=(b=v.target.files)==null?void 0:b[0];w&&u(w)},x.click()}:void 0,children:d.profile_picture?n.jsx("img",{src:d.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-semibold text-2xl",children:d.username?d.username.charAt(0).toUpperCase():"U"})}),s&&n.jsx(te,{size:"sm",className:"absolute -bottom-1 -right-1 w-8 h-8 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.onchange=v=>{var b;const w=(b=v.target.files)==null?void 0:b[0];w&&u(w)},x.click()},children:n.jsx(Bi,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s?"Click to change profile picture":"Profile Picture"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"username",children:"Username"}),n.jsx(me,{id:"username",value:d.username,onChange:x=>p("username",x.target.value),disabled:!s,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(me,{id:"email",type:"email",value:d.email,disabled:!0,className:"mt-1 bg-gray-50"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phone",children:"Phone Number"}),n.jsx(me,{id:"phone",value:d.phone_number,onChange:x=>p("phone_number",x.target.value),disabled:!s,className:"mt-1",placeholder:"Enter your phone number"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"address",children:"Address"}),n.jsx(Wn,{id:"address",value:d.address,onChange:x=>p("address",x.target.value),disabled:!s,className:"mt-1",placeholder:"Enter your address",rows:3})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"dob",children:"Date of Birth"}),n.jsx(me,{id:"dob",type:"date",value:d.date_of_birth||"",onChange:x=>p("date_of_birth",x.target.value||null),disabled:!s,className:"mt-1"})]})]})]})]})}),n.jsx(Os,{})]})},RW=()=>{const e=nt(),{toast:t}=cn(),[s,r]=j.useState(!0),[i,a]=j.useState(""),[o,c]=j.useState(!1),[d,h]=j.useState(""),[f,m]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const x=await Te.getToken();if(!x){e("/login");return}const v=await fetch(Je+"profile/",{headers:{Authorization:`Token ${x}`,"ngrok-skip-browser-warning":"true"}});if(!v.ok)throw new Error("Failed to fetch profile");const w=await v.json(),b=(w==null?void 0:w.plain_password)||"";a(b)}catch(x){console.error(x)}})()},[]);const u=async()=>{if(!d){t({title:"Error",description:"New password is required",variant:"destructive"});return}m(!0);try{const p=await Te.getToken();if(!p){t({title:"Error",description:"You are not authenticated. Please log in.",variant:"destructive"}),e("/login");return}const x=await fetch(Je+"change-password/simple/",{method:"POST",headers:{Authorization:`Token ${p}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({new_password:d})});if(!x.ok){const w=await x.json();throw new Error(w.error||"Failed to change password")}const v=await x.json();await Te.setAuth(v.token,await Te.getUser()),t({title:"Success",description:"Password changed successfully"}),a(d),h(""),c(!1)}catch(p){t({title:"Error",description:p instanceof Error?p.message:"Failed to change password",variant:"destructive"})}finally{m(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center gap-3 p-4",children:[n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"Privacy & Security"})]})}),n.jsx("div",{className:"p-4 space-y-6 pb-20",children:n.jsxs("div",{className:"bg-white rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(gi,{className:"h-5 w-5 text-blue-600"}),n.jsx("h2",{className:"font-semibold",children:"Password"})]}),o?n.jsxs("div",{className:"space-y-4",children:[n.jsx(de,{children:"New Password"}),n.jsx(me,{type:"text",value:d,onChange:p=>h(p.target.value),placeholder:"Enter new password"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{onClick:u,disabled:f,children:f?"Saving...":"Save"}),n.jsx(te,{variant:"outline",onClick:()=>{c(!1),h("")},disabled:f,children:"Cancel"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(de,{children:"Your Password"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(me,{type:s?"text":"password",value:i,disabled:!0,className:"bg-gray-100"}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>r(!s),children:s?n.jsx(tb,{className:"h-4 w-4"}):n.jsx(An,{className:"h-4 w-4"})})]}),n.jsx(te,{onClick:()=>c(!0),disabled:f,children:"Change Password"})]})]})}),n.jsx(Os,{})]})};function MW(){const e=nt(),[t,s]=j.useState(1),[r,i]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,x]=j.useState(""),[v,w]=j.useState(!1),[b,y]=j.useState(!1),[_,N]=j.useState(""),E=async()=>{var k,R,P;if(h!==m){N("Passwords do not match");return}y(!0),N("");try{const T=await fetch(Je+"register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,email:c,password:h,user_type:"customer",phone_number:a})}),M=await T.json();if(!T.ok){const H=((k=M.username)==null?void 0:k[0])||((R=M.email)==null?void 0:R[0])||M.message||((P=Object.values(M)[0])==null?void 0:P[0])||"Registration failed";throw new Error(H)}s(2)}catch(T){N(T.message)}finally{y(!1)}},I=k=>{x(k),k.length===6&&C(k)},C=async k=>{y(!0),N("");try{const R=await fetch(Je+"verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,otp:k})}),P=await R.json();if(!R.ok)throw new Error(P.error||"Verification failed");localStorage.setItem("token",P.token),e("/home")}catch(R){N(R.message)}finally{y(!1)}},O=async()=>{y(!0),N("");try{const k=await fetch(Je+"send-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})}),R=await k.json();if(!k.ok)throw new Error(R.error||"Failed to resend OTP");N("OTP resent successfully")}catch(k){N(k.message)}finally{y(!1)}},A=()=>{e("/login")};return n.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"w-full max-w-80 mx-auto px-4",children:[t===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Signup"})]}),n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(me,{type:"text",value:r,onChange:k=>i(k.target.value),placeholder:"Full Name",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsx(me,{type:"tel",value:a,onChange:k=>o(k.target.value),placeholder:"Phone Number",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsx(me,{type:"email",value:c,onChange:k=>d(k.target.value),placeholder:"Email Address",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{type:v?"text":"password",value:h,onChange:k=>f(k.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),n.jsx("button",{type:"button",onClick:()=>w(!v),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),n.jsx(me,{type:"password",value:m,onChange:k=>u(k.target.value),placeholder:"Confirm Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),_&&n.jsx("p",{className:"text-red-600 text-center",children:_}),n.jsx(te,{onClick:E,disabled:!r||!a||!c||!h||!m||h!==m||b,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:b?"Creating Account...":"Sign Up"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Already have an account? Login"})})]}),t===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verify Email"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["Code sent to ",c]})]}),n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(me,{type:"text",value:p,onChange:k=>I(k.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-widest w-80"}),b&&n.jsx("div",{className:"text-center text-blue-600",children:"Verifying..."}),_&&n.jsx("p",{className:"text-red-600 text-center",children:_}),n.jsx("button",{onClick:()=>s(1),className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Change details"}),n.jsx("button",{onClick:O,disabled:b,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend code"})]})]})]})})})}function IW(){const e=nt(),[t,s]=j.useState(""),r=o=>{o.preventDefault(),e("/login")},i=()=>{e("/login")},a=()=>{console.log("Resend link clicked")};return n.jsx("div",{className:"min-h-screen flex items-end justify-center bg-cover bg-center bg-no-repeat p-4 pb-12",style:{backgroundImage:"url(/images/forgot.png)"},children:n.jsxs("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-lg p-4",style:{backgroundColor:"#856043"},children:[n.jsx("h2",{className:"text-xl font-bold text-white text-center mb-5",children:"Forgot Password"}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",className:"text-white font-medium",children:"Email or Phone Number"}),n.jsx(me,{id:"email",type:"text",value:t,onChange:o=>s(o.target.value),placeholder:"Enter your email or phone",className:"mt-1 w-full rounded-md border-gray-300 focus:border-white focus:ring-white text-gray-900"})]}),n.jsx(te,{onClick:r,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Submit"}),n.jsx(te,{onClick:a,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Resend Link"}),n.jsx(te,{onClick:i,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Back to Login"})]})]})})}var ww="Radio",[DW,XO]=ls(ww),[FW,$W]=DW(ww),QO=j.forwardRef((e,t)=>{const{__scopeRadio:s,name:r,checked:i=!1,required:a,disabled:o,value:c="on",onCheck:d,form:h,...f}=e,[m,u]=j.useState(null),p=dt(t,w=>u(w)),x=j.useRef(!1),v=m?h||!!m.closest("form"):!0;return n.jsxs(FW,{scope:s,checked:i,disabled:o,children:[n.jsx(We.button,{type:"button",role:"radio","aria-checked":i,"data-state":nL(i),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:p,onClick:Le(e.onClick,w=>{i||d==null||d(),v&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),v&&n.jsx(tL,{control:m,bubbles:!x.current,name:r,value:c,checked:i,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});QO.displayName=ww;var JO="RadioIndicator",eL=j.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:r,...i}=e,a=$W(JO,s);return n.jsx(Gn,{present:r||a.checked,children:n.jsx(We.span,{"data-state":nL(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});eL.displayName=JO;var BW="RadioBubbleInput",tL=j.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:r=!0,...i},a)=>{const o=j.useRef(null),c=dt(o,a),d=Cp(s),h=ap(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==s&&p){const x=new Event("click",{bubbles:r});p.call(f,s),f.dispatchEvent(x)}},[d,s,r]),n.jsx(We.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tL.displayName=BW;function nL(e){return e?"checked":"unchecked"}var zW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pp="RadioGroup",[VW,Sse]=ls(Pp,[$c,XO]),sL=$c(),rL=XO(),[UW,qW]=VW(Pp),iL=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:r,defaultValue:i,value:a,required:o=!1,disabled:c=!1,orientation:d,dir:h,loop:f=!0,onValueChange:m,...u}=e,p=sL(s),x=Fc(h),[v,w]=Lr({prop:a,defaultProp:i??null,onChange:m,caller:Pp});return n.jsx(UW,{scope:s,name:r,required:o,disabled:c,value:v,onValueChange:w,children:n.jsx(Eb,{asChild:!0,...p,orientation:d,dir:x,loop:f,children:n.jsx(We.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:x,...u,ref:t})})})});iL.displayName=Pp;var aL="RadioGroupItem",oL=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:r,...i}=e,a=qW(aL,s),o=a.disabled||r,c=sL(s),d=rL(s),h=j.useRef(null),f=dt(t,h),m=a.value===i.value,u=j.useRef(!1);return j.useEffect(()=>{const p=v=>{zW.includes(v.key)&&(u.current=!0)},x=()=>u.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),n.jsx(Pb,{asChild:!0,...c,focusable:!o,active:m,children:n.jsx(QO,{disabled:o,required:a.required,checked:m,...d,...i,name:a.name,ref:f,onCheck:()=>a.onValueChange(i.value),onKeyDown:Le(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Le(i.onFocus,()=>{var p;u.current&&((p=h.current)==null||p.click())})})})});oL.displayName=aL;var HW="RadioGroupIndicator",lL=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...r}=e,i=rL(s);return n.jsx(eL,{...i,...r,ref:t})});lL.displayName=HW;var cL=iL,dL=oL,WW=lL;const uL=j.forwardRef(({className:e,...t},s)=>n.jsx(cL,{className:Ve("grid gap-2",e),...t,ref:s}));uL.displayName=cL.displayName;const vy=j.forwardRef(({className:e,...t},s)=>n.jsx(dL,{ref:s,className:Ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(WW,{className:"flex items-center justify-center",children:n.jsx(bE,{className:"h-2.5 w-2.5 fill-current text-current"})})}));vy.displayName=dL.displayName;var ZW="Separator",wS="horizontal",GW=["horizontal","vertical"],hL=j.forwardRef((e,t)=>{const{decorative:s,orientation:r=wS,...i}=e,a=KW(r)?r:wS,c=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(We.div,{"data-orientation":a,...c,...i,ref:t})});hL.displayName=ZW;function KW(e){return GW.includes(e)}var fL=hL;const di=j.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},i)=>n.jsx(fL,{ref:i,decorative:s,orientation:t,className:Ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));di.displayName=fL.displayName;function YW(e,t){const s=j.useRef(t);j.useEffect(function(){t!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),t!=null&&e.attributionControl.addAttribution(t)),s.current=t},[e,t])}function XW(e,t,s){t.center!==s.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==s.radius&&e.setRadius(t.radius)}const QW=1;function JW(e){return Object.freeze({__version:QW,map:e})}function mL(e,t){return Object.freeze({...e,...t})}const pL=j.createContext(null),gL=pL.Provider;function jw(){const e=j.useContext(pL);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function vL(e){function t(s,r){const{instance:i,context:a}=e(s).current;return j.useImperativeHandle(r,()=>i),s.children==null?null:_e.createElement(gL,{value:a},s.children)}return j.forwardRef(t)}function eZ(e){function t(s,r){const{instance:i}=e(s).current;return j.useImperativeHandle(r,()=>i),null}return j.forwardRef(t)}function xL(e,t){const s=j.useRef();j.useEffect(function(){return t!=null&&e.instance.on(t),s.current=t,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,t])}function _w(e,t){const s=e.pane??t.pane;return s?{...e,pane:s}:e}var xy={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(s,r){r(t)})(pi,function(s){var r="1.9.4";function i(l){var g,S,D,V;for(S=1,D=arguments.length;S<D;S++){V=arguments[S];for(g in V)l[g]=V[g]}return l}var a=Object.create||function(){function l(){}return function(g){return l.prototype=g,new l}}();function o(l,g){var S=Array.prototype.slice;if(l.bind)return l.bind.apply(l,S.call(arguments,1));var D=S.call(arguments,2);return function(){return l.apply(g,D.length?D.concat(S.call(arguments)):arguments)}}var c=0;function d(l){return"_leaflet_id"in l||(l._leaflet_id=++c),l._leaflet_id}function h(l,g,S){var D,V,Y,ae;return ae=function(){D=!1,V&&(Y.apply(S,V),V=!1)},Y=function(){D?V=arguments:(l.apply(S,arguments),setTimeout(ae,g),D=!0)},Y}function f(l,g,S){var D=g[1],V=g[0],Y=D-V;return l===D&&S?l:((l-V)%Y+Y)%Y+V}function m(){return!1}function u(l,g){if(g===!1)return l;var S=Math.pow(10,g===void 0?6:g);return Math.round(l*S)/S}function p(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function x(l){return p(l).split(/\s+/)}function v(l,g){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?a(l.options):{});for(var S in g)l.options[S]=g[S];return l.options}function w(l,g,S){var D=[];for(var V in l)D.push(encodeURIComponent(S?V.toUpperCase():V)+"="+encodeURIComponent(l[V]));return(!g||g.indexOf("?")===-1?"?":"&")+D.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function y(l,g){return l.replace(b,function(S,D){var V=g[D];if(V===void 0)throw new Error("No value provided for variable "+S);return typeof V=="function"&&(V=V(g)),V})}var _=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function N(l,g){for(var S=0;S<l.length;S++)if(l[S]===g)return S;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var C=0;function O(l){var g=+new Date,S=Math.max(0,16-(g-C));return C=g+S,window.setTimeout(l,S)}var A=window.requestAnimationFrame||I("RequestAnimationFrame")||O,k=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function R(l,g,S){if(S&&A===O)l.call(g);else return A.call(window,o(l,g))}function P(l){l&&k.call(window,l)}var T={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:d,throttle:h,wrapNum:f,falseFn:m,formatNum:u,trim:p,splitWords:x,setOptions:v,getParamString:w,template:y,isArray:_,indexOf:N,emptyImageUrl:E,requestFn:A,cancelFn:k,requestAnimFrame:R,cancelAnimFrame:P};function M(){}M.extend=function(l){var g=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=g.__super__=this.prototype,D=a(S);D.constructor=g,g.prototype=D;for(var V in this)Object.prototype.hasOwnProperty.call(this,V)&&V!=="prototype"&&V!=="__super__"&&(g[V]=this[V]);return l.statics&&i(g,l.statics),l.includes&&(H(l.includes),i.apply(null,[D].concat(l.includes))),i(D,l),delete D.statics,delete D.includes,D.options&&(D.options=S.options?a(S.options):{},i(D.options,l.options)),D._initHooks=[],D.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var Y=0,ae=D._initHooks.length;Y<ae;Y++)D._initHooks[Y].call(this)}},g},M.include=function(l){var g=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=g,this.mergeOptions(l.options)),this},M.mergeOptions=function(l){return i(this.prototype.options,l),this},M.addInitHook=function(l){var g=Array.prototype.slice.call(arguments,1),S=typeof l=="function"?l:function(){this[l].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function H(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=_(l)?l:[l];for(var g=0;g<l.length;g++)l[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(l,g,S){if(typeof l=="object")for(var D in l)this._on(D,l[D],g);else{l=x(l);for(var V=0,Y=l.length;V<Y;V++)this._on(l[V],g,S)}return this},off:function(l,g,S){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var D in l)this._off(D,l[D],g);else{l=x(l);for(var V=arguments.length===1,Y=0,ae=l.length;Y<ae;Y++)V?this._off(l[Y]):this._off(l[Y],g,S)}return this},_on:function(l,g,S,D){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(l,g,S)===!1){S===this&&(S=void 0);var V={fn:g,ctx:S};D&&(V.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(V)}},_off:function(l,g,S){var D,V,Y;if(this._events&&(D=this._events[l],!!D)){if(arguments.length===1){if(this._firingCount)for(V=0,Y=D.length;V<Y;V++)D[V].fn=m;delete this._events[l];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var ae=this._listens(l,g,S);if(ae!==!1){var he=D[ae];this._firingCount&&(he.fn=m,this._events[l]=D=D.slice()),D.splice(ae,1)}}},fire:function(l,g,S){if(!this.listens(l,S))return this;var D=i({},g,{type:l,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var V=this._events[l];if(V){this._firingCount=this._firingCount+1||1;for(var Y=0,ae=V.length;Y<ae;Y++){var he=V[Y],ge=he.fn;he.once&&this.off(l,ge,he.ctx),ge.call(he.ctx||this,D)}this._firingCount--}}return S&&this._propagateEvent(D),this},listens:function(l,g,S,D){typeof l!="string"&&console.warn('"string" type argument expected');var V=g;typeof g!="function"&&(D=!!g,V=void 0,S=void 0);var Y=this._events&&this._events[l];if(Y&&Y.length&&this._listens(l,V,S)!==!1)return!0;if(D){for(var ae in this._eventParents)if(this._eventParents[ae].listens(l,g,S,D))return!0}return!1},_listens:function(l,g,S){if(!this._events)return!1;var D=this._events[l]||[];if(!g)return!!D.length;S===this&&(S=void 0);for(var V=0,Y=D.length;V<Y;V++)if(D[V].fn===g&&D[V].ctx===S)return V;return!1},once:function(l,g,S){if(typeof l=="object")for(var D in l)this._on(D,l[D],g,!0);else{l=x(l);for(var V=0,Y=l.length;V<Y;V++)this._on(l[V],g,S,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[d(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[d(l)],this},_propagateEvent:function(l){for(var g in this._eventParents)this._eventParents[g].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var Z=M.extend(W);function B(l,g,S){this.x=S?Math.round(l):l,this.y=S?Math.round(g):g}var q=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(l){return this.clone()._add(F(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(F(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new B(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new B(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(l){l=F(l);var g=l.x-this.x,S=l.y-this.y;return Math.sqrt(g*g+S*S)},equals:function(l){return l=F(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=F(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}};function F(l,g,S){return l instanceof B?l:_(l)?new B(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new B(l.x,l.y):new B(l,g,S)}function $(l,g){if(l)for(var S=g?[l,g]:l,D=0,V=S.length;D<V;D++)this.extend(S[D])}$.prototype={extend:function(l){var g,S;if(!l)return this;if(l instanceof B||typeof l[0]=="number"||"x"in l)g=S=F(l);else if(l=z(l),g=l.min,S=l.max,!g||!S)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=S.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(l){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var g,S;return typeof l[0]=="number"||l instanceof B?l=F(l):l=z(l),l instanceof $?(g=l.min,S=l.max):g=S=l,g.x>=this.min.x&&S.x<=this.max.x&&g.y>=this.min.y&&S.y<=this.max.y},intersects:function(l){l=z(l);var g=this.min,S=this.max,D=l.min,V=l.max,Y=V.x>=g.x&&D.x<=S.x,ae=V.y>=g.y&&D.y<=S.y;return Y&&ae},overlaps:function(l){l=z(l);var g=this.min,S=this.max,D=l.min,V=l.max,Y=V.x>g.x&&D.x<S.x,ae=V.y>g.y&&D.y<S.y;return Y&&ae},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var g=this.min,S=this.max,D=Math.abs(g.x-S.x)*l,V=Math.abs(g.y-S.y)*l;return z(F(g.x-D,g.y-V),F(S.x+D,S.y+V))},equals:function(l){return l?(l=z(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function z(l,g){return!l||l instanceof $?l:new $(l,g)}function G(l,g){if(l)for(var S=g?[l,g]:l,D=0,V=S.length;D<V;D++)this.extend(S[D])}G.prototype={extend:function(l){var g=this._southWest,S=this._northEast,D,V;if(l instanceof J)D=l,V=l;else if(l instanceof G){if(D=l._southWest,V=l._northEast,!D||!V)return this}else return l?this.extend(K(l)||X(l)):this;return!g&&!S?(this._southWest=new J(D.lat,D.lng),this._northEast=new J(V.lat,V.lng)):(g.lat=Math.min(D.lat,g.lat),g.lng=Math.min(D.lng,g.lng),S.lat=Math.max(V.lat,S.lat),S.lng=Math.max(V.lng,S.lng)),this},pad:function(l){var g=this._southWest,S=this._northEast,D=Math.abs(g.lat-S.lat)*l,V=Math.abs(g.lng-S.lng)*l;return new G(new J(g.lat-D,g.lng-V),new J(S.lat+D,S.lng+V))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof J||"lat"in l?l=K(l):l=X(l);var g=this._southWest,S=this._northEast,D,V;return l instanceof G?(D=l.getSouthWest(),V=l.getNorthEast()):D=V=l,D.lat>=g.lat&&V.lat<=S.lat&&D.lng>=g.lng&&V.lng<=S.lng},intersects:function(l){l=X(l);var g=this._southWest,S=this._northEast,D=l.getSouthWest(),V=l.getNorthEast(),Y=V.lat>=g.lat&&D.lat<=S.lat,ae=V.lng>=g.lng&&D.lng<=S.lng;return Y&&ae},overlaps:function(l){l=X(l);var g=this._southWest,S=this._northEast,D=l.getSouthWest(),V=l.getNorthEast(),Y=V.lat>g.lat&&D.lat<S.lat,ae=V.lng>g.lng&&D.lng<S.lng;return Y&&ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,g){return l?(l=X(l),this._southWest.equals(l.getSouthWest(),g)&&this._northEast.equals(l.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(l,g){return l instanceof G?l:new G(l,g)}function J(l,g,S){if(isNaN(l)||isNaN(g))throw new Error("Invalid LatLng object: ("+l+", "+g+")");this.lat=+l,this.lng=+g,S!==void 0&&(this.alt=+S)}J.prototype={equals:function(l,g){if(!l)return!1;l=K(l);var S=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return S<=(g===void 0?1e-9:g)},toString:function(l){return"LatLng("+u(this.lat,l)+", "+u(this.lng,l)+")"},distanceTo:function(l){return ne.distance(this,K(l))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(l){var g=180*l/40075017,S=g/Math.cos(Math.PI/180*this.lat);return X([this.lat-g,this.lng-S],[this.lat+g,this.lng+S])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function K(l,g,S){return l instanceof J?l:_(l)&&typeof l[0]!="object"?l.length===3?new J(l[0],l[1],l[2]):l.length===2?new J(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new J(l.lat,"lng"in l?l.lng:l.lon,l.alt):g===void 0?null:new J(l,g,S)}var U={latLngToPoint:function(l,g){var S=this.projection.project(l),D=this.scale(g);return this.transformation._transform(S,D)},pointToLatLng:function(l,g){var S=this.scale(g),D=this.transformation.untransform(l,S);return this.projection.unproject(D)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var g=this.projection.bounds,S=this.scale(l),D=this.transformation.transform(g.min,S),V=this.transformation.transform(g.max,S);return new $(D,V)},infinite:!1,wrapLatLng:function(l){var g=this.wrapLng?f(l.lng,this.wrapLng,!0):l.lng,S=this.wrapLat?f(l.lat,this.wrapLat,!0):l.lat,D=l.alt;return new J(S,g,D)},wrapLatLngBounds:function(l){var g=l.getCenter(),S=this.wrapLatLng(g),D=g.lat-S.lat,V=g.lng-S.lng;if(D===0&&V===0)return l;var Y=l.getSouthWest(),ae=l.getNorthEast(),he=new J(Y.lat-D,Y.lng-V),ge=new J(ae.lat-D,ae.lng-V);return new G(he,ge)}},ne=i({},U,{wrapLng:[-180,180],R:6371e3,distance:function(l,g){var S=Math.PI/180,D=l.lat*S,V=g.lat*S,Y=Math.sin((g.lat-l.lat)*S/2),ae=Math.sin((g.lng-l.lng)*S/2),he=Y*Y+Math.cos(D)*Math.cos(V)*ae*ae,ge=2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he));return this.R*ge}}),se=6378137,le={R:se,MAX_LATITUDE:85.0511287798,project:function(l){var g=Math.PI/180,S=this.MAX_LATITUDE,D=Math.max(Math.min(S,l.lat),-S),V=Math.sin(D*g);return new B(this.R*l.lng*g,this.R*Math.log((1+V)/(1-V))/2)},unproject:function(l){var g=180/Math.PI;return new J((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*g,l.x*g/this.R)},bounds:function(){var l=se*Math.PI;return new $([-l,-l],[l,l])}()};function pe(l,g,S,D){if(_(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=g,this._c=S,this._d=D}pe.prototype={transform:function(l,g){return this._transform(l.clone(),g)},_transform:function(l,g){return g=g||1,l.x=g*(this._a*l.x+this._b),l.y=g*(this._c*l.y+this._d),l},untransform:function(l,g){return g=g||1,new B((l.x/g-this._b)/this._a,(l.y/g-this._d)/this._c)}};function ee(l,g,S,D){return new pe(l,g,S,D)}var ye=i({},ne,{code:"EPSG:3857",projection:le,transformation:function(){var l=.5/(Math.PI*le.R);return ee(l,.5,-l,.5)}()}),Ce=i({},ye,{code:"EPSG:900913"});function ue(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function je(l,g){var S="",D,V,Y,ae,he,ge;for(D=0,Y=l.length;D<Y;D++){for(he=l[D],V=0,ae=he.length;V<ae;V++)ge=he[V],S+=(V?"L":"M")+ge.x+" "+ge.y;S+=g?Qe.svg?"z":"x":""}return S||"M0 0"}var xe=document.documentElement.style,ce="ActiveXObject"in window,fe=ce&&!document.addEventListener,Q="msLaunchUri"in navigator&&!("documentMode"in document),re=$r("webkit"),ie=$r("android"),be=$r("android 2")||$r("android 3"),we=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ve=ie&&$r("Google")&&we<537&&!("AudioNode"in window),Ae=!!window.opera,tt=!Q&&$r("chrome"),Xe=$r("gecko")&&!re&&!Ae&&!ce,zt=!tt&&$r("safari"),_t=$r("phantom"),Vt="OTransition"in xe,oe=navigator.platform.indexOf("Win")===0,ze=ce&&"transition"in xe,Ze="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!be,ut="MozPerspective"in xe,it=!window.L_DISABLE_3D&&(ze||Ze||ut)&&!Vt&&!_t,Ge=typeof orientation<"u"||$r("mobile"),dn=Ge&&re,Ut=Ge&&Ze,Ls=!window.PointerEvent&&window.MSPointerEvent,Zs=!!(window.PointerEvent||Ls),cs="ontouchstart"in window||!!window.TouchEvent,Kn=!window.L_NO_TOUCH&&(cs||Zs),aa=Ge&&Ae,De=Ge&&Xe,pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Nt=function(){var l=!1;try{var g=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",m,g),window.removeEventListener("testPassiveEventSupport",m,g)}catch{}return l}(),xn=function(){return!!document.createElement("canvas").getContext}(),qt=!!(document.createElementNS&&ue("svg").createSVGRect),Dr=!!qt&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ji=!qt&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var g=l.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),Rs=navigator.platform.indexOf("Mac")===0,Fr=navigator.platform.indexOf("Linux")===0;function $r(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Qe={ie:ce,ielt9:fe,edge:Q,webkit:re,android:ie,android23:be,androidStock:ve,opera:Ae,chrome:tt,gecko:Xe,safari:zt,phantom:_t,opera12:Vt,win:oe,ie3d:ze,webkit3d:Ze,gecko3d:ut,any3d:it,mobile:Ge,mobileWebkit:dn,mobileWebkit3d:Ut,msPointer:Ls,pointer:Zs,touch:Kn,touchNative:cs,mobileOpera:aa,mobileGecko:De,retina:pt,passiveEvents:Nt,canvas:xn,svg:qt,vml:ji,inlineSvg:Dr,mac:Rs,linux:Fr},Zw=Qe.msPointer?"MSPointerDown":"pointerdown",Gw=Qe.msPointer?"MSPointerMove":"pointermove",Kw=Qe.msPointer?"MSPointerUp":"pointerup",Yw=Qe.msPointer?"MSPointerCancel":"pointercancel",Yp={touchstart:Zw,touchmove:Gw,touchend:Kw,touchcancel:Yw},Xw={touchstart:H4,touchmove:sh,touchend:sh,touchcancel:sh},nl={},Qw=!1;function B4(l,g,S){return g==="touchstart"&&q4(),Xw[g]?(S=Xw[g].bind(this,S),l.addEventListener(Yp[g],S,!1),S):(console.warn("wrong event specified:",g),m)}function z4(l,g,S){if(!Yp[g]){console.warn("wrong event specified:",g);return}l.removeEventListener(Yp[g],S,!1)}function V4(l){nl[l.pointerId]=l}function U4(l){nl[l.pointerId]&&(nl[l.pointerId]=l)}function Jw(l){delete nl[l.pointerId]}function q4(){Qw||(document.addEventListener(Zw,V4,!0),document.addEventListener(Gw,U4,!0),document.addEventListener(Kw,Jw,!0),document.addEventListener(Yw,Jw,!0),Qw=!0)}function sh(l,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var S in nl)g.touches.push(nl[S]);g.changedTouches=[g],l(g)}}function H4(l,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&zn(g),sh(l,g)}function W4(l){var g={},S,D;for(D in l)S=l[D],g[D]=S&&S.bind?S.bind(l):S;return l=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Z4=200;function G4(l,g){l.addEventListener("dblclick",g);var S=0,D;function V(Y){if(Y.detail!==1){D=Y.detail;return}if(!(Y.pointerType==="mouse"||Y.sourceCapabilities&&!Y.sourceCapabilities.firesTouchEvents)){var ae=rj(Y);if(!(ae.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ae.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var he=Date.now();he-S<=Z4?(D++,D===2&&g(W4(Y))):D=1,S=he}}}return l.addEventListener("click",V),{dblclick:g,simDblclick:V}}function K4(l,g){l.removeEventListener("dblclick",g.dblclick),l.removeEventListener("click",g.simDblclick)}var Xp=ah(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yc=ah(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ej=Yc==="webkitTransition"||Yc==="OTransition"?Yc+"End":"transitionend";function tj(l){return typeof l=="string"?document.getElementById(l):l}function Xc(l,g){var S=l.style[g]||l.currentStyle&&l.currentStyle[g];if((!S||S==="auto")&&document.defaultView){var D=document.defaultView.getComputedStyle(l,null);S=D?D[g]:null}return S==="auto"?null:S}function Pt(l,g,S){var D=document.createElement(l);return D.className=g||"",S&&S.appendChild(D),D}function tn(l){var g=l.parentNode;g&&g.removeChild(l)}function rh(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function sl(l){var g=l.parentNode;g&&g.lastChild!==l&&g.appendChild(l)}function rl(l){var g=l.parentNode;g&&g.firstChild!==l&&g.insertBefore(l,g.firstChild)}function Qp(l,g){if(l.classList!==void 0)return l.classList.contains(g);var S=ih(l);return S.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(S)}function yt(l,g){if(l.classList!==void 0)for(var S=x(g),D=0,V=S.length;D<V;D++)l.classList.add(S[D]);else if(!Qp(l,g)){var Y=ih(l);Jp(l,(Y?Y+" ":"")+g)}}function yn(l,g){l.classList!==void 0?l.classList.remove(g):Jp(l,p((" "+ih(l)+" ").replace(" "+g+" "," ")))}function Jp(l,g){l.className.baseVal===void 0?l.className=g:l.className.baseVal=g}function ih(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Gs(l,g){"opacity"in l.style?l.style.opacity=g:"filter"in l.style&&Y4(l,g)}function Y4(l,g){var S=!1,D="DXImageTransform.Microsoft.Alpha";try{S=l.filters.item(D)}catch{if(g===1)return}g=Math.round(g*100),S?(S.Enabled=g!==100,S.Opacity=g):l.style.filter+=" progid:"+D+"(opacity="+g+")"}function ah(l){for(var g=document.documentElement.style,S=0;S<l.length;S++)if(l[S]in g)return l[S];return!1}function ao(l,g,S){var D=g||new B(0,0);l.style[Xp]=(Qe.ie3d?"translate("+D.x+"px,"+D.y+"px)":"translate3d("+D.x+"px,"+D.y+"px,0)")+(S?" scale("+S+")":"")}function kn(l,g){l._leaflet_pos=g,Qe.any3d?ao(l,g):(l.style.left=g.x+"px",l.style.top=g.y+"px")}function oo(l){return l._leaflet_pos||new B(0,0)}var Qc,Jc,eg;if("onselectstart"in document)Qc=function(){mt(window,"selectstart",zn)},Jc=function(){Ft(window,"selectstart",zn)};else{var ed=ah(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qc=function(){if(ed){var l=document.documentElement.style;eg=l[ed],l[ed]="none"}},Jc=function(){ed&&(document.documentElement.style[ed]=eg,eg=void 0)}}function tg(){mt(window,"dragstart",zn)}function ng(){Ft(window,"dragstart",zn)}var oh,sg;function rg(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(lh(),oh=l,sg=l.style.outlineStyle,l.style.outlineStyle="none",mt(window,"keydown",lh))}function lh(){oh&&(oh.style.outlineStyle=sg,oh=void 0,sg=void 0,Ft(window,"keydown",lh))}function nj(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function ig(l){var g=l.getBoundingClientRect();return{x:g.width/l.offsetWidth||1,y:g.height/l.offsetHeight||1,boundingClientRect:g}}var X4={__proto__:null,TRANSFORM:Xp,TRANSITION:Yc,TRANSITION_END:ej,get:tj,getStyle:Xc,create:Pt,remove:tn,empty:rh,toFront:sl,toBack:rl,hasClass:Qp,addClass:yt,removeClass:yn,setClass:Jp,getClass:ih,setOpacity:Gs,testProp:ah,setTransform:ao,setPosition:kn,getPosition:oo,get disableTextSelection(){return Qc},get enableTextSelection(){return Jc},disableImageDrag:tg,enableImageDrag:ng,preventOutline:rg,restoreOutline:lh,getSizedParentNode:nj,getScale:ig};function mt(l,g,S,D){if(g&&typeof g=="object")for(var V in g)og(l,V,g[V],S);else{g=x(g);for(var Y=0,ae=g.length;Y<ae;Y++)og(l,g[Y],S,D)}return this}var Br="_leaflet_events";function Ft(l,g,S,D){if(arguments.length===1)sj(l),delete l[Br];else if(g&&typeof g=="object")for(var V in g)lg(l,V,g[V],S);else if(g=x(g),arguments.length===2)sj(l,function(he){return N(g,he)!==-1});else for(var Y=0,ae=g.length;Y<ae;Y++)lg(l,g[Y],S,D);return this}function sj(l,g){for(var S in l[Br]){var D=S.split(/\d/)[0];(!g||g(D))&&lg(l,D,null,null,S)}}var ag={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function og(l,g,S,D){var V=g+d(S)+(D?"_"+d(D):"");if(l[Br]&&l[Br][V])return this;var Y=function(he){return S.call(D||l,he||window.event)},ae=Y;!Qe.touchNative&&Qe.pointer&&g.indexOf("touch")===0?Y=B4(l,g,Y):Qe.touch&&g==="dblclick"?Y=G4(l,Y):"addEventListener"in l?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?l.addEventListener(ag[g]||g,Y,Qe.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(Y=function(he){he=he||window.event,dg(l,he)&&ae(he)},l.addEventListener(ag[g],Y,!1)):l.addEventListener(g,ae,!1):l.attachEvent("on"+g,Y),l[Br]=l[Br]||{},l[Br][V]=Y}function lg(l,g,S,D,V){V=V||g+d(S)+(D?"_"+d(D):"");var Y=l[Br]&&l[Br][V];if(!Y)return this;!Qe.touchNative&&Qe.pointer&&g.indexOf("touch")===0?z4(l,g,Y):Qe.touch&&g==="dblclick"?K4(l,Y):"removeEventListener"in l?l.removeEventListener(ag[g]||g,Y,!1):l.detachEvent("on"+g,Y),l[Br][V]=null}function lo(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function cg(l){return og(l,"wheel",lo),this}function td(l){return mt(l,"mousedown touchstart dblclick contextmenu",lo),l._leaflet_disable_click=!0,this}function zn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function co(l){return zn(l),lo(l),this}function rj(l){if(l.composedPath)return l.composedPath();for(var g=[],S=l.target;S;)g.push(S),S=S.parentNode;return g}function ij(l,g){if(!g)return new B(l.clientX,l.clientY);var S=ig(g),D=S.boundingClientRect;return new B((l.clientX-D.left)/S.x-g.clientLeft,(l.clientY-D.top)/S.y-g.clientTop)}var Q4=Qe.linux&&Qe.chrome?window.devicePixelRatio:Qe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function aj(l){return Qe.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Q4:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function dg(l,g){var S=g.relatedTarget;if(!S)return!0;try{for(;S&&S!==l;)S=S.parentNode}catch{return!1}return S!==l}var J4={__proto__:null,on:mt,off:Ft,stopPropagation:lo,disableScrollPropagation:cg,disableClickPropagation:td,preventDefault:zn,stop:co,getPropagationPath:rj,getMousePosition:ij,getWheelDelta:aj,isExternalTarget:dg,addListener:mt,removeListener:Ft},oj=Z.extend({run:function(l,g,S,D){this.stop(),this._el=l,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(D||.5,.2),this._startPos=oo(l),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(l){var g=+new Date-this._startTime,S=this._duration*1e3;g<S?this._runFrame(this._easeOut(g/S),l):(this._runFrame(1),this._complete())},_runFrame:function(l,g){var S=this._startPos.add(this._offset.multiplyBy(l));g&&S._round(),kn(this._el,S),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Ct=Z.extend({options:{crs:ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,g){g=v(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(K(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yc&&Qe.any3d&&!Qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,ej,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,g,S){if(g=g===void 0?this._zoom:this._limitZoom(g),l=this._limitCenter(K(l),g,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var D=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,g,S.zoom):this._tryAnimatedPan(l,S.pan);if(D)return clearTimeout(this._sizeTimer),this}return this._resetView(l,g,S.pan&&S.pan.noMoveStart),this},setZoom:function(l,g){return this._loaded?this.setView(this.getCenter(),l,{zoom:g}):(this._zoom=l,this)},zoomIn:function(l,g){return l=l||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,g)},zoomOut:function(l,g){return l=l||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,g)},setZoomAround:function(l,g,S){var D=this.getZoomScale(g),V=this.getSize().divideBy(2),Y=l instanceof B?l:this.latLngToContainerPoint(l),ae=Y.subtract(V).multiplyBy(1-1/D),he=this.containerPointToLatLng(V.add(ae));return this.setView(he,g,{zoom:S})},_getBoundsCenterZoom:function(l,g){g=g||{},l=l.getBounds?l.getBounds():X(l);var S=F(g.paddingTopLeft||g.padding||[0,0]),D=F(g.paddingBottomRight||g.padding||[0,0]),V=this.getBoundsZoom(l,!1,S.add(D));if(V=typeof g.maxZoom=="number"?Math.min(g.maxZoom,V):V,V===1/0)return{center:l.getCenter(),zoom:V};var Y=D.subtract(S).divideBy(2),ae=this.project(l.getSouthWest(),V),he=this.project(l.getNorthEast(),V),ge=this.unproject(ae.add(he).divideBy(2).add(Y),V);return{center:ge,zoom:V}},fitBounds:function(l,g){if(l=X(l),!l.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(l,g);return this.setView(S.center,S.zoom,g)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,g){return this.setView(l,this._zoom,{pan:g})},panBy:function(l,g){if(l=F(l).round(),g=g||{},!l.x&&!l.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oj,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){yt(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,S,g.duration||.25,g.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,g,S){if(S=S||{},S.animate===!1||!Qe.any3d)return this.setView(l,g,S);this._stop();var D=this.project(this.getCenter()),V=this.project(l),Y=this.getSize(),ae=this._zoom;l=K(l),g=g===void 0?ae:g;var he=Math.max(Y.x,Y.y),ge=he*this.getZoomScale(ae,g),Ee=V.distanceTo(D)||1,Be=1.42,st=Be*Be;function wt(Cn){var bh=Cn?-1:1,zM=Cn?ge:he,VM=ge*ge-he*he+bh*st*st*Ee*Ee,UM=2*zM*st*Ee,wg=VM/UM,zj=Math.sqrt(wg*wg+1)-wg,qM=zj<1e-9?-18:Math.log(zj);return qM}function ds(Cn){return(Math.exp(Cn)-Math.exp(-Cn))/2}function Fn(Cn){return(Math.exp(Cn)+Math.exp(-Cn))/2}function Ys(Cn){return ds(Cn)/Fn(Cn)}var ws=wt(0);function dl(Cn){return he*(Fn(ws)/Fn(ws+Be*Cn))}function DM(Cn){return he*(Fn(ws)*Ys(ws+Be*Cn)-ds(ws))/st}function FM(Cn){return 1-Math.pow(1-Cn,1.5)}var $M=Date.now(),$j=(wt(1)-ws)/Be,BM=S.duration?1e3*S.duration:1e3*$j*.8;function Bj(){var Cn=(Date.now()-$M)/BM,bh=FM(Cn)*$j;Cn<=1?(this._flyToFrame=R(Bj,this),this._move(this.unproject(D.add(V.subtract(D).multiplyBy(DM(bh)/Ee)),ae),this.getScaleZoom(he/dl(bh),ae),{flyTo:!0})):this._move(l,g)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Bj.call(this),this},flyToBounds:function(l,g){var S=this._getBoundsCenterZoom(l,g);return this.flyTo(S.center,S.zoom,g)},setMaxBounds:function(l){return l=X(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var g=this.options.minZoom;return this.options.minZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var g=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,g){this._enforcingBounds=!0;var S=this.getCenter(),D=this._limitCenter(S,this._zoom,X(l));return S.equals(D)||this.panTo(D,g),this._enforcingBounds=!1,this},panInside:function(l,g){g=g||{};var S=F(g.paddingTopLeft||g.padding||[0,0]),D=F(g.paddingBottomRight||g.padding||[0,0]),V=this.project(this.getCenter()),Y=this.project(l),ae=this.getPixelBounds(),he=z([ae.min.add(S),ae.max.subtract(D)]),ge=he.getSize();if(!he.contains(Y)){this._enforcingBounds=!0;var Ee=Y.subtract(he.getCenter()),Be=he.extend(Y).getSize().subtract(ge);V.x+=Ee.x<0?-Be.x:Be.x,V.y+=Ee.y<0?-Be.y:Be.y,this.panTo(this.unproject(V),g),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),D=g.divideBy(2).round(),V=S.divideBy(2).round(),Y=D.subtract(V);return!Y.x&&!Y.y?this:(l.animate&&l.pan?this.panBy(Y):(l.pan&&this._rawPanBy(Y),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),S=o(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,S,l):navigator.geolocation.getCurrentPosition(g,S,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var g=l.code,S=l.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var g=l.coords.latitude,S=l.coords.longitude,D=new J(g,S),V=D.toBounds(l.coords.accuracy*2),Y=this._locateOptions;if(Y.setView){var ae=this.getBoundsZoom(V);this.setView(D,Y.maxZoom?Math.min(ae,Y.maxZoom):ae)}var he={latlng:D,bounds:V,timestamp:l.timestamp};for(var ge in l.coords)typeof l.coords[ge]=="number"&&(he[ge]=l.coords[ge]);this.fire("locationfound",he)}},addHandler:function(l,g){if(!g)return this;var S=this[l]=new g(this);return this._handlers.push(S),this.options[l]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)tn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,g){var S="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),D=Pt("div",S,g||this._mapPane);return l&&(this._panes[l]=D),D},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),g=this.unproject(l.getBottomLeft()),S=this.unproject(l.getTopRight());return new G(g,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,g,S){l=X(l),S=F(S||[0,0]);var D=this.getZoom()||0,V=this.getMinZoom(),Y=this.getMaxZoom(),ae=l.getNorthWest(),he=l.getSouthEast(),ge=this.getSize().subtract(S),Ee=z(this.project(he,D),this.project(ae,D)).getSize(),Be=Qe.any3d?this.options.zoomSnap:1,st=ge.x/Ee.x,wt=ge.y/Ee.y,ds=g?Math.max(st,wt):Math.min(st,wt);return D=this.getScaleZoom(ds,D),Be&&(D=Math.round(D/(Be/100))*(Be/100),D=g?Math.ceil(D/Be)*Be:Math.floor(D/Be)*Be),Math.max(V,Math.min(Y,D))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,g){var S=this._getTopLeftPoint(l,g);return new $(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,g){var S=this.options.crs;return g=g===void 0?this._zoom:g,S.scale(l)/S.scale(g)},getScaleZoom:function(l,g){var S=this.options.crs;g=g===void 0?this._zoom:g;var D=S.zoom(l*S.scale(g));return isNaN(D)?1/0:D},project:function(l,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(K(l),g)},unproject:function(l,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(F(l),g)},layerPointToLatLng:function(l){var g=F(l).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(l){var g=this.project(K(l))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(K(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(X(l))},distance:function(l,g){return this.options.crs.distance(K(l),K(g))},containerPointToLayerPoint:function(l){return F(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return F(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var g=this.containerPointToLayerPoint(F(l));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(l)))},mouseEventToContainerPoint:function(l){return ij(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var g=this._container=tj(l);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Qe.any3d,yt(l,"leaflet-container"+(Qe.touch?" leaflet-touch":"")+(Qe.retina?" leaflet-retina":"")+(Qe.ielt9?" leaflet-oldie":"")+(Qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Xc(l,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kn(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(l.markerPane,"leaflet-zoom-hide"),yt(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,g,S){kn(this._mapPane,new B(0,0));var D=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var V=this._zoom!==g;this._moveStart(V,S)._move(l,g)._moveEnd(V),this.fire("viewreset"),D&&this.fire("load")},_moveStart:function(l,g){return l&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(l,g,S,D){g===void 0&&(g=this._zoom);var V=this._zoom!==g;return this._zoom=g,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),D?S&&S.pinch&&this.fire("zoom",S):((V||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){kn(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[d(this._container)]=this;var g=l?Ft:mt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Qe.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,g){for(var S=[],D,V=g==="mouseout"||g==="mouseover",Y=l.target||l.srcElement,ae=!1;Y;){if(D=this._targets[d(Y)],D&&(g==="click"||g==="preclick")&&this._draggableMoved(D)){ae=!0;break}if(D&&D.listens(g,!0)&&(V&&!dg(Y,l)||(S.push(D),V))||Y===this._container)break;Y=Y.parentNode}return!S.length&&!ae&&!V&&this.listens(g,!0)&&(S=[this]),S},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var g=l.target||l.srcElement;if(!(!this._loaded||g._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(g))){var S=l.type;S==="mousedown"&&rg(g),this._fireDOMEvent(l,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,g,S){if(l.type==="click"){var D=i({},l);D.type="preclick",this._fireDOMEvent(D,D.type,S)}var V=this._findEventTargets(l,g);if(S){for(var Y=[],ae=0;ae<S.length;ae++)S[ae].listens(g,!0)&&Y.push(S[ae]);V=Y.concat(V)}if(V.length){g==="contextmenu"&&zn(l);var he=V[0],ge={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var Ee=he.getLatLng&&(!he._radius||he._radius<=10);ge.containerPoint=Ee?this.latLngToContainerPoint(he.getLatLng()):this.mouseEventToContainerPoint(l),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ee?he.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ae=0;ae<V.length;ae++)if(V[ae].fire(g,ge,!0),ge.originalEvent._stopped||V[ae].options.bubblingMouseEvents===!1&&N(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,g=this._handlers.length;l<g;l++)this._handlers[l].disable()},whenReady:function(l,g){return this._loaded?l.call(g||this,{target:this}):this.on("load",l,g),this},_getMapPanePos:function(){return oo(this._mapPane)||new B(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,g){var S=l&&g!==void 0?this._getNewPixelOrigin(l,g):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,g){var S=this.getSize()._divideBy(2);return this.project(l,g)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,g,S){var D=this._getNewPixelOrigin(S,g);return this.project(l,g)._subtract(D)},_latLngBoundsToNewLayerBounds:function(l,g,S){var D=this._getNewPixelOrigin(S,g);return z([this.project(l.getSouthWest(),g)._subtract(D),this.project(l.getNorthWest(),g)._subtract(D),this.project(l.getSouthEast(),g)._subtract(D),this.project(l.getNorthEast(),g)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,g,S){if(!S)return l;var D=this.project(l,g),V=this.getSize().divideBy(2),Y=new $(D.subtract(V),D.add(V)),ae=this._getBoundsOffset(Y,S,g);return Math.abs(ae.x)<=1&&Math.abs(ae.y)<=1?l:this.unproject(D.add(ae),g)},_limitOffset:function(l,g){if(!g)return l;var S=this.getPixelBounds(),D=new $(S.min.add(l),S.max.add(l));return l.add(this._getBoundsOffset(D,g))},_getBoundsOffset:function(l,g,S){var D=z(this.project(g.getNorthEast(),S),this.project(g.getSouthWest(),S)),V=D.min.subtract(l.min),Y=D.max.subtract(l.max),ae=this._rebound(V.x,-Y.x),he=this._rebound(V.y,-Y.y);return new B(ae,he)},_rebound:function(l,g){return l+g>0?Math.round(l-g)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(g))},_limitZoom:function(l){var g=this.getMinZoom(),S=this.getMaxZoom(),D=Qe.any3d?this.options.zoomSnap:1;return D&&(l=Math.round(l/D)*D),Math.max(g,Math.min(S,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,g){var S=this._getCenterOffset(l)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,g),!0)},_createAnimProxy:function(){var l=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(g){var S=Xp,D=this._proxy.style[S];ao(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),D===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),g=this.getZoom();ao(this._proxy,this.project(l,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,g,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var D=this.getZoomScale(g),V=this._getCenterOffset(l)._divideBy(1-1/D);return S.animate!==!0&&!this.getSize().contains(V)?!1:(R(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(l,g,!0)},this),!0)},_animateZoom:function(l,g,S,D){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=g,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:g,noUpdate:D}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function eM(l,g){return new Ct(l,g)}var mr=M.extend({options:{position:"topright"},initialize:function(l){v(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var g=this._map;return g&&g.removeControl(this),this.options.position=l,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var g=this._container=this.onAdd(l),S=this.getPosition(),D=l._controlCorners[S];return yt(g,"leaflet-control"),S.indexOf("bottom")!==-1?D.insertBefore(g,D.firstChild):D.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),nd=function(l){return new mr(l)};Ct.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},g="leaflet-",S=this._controlContainer=Pt("div",g+"control-container",this._container);function D(V,Y){var ae=g+V+" "+g+Y;l[V+Y]=Pt("div",ae,S)}D("top","left"),D("top","right"),D("bottom","left"),D("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)tn(this._controlCorners[l]);tn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lj=mr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,g,S,D){return S<D?-1:D<S?1:0}},initialize:function(l,g,S){v(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var D in l)this._addLayer(l[D],D);for(D in g)this._addLayer(g[D],D,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return mr.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,g){return this._addLayer(l,g),this._map?this._update():this},addOverlay:function(l,g){return this._addLayer(l,g,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(l));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):yn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",g=this._container=Pt("div",l),S=this.options.collapsed;g.setAttribute("aria-haspopup",!0),td(g),cg(g);var D=this._section=Pt("section",l+"-list");S&&(this._map.on("click",this.collapse,this),mt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var V=this._layersLink=Pt("a",l+"-toggle",g);V.href="#",V.title="Layers",V.setAttribute("role","button"),mt(V,{keydown:function(Y){Y.keyCode===13&&this._expandSafely()},click:function(Y){zn(Y),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Pt("div",l+"-base",D),this._separator=Pt("div",l+"-separator",D),this._overlaysList=Pt("div",l+"-overlays",D),g.appendChild(D)},_getLayer:function(l){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===l)return this._layers[g]},_addLayer:function(l,g,S){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:g,overlay:S}),this.options.sortLayers&&this._layers.sort(o(function(D,V){return this.options.sortFunction(D.layer,V.layer,D.name,V.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rh(this._baseLayersList),rh(this._overlaysList),this._layerControlInputs=[];var l,g,S,D,V=0;for(S=0;S<this._layers.length;S++)D=this._layers[S],this._addItem(D),g=g||D.overlay,l=l||!D.overlay,V+=D.overlay?0:1;return this.options.hideSingleBase&&(l=l&&V>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=g&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var g=this._getLayer(d(l.target)),S=g.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;S&&this._map.fire(S,g)},_createRadioElement:function(l,g){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(g?' checked="checked"':"")+"/>",D=document.createElement("div");return D.innerHTML=S,D.firstChild},_addItem:function(l){var g=document.createElement("label"),S=this._map.hasLayer(l.layer),D;l.overlay?(D=document.createElement("input"),D.type="checkbox",D.className="leaflet-control-layers-selector",D.defaultChecked=S):D=this._createRadioElement("leaflet-base-layers_"+d(this),S),this._layerControlInputs.push(D),D.layerId=d(l.layer),mt(D,"click",this._onInputClick,this);var V=document.createElement("span");V.innerHTML=" "+l.name;var Y=document.createElement("span");g.appendChild(Y),Y.appendChild(D),Y.appendChild(V);var ae=l.overlay?this._overlaysList:this._baseLayersList;return ae.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,g,S,D=[],V=[];this._handlingClick=!0;for(var Y=l.length-1;Y>=0;Y--)g=l[Y],S=this._getLayer(g.layerId).layer,g.checked?D.push(S):g.checked||V.push(S);for(Y=0;Y<V.length;Y++)this._map.hasLayer(V[Y])&&this._map.removeLayer(V[Y]);for(Y=0;Y<D.length;Y++)this._map.hasLayer(D[Y])||this._map.addLayer(D[Y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,g,S,D=this._map.getZoom(),V=l.length-1;V>=0;V--)g=l[V],S=this._getLayer(g.layerId).layer,g.disabled=S.options.minZoom!==void 0&&D<S.options.minZoom||S.options.maxZoom!==void 0&&D>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,mt(l,"click",zn),this.expand();var g=this;setTimeout(function(){Ft(l,"click",zn),g._preventClick=!1})}}),tM=function(l,g,S){return new lj(l,g,S)},ug=mr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var g="leaflet-control-zoom",S=Pt("div",g+" leaflet-bar"),D=this.options;return this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,g+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,g+"-out",S,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,g,S,D,V){var Y=Pt("a",S,D);return Y.innerHTML=l,Y.href="#",Y.title=g,Y.setAttribute("role","button"),Y.setAttribute("aria-label",g),td(Y),mt(Y,"click",co),mt(Y,"click",V,this),mt(Y,"click",this._refocusOnMap,this),Y},_updateDisabled:function(){var l=this._map,g="leaflet-disabled";yn(this._zoomInButton,g),yn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(yt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(yt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ug,this.addControl(this.zoomControl))});var nM=function(l){return new ug(l)},cj=mr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var g="leaflet-control-scale",S=Pt("div",g),D=this.options;return this._addScales(D,g+"-line",S),l.on(D.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),S},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,g,S){l.metric&&(this._mScale=Pt("div",g,S)),l.imperial&&(this._iScale=Pt("div",g,S))},_update:function(){var l=this._map,g=l.getSize().y/2,S=l.distance(l.containerPointToLatLng([0,g]),l.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(S)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var g=this._getRoundNum(l),S=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,S,g/l)},_updateImperial:function(l){var g=l*3.2808399,S,D,V;g>5280?(S=g/5280,D=this._getRoundNum(S),this._updateScale(this._iScale,D+" mi",D/S)):(V=this._getRoundNum(g),this._updateScale(this._iScale,V+" ft",V/g))},_updateScale:function(l,g,S){l.style.width=Math.round(this.options.maxWidth*S)+"px",l.innerHTML=g},_getRoundNum:function(l){var g=Math.pow(10,(Math.floor(l)+"").length-1),S=l/g;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,g*S}}),sM=function(l){return new cj(l)},rM='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hg=mr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Qe.inlineSvg?rM+" ":"")+"Leaflet</a>"},initialize:function(l){v(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),td(this._container);for(var g in l._layers)l._layers[g].getAttribution&&this.addAttribution(l._layers[g].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var g in this._attributions)this._attributions[g]&&l.push(g);var S=[];this.options.prefix&&S.push(this.options.prefix),l.length&&S.push(l.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new hg().addTo(this)});var iM=function(l){return new hg(l)};mr.Layers=lj,mr.Zoom=ug,mr.Scale=cj,mr.Attribution=hg,nd.layers=tM,nd.zoom=nM,nd.scale=sM,nd.attribution=iM;var zr=M.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zr.addTo=function(l,g){return l.addHandler(g,this),this};var aM={Events:W},dj=Qe.touch?"touchstart mousedown":"mousedown",oa=Z.extend({options:{clickTolerance:3},initialize:function(l,g,S,D){v(this,D),this._element=l,this._dragStartTarget=g||l,this._preventOutline=S},enable:function(){this._enabled||(mt(this._dragStartTarget,dj,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oa._dragging===this&&this.finishDrag(!0),Ft(this._dragStartTarget,dj,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Qp(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){oa._dragging===this&&this.finishDrag();return}if(!(oa._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(oa._dragging=this,this._preventOutline&&rg(this._element),tg(),Qc(),!this._moving)){this.fire("down");var g=l.touches?l.touches[0]:l,S=nj(this._element);this._startPoint=new B(g.clientX,g.clientY),this._startPos=oo(this._element),this._parentScale=ig(S);var D=l.type==="mousedown";mt(document,D?"mousemove":"touchmove",this._onMove,this),mt(document,D?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var g=l.touches&&l.touches.length===1?l.touches[0]:l,S=new B(g.clientX,g.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,zn(l),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),kn(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){yn(document.body,"leaflet-dragging"),this._lastTarget&&(yn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ft(document,"mousemove touchmove",this._onMove,this),Ft(document,"mouseup touchend touchcancel",this._onUp,this),ng(),Jc();var g=this._moved&&this._moving;this._moving=!1,oa._dragging=!1,g&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function uj(l,g,S){var D,V=[1,4,2,8],Y,ae,he,ge,Ee,Be,st,wt;for(Y=0,Be=l.length;Y<Be;Y++)l[Y]._code=uo(l[Y],g);for(he=0;he<4;he++){for(st=V[he],D=[],Y=0,Be=l.length,ae=Be-1;Y<Be;ae=Y++)ge=l[Y],Ee=l[ae],ge._code&st?Ee._code&st||(wt=ch(Ee,ge,st,g,S),wt._code=uo(wt,g),D.push(wt)):(Ee._code&st&&(wt=ch(Ee,ge,st,g,S),wt._code=uo(wt,g),D.push(wt)),D.push(ge));l=D}return l}function hj(l,g){var S,D,V,Y,ae,he,ge,Ee,Be;if(!l||l.length===0)throw new Error("latlngs not passed");Ks(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var st=K([0,0]),wt=X(l),ds=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());ds<1700&&(st=fg(l));var Fn=l.length,Ys=[];for(S=0;S<Fn;S++){var ws=K(l[S]);Ys.push(g.project(K([ws.lat-st.lat,ws.lng-st.lng])))}for(he=ge=Ee=0,S=0,D=Fn-1;S<Fn;D=S++)V=Ys[S],Y=Ys[D],ae=V.y*Y.x-Y.y*V.x,ge+=(V.x+Y.x)*ae,Ee+=(V.y+Y.y)*ae,he+=ae*3;he===0?Be=Ys[0]:Be=[ge/he,Ee/he];var dl=g.unproject(F(Be));return K([dl.lat+st.lat,dl.lng+st.lng])}function fg(l){for(var g=0,S=0,D=0,V=0;V<l.length;V++){var Y=K(l[V]);g+=Y.lat,S+=Y.lng,D++}return K([g/D,S/D])}var oM={__proto__:null,clipPolygon:uj,polygonCenter:hj,centroid:fg};function fj(l,g){if(!g||!l.length)return l.slice();var S=g*g;return l=dM(l,S),l=cM(l,S),l}function mj(l,g,S){return Math.sqrt(sd(l,g,S,!0))}function lM(l,g,S){return sd(l,g,S)}function cM(l,g){var S=l.length,D=typeof Uint8Array<"u"?Uint8Array:Array,V=new D(S);V[0]=V[S-1]=1,mg(l,V,g,0,S-1);var Y,ae=[];for(Y=0;Y<S;Y++)V[Y]&&ae.push(l[Y]);return ae}function mg(l,g,S,D,V){var Y=0,ae,he,ge;for(he=D+1;he<=V-1;he++)ge=sd(l[he],l[D],l[V],!0),ge>Y&&(ae=he,Y=ge);Y>S&&(g[ae]=1,mg(l,g,S,D,ae),mg(l,g,S,ae,V))}function dM(l,g){for(var S=[l[0]],D=1,V=0,Y=l.length;D<Y;D++)uM(l[D],l[V])>g&&(S.push(l[D]),V=D);return V<Y-1&&S.push(l[Y-1]),S}var pj;function gj(l,g,S,D,V){var Y=D?pj:uo(l,S),ae=uo(g,S),he,ge,Ee;for(pj=ae;;){if(!(Y|ae))return[l,g];if(Y&ae)return!1;he=Y||ae,ge=ch(l,g,he,S,V),Ee=uo(ge,S),he===Y?(l=ge,Y=Ee):(g=ge,ae=Ee)}}function ch(l,g,S,D,V){var Y=g.x-l.x,ae=g.y-l.y,he=D.min,ge=D.max,Ee,Be;return S&8?(Ee=l.x+Y*(ge.y-l.y)/ae,Be=ge.y):S&4?(Ee=l.x+Y*(he.y-l.y)/ae,Be=he.y):S&2?(Ee=ge.x,Be=l.y+ae*(ge.x-l.x)/Y):S&1&&(Ee=he.x,Be=l.y+ae*(he.x-l.x)/Y),new B(Ee,Be,V)}function uo(l,g){var S=0;return l.x<g.min.x?S|=1:l.x>g.max.x&&(S|=2),l.y<g.min.y?S|=4:l.y>g.max.y&&(S|=8),S}function uM(l,g){var S=g.x-l.x,D=g.y-l.y;return S*S+D*D}function sd(l,g,S,D){var V=g.x,Y=g.y,ae=S.x-V,he=S.y-Y,ge=ae*ae+he*he,Ee;return ge>0&&(Ee=((l.x-V)*ae+(l.y-Y)*he)/ge,Ee>1?(V=S.x,Y=S.y):Ee>0&&(V+=ae*Ee,Y+=he*Ee)),ae=l.x-V,he=l.y-Y,D?ae*ae+he*he:new B(V,Y)}function Ks(l){return!_(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function vj(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ks(l)}function xj(l,g){var S,D,V,Y,ae,he,ge,Ee;if(!l||l.length===0)throw new Error("latlngs not passed");Ks(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Be=K([0,0]),st=X(l),wt=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());wt<1700&&(Be=fg(l));var ds=l.length,Fn=[];for(S=0;S<ds;S++){var Ys=K(l[S]);Fn.push(g.project(K([Ys.lat-Be.lat,Ys.lng-Be.lng])))}for(S=0,D=0;S<ds-1;S++)D+=Fn[S].distanceTo(Fn[S+1])/2;if(D===0)Ee=Fn[0];else for(S=0,Y=0;S<ds-1;S++)if(ae=Fn[S],he=Fn[S+1],V=ae.distanceTo(he),Y+=V,Y>D){ge=(Y-D)/V,Ee=[he.x-ge*(he.x-ae.x),he.y-ge*(he.y-ae.y)];break}var ws=g.unproject(F(Ee));return K([ws.lat+Be.lat,ws.lng+Be.lng])}var hM={__proto__:null,simplify:fj,pointToSegmentDistance:mj,closestPointOnSegment:lM,clipSegment:gj,_getEdgeIntersection:ch,_getBitCode:uo,_sqClosestPointOnSegment:sd,isFlat:Ks,_flat:vj,polylineCenter:xj},pg={project:function(l){return new B(l.lng,l.lat)},unproject:function(l){return new J(l.y,l.x)},bounds:new $([-180,-90],[180,90])},gg={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var g=Math.PI/180,S=this.R,D=l.lat*g,V=this.R_MINOR/S,Y=Math.sqrt(1-V*V),ae=Y*Math.sin(D),he=Math.tan(Math.PI/4-D/2)/Math.pow((1-ae)/(1+ae),Y/2);return D=-S*Math.log(Math.max(he,1e-10)),new B(l.lng*g*S,D)},unproject:function(l){for(var g=180/Math.PI,S=this.R,D=this.R_MINOR/S,V=Math.sqrt(1-D*D),Y=Math.exp(-l.y/S),ae=Math.PI/2-2*Math.atan(Y),he=0,ge=.1,Ee;he<15&&Math.abs(ge)>1e-7;he++)Ee=V*Math.sin(ae),Ee=Math.pow((1-Ee)/(1+Ee),V/2),ge=Math.PI/2-2*Math.atan(Y*Ee)-ae,ae+=ge;return new J(ae*g,l.x*g/S)}},fM={__proto__:null,LonLat:pg,Mercator:gg,SphericalMercator:le},mM=i({},ne,{code:"EPSG:3395",projection:gg,transformation:function(){var l=.5/(Math.PI*gg.R);return ee(l,.5,-l,.5)}()}),yj=i({},ne,{code:"EPSG:4326",projection:pg,transformation:ee(1/180,1,-1/180,.5)}),pM=i({},U,{projection:pg,transformation:ee(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,g){var S=g.lng-l.lng,D=g.lat-l.lat;return Math.sqrt(S*S+D*D)},infinite:!0});U.Earth=ne,U.EPSG3395=mM,U.EPSG3857=ye,U.EPSG900913=Ce,U.EPSG4326=yj,U.Simple=pM;var pr=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[d(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[d(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var g=l.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var S=this.getEvents();g.on(S,this),this.once("remove",function(){g.off(S,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(l);return this._layers[g]?this:(this._layers[g]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var g=d(l);return this._layers[g]?(this._loaded&&l.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return d(l)in this._layers},eachLayer:function(l,g){for(var S in this._layers)l.call(g,this._layers[S]);return this},_addLayers:function(l){l=l?_(l)?l:[l]:[];for(var g=0,S=l.length;g<S;g++)this.addLayer(l[g])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[d(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var g=d(l);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,g=-1/0,S=this._getZoomSpan();for(var D in this._zoomBoundLayers){var V=this._zoomBoundLayers[D].options;l=V.minZoom===void 0?l:Math.min(l,V.minZoom),g=V.maxZoom===void 0?g:Math.max(g,V.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=l===1/0?void 0:l,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var il=pr.extend({initialize:function(l,g){v(this,g),this._layers={};var S,D;if(l)for(S=0,D=l.length;S<D;S++)this.addLayer(l[S])},addLayer:function(l){var g=this.getLayerId(l);return this._layers[g]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var g=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(l){var g=typeof l=="number"?l:this.getLayerId(l);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var g=Array.prototype.slice.call(arguments,1),S,D;for(S in this._layers)D=this._layers[S],D[l]&&D[l].apply(D,g);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,g){for(var S in this._layers)l.call(g,this._layers[S]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return d(l)}}),gM=function(l,g){return new il(l,g)},_i=il.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),il.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),il.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new G;for(var g in this._layers){var S=this._layers[g];l.extend(S.getBounds?S.getBounds():S.getLatLng())}return l}}),vM=function(l,g){return new _i(l,g)},al=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){v(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,g){var S=this._getIconUrl(l);if(!S){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var D=this._createImg(S,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(D,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),D},_setIconStyles:function(l,g){var S=this.options,D=S[g+"Size"];typeof D=="number"&&(D=[D,D]);var V=F(D),Y=F(g==="shadow"&&S.shadowAnchor||S.iconAnchor||V&&V.divideBy(2,!0));l.className="leaflet-marker-"+g+" "+(S.className||""),Y&&(l.style.marginLeft=-Y.x+"px",l.style.marginTop=-Y.y+"px"),V&&(l.style.width=V.x+"px",l.style.height=V.y+"px")},_createImg:function(l,g){return g=g||document.createElement("img"),g.src=l,g},_getIconUrl:function(l){return Qe.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function xM(l){return new al(l)}var rd=al.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof rd.imagePath!="string"&&(rd.imagePath=this._detectIconPath()),(this.options.imagePath||rd.imagePath)+al.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var g=function(S,D,V){var Y=D.exec(S);return Y&&Y[V]};return l=g(l,/^url\((['"])?(.+)\1\)$/,2),l&&g(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Pt("div","leaflet-default-icon-path",document.body),g=Xc(l,"background-image")||Xc(l,"backgroundImage");if(document.body.removeChild(l),g=this._stripUrl(g),g)return g;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),bj=zr.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new oa(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var g=this._marker,S=g._map,D=this._marker.options.autoPanSpeed,V=this._marker.options.autoPanPadding,Y=oo(g._icon),ae=S.getPixelBounds(),he=S.getPixelOrigin(),ge=z(ae.min._subtract(he).add(V),ae.max._subtract(he).subtract(V));if(!ge.contains(Y)){var Ee=F((Math.max(ge.max.x,Y.x)-ge.max.x)/(ae.max.x-ge.max.x)-(Math.min(ge.min.x,Y.x)-ge.min.x)/(ae.min.x-ge.min.x),(Math.max(ge.max.y,Y.y)-ge.max.y)/(ae.max.y-ge.max.y)-(Math.min(ge.min.y,Y.y)-ge.min.y)/(ae.min.y-ge.min.y)).multiplyBy(D);S.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),kn(g._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=R(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,l)))},_onDrag:function(l){var g=this._marker,S=g._shadow,D=oo(g._icon),V=g._map.layerPointToLatLng(D);S&&kn(S,D),g._latlng=V,l.latlng=V,l.oldLatLng=this._oldLatLng,g.fire("move",l).fire("drag",l)},_onDragEnd:function(l){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),dh=pr.extend({options:{icon:new rd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,g){v(this,g),this._latlng=K(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var g=this._latlng;return this._latlng=K(l),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=l.icon.createIcon(this._icon),D=!1;S!==this._icon&&(this._icon&&this._removeIcon(),D=!0,l.title&&(S.title=l.title),S.tagName==="IMG"&&(S.alt=l.alt||"")),yt(S,g),l.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(S,"focus",this._panOnFocus,this);var V=l.icon.createShadow(this._shadow),Y=!1;V!==this._shadow&&(this._removeShadow(),Y=!0),V&&(yt(V,g),V.alt=""),this._shadow=V,l.opacity<1&&this._updateOpacity(),D&&this.getPane().appendChild(this._icon),this._initInteraction(),V&&Y&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(this._icon,"focus",this._panOnFocus,this),tn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&kn(this._icon,l),this._shadow&&kn(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bj)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bj(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Gs(this._icon,l),this._shadow&&Gs(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var g=this.options.icon.options,S=g.iconSize?F(g.iconSize):F(0,0),D=g.iconAnchor?F(g.iconAnchor):F(0,0);l.panInside(this._latlng,{paddingTopLeft:D,paddingBottomRight:S.subtract(D)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yM(l,g){return new dh(l,g)}var la=pr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return v(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),uh=la.extend({options:{fill:!0,radius:10},initialize:function(l,g){v(this,g),this._latlng=K(l),this._radius=this.options.radius},setLatLng:function(l){var g=this._latlng;return this._latlng=K(l),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var g=l&&l.radius||this._radius;return la.prototype.setStyle.call(this,l),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,g=this._radiusY||l,S=this._clickTolerance(),D=[l+S,g+S];this._pxBounds=new $(this._point.subtract(D),this._point.add(D))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bM(l,g){return new uh(l,g)}var vg=uh.extend({initialize:function(l,g,S){if(typeof g=="number"&&(g=i({},S,{radius:g})),v(this,g),this._latlng=K(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:la.prototype.setStyle,_project:function(){var l=this._latlng.lng,g=this._latlng.lat,S=this._map,D=S.options.crs;if(D.distance===ne.distance){var V=Math.PI/180,Y=this._mRadius/ne.R/V,ae=S.project([g+Y,l]),he=S.project([g-Y,l]),ge=ae.add(he).divideBy(2),Ee=S.unproject(ge).lat,Be=Math.acos((Math.cos(Y*V)-Math.sin(g*V)*Math.sin(Ee*V))/(Math.cos(g*V)*Math.cos(Ee*V)))/V;(isNaN(Be)||Be===0)&&(Be=Y/Math.cos(Math.PI/180*g)),this._point=ge.subtract(S.getPixelOrigin()),this._radius=isNaN(Be)?0:ge.x-S.project([Ee,l-Be]).x,this._radiusY=ge.y-ae.y}else{var st=D.unproject(D.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(st).x}this._updateBounds()}});function wM(l,g,S){return new vg(l,g,S)}var Ni=la.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,g){v(this,g),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var g=1/0,S=null,D=sd,V,Y,ae=0,he=this._parts.length;ae<he;ae++)for(var ge=this._parts[ae],Ee=1,Be=ge.length;Ee<Be;Ee++){V=ge[Ee-1],Y=ge[Ee];var st=D(l,V,Y,!0);st<g&&(g=st,S=D(l,V,Y))}return S&&(S.distance=Math.sqrt(g)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xj(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,g){return g=g||this._defaultShape(),l=K(l),g.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new G,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Ks(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var g=[],S=Ks(l),D=0,V=l.length;D<V;D++)S?(g[D]=K(l[D]),this._bounds.extend(g[D])):g[D]=this._convertLatLngs(l[D]);return g},_project:function(){var l=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),g=new B(l,l);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(l,g,S){var D=l[0]instanceof J,V=l.length,Y,ae;if(D){for(ae=[],Y=0;Y<V;Y++)ae[Y]=this._map.latLngToLayerPoint(l[Y]),S.extend(ae[Y]);g.push(ae)}else for(Y=0;Y<V;Y++)this._projectLatlngs(l[Y],g,S)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,S,D,V,Y,ae,he,ge;for(S=0,V=0,Y=this._rings.length;S<Y;S++)for(ge=this._rings[S],D=0,ae=ge.length;D<ae-1;D++)he=gj(ge[D],ge[D+1],l,D,!0),he&&(g[V]=g[V]||[],g[V].push(he[0]),(he[1]!==ge[D+1]||D===ae-2)&&(g[V].push(he[1]),V++))}},_simplifyPoints:function(){for(var l=this._parts,g=this.options.smoothFactor,S=0,D=l.length;S<D;S++)l[S]=fj(l[S],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,g){var S,D,V,Y,ae,he,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(S=0,Y=this._parts.length;S<Y;S++)for(he=this._parts[S],D=0,ae=he.length,V=ae-1;D<ae;V=D++)if(!(!g&&D===0)&&mj(l,he[V],he[D])<=ge)return!0;return!1}});function jM(l,g){return new Ni(l,g)}Ni._flat=vj;var ol=Ni.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hj(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var g=Ni.prototype._convertLatLngs.call(this,l),S=g.length;return S>=2&&g[0]instanceof J&&g[0].equals(g[S-1])&&g.pop(),g},_setLatLngs:function(l){Ni.prototype._setLatLngs.call(this,l),Ks(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ks(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,g=this.options.weight,S=new B(g,g);if(l=new $(l.min.subtract(S),l.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var D=0,V=this._rings.length,Y;D<V;D++)Y=uj(this._rings[D],l,!0),Y.length&&this._parts.push(Y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var g=!1,S,D,V,Y,ae,he,ge,Ee;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(Y=0,ge=this._parts.length;Y<ge;Y++)for(S=this._parts[Y],ae=0,Ee=S.length,he=Ee-1;ae<Ee;he=ae++)D=S[ae],V=S[he],D.y>l.y!=V.y>l.y&&l.x<(V.x-D.x)*(l.y-D.y)/(V.y-D.y)+D.x&&(g=!g);return g||Ni.prototype._containsPoint.call(this,l,!0)}});function _M(l,g){return new ol(l,g)}var Si=_i.extend({initialize:function(l,g){v(this,g),this._layers={},l&&this.addData(l)},addData:function(l){var g=_(l)?l:l.features,S,D,V;if(g){for(S=0,D=g.length;S<D;S++)V=g[S],(V.geometries||V.geometry||V.features||V.coordinates)&&this.addData(V);return this}var Y=this.options;if(Y.filter&&!Y.filter(l))return this;var ae=hh(l,Y);return ae?(ae.feature=ph(l),ae.defaultOptions=ae.options,this.resetStyle(ae),Y.onEachFeature&&Y.onEachFeature(l,ae),this.addLayer(ae)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(g){this._setLayerStyle(g,l)},this)},_setLayerStyle:function(l,g){l.setStyle&&(typeof g=="function"&&(g=g(l.feature)),l.setStyle(g))}});function hh(l,g){var S=l.type==="Feature"?l.geometry:l,D=S?S.coordinates:null,V=[],Y=g&&g.pointToLayer,ae=g&&g.coordsToLatLng||xg,he,ge,Ee,Be;if(!D&&!S)return null;switch(S.type){case"Point":return he=ae(D),wj(Y,l,he,g);case"MultiPoint":for(Ee=0,Be=D.length;Ee<Be;Ee++)he=ae(D[Ee]),V.push(wj(Y,l,he,g));return new _i(V);case"LineString":case"MultiLineString":return ge=fh(D,S.type==="LineString"?0:1,ae),new Ni(ge,g);case"Polygon":case"MultiPolygon":return ge=fh(D,S.type==="Polygon"?1:2,ae),new ol(ge,g);case"GeometryCollection":for(Ee=0,Be=S.geometries.length;Ee<Be;Ee++){var st=hh({geometry:S.geometries[Ee],type:"Feature",properties:l.properties},g);st&&V.push(st)}return new _i(V);case"FeatureCollection":for(Ee=0,Be=S.features.length;Ee<Be;Ee++){var wt=hh(S.features[Ee],g);wt&&V.push(wt)}return new _i(V);default:throw new Error("Invalid GeoJSON object.")}}function wj(l,g,S,D){return l?l(g,S):new dh(S,D&&D.markersInheritOptions&&D)}function xg(l){return new J(l[1],l[0],l[2])}function fh(l,g,S){for(var D=[],V=0,Y=l.length,ae;V<Y;V++)ae=g?fh(l[V],g-1,S):(S||xg)(l[V]),D.push(ae);return D}function yg(l,g){return l=K(l),l.alt!==void 0?[u(l.lng,g),u(l.lat,g),u(l.alt,g)]:[u(l.lng,g),u(l.lat,g)]}function mh(l,g,S,D){for(var V=[],Y=0,ae=l.length;Y<ae;Y++)V.push(g?mh(l[Y],Ks(l[Y])?0:g-1,S,D):yg(l[Y],D));return!g&&S&&V.length>0&&V.push(V[0].slice()),V}function ll(l,g){return l.feature?i({},l.feature,{geometry:g}):ph(g)}function ph(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var bg={toGeoJSON:function(l){return ll(this,{type:"Point",coordinates:yg(this.getLatLng(),l)})}};dh.include(bg),vg.include(bg),uh.include(bg),Ni.include({toGeoJSON:function(l){var g=!Ks(this._latlngs),S=mh(this._latlngs,g?1:0,!1,l);return ll(this,{type:(g?"Multi":"")+"LineString",coordinates:S})}}),ol.include({toGeoJSON:function(l){var g=!Ks(this._latlngs),S=g&&!Ks(this._latlngs[0]),D=mh(this._latlngs,S?2:g?1:0,!0,l);return g||(D=[D]),ll(this,{type:(S?"Multi":"")+"Polygon",coordinates:D})}}),il.include({toMultiPoint:function(l){var g=[];return this.eachLayer(function(S){g.push(S.toGeoJSON(l).geometry.coordinates)}),ll(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(l){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(l);var S=g==="GeometryCollection",D=[];return this.eachLayer(function(V){if(V.toGeoJSON){var Y=V.toGeoJSON(l);if(S)D.push(Y.geometry);else{var ae=ph(Y);ae.type==="FeatureCollection"?D.push.apply(D,ae.features):D.push(ae)}}}),S?ll(this,{geometries:D,type:"GeometryCollection"}):{type:"FeatureCollection",features:D}}});function jj(l,g){return new Si(l,g)}var NM=jj,gh=pr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,g,S){this._url=l,this._bounds=X(g),v(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&sl(this._image),this},bringToBack:function(){return this._map&&rl(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=X(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",g=this._image=l?this._url:Pt("img");if(yt(g,"leaflet-image-layer"),this._zoomAnimated&&yt(g,"leaflet-zoom-animated"),this.options.className&&yt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(l){var g=this._map.getZoomScale(l.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;ao(this._image,S,g)},_reset:function(){var l=this._image,g=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=g.getSize();kn(l,g.min),l.style.width=S.x+"px",l.style.height=S.y+"px"},_updateOpacity:function(){Gs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),SM=function(l,g,S){return new gh(l,g,S)},_j=gh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",g=this._image=l?this._url:Pt("video");if(yt(g,"leaflet-image-layer"),this._zoomAnimated&&yt(g,"leaflet-zoom-animated"),this.options.className&&yt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onloadeddata=o(this.fire,this,"load"),l){for(var S=g.getElementsByTagName("source"),D=[],V=0;V<S.length;V++)D.push(S[V].src);this._url=S.length>0?D:[g.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var Y=0;Y<this._url.length;Y++){var ae=Pt("source");ae.src=this._url[Y],g.appendChild(ae)}}});function kM(l,g,S){return new _j(l,g,S)}var Nj=gh.extend({_initImage:function(){var l=this._image=this._url;yt(l,"leaflet-image-layer"),this._zoomAnimated&&yt(l,"leaflet-zoom-animated"),this.options.className&&yt(l,this.options.className),l.onselectstart=m,l.onmousemove=m}});function CM(l,g,S){return new Nj(l,g,S)}var Vr=pr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,g){l&&(l instanceof J||_(l))?(this._latlng=K(l),v(this,g)):(v(this,l),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Gs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Gs(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Gs(this._container,0),this._removeTimeout=setTimeout(o(tn,void 0,this._container),200)):tn(this._container),this.options.interactive&&(yn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=K(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&sl(this._container),this},bringToBack:function(){return this._map&&rl(this._container),this},_prepareOpen:function(l){var g=this._source;if(!g._map)return!1;if(g instanceof _i){g=null;var S=this._source._layers;for(var D in S)if(S[D]._map){g=S[D];break}if(!g)return!1;this._source=g}if(!l)if(g.getCenter)l=g.getCenter();else if(g.getLatLng)l=g.getLatLng();else if(g.getBounds)l=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")l.innerHTML=g;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),g=F(this.options.offset),S=this._getAnchor();this._zoomAnimated?kn(this._container,l.add(S)):g=g.add(l).add(S);var D=this._containerBottom=-g.y,V=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=D+"px",this._container.style.left=V+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(l,g,S,D){var V=g;return V instanceof l||(V=new l(D).setContent(g)),S&&V.setLatLng(S),V}}),pr.include({_initOverlay:function(l,g,S,D){var V=S;return V instanceof l?(v(V,D),V._source=this):(V=g&&!D?g:new l(D,this),V.setContent(S)),V}});var vh=Vr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Vr.prototype.openOn.call(this,l)},onAdd:function(l){Vr.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof la||this._source.on("preclick",lo))},onRemove:function(l){Vr.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof la||this._source.off("preclick",lo))},getEvents:function(){var l=Vr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",g=this._container=Pt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Pt("div",l+"-content-wrapper",g);if(this._contentNode=Pt("div",l+"-content",S),td(g),cg(this._contentNode),mt(g,"contextmenu",lo),this._tipContainer=Pt("div",l+"-tip-container",g),this._tip=Pt("div",l+"-tip",this._tipContainer),this.options.closeButton){var D=this._closeButton=Pt("a",l+"-close-button",g);D.setAttribute("role","button"),D.setAttribute("aria-label","Close popup"),D.href="#close",D.innerHTML='<span aria-hidden="true">&#215;</span>',mt(D,"click",function(V){zn(V),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,g=l.style;g.width="",g.whiteSpace="nowrap";var S=l.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),g.width=S+1+"px",g.whiteSpace="",g.height="";var D=l.offsetHeight,V=this.options.maxHeight,Y="leaflet-popup-scrolled";V&&D>V?(g.height=V+"px",yt(l,Y)):yn(l,Y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),S=this._getAnchor();kn(this._container,g.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,g=parseInt(Xc(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+g,D=this._containerWidth,V=new B(this._containerLeft,-S-this._containerBottom);V._add(oo(this._container));var Y=l.layerPointToContainerPoint(V),ae=F(this.options.autoPanPadding),he=F(this.options.autoPanPaddingTopLeft||ae),ge=F(this.options.autoPanPaddingBottomRight||ae),Ee=l.getSize(),Be=0,st=0;Y.x+D+ge.x>Ee.x&&(Be=Y.x+D-Ee.x+ge.x),Y.x-Be-he.x<0&&(Be=Y.x-he.x),Y.y+S+ge.y>Ee.y&&(st=Y.y+S-Ee.y+ge.y),Y.y-st-he.y<0&&(st=Y.y-he.y),(Be||st)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Be,st]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),EM=function(l,g){return new vh(l,g)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(l,g,S){return this._initOverlay(vh,l,g,S).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),pr.include({bindPopup:function(l,g){return this._popup=this._initOverlay(vh,this._popup,l,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof _i||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){co(l);var g=l.layer||l.target;if(this._popup._source===g&&!(g instanceof la)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=g,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var xh=Vr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Vr.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Vr.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Vr.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",g=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var g,S,D=this._map,V=this._container,Y=D.latLngToContainerPoint(D.getCenter()),ae=D.layerPointToContainerPoint(l),he=this.options.direction,ge=V.offsetWidth,Ee=V.offsetHeight,Be=F(this.options.offset),st=this._getAnchor();he==="top"?(g=ge/2,S=Ee):he==="bottom"?(g=ge/2,S=0):he==="center"?(g=ge/2,S=Ee/2):he==="right"?(g=0,S=Ee/2):he==="left"?(g=ge,S=Ee/2):ae.x<Y.x?(he="right",g=0,S=Ee/2):(he="left",g=ge+(Be.x+st.x)*2,S=Ee/2),l=l.subtract(F(g,S,!0)).add(Be).add(st),yn(V,"leaflet-tooltip-right"),yn(V,"leaflet-tooltip-left"),yn(V,"leaflet-tooltip-top"),yn(V,"leaflet-tooltip-bottom"),yt(V,"leaflet-tooltip-"+he),kn(V,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Gs(this._container,l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(g)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),PM=function(l,g){return new xh(l,g)};Ct.include({openTooltip:function(l,g,S){return this._initOverlay(xh,l,g,S).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),pr.include({bindTooltip:function(l,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xh,this._tooltip,l,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var g=l?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[g](S),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof _i||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var g=typeof l.getElement=="function"&&l.getElement();g&&(mt(g,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),mt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var g=typeof l.getElement=="function"&&l.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var g=l.latlng,S,D;this._tooltip.options.sticky&&l.originalEvent&&(S=this._map.mouseEventToContainerPoint(l.originalEvent),D=this._map.containerPointToLayerPoint(S),g=this._map.layerPointToLatLng(D)),this._tooltip.setLatLng(g)}});var Sj=al.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var g=l&&l.tagName==="DIV"?l:document.createElement("div"),S=this.options;if(S.html instanceof Element?(rh(g),g.appendChild(S.html)):g.innerHTML=S.html!==!1?S.html:"",S.bgPos){var D=F(S.bgPos);g.style.backgroundPosition=-D.x+"px "+-D.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function TM(l){return new Sj(l)}al.Default=rd;var id=pr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){v(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),tn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(sl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(rl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof B?l:new B(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var g=this.getPane().children,S=-l(-1/0,1/0),D=0,V=g.length,Y;D<V;D++)Y=g[D].style.zIndex,g[D]!==this._container&&Y&&(S=l(S,+Y));isFinite(S)&&(this.options.zIndex=S+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Qe.ielt9){Gs(this._container,this.options.opacity);var l=+new Date,g=!1,S=!1;for(var D in this._tiles){var V=this._tiles[D];if(!(!V.current||!V.loaded)){var Y=Math.min(1,(l-V.loaded)/200);Gs(V.el,Y),Y<1?g=!0:(V.active?S=!0:this._onOpaqueTile(V),V.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),g&&(P(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,g=this.options.maxZoom;if(l!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===l?(this._levels[S].el.style.zIndex=g-Math.abs(l-S),this._onUpdateLevel(S)):(tn(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var D=this._levels[l],V=this._map;return D||(D=this._levels[l]={},D.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=g,D.origin=V.project(V.unproject(V.getPixelOrigin()),l).round(),D.zoom=l,this._setZoomTransform(D,V.getCenter(),V.getZoom()),m(D.el.offsetWidth),this._onCreateLevel(D)),this._level=D,D}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var l,g,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)g=this._tiles[l],g.retain=g.current;for(l in this._tiles)if(g=this._tiles[l],g.current&&!g.active){var D=g.coords;this._retainParent(D.x,D.y,D.z,D.z-5)||this._retainChildren(D.x,D.y,D.z,D.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var g in this._tiles)this._tiles[g].coords.z===l&&this._removeTile(g)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)tn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,g,S,D){var V=Math.floor(l/2),Y=Math.floor(g/2),ae=S-1,he=new B(+V,+Y);he.z=+ae;var ge=this._tileCoordsToKey(he),Ee=this._tiles[ge];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),ae>D?this._retainParent(V,Y,ae,D):!1)},_retainChildren:function(l,g,S,D){for(var V=2*l;V<2*l+2;V++)for(var Y=2*g;Y<2*g+2;Y++){var ae=new B(V,Y);ae.z=S+1;var he=this._tileCoordsToKey(ae),ge=this._tiles[he];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);S+1<D&&this._retainChildren(V,Y,S+1,D)}},_resetView:function(l){var g=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var g=this.options;return g.minNativeZoom!==void 0&&l<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<l?g.maxNativeZoom:l},_setView:function(l,g,S,D){var V=Math.round(g);this.options.maxZoom!==void 0&&V>this.options.maxZoom||this.options.minZoom!==void 0&&V<this.options.minZoom?V=void 0:V=this._clampZoom(V);var Y=this.options.updateWhenZooming&&V!==this._tileZoom;(!D||Y)&&(this._tileZoom=V,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),V!==void 0&&this._update(l),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(l,g)},_setZoomTransforms:function(l,g){for(var S in this._levels)this._setZoomTransform(this._levels[S],l,g)},_setZoomTransform:function(l,g,S){var D=this._map.getZoomScale(S,l.zoom),V=l.origin.multiplyBy(D).subtract(this._map._getNewPixelOrigin(g,S)).round();Qe.any3d?ao(l.el,V,D):kn(l.el,V)},_resetGrid:function(){var l=this._map,g=l.options.crs,S=this._tileSize=this.getTileSize(),D=this._tileZoom,V=this._map.getPixelWorldBounds(this._tileZoom);V&&(this._globalTileRange=this._pxBoundsToTileRange(V)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,g.wrapLng[0]],D).x/S.x),Math.ceil(l.project([0,g.wrapLng[1]],D).x/S.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([g.wrapLat[0],0],D).y/S.x),Math.ceil(l.project([g.wrapLat[1],0],D).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var g=this._map,S=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),D=g.getZoomScale(S,this._tileZoom),V=g.project(l,this._tileZoom).floor(),Y=g.getSize().divideBy(D*2);return new $(V.subtract(Y),V.add(Y))},_update:function(l){var g=this._map;if(g){var S=this._clampZoom(g.getZoom());if(l===void 0&&(l=g.getCenter()),this._tileZoom!==void 0){var D=this._getTiledPixelBounds(l),V=this._pxBoundsToTileRange(D),Y=V.getCenter(),ae=[],he=this.options.keepBuffer,ge=new $(V.getBottomLeft().subtract([he,-he]),V.getTopRight().add([he,-he]));if(!(isFinite(V.min.x)&&isFinite(V.min.y)&&isFinite(V.max.x)&&isFinite(V.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Be=this._tiles[Ee].coords;(Be.z!==this._tileZoom||!ge.contains(new B(Be.x,Be.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(l,S);return}for(var st=V.min.y;st<=V.max.y;st++)for(var wt=V.min.x;wt<=V.max.x;wt++){var ds=new B(wt,st);if(ds.z=this._tileZoom,!!this._isValidTile(ds)){var Fn=this._tiles[this._tileCoordsToKey(ds)];Fn?Fn.current=!0:ae.push(ds)}}if(ae.sort(function(ws,dl){return ws.distanceTo(Y)-dl.distanceTo(Y)}),ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ys=document.createDocumentFragment();for(wt=0;wt<ae.length;wt++)this._addTile(ae[wt],Ys);this._level.el.appendChild(Ys)}}}},_isValidTile:function(l){var g=this._map.options.crs;if(!g.infinite){var S=this._globalTileRange;if(!g.wrapLng&&(l.x<S.min.x||l.x>S.max.x)||!g.wrapLat&&(l.y<S.min.y||l.y>S.max.y))return!1}if(!this.options.bounds)return!0;var D=this._tileCoordsToBounds(l);return X(this.options.bounds).overlaps(D)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var g=this._map,S=this.getTileSize(),D=l.scaleBy(S),V=D.add(S),Y=g.unproject(D,l.z),ae=g.unproject(V,l.z);return[Y,ae]},_tileCoordsToBounds:function(l){var g=this._tileCoordsToNwSe(l),S=new G(g[0],g[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var g=l.split(":"),S=new B(+g[0],+g[1]);return S.z=+g[2],S},_removeTile:function(l){var g=this._tiles[l];g&&(tn(g.el),delete this._tiles[l],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){yt(l,"leaflet-tile");var g=this.getTileSize();l.style.width=g.x+"px",l.style.height=g.y+"px",l.onselectstart=m,l.onmousemove=m,Qe.ielt9&&this.options.opacity<1&&Gs(l,this.options.opacity)},_addTile:function(l,g){var S=this._getTilePos(l),D=this._tileCoordsToKey(l),V=this.createTile(this._wrapCoords(l),o(this._tileReady,this,l));this._initTile(V),this.createTile.length<2&&R(o(this._tileReady,this,l,null,V)),kn(V,S),this._tiles[D]={el:V,coords:l,current:!0},g.appendChild(V),this.fire("tileloadstart",{tile:V,coords:l})},_tileReady:function(l,g,S){g&&this.fire("tileerror",{error:g,tile:S,coords:l});var D=this._tileCoordsToKey(l);S=this._tiles[D],S&&(S.loaded=+new Date,this._map._fadeAnimated?(Gs(S.el,0),P(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),g||(yt(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Qe.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var g=new B(this._wrapX?f(l.x,this._wrapX):l.x,this._wrapY?f(l.y,this._wrapY):l.y);return g.z=l.z,g},_pxBoundsToTileRange:function(l){var g=this.getTileSize();return new $(l.min.unscaleBy(g).floor(),l.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function AM(l){return new id(l)}var cl=id.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,g){this._url=l,g=v(this,g),g.detectRetina&&Qe.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,g){return this._url===l&&g===void 0&&(g=!0),this._url=l,g||this.redraw(),this},createTile:function(l,g){var S=document.createElement("img");return mt(S,"load",o(this._tileOnLoad,this,g,S)),mt(S,"error",o(this._tileOnError,this,g,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(l),S},getTileUrl:function(l){var g={r:Qe.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-l.y;this.options.tms&&(g.y=S),g["-y"]=S}return y(this._url,i(g,this.options))},_tileOnLoad:function(l,g){Qe.ielt9?setTimeout(o(l,this,null,g),0):l(null,g)},_tileOnError:function(l,g,S){var D=this.options.errorTileUrl;D&&g.getAttribute("src")!==D&&(g.src=D),l(S,g)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,g=this.options.maxZoom,S=this.options.zoomReverse,D=this.options.zoomOffset;return S&&(l=g-l),l+D},_getSubdomain:function(l){var g=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var l,g;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(g=this._tiles[l].el,g.onload=m,g.onerror=m,!g.complete)){g.src=E;var S=this._tiles[l].coords;tn(g),delete this._tiles[l],this.fire("tileabort",{tile:g,coords:S})}},_removeTile:function(l){var g=this._tiles[l];if(g)return g.el.setAttribute("src",E),id.prototype._removeTile.call(this,l)},_tileReady:function(l,g,S){if(!(!this._map||S&&S.getAttribute("src")===E))return id.prototype._tileReady.call(this,l,g,S)}});function kj(l,g){return new cl(l,g)}var Cj=cl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,g){this._url=l;var S=i({},this.defaultWmsParams);for(var D in g)D in this.options||(S[D]=g[D]);g=v(this,g);var V=g.detectRetina&&Qe.retina?2:1,Y=this.getTileSize();S.width=Y.x*V,S.height=Y.y*V,this.wmsParams=S},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,cl.prototype.onAdd.call(this,l)},getTileUrl:function(l){var g=this._tileCoordsToNwSe(l),S=this._crs,D=z(S.project(g[0]),S.project(g[1])),V=D.min,Y=D.max,ae=(this._wmsVersion>=1.3&&this._crs===yj?[V.y,V.x,Y.y,Y.x]:[V.x,V.y,Y.x,Y.y]).join(","),he=cl.prototype.getTileUrl.call(this,l);return he+w(this.wmsParams,he,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ae},setParams:function(l,g){return i(this.wmsParams,l),g||this.redraw(),this}});function OM(l,g){return new Cj(l,g)}cl.WMS=Cj,kj.wms=OM;var ki=pr.extend({options:{padding:.1},initialize:function(l){v(this,l),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,g){var S=this._map.getZoomScale(g,this._zoom),D=this._map.getSize().multiplyBy(.5+this.options.padding),V=this._map.project(this._center,g),Y=D.multiplyBy(-S).add(V).subtract(this._map._getNewPixelOrigin(l,g));Qe.any3d?ao(this._container,Y,S):kn(this._container,Y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,g=this._map.getSize(),S=this._map.containerPointToLayerPoint(g.multiplyBy(-l)).round();this._bounds=new $(S,S.add(g.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ej=ki.extend({options:{tolerance:0},getEvents:function(){var l=ki.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");mt(l,"mousemove",this._onMouseMove,this),mt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,tn(this._container),Ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var g in this._layers)l=this._layers[g],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var l=this._bounds,g=this._container,S=l.getSize(),D=Qe.retina?2:1;kn(g,l.min),g.width=D*S.x,g.height=D*S.y,g.style.width=S.x+"px",g.style.height=S.y+"px",Qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[d(l)]=l;var g=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var g=l._order,S=g.next,D=g.prev;S?S.prev=D:this._drawLast=D,D?D.next=S:this._drawFirst=S,delete l._order,delete this._layers[d(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var g=l.options.dashArray.split(/[, ]+/),S=[],D,V;for(V=0;V<g.length;V++){if(D=Number(g[V]),isNaN(D))return;S.push(D)}l.options._dashArray=S}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var g=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(l._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(l._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var g=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,g=this._redrawBounds;if(this._ctx.save(),g){var S=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)l=D.layer,(!g||l._pxBounds&&l._pxBounds.intersects(g))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,g){if(this._drawing){var S,D,V,Y,ae=l._parts,he=ae.length,ge=this._ctx;if(he){for(ge.beginPath(),S=0;S<he;S++){for(D=0,V=ae[S].length;D<V;D++)Y=ae[S][D],ge[D?"lineTo":"moveTo"](Y.x,Y.y);g&&ge.closePath()}this._fillStroke(ge,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var g=l._point,S=this._ctx,D=Math.max(Math.round(l._radius),1),V=(Math.max(Math.round(l._radiusY),1)||D)/D;V!==1&&(S.save(),S.scale(1,V)),S.beginPath(),S.arc(g.x,g.y/V,D,0,Math.PI*2,!1),V!==1&&S.restore(),this._fillStroke(S,l)}},_fillStroke:function(l,g){var S=g.options;S.fill&&(l.globalAlpha=S.fillOpacity,l.fillStyle=S.fillColor||S.color,l.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(l.setLineDash&&l.setLineDash(g.options&&g.options._dashArray||[]),l.globalAlpha=S.opacity,l.lineWidth=S.weight,l.strokeStyle=S.color,l.lineCap=S.lineCap,l.lineJoin=S.lineJoin,l.stroke())},_onClick:function(l){for(var g=this._map.mouseEventToLayerPoint(l),S,D,V=this._drawFirst;V;V=V.next)S=V.layer,S.options.interactive&&S._containsPoint(g)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(S))&&(D=S);this._fireEvent(D?[D]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,g)}},_handleMouseOut:function(l){var g=this._hoveredLayer;g&&(yn(this._container,"leaflet-interactive"),this._fireEvent([g],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,g){if(!this._mouseHoverThrottled){for(var S,D,V=this._drawFirst;V;V=V.next)S=V.layer,S.options.interactive&&S._containsPoint(g)&&(D=S);D!==this._hoveredLayer&&(this._handleMouseOut(l),D&&(yt(this._container,"leaflet-interactive"),this._fireEvent([D],l,"mouseover"),this._hoveredLayer=D)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,g,S){this._map._fireDOMEvent(g,S||g.type,l)},_bringToFront:function(l){var g=l._order;if(g){var S=g.next,D=g.prev;if(S)S.prev=D;else return;D?D.next=S:S&&(this._drawFirst=S),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(l)}},_bringToBack:function(l){var g=l._order;if(g){var S=g.next,D=g.prev;if(D)D.next=S;else return;S?S.prev=D:D&&(this._drawLast=D),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(l)}}});function Pj(l){return Qe.canvas?new Ej(l):null}var ad=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),LM={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var g=l._container=ad("shape");yt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",l._path=ad("path"),g.appendChild(l._path),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){var g=l._container;this._container.appendChild(g),l.options.interactive&&l.addInteractiveTarget(g)},_removePath:function(l){var g=l._container;tn(g),l.removeInteractiveTarget(g),delete this._layers[d(l)]},_updateStyle:function(l){var g=l._stroke,S=l._fill,D=l.options,V=l._container;V.stroked=!!D.stroke,V.filled=!!D.fill,D.stroke?(g||(g=l._stroke=ad("stroke")),V.appendChild(g),g.weight=D.weight+"px",g.color=D.color,g.opacity=D.opacity,D.dashArray?g.dashStyle=_(D.dashArray)?D.dashArray.join(" "):D.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=D.lineCap.replace("butt","flat"),g.joinstyle=D.lineJoin):g&&(V.removeChild(g),l._stroke=null),D.fill?(S||(S=l._fill=ad("fill")),V.appendChild(S),S.color=D.fillColor||D.color,S.opacity=D.fillOpacity):S&&(V.removeChild(S),l._fill=null)},_updateCircle:function(l){var g=l._point.round(),S=Math.round(l._radius),D=Math.round(l._radiusY||S);this._setPath(l,l._empty()?"M0 0":"AL "+g.x+","+g.y+" "+S+","+D+" 0,"+65535*360)},_setPath:function(l,g){l._path.v=g},_bringToFront:function(l){sl(l._container)},_bringToBack:function(l){rl(l._container)}},yh=Qe.vml?ad:ue,od=ki.extend({_initContainer:function(){this._container=yh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tn(this._container),Ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var l=this._bounds,g=l.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,S.setAttribute("width",g.x),S.setAttribute("height",g.y)),kn(S,l.min),S.setAttribute("viewBox",[l.min.x,l.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(l){var g=l._path=yh("path");l.options.className&&yt(g,l.options.className),l.options.interactive&&yt(g,"leaflet-interactive"),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){tn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[d(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var g=l._path,S=l.options;g&&(S.stroke?(g.setAttribute("stroke",S.color),g.setAttribute("stroke-opacity",S.opacity),g.setAttribute("stroke-width",S.weight),g.setAttribute("stroke-linecap",S.lineCap),g.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?g.setAttribute("stroke-dasharray",S.dashArray):g.removeAttribute("stroke-dasharray"),S.dashOffset?g.setAttribute("stroke-dashoffset",S.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),S.fill?(g.setAttribute("fill",S.fillColor||S.color),g.setAttribute("fill-opacity",S.fillOpacity),g.setAttribute("fill-rule",S.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(l,g){this._setPath(l,je(l._parts,g))},_updateCircle:function(l){var g=l._point,S=Math.max(Math.round(l._radius),1),D=Math.max(Math.round(l._radiusY),1)||S,V="a"+S+","+D+" 0 1,0 ",Y=l._empty()?"M0 0":"M"+(g.x-S)+","+g.y+V+S*2+",0 "+V+-S*2+",0 ";this._setPath(l,Y)},_setPath:function(l,g){l._path.setAttribute("d",g)},_bringToFront:function(l){sl(l._path)},_bringToBack:function(l){rl(l._path)}});Qe.vml&&od.include(LM);function Tj(l){return Qe.svg||Qe.vml?new od(l):null}Ct.include({getRenderer:function(l){var g=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var g=this._paneRenderers[l];return g===void 0&&(g=this._createRenderer({pane:l}),this._paneRenderers[l]=g),g},_createRenderer:function(l){return this.options.preferCanvas&&Pj(l)||Tj(l)}});var Aj=ol.extend({initialize:function(l,g){ol.prototype.initialize.call(this,this._boundsToLatLngs(l),g)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=X(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function RM(l,g){return new Aj(l,g)}od.create=yh,od.pointsToPath=je,Si.geometryToLayer=hh,Si.coordsToLatLng=xg,Si.coordsToLatLngs=fh,Si.latLngToCoords=yg,Si.latLngsToCoords=mh,Si.getFeature=ll,Si.asFeature=ph,Ct.mergeOptions({boxZoom:!0});var Oj=zr.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qc(),tg(),this._startPoint=this._map.mouseEventToContainerPoint(l),mt(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var g=new $(this._point,this._startPoint),S=g.getSize();kn(this._box,g.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(tn(this._box),yn(this._container,"leaflet-crosshair")),Jc(),ng(),Ft(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",Oj),Ct.mergeOptions({doubleClickZoom:!0});var Lj=zr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var g=this._map,S=g.getZoom(),D=g.options.zoomDelta,V=l.originalEvent.shiftKey?S-D:S+D;g.options.doubleClickZoom==="center"?g.setZoom(V):g.setZoomAround(l.containerPoint,V)}});Ct.addInitHook("addHandler","doubleClickZoom",Lj),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rj=zr.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new oa(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yn(this._map._container,"leaflet-grab"),yn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=X(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var g=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(g),this._prunePositions(g)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,g){return l-(l-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;l.x<g.min.x&&(l.x=this._viscousLimit(l.x,g.min.x)),l.y<g.min.y&&(l.y=this._viscousLimit(l.y,g.min.y)),l.x>g.max.x&&(l.x=this._viscousLimit(l.x,g.max.x)),l.y>g.max.y&&(l.y=this._viscousLimit(l.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,g=Math.round(l/2),S=this._initialWorldOffset,D=this._draggable._newPos.x,V=(D-g+S)%l+g-S,Y=(D+g+S)%l-g-S,ae=Math.abs(V+S)<Math.abs(Y+S)?V:Y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ae},_onDragEnd:function(l){var g=this._map,S=g.options,D=!S.inertia||l.noInertia||this._times.length<2;if(g.fire("dragend",l),D)g.fire("moveend");else{this._prunePositions(+new Date);var V=this._lastPos.subtract(this._positions[0]),Y=(this._lastTime-this._times[0])/1e3,ae=S.easeLinearity,he=V.multiplyBy(ae/Y),ge=he.distanceTo([0,0]),Ee=Math.min(S.inertiaMaxSpeed,ge),Be=he.multiplyBy(Ee/ge),st=Ee/(S.inertiaDeceleration*ae),wt=Be.multiplyBy(-st/2).round();!wt.x&&!wt.y?g.fire("moveend"):(wt=g._limitOffset(wt,g.options.maxBounds),R(function(){g.panBy(wt,{duration:st,easeLinearity:ae,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",Rj),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mj=zr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),mt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,g=document.documentElement,S=l.scrollTop||g.scrollTop,D=l.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(D,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var g=this._panKeys={},S=this.keyCodes,D,V;for(D=0,V=S.left.length;D<V;D++)g[S.left[D]]=[-1*l,0];for(D=0,V=S.right.length;D<V;D++)g[S.right[D]]=[l,0];for(D=0,V=S.down.length;D<V;D++)g[S.down[D]]=[0,l];for(D=0,V=S.up.length;D<V;D++)g[S.up[D]]=[0,-1*l]},_setZoomDelta:function(l){var g=this._zoomKeys={},S=this.keyCodes,D,V;for(D=0,V=S.zoomIn.length;D<V;D++)g[S.zoomIn[D]]=l;for(D=0,V=S.zoomOut.length;D<V;D++)g[S.zoomOut[D]]=-l},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var g=l.keyCode,S=this._map,D;if(g in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(D=this._panKeys[g],l.shiftKey&&(D=F(D).multiplyBy(3)),S.options.maxBounds&&(D=S._limitOffset(F(D),S.options.maxBounds)),S.options.worldCopyJump){var V=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(D)));S.panTo(V)}else S.panBy(D)}else if(g in this._zoomKeys)S.setZoom(S.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;co(l)}}});Ct.addInitHook("addHandler","keyboard",Mj),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ij=zr.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var g=aj(l),S=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var D=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),D),co(l)},_performZoom:function(){var l=this._map,g=l.getZoom(),S=this._map.options.zoomSnap||0;l._stop();var D=this._delta/(this._map.options.wheelPxPerZoomLevel*4),V=4*Math.log(2/(1+Math.exp(-Math.abs(D))))/Math.LN2,Y=S?Math.ceil(V/S)*S:V,ae=l._limitZoom(g+(this._delta>0?Y:-Y))-g;this._delta=0,this._startTime=null,ae&&(l.options.scrollWheelZoom==="center"?l.setZoom(g+ae):l.setZoomAround(this._lastMousePos,g+ae))}});Ct.addInitHook("addHandler","scrollWheelZoom",Ij);var MM=600;Ct.mergeOptions({tapHold:Qe.touchNative&&Qe.safari&&Qe.mobile,tapTolerance:15});var Dj=zr.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var g=l.touches[0];this._startPos=this._newPos=new B(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",zn),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),MM),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Ft(document,"touchend",zn),Ft(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)},_onMove:function(l){var g=l.touches[0];this._newPos=new B(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,g){var S=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});S._simulated=!0,g.target.dispatchEvent(S)}});Ct.addInitHook("addHandler","tapHold",Dj),Ct.mergeOptions({touchZoom:Qe.touch,bounceAtZoomLimits:!0});var Fj=zr.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yn(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var g=this._map;if(!(!l.touches||l.touches.length!==2||g._animatingZoom||this._zooming)){var S=g.mouseEventToContainerPoint(l.touches[0]),D=g.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(S.add(D)._divideBy(2))),this._startDist=S.distanceTo(D),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),zn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var g=this._map,S=g.mouseEventToContainerPoint(l.touches[0]),D=g.mouseEventToContainerPoint(l.touches[1]),V=S.distanceTo(D)/this._startDist;if(this._zoom=g.getScaleZoom(V,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&V<1||this._zoom>g.getMaxZoom()&&V>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,V===1)return}else{var Y=S._add(D)._divideBy(2)._subtract(this._centerPoint);if(V===1&&Y.x===0&&Y.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(Y),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var ae=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(ae,this,!0),zn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,P(this._animRequest),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",Fj),Ct.BoxZoom=Oj,Ct.DoubleClickZoom=Lj,Ct.Drag=Rj,Ct.Keyboard=Mj,Ct.ScrollWheelZoom=Ij,Ct.TapHold=Dj,Ct.TouchZoom=Fj,s.Bounds=$,s.Browser=Qe,s.CRS=U,s.Canvas=Ej,s.Circle=vg,s.CircleMarker=uh,s.Class=M,s.Control=mr,s.DivIcon=Sj,s.DivOverlay=Vr,s.DomEvent=J4,s.DomUtil=X4,s.Draggable=oa,s.Evented=Z,s.FeatureGroup=_i,s.GeoJSON=Si,s.GridLayer=id,s.Handler=zr,s.Icon=al,s.ImageOverlay=gh,s.LatLng=J,s.LatLngBounds=G,s.Layer=pr,s.LayerGroup=il,s.LineUtil=hM,s.Map=Ct,s.Marker=dh,s.Mixin=aM,s.Path=la,s.Point=B,s.PolyUtil=oM,s.Polygon=ol,s.Polyline=Ni,s.Popup=vh,s.PosAnimation=oj,s.Projection=fM,s.Rectangle=Aj,s.Renderer=ki,s.SVG=od,s.SVGOverlay=Nj,s.TileLayer=cl,s.Tooltip=xh,s.Transformation=pe,s.Util=T,s.VideoOverlay=_j,s.bind=o,s.bounds=z,s.canvas=Pj,s.circle=wM,s.circleMarker=bM,s.control=nd,s.divIcon=TM,s.extend=i,s.featureGroup=vM,s.geoJSON=jj,s.geoJson=NM,s.gridLayer=AM,s.icon=xM,s.imageOverlay=SM,s.latLng=K,s.latLngBounds=X,s.layerGroup=gM,s.map=eM,s.marker=yM,s.point=F,s.polygon=_M,s.polyline=jM,s.popup=EM,s.rectangle=RM,s.setOptions=v,s.stamp=d,s.svg=Tj,s.svgOverlay=CM,s.tileLayer=kj,s.tooltip=PM,s.transformation=ee,s.version=r,s.videoOverlay=kM;var IM=window.L;s.noConflict=function(){return window.L=IM,this},window.L=s})})(xy,xy.exports);var th=xy.exports;const Nw=Rm(th);function Sw(e,t,s){return Object.freeze({instance:e,context:t,container:s})}function kw(e,t){return t==null?function(r,i){const a=j.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=j.useRef();a.current||(a.current=e(r,i));const o=j.useRef(r),{instance:c}=a.current;return j.useEffect(function(){o.current!==r&&(t(c,r,o.current),o.current=r)},[c,r,i]),a}}function yL(e,t){j.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function bL(e){return function(s){const r=jw(),i=e(_w(s,r),r);return YW(r.map,s.attribution),xL(i.current,s.eventHandlers),yL(i.current,r),i}}function tZ(e,t){const s=j.useRef();j.useEffect(function(){if(t.pathOptions!==s.current){const i=t.pathOptions??{};e.instance.setStyle(i),s.current=i}},[e,t])}function nZ(e){return function(s){const r=jw(),i=e(_w(s,r),r);return xL(i.current,s.eventHandlers),yL(i.current,r),tZ(i.current,s),i}}function sZ(e,t){const s=kw(e,t),r=bL(s);return vL(r)}function rZ(e,t){const s=kw(e,t),r=nZ(s);return vL(r)}function iZ(e,t){const s=kw(e,t),r=bL(s);return eZ(r)}function aZ(e,t,s){const{opacity:r,zIndex:i}=t;r!=null&&r!==s.opacity&&e.setOpacity(r),i!=null&&i!==s.zIndex&&e.setZIndex(i)}function wL(){return jw().map}function jL(e){const t=wL();return j.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const oZ=rZ(function({center:t,children:s,...r},i){const a=new th.Circle(t,r);return Sw(a,mL(i,{overlayContainer:a}))},XW);function yy(){return yy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},yy.apply(this,arguments)}function lZ({bounds:e,boundsOptions:t,center:s,children:r,className:i,id:a,placeholder:o,style:c,whenReady:d,zoom:h,...f},m){const[u]=j.useState({className:i,id:a,style:c}),[p,x]=j.useState(null);j.useImperativeHandle(m,()=>(p==null?void 0:p.map)??null,[p]);const v=j.useCallback(b=>{if(b!==null&&p===null){const y=new th.Map(b,f);s!=null&&h!=null?y.setView(s,h):e!=null&&y.fitBounds(e,t),d!=null&&y.whenReady(d),x(JW(y))}},[]);j.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const w=p?_e.createElement(gL,{value:p},r):o??null;return _e.createElement("div",yy({},u,{ref:v}),w)}const _L=j.forwardRef(lZ),by=sZ(function({position:t,...s},r){const i=new th.Marker(t,s);return Sw(i,mL(r,{overlayContainer:i}))},function(t,s,r){s.position!==r.position&&t.setLatLng(s.position),s.icon!=null&&s.icon!==r.icon&&t.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==r.opacity&&t.setOpacity(s.opacity),t.dragging!=null&&s.draggable!==r.draggable&&(s.draggable===!0?t.dragging.enable():t.dragging.disable())}),NL=iZ(function({url:t,...s},r){const i=new th.TileLayer(t,_w(s,r));return Sw(i,r)},function(t,s,r){aZ(t,s,r);const{url:i}=s;i!=null&&i!==r.url&&t.setUrl(i)}),cZ=Nw.divIcon({className:"custom-marker",html:'<div style="background-color: #ef4444; width: 20px; height: 20px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>',iconSize:[20,20],iconAnchor:[10,10]}),dZ=Nw.divIcon({className:"vendor-marker",html:'<div style="background-color: #10b981; width: 24px; height: 24px; border-radius: 50%; border: 3px solid #fff; box-shadow: 0 0 8px rgba(0,0,0,0.3);"></div>',iconSize:[24,24],iconAnchor:[12,12]}),uZ=({onLocationSelect:e,onClose:t,vendorLocation:s,maxRadius:r=10,vendorName:i="Vendor"})=>{const[a,o]=j.useState(null),[c,d]=j.useState(""),[h,f]=j.useState([]),[m,u]=j.useState(!0),[p,x]=j.useState(""),[v,w]=j.useState([27.7172,85.324]),b=()=>(jL({click(A){const{lat:k,lng:R}=A.latlng;N(k,R),y(k,R)}}),null),y=async(A,k)=>{try{const P=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${A}&lon=${k}&addressdetails=1`)).json();if(P.address){const T=P.address.road||P.address.neighbourhood,M=P.address.neighbourhood||P.address.suburb||P.address.city||P.address.town,H=`${T||M||"Unknown Location"}, ${P.address.city||P.address.town||P.address.state||""}`;x(H)}}catch(R){console.error("Error fetching address:",R),x(`${A.toFixed(4)}, ${k.toFixed(4)}`)}};j.useEffect(()=>{s&&w([s.lat,s.lng])},[s]);const _=(A,k,R,P)=>{const M=(R-A)*Math.PI/180,H=(P-k)*Math.PI/180,W=Math.sin(M/2)*Math.sin(M/2)+Math.cos(A*Math.PI/180)*Math.cos(R*Math.PI/180)*Math.sin(H/2)*Math.sin(H/2);return 6371*(2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W)))},N=(A,k)=>{if(o({lat:A,lng:k}),s){const R=_(A,k,s.lat,s.lng);u(R<=r)}},E=()=>{a&&m&&e(a.lat,a.lng,p||`${a.lat.toFixed(4)}, ${a.lng.toFixed(4)}`)};j.useEffect(()=>{const A=setTimeout(()=>{c.trim()?I():f([])},300);return()=>clearTimeout(A)},[c]);const I=async()=>{if(!c.trim()){f([]);return}try{const k=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(c)}&limit=5&addressdetails=1`)).json();f(k)}catch(A){console.error("Geocoding error:",A),f([])}},C=A=>{const k=parseFloat(A.lat),R=parseFloat(A.lon);w([k,R]),N(k,R),x(A.display_name),f([]),d("")},O=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(A=>{const{latitude:k,longitude:R}=A.coords;w([k,R]),N(k,R),y(k,R)},A=>{console.error("Geolocation error:",A)})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[95vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Select Delivery Location"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(rs,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(me,{placeholder:"Search for an address...",value:c,onChange:A=>d(A.target.value)}),h.length>0&&n.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:h.map((A,k)=>n.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>C(A),children:n.jsx("p",{className:"text-xs font-medium text-gray-900",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:A.display_name})},k))})]}),n.jsx(te,{onClick:O,size:"sm",variant:"outline",children:n.jsx(jE,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"h-64 rounded-lg overflow-hidden border",children:n.jsxs(_L,{center:v,zoom:13,style:{height:"100%",width:"100%"},children:[n.jsx(NL,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s&&n.jsxs(n.Fragment,{children:[n.jsx(by,{position:[s.lat,s.lng],icon:dZ}),n.jsx(oZ,{center:[s.lat,s.lng],radius:r*1e3,pathOptions:{color:"#10b981",fillColor:"#10b981",fillOpacity:.1,weight:2}})]}),a&&n.jsx(by,{position:[a.lat,a.lng],icon:cZ}),n.jsx(b,{})]},`${v[0]}-${v[1]}`)}),a&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Selected Location:"}),n.jsx("p",{className:"text-sm text-gray-600",children:p}),s&&n.jsxs("p",{className:`text-sm mt-2 ${m?"text-green-600":"text-red-600"}`,children:["Distance from ",i,": ",_(a.lat,a.lng,s.lat,s.lng).toFixed(1),"km",!m&&` (exceeds ${r}km delivery limit)`]})]})]}),n.jsxs("div",{className:"flex gap-2 p-4 border-t flex-shrink-0",children:[n.jsx(te,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),n.jsx(te,{onClick:E,disabled:!a||!m,className:"flex-1",children:"Confirm Location"})]})]})})};class hZ{async getAuthHeaders(){const t=await Te.getToken();return{"Content-Type":"application/json","ngrok-skip-browser-warning":"true",...t&&{Authorization:`Token ${t}`}}}async createOrder(t){const s=await fetch(`${Je}api/orders/create/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to create order")}const r=await s.json();return this.notifyVendorOfNewOrder(r.order),r}notifyVendorOfNewOrder(t){window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderCreated",{detail:{order:t}}))}async getOrders(){const t=await fetch(`${Je}api/orders/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch orders");const s=await t.json();return s.results||s}async getOrder(t){const s=await fetch(`${Je}api/orders/${t}/`,{headers:await this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch order");return s.json()}async cancelOrder(t,s="Cancelled by customer"){const r=await fetch(`${Je}api/orders/${t}/cancel/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({reason:s})});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to cancel order")}return r.json()}async createReview(t,s){const r=await fetch(`${Je}api/orders/${t}/review/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(s)});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to create review")}return r.json()}async requestRefund(t,s){const r=await fetch(`${Je}api/orders/${t}/refund/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(s)});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to request refund")}return r.json()}async getPendingOrders(){const t=await fetch(`${Je}api/orders/vendor/pending/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch pending orders");return t.json()}async acceptOrder(t){const s=await fetch(`${Je}api/orders/${t}/accept/`,{method:"POST",headers:await this.getAuthHeaders()});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to accept order")}const r=await s.json();return this.notifyCustomerOfOrderUpdate(r.order,"accepted"),r}notifyCustomerOfOrderUpdate(t,s){window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderStatusUpdated",{detail:{order:t,status:s}}))}async rejectOrder(t,s="Rejected by vendor"){const r=await fetch(`${Je}api/orders/${t}/reject/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({reason:s})});if(!r.ok){const a=await r.json();throw new Error(a.error||"Failed to reject order")}const i=await r.json();return this.notifyCustomerOfOrderUpdate(i.order,"rejected"),i}}const Yd=new hZ,fZ=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function mZ(){var ye,Ce;const e=nt(),{cart:t}=ur();sa();const{toast:s}=cn(),[r,i]=j.useState("cash_on_delivery"),[a,o]=j.useState("current"),[c,d]=j.useState(null),[h,f]=j.useState("Detecting location..."),[m,u]=j.useState({lat:null,lng:null,address:""}),[p,x]=j.useState(!1),[v,w]=j.useState(null),[b,y]=j.useState({phone:"",instructions:""}),[_,N]=j.useState(null),[E,I]=j.useState("delivery"),[C,O]=j.useState(""),[A,k]=j.useState([]),[R,P]=j.useState(!1);j.useEffect(()=>{var xe;const ue=xt.getLocation();if(ue)d(ue),M(ue.latitude,ue.longitude).then(f);else return xt.startTracking(),xt.subscribe(async fe=>{if(fe){d(fe);const Q=await M(fe.latitude,fe.longitude);f(Q)}});((xe=t==null?void 0:t.items)==null?void 0:xe.length)>0&&H(t.items[0].product.vendor_id),(async()=>{await Te.getToken()&&T()})()},[t]);const T=async()=>{try{const ue=await Te.getToken(),je=await fetch(`${Je}api/profile/`,{headers:{Authorization:`Token ${ue}`,"ngrok-skip-browser-warning":"true"}});if(je.ok){const xe=await je.json();N(xe),y(ce=>({...ce,phone:xe.phone_number||""}))}}catch(ue){console.error("Failed to fetch user info:",ue)}},M=async(ue,je)=>{try{const ce=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ue}&lon=${je}&addressdetails=1`)).json();if(ce.address){const fe=ce.address.road||ce.address.neighbourhood,Q=ce.address.neighbourhood||ce.address.suburb||ce.address.city||ce.address.town;return`${fe||Q||"Unknown Location"}, ${ce.address.city||ce.address.town||ce.address.state||""}`}return`${ue.toFixed(4)}, ${je.toFixed(4)}`}catch{return`${ue.toFixed(4)}, ${je.toFixed(4)}`}},H=async ue=>{try{const je=await fetch(`${Je}api/vendors/${ue}/`,{headers:{"ngrok-skip-browser-warning":"true"}});if(je.ok){const xe=await je.json();w(xe)}}catch(je){console.error("Failed to fetch vendor info:",je)}},W=na(),Z=(ye=W.state)!=null&&ye.directBuy?W.state:null,B=(Ce=W.state)==null?void 0:Ce.selectedItems,q=Z?[{id:Date.now(),product:{id:Z.product.id,name:Z.product.name,vendor_name:Z.product.vendor_name,vendor_id:Z.product.vendor_id,images:Z.product.images},quantity:Z.product.quantity,total_price:(parseFloat(Z.product.price)*Z.product.quantity).toString()}]:B||(t==null?void 0:t.items)||[],F=q.reduce((ue,je)=>ue+parseFloat(je.total_price),0),$=F,z=ue=>/^(98|97)\d{8}$/.test(ue.replace(/\s+/g,"")),G=(ue,je)=>{if(ue==="phone"){const xe=je.replace(/[^0-9]/g,"");xe.length<=10&&y(ce=>({...ce,[ue]:xe}))}else y(xe=>({...xe,[ue]:je}))},X=(ue,je)=>{if(!v||!v.latitude||!v.longitude||!v.delivery_radius)return{valid:!0,distance:0};const xe=fZ(ue,je,v.latitude,v.longitude);return{valid:xe<=v.delivery_radius,distance:xe,maxRadius:v.delivery_radius}},J=ue=>{o(ue),ue==="custom"&&v?x(!0):ue==="custom"&&!v&&s({title:"Vendor Information Loading",description:"Please wait for vendor information to load before selecting map location",variant:"destructive"})},K=(ue,je,xe)=>{const ce=X(ue,je);if(!ce.valid){s({title:"Location Out of Range",description:`This location is ${ce.distance.toFixed(1)}km away. Maximum delivery range is ${ce.maxRadius}km.`,variant:"destructive"});return}u({lat:ue,lng:je,address:xe}),x(!1),s({title:"Location Selected",description:`Delivery location set (${ce.distance.toFixed(1)}km from vendor)`})},U=()=>{const ue=a==="current"?c:m.lat,je=(_==null?void 0:_.phone_number)||b.phone,xe=je&&z(je);return ue&&xe},ne=async()=>{if(!await Te.getToken()){s({title:"Login Required",description:"Please login to place an order",variant:"destructive"}),e("/login");return}if(!U()){s({title:"Missing Information",description:"Please complete delivery information",variant:"destructive"}),I("delivery");return}const je=a==="current"?c:m;if(!je||!je.latitude&&!je.lat){s({title:"Location Required",description:"Please select a delivery location",variant:"destructive"});return}const xe=je.latitude||je.lat,ce=je.longitude||je.lng,fe=X(xe,ce);if(!fe.valid){s({title:"Delivery Not Available",description:`Selected location is outside delivery range (${fe.distance.toFixed(1)}km > ${fe.maxRadius}km)`,variant:"destructive"});return}try{const Q={items:q.map(ie=>({product_id:ie.product.id,quantity:ie.quantity})),delivery_name:(_==null?void 0:_.username)||(_==null?void 0:_.first_name)||"Customer",delivery_phone:(_==null?void 0:_.phone_number)||b.phone,delivery_address:a==="current"?h:m.address,delivery_latitude:xe,delivery_longitude:ce,delivery_instructions:b.instructions,payment_method:r,notes:`Distance: ${fe.distance.toFixed(1)}km from vendor`},re=await Yd.createOrder(Q);if(s({title:"Order Placed Successfully!",description:`Order #${re.order.order_number} has been placed.`}),"Notification"in window&&Notification.permission==="granted"&&new Notification("New Order Placed!",{body:`Order #${re.order.order_number} for ${re.order.total_amount}`,icon:"/favicon.ico",tag:`order-${re.order.id}`,requireInteraction:!0}),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderCreated",{detail:{order:re.order}})),!Z&&B){const ie=await Te.getToken();for(const be of B)try{await fetch(`${Je}api/cart/items/${be.id}/remove/`,{method:"DELETE",headers:{Authorization:`Token ${ie}`,"ngrok-skip-browser-warning":"true"}})}catch(we){console.error("Error removing cart item:",we)}}e(`/order-confirmation/${re.order.id}`,{state:{order:re.order}})}catch(Q){console.error("Order creation error:",Q),s({title:"Order Failed",description:Q.message||"Network error. Please try again.",variant:"destructive"})}},se=()=>c?h:"Detecting location...",le=()=>m.lat?m.address||`Custom Location (${m.lat.toFixed(4)}, ${m.lng.toFixed(4)})`:"Select on map",pe=async ue=>{if(!ue.trim()){k([]),P(!1);return}try{const xe=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(ue)}&limit=5&addressdetails=1`)).json();k(xe),P(!0)}catch(je){console.error("Location search error:",je),k([]),P(!1)}},ee=async ue=>{const je=parseFloat(ue.lat),xe=parseFloat(ue.lon),ce=ue.display_name,fe=X(je,xe);if(!fe.valid){s({title:"Location Out of Range",description:`This location is ${fe.distance.toFixed(1)}km away. Maximum delivery range is ${fe.maxRadius}km.`,variant:"destructive"});return}u({lat:je,lng:xe,address:ce}),o("custom"),O(""),k([]),P(!1),s({title:"Location Selected",description:`Delivery location set (${fe.distance.toFixed(1)}km from vendor)`})};return j.useEffect(()=>{const ue=setTimeout(()=>{C.trim()?pe(C):(k([]),P(!1))},300);return()=>clearTimeout(ue)},[C]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 font-sans",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-all",children:n.jsx(Dt,{className:"h-6 w-6 text-gray-700"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Checkout"}),n.jsx("div",{className:"w-6"})," "]})}),n.jsx("main",{className:"max-w-4xl mx-auto p-6 pb-32",children:n.jsxs(ra,{value:E,onValueChange:I,className:"space-y-6",children:[n.jsxs(bi,{className:"grid w-full grid-cols-2",children:[n.jsxs(Mt,{value:"delivery",className:"flex items-center gap-2",children:[U()&&n.jsx(tp,{className:"h-4 w-4"}),"Delivery"]}),n.jsx(Mt,{value:"summary",disabled:!U(),children:"Summary"})]}),n.jsx(ft,{value:"delivery",className:"space-y-6",children:n.jsxs(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden",children:[n.jsx(ot,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:n.jsxs(lt,{className:"flex items-center gap-3 text-xl font-semibold text-gray-800",children:[n.jsx(Bt,{className:"h-6 w-6 text-emerald-600"}),"Delivery Location"]})}),n.jsxs(ke,{className:"p-6 space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-4 rounded-xl border border-emerald-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{className:"h-5 w-5 text-emerald-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Current Delivery Location"}),n.jsx("p",{className:"text-base font-semibold text-gray-800",children:a==="current"?se():le()}),(a==="current"&&c||a==="custom"&&m.lat)&&v&&n.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[a==="current"?X(c.latitude,c.longitude).distance.toFixed(1):X(m.lat,m.lng).distance.toFixed(1),"km from ",v.business_name]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Search Location"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{placeholder:"Search for an address...",value:C,onChange:ue=>O(ue.target.value),onFocus:()=>C&&P(!0),className:"border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl"}),R&&A.length>0&&n.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-48 overflow-y-auto mt-1",children:A.map((ue,je)=>n.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 first:rounded-t-xl last:rounded-b-xl",onMouseDown:xe=>xe.preventDefault(),onClick:()=>ee(ue),children:n.jsx("p",{className:"text-sm font-medium text-gray-900",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ue.display_name})},je))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Choose Delivery Location *"}),n.jsxs(uL,{value:a,onValueChange:J,className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-all cursor-pointer",children:[n.jsx(vy,{value:"current",id:"current",className:"text-emerald-600 border-gray-300"}),n.jsxs(de,{htmlFor:"current",className:"flex items-center gap-3 flex-1 cursor-pointer",children:[n.jsx(jE,{className:"h-5 w-5 text-gray-600"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-base font-medium text-gray-800",children:"Use Current Location"}),n.jsx("p",{className:"text-sm text-gray-500",children:se()}),c&&v&&n.jsxs("p",{className:"text-xs text-emerald-600",children:[X(c.latitude,c.longitude).distance.toFixed(1),"km from vendor"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-all cursor-pointer",children:[n.jsx(vy,{value:"custom",id:"custom",className:"text-emerald-600 border-gray-300"}),n.jsxs(de,{htmlFor:"custom",className:"flex items-center gap-3 flex-1 cursor-pointer",children:[n.jsx(CD,{className:"h-5 w-5 text-gray-600"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-base font-medium text-gray-800",children:"Choose on Map"}),n.jsx("p",{className:"text-sm text-gray-500",children:le()}),m.lat&&v&&n.jsxs("p",{className:"text-xs text-emerald-600",children:[X(m.lat,m.lng).distance.toFixed(1),"km from vendor"]})]})]})]}),a==="custom"&&!m.lat&&n.jsx("div",{className:"ml-8",children:n.jsx(te,{onClick:()=>v?x(!0):null,disabled:!v,variant:"outline",className:"text-sm px-4 py-2 rounded-lg",children:v?"Open Map":"Loading vendor info..."})})]})]}),!(_!=null&&_.phone_number)&&n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone Number *"}),n.jsx(me,{id:"phone",placeholder:"98XXXXXXXX or 97XXXXXXXX",value:b.phone,onChange:ue=>G("phone",ue.target.value),className:`mt-1 border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl transition-all ${b.phone&&!z(b.phone)?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`}),b.phone&&!z(b.phone)&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Please enter a valid Nepali mobile number (98XXXXXXXX or 97XXXXXXXX)"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"instructions",className:"text-sm font-medium text-gray-700",children:"Delivery Instructions (Optional)"}),n.jsx(Wn,{id:"instructions",placeholder:"Any special instructions for delivery",value:b.instructions,onChange:ue=>G("instructions",ue.target.value),rows:3,className:"mt-1 border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl transition-all"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(te,{onClick:()=>I("summary"),disabled:!U(),className:"px-8 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl",children:"Continue to Summary"})})]})]})}),n.jsx(ft,{value:"summary",className:"space-y-6",children:n.jsxs(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden",children:[n.jsx(ot,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:n.jsx(lt,{className:"text-xl font-semibold text-gray-800",children:"Order Summary"})}),n.jsxs(ke,{className:"p-6 space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-4 rounded-xl border border-emerald-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{className:"h-5 w-5 text-emerald-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Delivery Location"}),n.jsx("p",{className:"text-base font-semibold text-gray-800",children:a==="current"?se():le()}),(a==="current"&&c||a==="custom"&&m.lat)&&v&&n.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[a==="current"?X(c.latitude,c.longitude).distance.toFixed(1):X(m.lat,m.lng).distance.toFixed(1),"km from ",v.business_name]})]})]})}),n.jsx(di,{className:"my-4 bg-gray-200"}),q.map(ue=>{var je,xe;return n.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-gray-100",children:[n.jsx("img",{src:is((xe=(je=ue.product.images)==null?void 0:je[0])==null?void 0:xe.image_url),alt:ue.product.name,className:"w-20 h-20 object-cover rounded-lg border border-gray-200 shadow-sm"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-lg text-gray-800",children:ue.product.name}),n.jsx("p",{className:"text-sm text-gray-500",children:ue.product.vendor_name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",ue.quantity]})]}),n.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["",parseFloat(ue.total_price).toFixed(2)]})]},ue.id)}),n.jsx(di,{className:"my-4 bg-gray-200"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[n.jsx("h4",{className:"font-semibold text-emerald-800 mb-2",children:"Bill Amount (Cash on Delivery)"}),n.jsxs("div",{className:"flex justify-between text-base text-gray-700",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{className:"font-semibold",children:["",F.toFixed(2)]})]})]}),n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-orange-800 text-lg",children:"Delivery Fee"}),n.jsx("p",{className:"text-sm text-orange-700",children:"Pay on delivery"})]}),n.jsx("span",{className:"font-bold text-xl text-orange-600",children:"To be determined"})]})}),n.jsx(di,{className:"my-2 bg-gray-200"}),n.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800",children:[n.jsx("span",{children:"Bill Total (Now)"}),n.jsxs("span",{children:["",$.toFixed(2)]})]})]}),n.jsx("div",{className:"flex justify-between",children:n.jsx(te,{variant:"outline",onClick:()=>I("delivery"),className:"px-8 py-2 rounded-xl",children:"Back to Delivery"})})]})]})})]})}),E==="summary"&&n.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-2xl py-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount (COD)"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",$.toFixed(2)]})]}),n.jsx(te,{onClick:ne,disabled:!U(),className:"px-10 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-bold text-lg transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Place Order (COD)"})]})}),p&&v&&n.jsx(uZ,{onLocationSelect:K,onClose:()=>x(!1),vendorLocation:{lat:v.latitude,lng:v.longitude},maxRadius:v.delivery_radius,vendorName:v.business_name})]})}function pZ(){var m,u;const e=nt(),{orderId:t}=pp(),s=na(),{toast:r}=cn(),[i,a]=j.useState(((m=s.state)==null?void 0:m.order)||null),[o,c]=j.useState(!i);j.useEffect(()=>{!i&&t&&d()},[t,i]);const d=async()=>{try{const p=await Yd.getOrder(parseInt(t));a(p)}catch(p){console.error("Error fetching order:",p),r({title:"Error",description:p.message||"Failed to load order details",variant:"destructive"}),e("/")}finally{c(!1)}},h=p=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",out_for_delivery:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[p]||"bg-gray-100 text-gray-800",f=p=>({pending:"Order Placed",confirmed:"Confirmed",preparing:"Preparing",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[p]||p;return o?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})}):i?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Dt,{className:"h-6 w-6 text-gray-700"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Confirmation"}),n.jsx("div",{className:"w-6"})]})}),n.jsxs("main",{className:"max-w-4xl mx-auto p-6 pb-32",children:[n.jsx(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:n.jsxs(ke,{className:"p-8 text-center",children:[n.jsx(qu,{className:"h-16 w-16 mx-auto mb-4 text-emerald-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Order Placed Successfully!"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:["Your order #",i.order_number," has been placed and is being processed."]}),n.jsx(Me,{className:`${h(i.status)} px-4 py-2 text-sm font-medium`,children:f(i.status)})]})}),n.jsxs(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:[n.jsx(ot,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:n.jsx(lt,{className:"text-xl font-semibold text-gray-800",children:"Order Details"})}),n.jsx(ke,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Order Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order Number:"}),n.jsxs("span",{className:"font-medium",children:["#",i.order_number]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order Date:"}),n.jsx("span",{className:"font-medium",children:new Date(i.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),n.jsx("span",{className:"font-medium capitalize",children:i.payment_method})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),n.jsxs("span",{className:"font-bold text-emerald-600",children:["",parseFloat(i.total_amount).toFixed(2)]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Delivery Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Bt,{className:"h-4 w-4 text-emerald-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:i.delivery_name}),n.jsx("p",{className:"text-gray-600",children:i.delivery_address})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wu,{className:"h-4 w-4 text-emerald-600"}),n.jsx("span",{className:"text-gray-600",children:i.delivery_phone})]}),i.delivery_instructions&&n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ir,{className:"h-4 w-4 text-emerald-600 mt-0.5"}),n.jsx("p",{className:"text-gray-600 text-xs",children:i.delivery_instructions})]})]})]})]})})]}),n.jsxs(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:[n.jsx(ot,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:n.jsx(lt,{className:"text-xl font-semibold text-gray-800",children:"Order Items"})}),n.jsxs(ke,{className:"p-6",children:[n.jsx("div",{className:"space-y-4",children:(u=i.items)==null?void 0:u.map(p=>{var x,v,w;return n.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-gray-100 last:border-b-0",children:[n.jsx("img",{src:((w=(v=(x=p.product_details)==null?void 0:x.images)==null?void 0:v[0])==null?void 0:w.image_url)||"/placeholder-product.jpg",alt:p.product_name,className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:p.product_name}),n.jsx("p",{className:"text-sm text-gray-600",children:p.vendor_name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",p.quantity]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-800",children:["",parseFloat(p.total_price).toFixed(2)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["",parseFloat(p.unit_price).toFixed(2)," each"]})]})]},p.id)})}),n.jsx(di,{className:"my-4"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[n.jsxs("h4",{className:"font-semibold text-emerald-800 mb-2",children:["Bill Amount (Paid via ",i.payment_method,")"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsxs("span",{className:"font-medium",children:["",parseFloat(i.subtotal).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tax:"}),n.jsxs("span",{className:"font-medium",children:["",parseFloat(i.tax_amount).toFixed(2)]})]}),n.jsx(di,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-base font-bold",children:[n.jsx("span",{children:"Bill Total (Paid):"}),n.jsxs("span",{className:"text-emerald-600",children:["",(parseFloat(i.subtotal)+parseFloat(i.tax_amount)).toFixed(2)]})]})]})]}),n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-orange-800 text-lg",children:"Delivery Fee"}),n.jsx("p",{className:"text-sm text-orange-700",children:"Pay on delivery"})]}),n.jsxs("span",{className:"font-bold text-xl text-orange-600",children:["",parseFloat(i.delivery_fee).toFixed(2)]})]})}),n.jsx(di,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{className:"text-gray-800",children:["",parseFloat(i.total_amount).toFixed(2)]})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsx(te,{variant:"outline",onClick:()=>e("/orders"),className:"px-8 py-3 rounded-xl",children:"View All Orders"}),n.jsx(te,{onClick:()=>e("/search"),className:"px-8 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-700",children:"Continue Shopping"})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order not found"}),n.jsx(te,{onClick:()=>e("/home"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Go Home"})]})})}var Tp="Dialog",[SL,kse]=ls(Tp),[gZ,Ir]=SL(Tp),kL=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,c=j.useRef(null),d=j.useRef(null),[h,f]=Lr({prop:r,defaultProp:i??!1,onChange:a,caller:Tp});return n.jsx(gZ,{scope:t,triggerRef:c,contentRef:d,contentId:Ar(),titleId:Ar(),descriptionId:Ar(),open:h,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(m=>!m),[f]),modal:o,children:s})};kL.displayName=Tp;var CL="DialogTrigger",EL=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ir(CL,s),a=dt(t,i.triggerRef);return n.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Pw(i.open),...r,ref:a,onClick:Le(e.onClick,i.onOpenToggle)})});EL.displayName=CL;var Cw="DialogPortal",[vZ,PL]=SL(Cw,{forceMount:void 0}),TL=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:i}=e,a=Ir(Cw,t);return n.jsx(vZ,{scope:t,forceMount:s,children:j.Children.map(r,o=>n.jsx(Gn,{present:s||a.open,children:n.jsx(zu,{asChild:!0,container:i,children:o})}))})};TL.displayName=Cw;var fm="DialogOverlay",AL=j.forwardRef((e,t)=>{const s=PL(fm,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,a=Ir(fm,e.__scopeDialog);return a.modal?n.jsx(Gn,{present:r||a.open,children:n.jsx(yZ,{...i,ref:t})}):null});AL.displayName=fm;var xZ=qo("DialogOverlay.RemoveScroll"),yZ=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ir(fm,s);return n.jsx(xp,{as:xZ,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(We.div,{"data-state":Pw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Zo="DialogContent",OL=j.forwardRef((e,t)=>{const s=PL(Zo,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,a=Ir(Zo,e.__scopeDialog);return n.jsx(Gn,{present:r||a.open,children:a.modal?n.jsx(bZ,{...i,ref:t}):n.jsx(wZ,{...i,ref:t})})});OL.displayName=Zo;var bZ=j.forwardRef((e,t)=>{const s=Ir(Zo,e.__scopeDialog),r=j.useRef(null),i=dt(t,s.contentRef,r);return j.useEffect(()=>{const a=r.current;if(a)return Tb(a)},[]),n.jsx(LL,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault())})}),wZ=j.forwardRef((e,t)=>{const s=Ir(Zo,e.__scopeDialog),r=j.useRef(!1),i=j.useRef(!1);return n.jsx(LL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(c=s.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((h=s.triggerRef.current)==null?void 0:h.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),LL=j.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,c=Ir(Zo,s),d=j.useRef(null),h=dt(t,d);return Cb(),n.jsxs(n.Fragment,{children:[n.jsx(gp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:n.jsx(Ac,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Pw(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(jZ,{titleId:c.titleId}),n.jsx(NZ,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Ew="DialogTitle",RL=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ir(Ew,s);return n.jsx(We.h2,{id:i.titleId,...r,ref:t})});RL.displayName=Ew;var ML="DialogDescription",IL=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ir(ML,s);return n.jsx(We.p,{id:i.descriptionId,...r,ref:t})});IL.displayName=ML;var DL="DialogClose",FL=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ir(DL,s);return n.jsx(We.button,{type:"button",...r,ref:t,onClick:Le(e.onClick,()=>i.onOpenChange(!1))})});FL.displayName=DL;function Pw(e){return e?"open":"closed"}var $L="DialogTitleWarning",[Cse,BL]=_I($L,{contentName:Zo,titleName:Ew,docsSlug:"dialog"}),jZ=({titleId:e})=>{const t=BL($L),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},_Z="DialogDescriptionWarning",NZ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BL(_Z).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},zL=kL,VL=EL,UL=TL,Ap=AL,Op=OL,Lp=RL,Rp=IL,qL=FL;const Fo=zL,wy=VL,SZ=UL,HL=j.forwardRef(({className:e,...t},s)=>n.jsx(Ap,{ref:s,className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));HL.displayName=Ap.displayName;const Da=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(SZ,{children:[n.jsx(HL,{}),n.jsxs(Op,{ref:r,className:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(qL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(rs,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Da.displayName=Op.displayName;const Fa=({className:e,...t})=>n.jsx("div",{className:Ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fa.displayName="DialogHeader";const $a=j.forwardRef(({className:e,...t},s)=>n.jsx(Lp,{ref:s,className:Ve("text-lg font-semibold leading-none tracking-tight",e),...t}));$a.displayName=Lp.displayName;const WL=j.forwardRef(({className:e,...t},s)=>n.jsx(Rp,{ref:s,className:Ve("text-sm text-muted-foreground",e),...t}));WL.displayName=Rp.displayName;const zi=zL,kZ=VL,CZ=UL,ZL=j.forwardRef(({className:e,...t},s)=>n.jsx(Ap,{className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));ZL.displayName=Ap.displayName;const EZ=Uu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ui=j.forwardRef(({side:e="right",className:t,children:s,...r},i)=>n.jsxs(CZ,{children:[n.jsx(ZL,{}),n.jsxs(Op,{ref:i,className:Ve(EZ({side:e}),t),...r,children:[s,n.jsxs(qL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(rs,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ui.displayName=Op.displayName;const hi=({className:e,...t})=>n.jsx("div",{className:Ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});hi.displayName="SheetHeader";const fi=j.forwardRef(({className:e,...t},s)=>n.jsx(Lp,{ref:s,className:Ve("text-lg font-semibold text-foreground",e),...t}));fi.displayName=Lp.displayName;const PZ=j.forwardRef(({className:e,...t},s)=>n.jsx(Rp,{ref:s,className:Ve("text-sm text-muted-foreground",e),...t}));PZ.displayName=Rp.displayName;function jy(e,[t,s]){return Math.min(s,Math.max(t,e))}var TZ=[" ","Enter","ArrowUp","ArrowDown"],AZ=[" ","Enter"],Go="Select",[Mp,Ip,OZ]=Qm(Go),[Uc,Ese]=ls(Go,[OZ,Ic]),Dp=Ic(),[LZ,ro]=Uc(Go),[RZ,MZ]=Uc(Go),GL=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:m,disabled:u,required:p,form:x}=e,v=Dp(t),[w,b]=j.useState(null),[y,_]=j.useState(null),[N,E]=j.useState(!1),I=Fc(h),[C,O]=Lr({prop:r,defaultProp:i??!1,onChange:a,caller:Go}),[A,k]=Lr({prop:o,defaultProp:c,onChange:d,caller:Go}),R=j.useRef(null),P=w?x||!!w.closest("form"):!0,[T,M]=j.useState(new Set),H=Array.from(T).map(W=>W.props.value).join(";");return n.jsx(pb,{...v,children:n.jsxs(LZ,{required:p,scope:t,trigger:w,onTriggerChange:b,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:Ar(),value:A,onValueChange:k,open:C,onOpenChange:O,dir:I,triggerPointerDownPosRef:R,disabled:u,children:[n.jsx(Mp.Provider,{scope:t,children:n.jsx(RZ,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(W=>{M(Z=>new Set(Z).add(W))},[]),onNativeOptionRemove:j.useCallback(W=>{M(Z=>{const B=new Set(Z);return B.delete(W),B})},[]),children:s})}),P?n.jsxs(xR,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:m,value:A,onChange:W=>k(W.target.value),disabled:u,form:x,children:[A===void 0?n.jsx("option",{value:""}):null,Array.from(T)]},H):null]})})};GL.displayName=Go;var KL="SelectTrigger",YL=j.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...i}=e,a=Dp(s),o=ro(KL,s),c=o.disabled||r,d=dt(t,o.onTriggerChange),h=Ip(s),f=j.useRef("touch"),[m,u,p]=bR(v=>{const w=h().filter(_=>!_.disabled),b=w.find(_=>_.value===o.value),y=wR(w,v,b);y!==void 0&&o.onValueChange(y.value)}),x=v=>{c||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return n.jsx(gb,{asChild:!0,...a,children:n.jsx(We.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":yR(o.value)?"":void 0,...i,ref:d,onClick:Le(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:Le(i.onPointerDown,v=>{f.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:Le(i.onKeyDown,v=>{const w=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&u(v.key),!(w&&v.key===" ")&&TZ.includes(v.key)&&(x(),v.preventDefault())})})})});YL.displayName=KL;var XL="SelectValue",QL=j.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:i,children:a,placeholder:o="",...c}=e,d=ro(XL,s),{onValueNodeHasChildrenChange:h}=d,f=a!==void 0,m=dt(t,d.onValueNodeChange);return Sn(()=>{h(f)},[h,f]),n.jsx(We.span,{...c,ref:m,style:{pointerEvents:"none"},children:yR(d.value)?n.jsx(n.Fragment,{children:o}):a})});QL.displayName=XL;var IZ="SelectIcon",JL=j.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...i}=e;return n.jsx(We.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});JL.displayName=IZ;var DZ="SelectPortal",eR=e=>n.jsx(zu,{asChild:!0,...e});eR.displayName=DZ;var Ko="SelectContent",tR=j.forwardRef((e,t)=>{const s=ro(Ko,e.__scopeSelect),[r,i]=j.useState();if(Sn(()=>{i(new DocumentFragment)},[]),!s.open){const a=r;return a?eo.createPortal(n.jsx(nR,{scope:e.__scopeSelect,children:n.jsx(Mp.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),a):null}return n.jsx(sR,{...e,ref:t})});tR.displayName=Ko;var yr=10,[nR,io]=Uc(Ko),FZ="SelectContentImpl",$Z=qo("SelectContent.RemoveScroll"),sR=j.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:u,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:w,...b}=e,y=ro(Ko,s),[_,N]=j.useState(null),[E,I]=j.useState(null),C=dt(t,U=>N(U)),[O,A]=j.useState(null),[k,R]=j.useState(null),P=Ip(s),[T,M]=j.useState(!1),H=j.useRef(!1);j.useEffect(()=>{if(_)return Tb(_)},[_]),Cb();const W=j.useCallback(U=>{const[ne,...se]=P().map(ee=>ee.ref.current),[le]=se.slice(-1),pe=document.activeElement;for(const ee of U)if(ee===pe||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===ne&&E&&(E.scrollTop=0),ee===le&&E&&(E.scrollTop=E.scrollHeight),ee==null||ee.focus(),document.activeElement!==pe))return},[P,E]),Z=j.useCallback(()=>W([O,_]),[W,O,_]);j.useEffect(()=>{T&&Z()},[T,Z]);const{onOpenChange:B,triggerPointerDownPosRef:q}=y;j.useEffect(()=>{if(_){let U={x:0,y:0};const ne=le=>{var pe,ee;U={x:Math.abs(Math.round(le.pageX)-(((pe=q.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(le.pageY)-(((ee=q.current)==null?void 0:ee.y)??0))}},se=le=>{U.x<=10&&U.y<=10?le.preventDefault():_.contains(le.target)||B(!1),document.removeEventListener("pointermove",ne),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",se,{capture:!0})}}},[_,B,q]),j.useEffect(()=>{const U=()=>B(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[B]);const[F,$]=bR(U=>{const ne=P().filter(pe=>!pe.disabled),se=ne.find(pe=>pe.ref.current===document.activeElement),le=wR(ne,U,se);le&&setTimeout(()=>le.ref.current.focus())}),z=j.useCallback((U,ne,se)=>{const le=!H.current&&!se;(y.value!==void 0&&y.value===ne||le)&&(A(U),le&&(H.current=!0))},[y.value]),G=j.useCallback(()=>_==null?void 0:_.focus(),[_]),X=j.useCallback((U,ne,se)=>{const le=!H.current&&!se;(y.value!==void 0&&y.value===ne||le)&&R(U)},[y.value]),J=r==="popper"?_y:rR,K=J===_y?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:u,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:w}:{};return n.jsx(nR,{scope:s,content:_,viewport:E,onViewportChange:I,itemRefCallback:z,selectedItem:O,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:Z,selectedItemText:k,position:r,isPositioned:T,searchRef:F,children:n.jsx(xp,{as:$Z,allowPinchZoom:!0,children:n.jsx(gp,{asChild:!0,trapped:y.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Le(i,U=>{var ne;(ne=y.trigger)==null||ne.focus({preventScroll:!0}),U.preventDefault()}),children:n.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(J,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:U=>U.preventDefault(),...b,...K,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Le(b.onKeyDown,U=>{const ne=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!ne&&U.key.length===1&&$(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let le=P().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(U.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const pe=U.target,ee=le.indexOf(pe);le=le.slice(ee+1)}setTimeout(()=>W(le)),U.preventDefault()}})})})})})})});sR.displayName=FZ;var BZ="SelectItemAlignedPosition",rR=j.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...i}=e,a=ro(Ko,s),o=io(Ko,s),[c,d]=j.useState(null),[h,f]=j.useState(null),m=dt(t,C=>f(C)),u=Ip(s),p=j.useRef(!1),x=j.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:b,focusSelectedItem:y}=o,_=j.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&v&&w&&b){const C=a.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(a.dir!=="rtl"){const pe=k.left-O.left,ee=A.left-pe,ye=C.left-ee,Ce=C.width+ye,ue=Math.max(Ce,O.width),je=window.innerWidth-yr,xe=jy(ee,[yr,Math.max(yr,je-ue)]);c.style.minWidth=Ce+"px",c.style.left=xe+"px"}else{const pe=O.right-k.right,ee=window.innerWidth-A.right-pe,ye=window.innerWidth-C.right-ee,Ce=C.width+ye,ue=Math.max(Ce,O.width),je=window.innerWidth-yr,xe=jy(ee,[yr,Math.max(yr,je-ue)]);c.style.minWidth=Ce+"px",c.style.right=xe+"px"}const R=u(),P=window.innerHeight-yr*2,T=v.scrollHeight,M=window.getComputedStyle(h),H=parseInt(M.borderTopWidth,10),W=parseInt(M.paddingTop,10),Z=parseInt(M.borderBottomWidth,10),B=parseInt(M.paddingBottom,10),q=H+W+T+B+Z,F=Math.min(w.offsetHeight*5,q),$=window.getComputedStyle(v),z=parseInt($.paddingTop,10),G=parseInt($.paddingBottom,10),X=C.top+C.height/2-yr,J=P-X,K=w.offsetHeight/2,U=w.offsetTop+K,ne=H+W+U,se=q-ne;if(ne<=X){const pe=R.length>0&&w===R[R.length-1].ref.current;c.style.bottom="0px";const ee=h.clientHeight-v.offsetTop-v.offsetHeight,ye=Math.max(J,K+(pe?G:0)+ee+Z),Ce=ne+ye;c.style.height=Ce+"px"}else{const pe=R.length>0&&w===R[0].ref.current;c.style.top="0px";const ye=Math.max(X,H+v.offsetTop+(pe?z:0)+K)+se;c.style.height=ye+"px",v.scrollTop=ne-X+v.offsetTop}c.style.margin=`${yr}px 0`,c.style.minHeight=F+"px",c.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[u,a.trigger,a.valueNode,c,h,v,w,b,a.dir,r]);Sn(()=>_(),[_]);const[N,E]=j.useState();Sn(()=>{h&&E(window.getComputedStyle(h).zIndex)},[h]);const I=j.useCallback(C=>{C&&x.current===!0&&(_(),y==null||y(),x.current=!1)},[_,y]);return n.jsx(VZ,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:I,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(We.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});rR.displayName=BZ;var zZ="SelectPopperPosition",_y=j.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:i=yr,...a}=e,o=Dp(s);return n.jsx(vb,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_y.displayName=zZ;var[VZ,Tw]=Uc(Ko,{}),Ny="SelectViewport",iR=j.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...i}=e,a=io(Ny,s),o=Tw(Ny,s),c=dt(t,a.onViewportChange),d=j.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(Mp.Slot,{scope:s,children:n.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:u}=o;if(u!=null&&u.current&&m){const p=Math.abs(d.current-f.scrollTop);if(p>0){const x=window.innerHeight-yr*2,v=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),b=Math.max(v,w);if(b<x){const y=b+p,_=Math.min(x,y),N=y-_;m.style.height=_+"px",m.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});iR.displayName=Ny;var aR="SelectGroup",[UZ,qZ]=Uc(aR),HZ=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=Ar();return n.jsx(UZ,{scope:s,id:i,children:n.jsx(We.div,{role:"group","aria-labelledby":i,...r,ref:t})})});HZ.displayName=aR;var oR="SelectLabel",lR=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=qZ(oR,s);return n.jsx(We.div,{id:i.id,...r,ref:t})});lR.displayName=oR;var mm="SelectItem",[WZ,cR]=Uc(mm),dR=j.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:i=!1,textValue:a,...o}=e,c=ro(mm,s),d=io(mm,s),h=c.value===r,[f,m]=j.useState(a??""),[u,p]=j.useState(!1),x=dt(t,y=>{var _;return(_=d.itemRefCallback)==null?void 0:_.call(d,y,r,i)}),v=Ar(),w=j.useRef("touch"),b=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(WZ,{scope:s,value:r,disabled:i,textId:v,isSelected:h,onItemTextChange:j.useCallback(y=>{m(_=>_||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(Mp.ItemSlot,{scope:s,value:r,disabled:i,textValue:f,children:n.jsx(We.div,{role:"option","aria-labelledby":v,"data-highlighted":u?"":void 0,"aria-selected":h&&u,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Le(o.onFocus,()=>p(!0)),onBlur:Le(o.onBlur,()=>p(!1)),onClick:Le(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:Le(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:Le(o.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:Le(o.onPointerMove,y=>{var _;w.current=y.pointerType,i?(_=d.onItemLeave)==null||_.call(d):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,y=>{var _;y.currentTarget===document.activeElement&&((_=d.onItemLeave)==null||_.call(d))}),onKeyDown:Le(o.onKeyDown,y=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(AZ.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});dR.displayName=mm;var Od="SelectItemText",uR=j.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:i,...a}=e,o=ro(Od,s),c=io(Od,s),d=cR(Od,s),h=MZ(Od,s),[f,m]=j.useState(null),u=dt(t,b=>m(b),d.onItemTextChange,b=>{var y;return(y=c.itemTextRefCallback)==null?void 0:y.call(c,b,d.value,d.disabled)}),p=f==null?void 0:f.textContent,x=j.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:p},d.value),[d.disabled,d.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=h;return Sn(()=>(v(x),()=>w(x)),[v,w,x]),n.jsxs(n.Fragment,{children:[n.jsx(We.span,{id:d.textId,...a,ref:u}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eo.createPortal(a.children,o.valueNode):null]})});uR.displayName=Od;var hR="SelectItemIndicator",fR=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return cR(hR,s).isSelected?n.jsx(We.span,{"aria-hidden":!0,...r,ref:t}):null});fR.displayName=hR;var Sy="SelectScrollUpButton",mR=j.forwardRef((e,t)=>{const s=io(Sy,e.__scopeSelect),r=Tw(Sy,e.__scopeSelect),[i,a]=j.useState(!1),o=dt(t,r.onScrollButtonChange);return Sn(()=>{if(s.viewport&&s.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),i?n.jsx(gR,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});mR.displayName=Sy;var ky="SelectScrollDownButton",pR=j.forwardRef((e,t)=>{const s=io(ky,e.__scopeSelect),r=Tw(ky,e.__scopeSelect),[i,a]=j.useState(!1),o=dt(t,r.onScrollButtonChange);return Sn(()=>{if(s.viewport&&s.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;a(f)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),i?n.jsx(gR,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});pR.displayName=ky;var gR=j.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...i}=e,a=io("SelectScrollButton",s),o=j.useRef(null),c=Ip(s),d=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>d(),[d]),Sn(()=>{var f;const h=c().find(m=>m.ref.current===document.activeElement);(f=h==null?void 0:h.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),n.jsx(We.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Le(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{d()})})}),ZZ="SelectSeparator",vR=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(We.div,{"aria-hidden":!0,...r,ref:t})});vR.displayName=ZZ;var Cy="SelectArrow",GZ=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=Dp(s),a=ro(Cy,s),o=io(Cy,s);return a.open&&o.position==="popper"?n.jsx(xb,{...i,...r,ref:t}):null});GZ.displayName=Cy;var KZ="SelectBubbleInput",xR=j.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{const i=j.useRef(null),a=dt(r,i),o=Cp(t);return j.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(m)}},[o,t]),n.jsx(We.select,{...s,style:{...WC,...s.style},ref:a,defaultValue:t})});xR.displayName=KZ;function yR(e){return e===""||e===void 0}function bR(e){const t=pn(e),s=j.useRef(""),r=j.useRef(0),i=j.useCallback(o=>{const c=s.current+o;t(c),function d(h){s.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),a=j.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,i,a]}function wR(e,t,s){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let o=YZ(e,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==s));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==s?d:void 0}function YZ(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var XZ=GL,jR=YL,QZ=QL,JZ=JL,eG=eR,_R=tR,tG=iR,NR=lR,SR=dR,nG=uR,sG=fR,kR=mR,CR=pR,ER=vR;const rn=XZ,an=QZ,Qt=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(jR,{ref:r,className:Ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(JZ,{asChild:!0,children:n.jsx(vE,{className:"h-4 w-4 opacity-50"})})]}));Qt.displayName=jR.displayName;const PR=j.forwardRef(({className:e,...t},s)=>n.jsx(kR,{ref:s,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(yD,{className:"h-4 w-4"})}));PR.displayName=kR.displayName;const TR=j.forwardRef(({className:e,...t},s)=>n.jsx(CR,{ref:s,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(vE,{className:"h-4 w-4"})}));TR.displayName=CR.displayName;const Jt=j.forwardRef(({className:e,children:t,position:s="popper",...r},i)=>n.jsx(eG,{children:n.jsxs(_R,{ref:i,className:Ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx(PR,{}),n.jsx(tG,{className:Ve("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(TR,{})]})}));Jt.displayName=_R.displayName;const rG=j.forwardRef(({className:e,...t},s)=>n.jsx(NR,{ref:s,className:Ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rG.displayName=NR.displayName;const qe=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(SR,{ref:r,className:Ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(sG,{children:n.jsx(tp,{className:"h-4 w-4"})})}),n.jsx(nG,{children:t})]}));qe.displayName=SR.displayName;const iG=j.forwardRef(({className:e,...t},s)=>n.jsx(ER,{ref:s,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));iG.displayName=ER.displayName;function aG(e,t){return j.useReducer((s,r)=>t[s][r]??s,e)}var Aw="ScrollArea",[AR,Pse]=ls(Aw),[oG,hr]=AR(Aw),OR=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[c,d]=j.useState(null),[h,f]=j.useState(null),[m,u]=j.useState(null),[p,x]=j.useState(null),[v,w]=j.useState(null),[b,y]=j.useState(0),[_,N]=j.useState(0),[E,I]=j.useState(!1),[C,O]=j.useState(!1),A=dt(t,R=>d(R)),k=Fc(i);return n.jsx(oG,{scope:s,type:r,dir:k,scrollHideDelay:a,scrollArea:c,viewport:h,onViewportChange:f,content:m,onContentChange:u,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:I,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:O,onCornerWidthChange:y,onCornerHeightChange:N,children:n.jsx(We.div,{dir:k,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});OR.displayName=Aw;var LR="ScrollAreaViewport",RR=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:r,nonce:i,...a}=e,o=hr(LR,s),c=j.useRef(null),d=dt(t,c,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(We.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RR.displayName=LR;var wi="ScrollAreaScrollbar",Ow=j.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=hr(wi,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,c=e.orientation==="horizontal";return j.useEffect(()=>(c?a(!0):o(!0),()=>{c?a(!1):o(!1)}),[c,a,o]),i.type==="hover"?n.jsx(lG,{...r,ref:t,forceMount:s}):i.type==="scroll"?n.jsx(cG,{...r,ref:t,forceMount:s}):i.type==="auto"?n.jsx(MR,{...r,ref:t,forceMount:s}):i.type==="always"?n.jsx(Lw,{...r,ref:t}):null});Ow.displayName=wi;var lG=j.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=hr(wi,e.__scopeScrollArea),[a,o]=j.useState(!1);return j.useEffect(()=>{const c=i.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),n.jsx(Gn,{present:s||a,children:n.jsx(MR,{"data-state":a?"visible":"hidden",...r,ref:t})})}),cG=j.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=hr(wi,e.__scopeScrollArea),a=e.orientation==="horizontal",o=$p(()=>d("SCROLL_END"),100),[c,d]=aG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay,d]),j.useEffect(()=>{const h=i.viewport,f=a?"scrollLeft":"scrollTop";if(h){let m=h[f];const u=()=>{const p=h[f];m!==p&&(d("SCROLL"),o()),m=p};return h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[i.viewport,a,d,o]),n.jsx(Gn,{present:s||c!=="hidden",children:n.jsx(Lw,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),MR=j.forwardRef((e,t)=>{const s=hr(wi,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=j.useState(!1),c=e.orientation==="horizontal",d=$p(()=>{if(s.viewport){const h=s.viewport.offsetWidth<s.viewport.scrollWidth,f=s.viewport.offsetHeight<s.viewport.scrollHeight;o(c?h:f)}},10);return wc(s.viewport,d),wc(s.content,d),n.jsx(Gn,{present:r||a,children:n.jsx(Lw,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Lw=j.forwardRef((e,t)=>{const{orientation:s="vertical",...r}=e,i=hr(wi,e.__scopeScrollArea),a=j.useRef(null),o=j.useRef(0),[c,d]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=BR(c.viewport,c.content),f={...r,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:u=>a.current=u,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:u=>o.current=u};function m(u,p){return pG(u,o.current,c,p)}return s==="horizontal"?n.jsx(dG,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const u=i.viewport.scrollLeft,p=jS(u,c,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollLeft=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollLeft=m(u,i.dir))}}):s==="vertical"?n.jsx(uG,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const u=i.viewport.scrollTop,p=jS(u,c);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollTop=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollTop=m(u))}}):null}),dG=j.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...i}=e,a=hr(wi,e.__scopeScrollArea),[o,c]=j.useState(),d=j.useRef(null),h=dt(t,d,a.onScrollbarXChange);return j.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(DR,{"data-orientation":"horizontal",...i,ref:h,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fp(s)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const u=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(u),VR(u,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:gm(o.paddingLeft),paddingEnd:gm(o.paddingRight)}})}})}),uG=j.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...i}=e,a=hr(wi,e.__scopeScrollArea),[o,c]=j.useState(),d=j.useRef(null),h=dt(t,d,a.onScrollbarYChange);return j.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(DR,{"data-orientation":"vertical",...i,ref:h,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fp(s)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const u=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(u),VR(u,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:gm(o.paddingTop),paddingEnd:gm(o.paddingBottom)}})}})}),[hG,IR]=AR(wi),DR=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:m,...u}=e,p=hr(wi,s),[x,v]=j.useState(null),w=dt(t,A=>v(A)),b=j.useRef(null),y=j.useRef(""),_=p.viewport,N=r.content-r.viewport,E=pn(f),I=pn(d),C=$p(m,10);function O(A){if(b.current){const k=A.clientX-b.current.left,R=A.clientY-b.current.top;h({x:k,y:R})}}return j.useEffect(()=>{const A=k=>{const R=k.target;(x==null?void 0:x.contains(R))&&E(k,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[_,x,N,E]),j.useEffect(I,[r,I]),wc(x,C),wc(p.content,C),n.jsx(hG,{scope:s,scrollbar:x,hasThumb:i,onThumbChange:pn(a),onThumbPointerUp:pn(o),onThumbPositionChange:I,onThumbPointerDown:pn(c),children:n.jsx(We.div,{...u,ref:w,style:{position:"absolute",...u.style},onPointerDown:Le(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),O(A))}),onPointerMove:Le(e.onPointerMove,O),onPointerUp:Le(e.onPointerUp,A=>{const k=A.target;k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),pm="ScrollAreaThumb",FR=j.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=IR(pm,e.__scopeScrollArea);return n.jsx(Gn,{present:s||i.hasThumb,children:n.jsx(fG,{ref:t,...r})})}),fG=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:r,...i}=e,a=hr(pm,s),o=IR(pm,s),{onThumbPositionChange:c}=o,d=dt(t,m=>o.onThumbChange(m)),h=j.useRef(void 0),f=$p(()=>{h.current&&(h.current(),h.current=void 0)},100);return j.useEffect(()=>{const m=a.viewport;if(m){const u=()=>{if(f(),!h.current){const p=gG(m,c);h.current=p,c()}};return c(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[a.viewport,f,c]),n.jsx(We.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),x=m.clientX-p.left,v=m.clientY-p.top;o.onThumbPointerDown({x,y:v})}),onPointerUp:Le(e.onPointerUp,o.onThumbPointerUp)})});FR.displayName=pm;var Rw="ScrollAreaCorner",$R=j.forwardRef((e,t)=>{const s=hr(Rw,e.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?n.jsx(mG,{...e,ref:t}):null});$R.displayName=Rw;var mG=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,...r}=e,i=hr(Rw,s),[a,o]=j.useState(0),[c,d]=j.useState(0),h=!!(a&&c);return wc(i.scrollbarX,()=>{var m;const f=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(f),d(f)}),wc(i.scrollbarY,()=>{var m;const f=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),h?n.jsx(We.div,{...r,ref:t,style:{width:a,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gm(e){return e?parseInt(e,10):0}function BR(e,t){const s=e/t;return isNaN(s)?0:s}function Fp(e){const t=BR(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function pG(e,t,s,r="ltr"){const i=Fp(s),a=i/2,o=t||a,c=i-o,d=s.scrollbar.paddingStart+o,h=s.scrollbar.size-s.scrollbar.paddingEnd-c,f=s.content-s.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return zR([d,h],m)(e)}function jS(e,t,s="ltr"){const r=Fp(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,c=a-r,d=s==="ltr"?[0,o]:[o*-1,0],h=jy(e,d);return zR([0,o],[0,c])(h)}function zR(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function VR(e,t){return e>0&&e<t}var gG=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=s.left!==a.left,c=s.top!==a.top;(o||c)&&t(),s=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function $p(e,t){const s=pn(e),r=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),j.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function wc(e,t){const s=pn(t);Sn(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,s])}var UR=OR,vG=RR,xG=$R;const Mw=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(UR,{ref:r,className:Ve("relative overflow-hidden",e),...s,children:[n.jsx(vG,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(qR,{}),n.jsx(xG,{})]}));Mw.displayName=UR.displayName;const qR=j.forwardRef(({className:e,orientation:t="vertical",...s},r)=>n.jsx(Ow,{ref:r,orientation:t,className:Ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(FR,{className:"relative flex-1 rounded-full bg-border"})}));qR.displayName=Ow.displayName;class yG{constructor(){Ur(this,"fcmToken",null)}async initialize(){if(vt.isNativePlatform())try{const{PushNotifications:t}=await et(async()=>{const{PushNotifications:i}=await Promise.resolve().then(()=>$4);return{PushNotifications:i}},void 0),{App:s}=await et(async()=>{const{App:i}=await import("./index-CWOA6oPe.js");return{App:i}},[]);if((await t.requestPermissions()).receive!=="granted"){console.warn("Push notification permission denied");return}await t.register(),t.addListener("registration",i=>{console.log(" FCM Token:",i.value),this.fcmToken=i.value,this.sendTokenToBackend(i.value)}),t.addListener("pushNotificationReceived",i=>{var a;console.log(" Push received:",i),(a=i.data)!=null&&a.orderId&&window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(i.data.orderId),orderNumber:i.data.orderNumber,amount:i.data.amount,fromPush:!0}}))}),t.addListener("pushNotificationActionPerformed",i=>{var o;console.log(" Push notification tapped - app opening:",i);const a=(o=i.notification.data)==null?void 0:o.orderId;a&&(window.location.href="/vendor/home",setTimeout(()=>{var c,d;window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(a),orderNumber:(c=i.notification.data)==null?void 0:c.orderNumber,amount:(d=i.notification.data)==null?void 0:d.amount,autoOpened:!0,fromPush:!0}}))},1500))}),s.addListener("appStateChange",({isActive:i})=>{i&&(console.log(" App resumed from push notification"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))}),console.log(" Real push notifications initialized")}catch(t){console.error(" Push notifications setup failed:",t)}}async sendTokenToBackend(t){try{(await fetch("/api/vendor/fcm-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fcmToken:t,vendorId:localStorage.getItem("vendor_id")})})).ok&&console.log(" FCM token sent to backend")}catch(s){console.warn("Failed to send FCM token:",s)}}getFCMToken(){return this.fcmToken}}const bG=new yG;class wG{constructor(){Ur(this,"persistentIntervals",new Map);this.setupNotificationHandlers(),this.initializePushNotifications()}async initializePushNotifications(){vt.isNativePlatform()&&await bG.initialize()}async setupNotificationHandlers(){if(vt.isNativePlatform())try{const{LocalNotifications:t}=await et(async()=>{const{LocalNotifications:r}=await import("./index-ClhcSPaY.js");return{LocalNotifications:r}},[]),{App:s}=await et(async()=>{const{App:r}=await import("./index-CWOA6oPe.js");return{App:r}},[]);t.addListener("localNotificationActionPerformed",async r=>{var i;console.log(" NOTIFICATION TAPPED - AUTO OPENING APP:",r);try{const{App:a}=await et(async()=>{const{App:d}=await import("./index-CWOA6oPe.js");return{App:d}},[]),o=await a.getState();if(console.log(" Current app state:",o),!o.isActive){console.log(" App was in background - bringing to foreground"),window.focus(),document.body.click();try{await a.minimizeApp(),setTimeout(()=>{window.focus()},100)}catch{console.log("Minimize/restore not available")}}const c=parseInt(((i=r.notification.extra)==null?void 0:i.orderId)||"0");c&&(console.log(" Opening order:",c),window.location.href="/vendor/home",setTimeout(()=>{var d,h;window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:c,orderNumber:(d=r.notification.extra)==null?void 0:d.orderNumber,amount:(h=r.notification.extra)==null?void 0:h.amount,autoOpened:!0,fromNotification:!0}}))},1500))}catch(a){console.error(" Failed to open app:",a),window.location.href="/vendor/home"}}),s.addListener("appStateChange",({isActive:r})=>{r&&(console.log(" App resumed - checking for pending orders"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))})}catch(t){console.warn("Could not setup notification handlers:",t)}}async showOrderNotification(t,s,r){console.log(" Using FCM push notifications for order:",t);const{pushNotificationService:i}=await et(async()=>{const{pushNotificationService:a}=await import("./pushNotificationService-DKMfDCEI.js");return{pushNotificationService:a}},[]);await i.showOrderNotification(t,s,r),this.playBeepSound(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:r,orderNumber:t,amount:s}}))}async requestBackendPushNotification(t,s,r){try{(await fetch("/api/vendor/send-order-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vendorId:localStorage.getItem("vendor_id"),orderId:r,orderNumber:t,amount:s,title:" NEW ORDER RECEIVED",body:`Order #${t} - ${s}`,data:{orderId:r.toString(),orderNumber:t,amount:s,action:"openOrder"}})})).ok?console.log(" Backend push notification requested"):console.warn(" Backend push notification failed")}catch(i){console.warn("Backend push notification error:",i)}}async showPushNotification(t,s,r){try{console.log(" Simulating push notification for auto-opening")}catch(i){console.warn("Push notification failed, using local fallback:",i)}}async showLocalNotification(t,s,r){try{const{LocalNotifications:i}=await et(async()=>{const{LocalNotifications:o}=await import("./index-ClhcSPaY.js");return{LocalNotifications:o}},[]);if((await i.requestPermissions()).display!=="granted"){console.warn("Notification permission not granted");return}await i.schedule({notifications:[{title:" NEW ORDER - TAP TO OPEN APP",body:`Order #${t} - ${s}
 TAP HERE TO OPEN`,id:r,schedule:{at:new Date(Date.now()+100)},sound:"default",attachments:void 0,actionTypeId:"OPEN_ORDER",smallIcon:"ic_stat_icon_config_sample",iconColor:"#FF0000",channelId:"order-alerts",summaryText:"Tap to open app",extra:{orderId:r.toString(),orderNumber:t,amount:s,autoOpen:!0,action:"openApp",deepLink:"vendor://order/"+r}}]}),console.log(" Local notification scheduled for order:",r)}catch(i){console.warn("Local notifications not available:",i)}}showWebNotification(t,s,r){if("Notification"in window&&Notification.permission==="granted"){const i=new Notification(" New Order!",{body:`Order #${t} - ${s}`,icon:"/favicon.ico",tag:`order-${r}`,requireInteraction:!0});i.onclick=()=>{window.focus(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:r,orderNumber:t,amount:s}})),i.close()},setTimeout(()=>i.close(),3e4)}}startPersistentAlert(t,s,r){this.stopPersistentAlert(r);const i=setInterval(()=>{console.log(" Persistent alert for order:",t),"vibrate"in navigator&&navigator.vibrate([1e3,300,1e3,300,1e3]),this.playMobileSound()},5e3);this.persistentIntervals.set(r,i),setTimeout(()=>{this.stopPersistentAlert(r)},3e5)}stopPersistentAlert(t){const s=this.persistentIntervals.get(t);s&&(clearInterval(s),this.persistentIntervals.delete(t),console.log(" Stopped persistent alert for order:",t))}async clearNotification(t){if(this.stopPersistentAlert(t),vt.isNativePlatform())try{const{LocalNotifications:s}=await et(async()=>{const{LocalNotifications:r}=await import("./index-ClhcSPaY.js");return{LocalNotifications:r}},[]);await s.cancel({notifications:[{id:t}]}),console.log(" Cleared background notification for order:",t)}catch(s){console.warn("Could not clear notification:",s)}}async requestPermissions(){if(vt.isNativePlatform())try{const{LocalNotifications:t}=await et(async()=>{const{LocalNotifications:r}=await import("./index-ClhcSPaY.js");return{LocalNotifications:r}},[]),s=await t.requestPermissions();console.log(" Notification permissions:",s);try{await t.createChannel({id:"order-alerts",name:"Order Alerts",description:"High priority notifications for new orders",sound:"default",importance:5,visibility:1,lights:!0,vibration:!0}),console.log(" High priority notification channel created")}catch(r){console.warn("Could not create notification channel:",r)}return s.display==="granted"}catch(t){return console.warn("Local notifications not available:",t),!1}return"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":"Notification"in window&&Notification.permission==="granted"}playBeepSound(){try{const t=new(window.AudioContext||window.webkitAudioContext),s=t.createOscillator(),r=t.createGain();s.connect(r),r.connect(t.destination),s.frequency.value=800,s.type="square",r.gain.setValueAtTime(.3,t.currentTime),r.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),s.start(t.currentTime),s.stop(t.currentTime+.3),console.log(" Beep sound played")}catch(t){console.warn("Audio not available:",t)}}playMobileSound(){try{const t=new(window.AudioContext||window.webkitAudioContext);for(let s=0;s<3;s++)setTimeout(()=>{const r=t.createOscillator(),i=t.createGain();r.connect(i),i.connect(t.destination),r.frequency.value=1e3+s*200,r.type="sine",i.gain.setValueAtTime(.5,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),r.start(t.currentTime),r.stop(t.currentTime+.2)},s*300);console.log(" Mobile sound sequence played")}catch(t){console.warn("Mobile audio not available:",t)}}}const Il=new wG,Pv=Object.freeze(Object.defineProperty({__proto__:null,simpleNotificationService:Il},Symbol.toStringTag,{value:"Module"}));function Bp(){const[e,t]=j.useState([]),[s,r]=j.useState(!1),[i,a]=j.useState(0),o=j.useRef(null),c=j.useRef(null);j.useRef(0),j.useEffect(()=>{Il.requestPermissions()},[]);const d=async()=>{if(!await Te.getToken()){console.warn("No authentication token found for WebSocket connection");return}const x=window.location.href;if(x.includes("ngrok")||x.includes("ngrok-free.app")){console.log("Ngrok detected - using HTTP polling instead of WebSocket"),h();return}console.log("Using HTTP polling for notifications"),h()},h=()=>{r(!0),console.log("Notification polling disabled")};return j.useEffect(()=>((async()=>{await d()})(),()=>{c.current&&clearInterval(c.current),o.current&&o.current.close(1e3,"Component unmounting")}),[]),j.useEffect(()=>{console.log("Initial notification fetch disabled")},[]),{notifications:e,unreadCount:i,isConnected:s,markAsRead:async p=>{console.log("Mark as read:",p),a(x=>Math.max(0,x-1))},markAllAsRead:async()=>{console.log("Mark all as read"),a(0)},clearNotifications:()=>{t([]),a(0)}}}function jG({className:e=""}){const t=nt(),{notifications:s,unreadCount:r,markAsRead:i,markAllAsRead:a,clearNotifications:o,isConnected:c}=Bp(),[d,h]=j.useState(!1),f=x=>{switch(x){case"order":return n.jsx(Ot,{className:"h-4 w-4 text-blue-600"});case"payment":return n.jsx(ta,{className:"h-4 w-4 text-green-600"});case"system":return n.jsx(Yf,{className:"h-4 w-4 text-orange-600"});default:return n.jsx(ts,{className:"h-4 w-4 text-gray-600"})}},m=x=>{switch(x){case"order":return"border-l-blue-500 bg-blue-50";case"payment":return"border-l-green-500 bg-green-50";case"system":return"border-l-orange-500 bg-orange-50";default:return"border-l-gray-500 bg-gray-50"}},u=x=>{x.read||i(x.id),x.action_url&&(t(x.action_url),h(!1))},p=x=>{const v=new Date(x),b=Math.floor((new Date().getTime()-v.getTime())/(1e3*60));return b<1?"Just now":b<60?`${b}m ago`:b<1440?`${Math.floor(b/60)}h ago`:v.toLocaleDateString()};return n.jsxs(zi,{open:d,onOpenChange:h,children:[n.jsx(kZ,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"sm",className:`relative p-2 hover:bg-gray-100 rounded-full ${e}`,children:[n.jsx(ts,{className:`h-5 w-5 ${c?"text-gray-700":"text-gray-400"}`}),r>0&&n.jsx(Me,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r>99?"99+":r}),!c&&n.jsx("div",{className:"absolute -bottom-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]})}),n.jsxs(ui,{side:"right",className:"w-full sm:w-96",children:[n.jsxs(hi,{className:"pb-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(fi,{className:"flex items-center gap-2",children:[n.jsx(ts,{className:"h-5 w-5"}),"Notifications",r>0&&n.jsxs(Me,{variant:"secondary",className:"ml-2",children:[r," new"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!c&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-600",children:[n.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse"}),"Offline"]}),s.length>0&&n.jsx(te,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Clear All"})]})]}),r>0&&n.jsxs(te,{variant:"outline",size:"sm",onClick:a,className:"w-full",children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Mark All as Read"]})]}),n.jsx(Mw,{className:"h-[calc(100vh-120px)]",children:s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(ts,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"You're all caught up! New notifications will appear here."})]}):n.jsx("div",{className:"space-y-2",children:s.map(x=>n.jsx("div",{onClick:()=>u(x),className:`
                    p-4 rounded-lg border-l-4 cursor-pointer transition-all hover:shadow-md
                    ${m(x.type)}
                    ${x.read?"opacity-75":"ring-2 ring-blue-100"}
                  `,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:f(x.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:x.title}),!x.read&&n.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full flex-shrink-0 ml-2"})]}),n.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-2",children:x.message}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(ir,{className:"h-3 w-3"}),p(x.timestamp||new Date().toISOString())]}),x.action_url&&n.jsx(te,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-blue-600 hover:text-blue-800",onClick:v=>{v.stopPropagation(),u(x)},children:"View"})]})]})]})},x.id))})}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:n.jsxs("div",{className:`
            flex items-center justify-center gap-2 py-2 px-3 rounded-lg text-xs
            ${c?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}
          `,children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${c?"bg-green-500":"bg-red-500 animate-pulse"}`}),c?"Connected to notification service":"Reconnecting..."]})})]})]})}function _G(){var _t,Vt;const e=nt(),{toast:t}=cn(),[s,r]=j.useState([]),[i,a]=j.useState(!0),[o,c]=j.useState("all"),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(!1),[x,v]=j.useState(null),[w,b]=j.useState({}),[y,_]=j.useState(!1),[N,E]=j.useState(null),[I,C]=j.useState(0),[O,A]=j.useState(""),[k,R]=j.useState(!1),[P,T]=j.useState(!1),[M,H]=j.useState(null),[W,Z]=j.useState(""),[B,q]=j.useState(""),[F,$]=j.useState(""),[z,G]=j.useState(""),[X,J]=j.useState(""),[K,U]=j.useState(""),[ne,se]=j.useState(""),[le,pe]=j.useState(""),[ee,ye]=j.useState([]),[Ce,ue]=j.useState(!1),[je,xe]=j.useState(null),[ce,fe]=j.useState(!1),[Q,re]=j.useState("");Bp(),j.useEffect(()=>{ie();const oe=Ze=>{Ze.detail.type==="order"&&ie()};window.addEventListener("newNotification",oe);const ze=setInterval(async()=>{try{if(!await Te.getToken())return;const ut=await Yd.getOrders();r(ut)}catch(Ze){console.error("Auto-refresh error:",Ze)}},3e4);return()=>{window.removeEventListener("newNotification",oe),clearInterval(ze)}},[]);const ie=async()=>{var oe,ze,Ze;try{if(!await Te.getToken()){e("/login");return}const it=await Yd.getOrders();r(it);const Ge={};for(const dn of it){const Ut=(Ze=(ze=(oe=dn.items)==null?void 0:oe[0])==null?void 0:ze.product_details)==null?void 0:Ze.vendor_name;Ut&&!Ge[Ut]&&(Ge[Ut]=await tt(Ut))}b(Ge)}catch(ut){console.error("Error fetching orders:",ut),t({title:"Error",description:ut.message||"Failed to load orders",variant:"destructive"})}finally{a(!1)}},be=oe=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",out_for_delivery:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[oe]||"bg-gray-100 text-gray-800",we=oe=>({pending:"Order Placed",confirmed:"Confirmed",preparing:"Preparing",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[oe]||oe,ve=oe=>oe==="all"?s:s.filter(ze=>ze.status===oe),Ae=async()=>{if(!d.trim()){t({title:"Reason Required",description:"Please provide a valid reason for cancellation",variant:"destructive"});return}try{await Yd.cancelOrder(x,d),t({title:"Order Cancelled",description:"Your order has been cancelled successfully."}),p(!1),h(""),m(""),ie()}catch(oe){console.error("Error cancelling order:",oe),t({title:"Cancellation Failed",description:oe.message||"Failed to cancel order",variant:"destructive"})}},tt=async oe=>{var ze;try{const{response:Ze,data:ut}=await Fe(`/api/search/vendors/?search=${encodeURIComponent(oe)}`);if(!Ze.ok)return!1;const it=(ze=ut==null?void 0:ut.results)==null?void 0:ze.find(Ge=>Ge.business_name===oe);return(it==null?void 0:it.is_active)||!1}catch(Ze){return console.error("Error checking vendor status:",Ze),!1}},Xe=async oe=>{var ze,Ze,ut;try{const it=(ut=(Ze=(ze=oe.items)==null?void 0:ze[0])==null?void 0:Ze.product_details)==null?void 0:ut.vendor_name;if(it&&!await tt(it)){t({title:"Vendor Offline",description:"This vendor is currently offline. Cannot reorder at this time.",variant:"destructive"});return}for(const Ge of oe.items);t({title:"Items Added",description:"Order items added to cart"}),e("/cart")}catch{t({title:"Reorder Failed",description:"Failed to add items to cart",variant:"destructive"})}},zt=({order:oe})=>{var ze,Ze,ut,it,Ge,dn,Ut,Ls,Zs,cs,Kn,aa;return n.jsxs(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow mb-4",onClick:()=>{xe(oe),ue(!0)},children:[n.jsx(ot,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs(lt,{className:"text-lg",children:["Order #",oe.order_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(oe.created_at).toLocaleDateString()})]}),n.jsx(Me,{className:`${be(oe.status)} px-3 py-1`,children:we(oe.status)})]})}),n.jsx(ke,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-800 mb-2",children:[(ze=oe.items)==null?void 0:ze.length," item",((Ze=oe.items)==null?void 0:Ze.length)!==1?"s":""]}),n.jsxs("div",{className:"flex gap-3 overflow-x-auto",children:[(ut=oe.items)==null?void 0:ut.slice(0,3).map(De=>{var pt,Nt,xn,qt;return n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("img",{src:is((xn=(Nt=(pt=De.product_details)==null?void 0:pt.images)==null?void 0:Nt[0])==null?void 0:xn.image_url),alt:De.product_name,className:"w-12 h-12 object-cover rounded-lg border"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:De.product_name}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:(qt=De.product_details)==null?void 0:qt.category})]})]},De.id)}),((it=oe.items)==null?void 0:it.length)>3&&n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center flex-shrink-0",children:n.jsxs("span",{className:"text-xs text-gray-600",children:["+",oe.items.length-3]})})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[n.jsx(Ss,{className:"h-4 w-4"}),n.jsx("button",{onClick:De=>{var Nt,xn,qt;De.stopPropagation();const pt=(qt=(xn=(Nt=oe.items)==null?void 0:Nt[0])==null?void 0:xn.product_details)==null?void 0:qt.vendor_id;pt&&e(`/vendor/${pt}`)},className:"text-blue-600 hover:underline text-xs font-medium truncate",children:((Ut=(dn=(Ge=oe.items)==null?void 0:Ge[0])==null?void 0:dn.product_details)==null?void 0:Ut.vendor_name)||"Vendor"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Bt,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:oe.delivery_address})]}),oe.status==="out_for_delivery"&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ql,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-medium text-blue-800",children:"Shipping Details"})]}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",oe.vehicle_number||"TBA"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Vehicle Color:"})," ",oe.vehicle_color||"N/A"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Driver Phone:"})," ",oe.delivery_boy_phone||"TBA"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"ETA:"})," ",oe.estimated_delivery_time||"TBA"]}),oe.delivery_fee>0&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Delivery Fee:"})," ",parseFloat(oe.delivery_fee).toFixed(2)]})]})]}),oe.status==="cancelled"&&oe.cancel_reason&&n.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(rs,{className:"h-4 w-4 text-red-600"}),n.jsx("span",{className:"font-medium text-red-800",children:"Cancellation Reason"})]}),n.jsx("p",{className:"text-sm text-red-700",children:oe.cancel_reason}),oe.refund_status&&n.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Refund:"})," ",oe.refund_status]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(oe.total_amount).toFixed(2)]}),n.jsxs("div",{className:"flex gap-2",children:[oe.status==="out_for_delivery"&&n.jsx(te,{variant:"outline",size:"sm",onClick:async De=>{De.stopPropagation();try{const pt=await Te.getToken(),{response:Nt}=await Fe(`/api/orders/${oe.id}/status/`,{method:"POST",body:JSON.stringify({status:"delivered",notes:"Marked as received by customer"})});Nt.ok&&r(xn=>xn.map(qt=>qt.id===oe.id?{...qt,status:"delivered",delivered_at:new Date().toISOString()}:qt))}catch(pt){console.error("Error marking as received:",pt)}},className:"text-green-600 border-green-200 hover:bg-green-50",children:"Received"}),(oe.status==="cancelled"||oe.status==="pending"||oe.status==="delivered")&&w[(cs=(Zs=(Ls=oe.items)==null?void 0:Ls[0])==null?void 0:Zs.product_details)==null?void 0:cs.vendor_name]&&n.jsx(te,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),Xe(oe)},className:"text-green-600 border-green-200 hover:bg-green-50",children:n.jsx(Qr,{className:"h-4 w-4"})}),oe.status==="pending"&&n.jsx(te,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),v(oe.id),p(!0)},className:"text-red-600 border-red-200 hover:bg-red-50",children:"Cancel"}),oe.status==="delivered"&&!((Kn=oe.refunds)!=null&&Kn.some(De=>["requested","approved","rejected","appeal","processed","completed"].includes(De.status)))&&(()=>{const De=new Date(oe.delivered_at);return(new Date-De)/(1e3*60*60)<=24})()&&n.jsx(te,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),H(oe),T(!0)},className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:"Return"}),oe.status==="delivered"&&!((aa=oe.refunds)!=null&&aa.some(De=>["requested","approved","rejected","appeal","processed","completed"].includes(De.status)))&&(()=>{const De=new Date(oe.delivered_at);return(new Date-De)/(1e3*60*60)>24})()&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Return window expired"}),oe.status==="delivered"&&!oe.review&&n.jsx(te,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),E(oe),C(0),A(""),R(!1),_(!0)},className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:n.jsx(vn,{className:"h-4 w-4"})}),oe.status==="delivered"&&oe.review&&n.jsx(te,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),E(oe),C(oe.review.overall_rating),A(oe.review.review_text||""),R(!0),_(!0)},className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"Edit Review"})]})]})]})})]},oe.id)};return i?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your orders..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Dt,{className:"h-6 w-6 text-gray-700"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Orders"}),n.jsx(jG,{})]})}),n.jsx("main",{className:"max-w-4xl mx-auto p-4 pt-2",children:s.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx(Ot,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No orders yet"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Start shopping to see your orders here"}),n.jsx(te,{onClick:()=>e("/"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Start Shopping"})]}):n.jsxs(ra,{value:o,onValueChange:c,className:"space-y-6",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(bi,{className:"flex w-max min-w-full gap-1",children:[n.jsxs(Mt,{value:"all",className:"flex-shrink-0 px-2",children:["All ",n.jsxs("span",{className:"font-bold",children:["(",s.length,")"]})]}),n.jsxs(Mt,{value:"pending",className:"flex-shrink-0 px-2",children:["Pending ",n.jsxs("span",{className:"font-bold",children:["(",ve("pending").length,")"]})]}),n.jsxs(Mt,{value:"confirmed",className:"flex-shrink-0 px-2",children:["Confirmed ",n.jsxs("span",{className:"font-bold",children:["(",ve("confirmed").concat(ve("preparing")).length,")"]})]}),n.jsxs(Mt,{value:"shipped",className:"flex-shrink-0 px-2",children:["Shipped ",n.jsxs("span",{className:"font-bold",children:["(",ve("out_for_delivery").length,")"]})]}),n.jsxs(Mt,{value:"delivered",className:"flex-shrink-0 px-2",children:["Delivered ",n.jsxs("span",{className:"font-bold",children:["(",ve("delivered").length,")"]})]}),n.jsxs(Mt,{value:"returns",className:"flex-shrink-0 px-2",children:["Returns ",n.jsxs("span",{className:"font-bold",children:["(",s.filter(oe=>{var ze;return((ze=oe.refunds)==null?void 0:ze.length)>0}).length,")"]})]}),n.jsxs(Mt,{value:"reviewed",className:"flex-shrink-0 px-2",children:["Reviewed ",n.jsxs("span",{className:"font-bold",children:["(",s.filter(oe=>oe.review).length,")"]})]}),n.jsxs(Mt,{value:"cancelled",className:"flex-shrink-0 px-2",children:["Cancelled ",n.jsxs("span",{className:"font-bold",children:["(",ve("cancelled").length,")"]})]})]})}),n.jsx(ft,{value:"all",className:"space-y-4",children:s.map(oe=>n.jsx(zt,{order:oe},oe.id))}),n.jsx(ft,{value:"pending",className:"space-y-4",children:ve("pending").map(oe=>n.jsx(zt,{order:oe},oe.id))}),n.jsx(ft,{value:"confirmed",className:"space-y-4",children:ve("confirmed").concat(ve("preparing")).map(oe=>n.jsx(zt,{order:oe},oe.id))}),n.jsx(ft,{value:"shipped",className:"space-y-4",children:ve("out_for_delivery").map(oe=>n.jsx(zt,{order:oe},oe.id))}),n.jsx(ft,{value:"delivered",className:"space-y-4",children:ve("delivered").map(oe=>n.jsxs("div",{children:[n.jsx(zt,{order:oe}),oe.status==="delivered"&&oe.delivered_at&&n.jsx("div",{className:"mt-2 px-4 py-2 bg-gray-50 rounded text-xs text-gray-600",children:(()=>{var Ge;const ze=new Date(oe.delivered_at),it=24-(new Date-ze)/(1e3*60*60);return(Ge=oe.refunds)!=null&&Ge.some(dn=>["requested","approved","rejected","appeal","processed","completed"].includes(dn.status))?"Return request already submitted":it>0?`Return available for ${Math.floor(it)} hours ${Math.floor(it%1*60)} minutes`:"Return window expired (24 hours after delivery)"})()})]},oe.id))}),n.jsx(ft,{value:"returns",className:"space-y-4",children:s.filter(oe=>{var ze;return((ze=oe.refunds)==null?void 0:ze.length)>0}).length>0?s.filter(oe=>{var ze;return((ze=oe.refunds)==null?void 0:ze.length)>0}).map(oe=>{var ze,Ze,ut,it;return n.jsx("div",{className:"bg-white rounded-lg border",children:n.jsxs("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>{xe(oe),ue(!0)},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("h3",{className:"font-semibold text-sm text-gray-900",children:["Order #",oe.order_number]})}),n.jsxs(Me,{className:"bg-orange-100 text-orange-800 flex items-center gap-1 text-xs px-2 py-1",children:[n.jsx(Qr,{className:"h-3 w-3"}),"Return Request"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Ss,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:((ut=(Ze=(ze=oe.items)==null?void 0:ze[0])==null?void 0:Ze.product_details)==null?void 0:ut.vendor_name)||"Vendor"})]}),(it=oe.refunds)==null?void 0:it.map(Ge=>{var dn;return n.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Return Reason:"}),n.jsx(Me,{className:`text-xs ${Ge.status==="requested"?"bg-yellow-100 text-yellow-800":Ge.status==="approved"?"bg-green-100 text-green-800":Ge.status==="rejected"?"bg-red-100 text-red-800":Ge.status==="appeal"?"bg-purple-100 text-purple-800":Ge.status==="processed"?"bg-blue-100 text-blue-800":Ge.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:Ge.status.charAt(0).toUpperCase()+Ge.status.slice(1)})]}),n.jsx("p",{className:"text-xs text-gray-700 capitalize",children:Ge.reason.replace("_"," ")}),Ge.customer_notes&&n.jsxs("p",{className:"text-xs text-gray-600",children:['"',Ge.customer_notes,'"']}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",Ge.requested_amount]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Method:"})," ",Ge.refund_method]}),((dn=Ge.evidence_photos)==null?void 0:dn.length)>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs font-medium mb-1",children:"Evidence Documents:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Ge.evidence_photos.map((Ut,Ls)=>{var Kn;const Zs=(Kn=Ut.filename)==null?void 0:Kn.match(/\.(jpg|jpeg|png|gif|webp)$/i);let cs;return Ut.filename.startsWith("http")?cs=Ut.filename:Ut.filename.startsWith("/media/")?cs=`${As.BASE_URL}${Ut.filename}`:cs=`${As.BASE_URL}/media/${Ut.filename}`,n.jsxs("div",{className:"bg-blue-100 p-2 rounded text-xs cursor-pointer hover:bg-blue-200 transition-colors flex items-center gap-1",onClick:aa=>{aa.stopPropagation(),Zs?(re(cs),fe(!0)):window.open(cs,"_blank")},children:[Zs?n.jsx(An,{className:"h-3 w-3 text-blue-600"}):n.jsx(Ot,{className:"h-3 w-3 text-blue-600"}),n.jsx("span",{className:"text-blue-800",children:Ut.filename||`Document ${Ls+1}`})]},Ls)})})]}),Ge.status==="completed"&&n.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded p-2 mt-2",children:n.jsx("p",{className:"text-xs text-emerald-800 font-medium",children:" Refund Completed"})}),Ge.status==="processed"&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 mt-2",children:n.jsx("p",{className:"text-xs text-blue-800 font-medium",children:" Money Transferred"})}),Ge.admin_notes&&n.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Response:"})," ",Ge.admin_notes]}),Ge.status==="rejected"&&n.jsx(te,{size:"sm",variant:"outline",className:"w-full mt-2",onClick:async Ut=>{Ut.stopPropagation();try{const Ls=await Te.getToken(),{response:Zs}=await Fe(`/api/refunds/${Ge.id}/appeal/`,{method:"POST",body:JSON.stringify({customer_notes:"Appealing the rejection decision"})});Zs.ok&&(t({title:"Appeal Submitted",description:"Your appeal has been submitted for review."}),ie())}catch{t({title:"Error",description:"Failed to submit appeal.",variant:"destructive"})}},children:"Appeal Decision"})]},Ge.id)}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(oe.total_amount).toFixed(2)]}),n.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:Ge=>{Ge.stopPropagation(),xe(oe),ue(!0)},children:[n.jsx(An,{className:"h-3 w-3 mr-1"}),"View Details"]})]})]})]})},oe.id)}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(Qr,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No returns yet"}),n.jsx("p",{className:"text-gray-500",children:"Your return requests will appear here"})]})}),n.jsx(ft,{value:"reviewed",className:"space-y-4",children:s.filter(oe=>oe.review).length>0?s.filter(oe=>oe.review).map(oe=>{var ze;return n.jsx(Ne,{className:"mb-4",children:n.jsxs(ke,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",oe.order_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(oe.created_at).toLocaleDateString()})]}),n.jsx(Me,{className:"bg-green-100 text-green-800 px-3 py-1",children:"Reviewed"})]}),n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"flex gap-3 overflow-x-auto",children:(ze=oe.items)==null?void 0:ze.slice(0,3).map(Ze=>{var ut,it,Ge,dn;return n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("img",{src:((Ge=(it=(ut=Ze.product_details)==null?void 0:ut.images)==null?void 0:it[0])==null?void 0:Ge.image_url)||"/placeholder-product.jpg",alt:Ze.product_name,className:"w-12 h-12 object-cover rounded-lg border"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:Ze.product_name}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:(dn=Ze.product_details)==null?void 0:dn.category})]})]},Ze.id)})})}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Your Review"}),n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(Ze=>n.jsx(vn,{className:`h-4 w-4 ${Ze<=oe.review.overall_rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},Ze))})]}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>{E(oe),C(oe.review.overall_rating),A(oe.review.review_text||""),R(!0),_(!0)},className:"h-7 text-xs",children:"Edit"})]}),oe.review.review_text&&n.jsx("p",{className:"text-sm text-gray-700",children:oe.review.review_text}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Reviewed on ",new Date(oe.review.created_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t mt-3",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(oe.total_amount).toFixed(2)]}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>{xe(oe),ue(!0)},className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"View Details"})]})]})},oe.id)}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(vn,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reviews yet"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Complete your orders and share your experience"})]})}),n.jsx(ft,{value:"cancelled",className:"space-y-4",children:ve("cancelled").map(oe=>n.jsx(zt,{order:oe},oe.id))})]})}),n.jsx(Os,{}),n.jsx(Fo,{open:u,onOpenChange:p,children:n.jsxs(Da,{className:"sm:max-w-md",children:[n.jsx(Fa,{children:n.jsx($a,{children:"Cancel Order"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"reason",children:"Reason for Cancellation *"}),n.jsxs(rn,{value:d,onValueChange:h,children:[n.jsx(Qt,{children:n.jsx(an,{placeholder:"Select a reason"})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"changed_mind",children:"Changed my mind"}),n.jsx(qe,{value:"found_better_price",children:"Found better price elsewhere"}),n.jsx(qe,{value:"delivery_too_long",children:"Delivery time too long"}),n.jsx(qe,{value:"ordered_by_mistake",children:"Ordered by mistake"}),n.jsx(qe,{value:"payment_issues",children:"Payment issues"}),n.jsx(qe,{value:"other",children:"Other reason"})]})]})]}),d==="other"&&n.jsxs("div",{children:[n.jsx(de,{htmlFor:"custom_reason",children:"Please specify"}),n.jsx(Wn,{id:"custom_reason",placeholder:"Enter your reason...",value:d,onChange:oe=>h(oe.target.value)})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"refund",children:"Refund Option *"}),n.jsxs(rn,{value:f,onValueChange:m,children:[n.jsx(Qt,{children:n.jsx(an,{placeholder:"Select refund method"})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"original_payment",children:"Refund to original payment method"}),n.jsx(qe,{value:"wallet",children:"Refund to wallet"}),n.jsx(qe,{value:"bank_transfer",children:"Bank transfer"})]})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(te,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Keep Order"}),n.jsx(te,{onClick:Ae,className:"flex-1 bg-red-600 hover:bg-red-700",disabled:!d||!f,children:"Cancel Order"})]})]})]})}),n.jsx(Fo,{open:y,onOpenChange:_,children:n.jsxs(Da,{className:"sm:max-w-md",children:[n.jsx(Fa,{children:n.jsx($a,{children:k?"Edit Review":"Rate & Review Order"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Rating *"}),n.jsx("div",{className:"flex gap-1 mt-2",children:[1,2,3,4,5].map(oe=>n.jsx("button",{onClick:()=>C(oe),className:`text-2xl ${oe<=I?"text-yellow-400":"text-gray-300"}`,children:""},oe))})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"review",children:"Review (Optional)"}),n.jsx(Wn,{id:"review",placeholder:"Share your experience...",value:O,onChange:oe=>A(oe.target.value),rows:3})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(te,{variant:"outline",onClick:()=>{_(!1),C(0),A(""),R(!1)},className:"flex-1",children:"Cancel"}),n.jsx(te,{onClick:async()=>{if(I)try{const oe=await Te.getToken(),ze="POST",{response:Ze,data:ut}=await Fe(`/api/orders/${N.id}/review/`,{method:ze,body:JSON.stringify({overall_rating:I,review_text:O})});Ze.ok&&ut&&(r(it=>it.map(Ge=>Ge.id===N.id?{...Ge,review:ut.review}:Ge)),_(!1),C(0),A(""),R(!1),t({title:k?"Review Updated":"Review Submitted",description:"Thank you for your feedback!"}))}catch(oe){console.error("Error submitting review:",oe),t({title:"Error",description:"Failed to submit review. Please try again.",variant:"destructive"})}},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:!I,children:k?"Update Review":"Submit Review"})]})]})]})}),n.jsx(zi,{open:P,onOpenChange:T,children:n.jsxs(ui,{side:"bottom",className:"h-[80vh] rounded-t-xl",children:[n.jsx(hi,{className:"pb-4",children:n.jsxs(fi,{className:"text-left flex items-center gap-2",children:[n.jsx(Qr,{className:"h-5 w-5"}),"Return Order #",M==null?void 0:M.order_number]})}),n.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Return Reason *"}),n.jsxs(rn,{value:W,onValueChange:Z,children:[n.jsx(Qt,{children:n.jsx(an,{placeholder:"Select reason for return"})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"defective_product",children:"Defective/Damaged Product"}),n.jsx(qe,{value:"wrong_item",children:"Wrong Item Delivered"}),n.jsx(qe,{value:"quality_issue",children:"Quality Issue"}),n.jsx(qe,{value:"not_as_described",children:"Not as Described"}),n.jsx(qe,{value:"expired_product",children:"Expired Product"}),n.jsx(qe,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Additional Notes"}),n.jsx(Wn,{placeholder:"Describe the issue in detail...",value:B,onChange:oe=>q(oe.target.value),rows:3})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Evidence Photos/Documents *"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Please provide evidence to support your return request"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[n.jsx(gu,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Upload photos or documents as proof"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:oe=>ye(Array.from(oe.target.files)),className:"hidden",id:"evidence-upload"}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>document.getElementById("evidence-upload").click(),className:"mt-2",children:"Choose Files"})]}),ee.length>0&&n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[ee.length," file(s) selected:"]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:ee.map((oe,ze)=>n.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs flex items-center justify-between",children:[n.jsx("span",{className:"truncate",children:oe.name}),n.jsx("button",{onClick:()=>ye(Ze=>Ze.filter((ut,it)=>it!==ze)),className:"text-red-500 hover:text-red-700 ml-2",children:""})]},ze))})]})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Refund Method *"}),n.jsxs(rn,{value:F,onValueChange:$,children:[n.jsx(Qt,{children:n.jsx(an,{placeholder:"Select refund method"})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"esewa",children:"eSewa"}),n.jsx(qe,{value:"khalti",children:"Khalti"}),n.jsx(qe,{value:"bank",children:"Bank Transfer"})]})]})]}),F==="esewa"&&n.jsxs("div",{children:[n.jsx(de,{children:"eSewa Number *"}),n.jsx(me,{placeholder:"98XXXXXXXX",value:z,onChange:oe=>G(oe.target.value)})]}),F==="khalti"&&n.jsxs("div",{children:[n.jsx(de,{children:"Khalti Number *"}),n.jsx(me,{placeholder:"98XXXXXXXX",value:X,onChange:oe=>J(oe.target.value)})]}),F==="bank"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Account Holder Name *"}),n.jsx(me,{placeholder:"Full name as per bank account",value:K,onChange:oe=>U(oe.target.value)})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Account Number *"}),n.jsx(me,{placeholder:"Bank account number",value:ne,onChange:oe=>se(oe.target.value)})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Bank Branch *"}),n.jsx(me,{placeholder:"Branch name",value:le,onChange:oe=>pe(oe.target.value)})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Yf,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),n.jsxs("div",{className:"text-sm text-yellow-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Return Policy"}),n.jsxs("ul",{className:"text-xs space-y-1",children:[n.jsx("li",{children:" Returns are processed within 3-5 business days"}),n.jsx("li",{children:" Refund will be processed after vendor approval"}),n.jsx("li",{children:" You can appeal if your return is rejected"})]})]})]})})]}),n.jsxs("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:[n.jsx(te,{variant:"outline",className:"flex-1",onClick:()=>{T(!1),Z(""),q(""),$(""),G(""),J(""),U(""),se(""),pe(""),ye([])},children:"Cancel"}),n.jsx(te,{className:"flex-1 bg-orange-600 hover:bg-orange-700",disabled:!W||!F||ee.length===0||F==="esewa"&&!z||F==="khalti"&&!X||F==="bank"&&(!K||!ne||!le),onClick:async()=>{try{const oe=await Te.getToken(),ze=new FormData;ze.append("reason",W),ze.append("customer_notes",B),ze.append("refund_method",F),ze.append("requested_amount",M.total_amount),F==="esewa"&&ze.append("esewa_number",z),F==="khalti"&&ze.append("khalti_number",X),F==="bank"&&(ze.append("bank_account_name",K),ze.append("bank_account_number",ne),ze.append("bank_branch",le)),ee.forEach((ut,it)=>{ze.append(`evidence_${it}`,ut)}),(await fetch(`${As.BASE_URL}/api/orders/${M.id}/return/`,{method:"POST",headers:{Authorization:`Token ${oe}`,"ngrok-skip-browser-warning":"true","x-ngrok-skip-browser-warning":"true"},body:ze})).ok&&(t({title:"Return Requested",description:"Your return request has been submitted successfully."}),T(!1),ie())}catch{t({title:"Error",description:"Failed to submit return request.",variant:"destructive"})}},children:"Submit Return Request"})]})]})}),n.jsx(zi,{open:Ce,onOpenChange:ue,children:n.jsxs(ui,{side:"bottom",className:"h-[90vh] rounded-t-xl",children:[n.jsx(hi,{className:"pb-4",children:n.jsxs(fi,{className:"text-left",children:["Order Details - #",je==null?void 0:je.order_number]})}),je&&n.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Order Items"}),n.jsx("div",{className:"space-y-2",children:((_t=je.items)==null?void 0:_t.map((oe,ze)=>{var Ze,ut,it;return n.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-100 last:border-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:((it=(ut=(Ze=oe.product_details)==null?void 0:Ze.images)==null?void 0:ut[0])==null?void 0:it.image_url)||"/placeholder-product.jpg",alt:oe.product_name,className:"w-8 h-8 object-cover rounded"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:oe.product_name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",oe.quantity]})]})]}),n.jsxs("p",{className:"text-sm font-semibold",children:["",oe.total_price]})]},ze)}))||[]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Delivery Information"}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Address:"})," ",je.delivery_address]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",je.delivery_phone]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",je.delivery_name]})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Payment Details"}),n.jsxs("div",{className:"bg-emerald-50 p-3 rounded-lg border border-emerald-200 mb-3",children:[n.jsxs("h4",{className:"font-semibold text-emerald-800 text-sm mb-2",children:["Bill Amount (Paid via ",je.payment_method,")"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",je.subtotal]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tax:"}),n.jsxs("span",{children:["",je.tax_amount]})]}),n.jsx("hr",{className:"my-1"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Bill Total (Paid):"}),n.jsxs("span",{className:"text-emerald-600",children:["",(parseFloat(je.subtotal)+parseFloat(je.tax_amount)).toFixed(2)]})]})]})]}),n.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200 mb-3",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-orange-800 text-base",children:"Delivery Fee"}),n.jsx("p",{className:"text-xs text-orange-700",children:je.status==="delivered"?"Paid on delivery":"Pay on delivery"})]}),n.jsxs("span",{className:"font-bold text-lg text-orange-600",children:["",parseFloat(je.delivery_fee).toFixed(2)]})]})}),n.jsx("hr",{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-semibold text-sm",children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{children:["",je.total_amount]})]}),n.jsxs("div",{className:"mt-3 pt-2 border-t space-y-1 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Payment Method:"}),n.jsx("span",{className:"capitalize",children:je.payment_method})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Payment Status:"}),n.jsx(Me,{variant:je.payment_status==="paid"?"default":"secondary",className:"text-xs",children:je.payment_status})]})]})]}),((Vt=je.refunds)==null?void 0:Vt.map(oe=>{var ze;return n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(Qr,{className:"h-4 w-4"}),"Return/Refund Details"]}),n.jsxs("div",{className:"space-y-3 text-xs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),n.jsx(Me,{className:`text-xs ${oe.status==="requested"?"bg-yellow-100 text-yellow-800":oe.status==="approved"?"bg-green-100 text-green-800":oe.status==="rejected"?"bg-red-100 text-red-800":oe.status==="appeal"?"bg-purple-100 text-purple-800":oe.status==="processed"?"bg-blue-100 text-blue-800":oe.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:oe.status.charAt(0).toUpperCase()+oe.status.slice(1)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),n.jsx("p",{className:"text-gray-600 capitalize",children:oe.reason.replace("_"," ")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Requested Amount:"}),n.jsxs("p",{className:"text-gray-600",children:["",oe.requested_amount]})]}),oe.approved_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Approved Amount:"}),n.jsxs("p",{className:"text-gray-600",children:["",oe.approved_amount]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[n.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Your Refund Details:"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Method:"})," ",oe.refund_method]}),oe.refund_method==="esewa"&&oe.esewa_number&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"eSewa Number:"})," ",oe.esewa_number]}),oe.refund_method==="khalti"&&oe.khalti_number&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Khalti Number:"})," ",oe.khalti_number]}),oe.refund_method==="bank"&&n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Account Name:"})," ",oe.bank_account_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",oe.bank_account_number]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Branch:"})," ",oe.bank_branch]})]})]})]}),oe.customer_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Your Notes:"}),n.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:oe.customer_notes})]}),oe.admin_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Vendor Response:"}),n.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:oe.admin_notes})]}),((ze=oe.evidence_photos)==null?void 0:ze.length)>0&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Evidence Documents:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:oe.evidence_photos.map((Ze,ut)=>{var dn;const it=(dn=Ze.filename)==null?void 0:dn.match(/\.(jpg|jpeg|png|gif|webp)$/i);let Ge;return Ze.filename.startsWith("http")?Ge=Ze.filename:Ge=is(Ze.filename),n.jsxs("div",{className:"bg-white p-2 rounded border hover:shadow-md transition-shadow",children:[it?n.jsxs("div",{className:"cursor-pointer mb-2 group",onClick:()=>{re(Ge),fe(!0)},children:[n.jsxs("div",{className:"relative overflow-hidden rounded",children:[n.jsx("img",{src:Ge,alt:Ze.filename,className:"w-full h-20 object-cover rounded mb-1 group-hover:scale-105 transition-transform",onError:Ut=>{Ut.currentTarget.src="/placeholder-image.svg",Ut.currentTarget.alt="Image not found"}}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:n.jsx(An,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),n.jsx("p",{className:"text-xs text-blue-600 font-medium",children:" Click to enlarge"})]}):n.jsx("div",{className:"w-full h-20 bg-gray-100 rounded mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>{window.open(Ge,"_blank")},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"h-6 w-6 text-gray-400 mx-auto mb-1"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Document"})]})}),n.jsx("p",{className:"font-medium text-xs truncate",title:Ze.filename,children:Ze.filename||`Document ${ut+1}`}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",Ze.uploaded_by]}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date(Ze.uploaded_at).toLocaleDateString()]})]},ut)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 border-t pt-2",children:[n.jsx("div",{children:n.jsxs("p",{children:["Requested: ",new Date(oe.requested_at).toLocaleDateString()]})}),oe.approved_at&&n.jsx("div",{children:n.jsxs("p",{children:["Approved: ",new Date(oe.approved_at).toLocaleDateString()]})}),oe.processed_at&&n.jsx("div",{children:n.jsxs("p",{children:["Processed: ",new Date(oe.processed_at).toLocaleDateString()]})}),oe.completed_at&&n.jsx("div",{children:n.jsxs("p",{children:["Completed: ",new Date(oe.completed_at).toLocaleDateString()]})}),oe.appeal_at&&n.jsx("div",{children:n.jsxs("p",{children:["Appealed: ",new Date(oe.appeal_at).toLocaleDateString()]})})]})]})]},oe.id)}))||[]]})]})}),n.jsx(Fo,{open:ce,onOpenChange:fe,children:n.jsxs(Da,{className:"max-w-5xl max-h-[95vh] p-4",children:[n.jsx(Fa,{className:"pb-4",children:n.jsxs($a,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"h-5 w-5"}),"Evidence Document Preview"]})}),n.jsx("div",{className:"flex justify-center items-center bg-gray-50 rounded-lg p-4",children:n.jsx("img",{src:Q,alt:"Evidence Preview",className:"max-w-full max-h-[75vh] object-contain rounded shadow-lg",onError:oe=>{oe.currentTarget.src="/placeholder-image.svg",oe.currentTarget.alt="Image not found"}})}),n.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>window.open(Q,"_blank"),children:[n.jsx(Gf,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{const oe=document.createElement("a");oe.href=Q,oe.download="evidence-document",oe.click()},children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})}const NG=[{id:1,type:"home",label:"Home",name:"John Doe",phone:"+977 9841234567",address:"123 Thamel Street, Thamel",city:"Kathmandu",landmark:"Near Durbar Square",isDefault:!0},{id:2,type:"work",label:"Office",name:"John Doe",phone:"+977 9841234567",address:"456 Lazimpat Road, Lazimpat",city:"Kathmandu",landmark:"Opposite British Embassy",isDefault:!1}],SG=e=>{switch(e){case"home":return n.jsx(nb,{className:"h-5 w-5"});case"work":return n.jsx(xD,{className:"h-5 w-5"});case"other":return n.jsx(dr,{className:"h-5 w-5"});default:return n.jsx(Bt,{className:"h-5 w-5"})}};function kG(){const e=nt(),[t,s]=j.useState(NG),r=()=>{console.log("Add new address")},i=c=>{console.log("Edit address",c)},a=c=>{s(t.filter(d=>d.id!==c))},o=c=>{s(t.map(d=>({...d,isDefault:d.id===c})))};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"My Addresses"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:n.jsx(gn,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[t.length>0?t.map(c=>n.jsxs(Ne,{className:"hover:shadow-md transition-shadow",children:[n.jsx(ot,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:SG(c.type)}),n.jsx("div",{children:n.jsxs(lt,{className:"text-base flex items-center gap-2",children:[c.label,c.isDefault&&n.jsx(Me,{variant:"secondary",className:"text-xs",children:"Default"})]})})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>i(c.id),className:"p-2",children:n.jsx(Hu,{className:"h-4 w-4"})}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>a(c.id),className:"p-2 text-red-600 hover:text-red-700",children:n.jsx(Ua,{className:"h-4 w-4"})})]})]})}),n.jsxs(ke,{className:"space-y-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:c.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c.phone}),n.jsx("p",{className:"text-sm",children:c.address}),n.jsx("p",{className:"text-sm",children:c.city}),c.landmark&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Landmark: ",c.landmark]})]}),!c.isDefault&&n.jsx(te,{variant:"outline",size:"sm",onClick:()=>o(c.id),className:"w-full mt-3",children:"Set as Default"})]})]},c.id)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bt,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No addresses found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your delivery addresses to make ordering faster"}),n.jsxs(te,{onClick:r,children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Add New Address"]})]}),t.length>0&&n.jsx(Ne,{className:"border-dashed border-2 hover:border-primary/50 transition-colors",children:n.jsx(ke,{className:"p-6 text-center",children:n.jsxs(te,{variant:"ghost",onClick:r,className:"w-full h-16 flex flex-col items-center gap-2",children:[n.jsx(gn,{className:"h-6 w-6"}),n.jsx("span",{children:"Add New Address"})]})})})]}),n.jsx(Os,{})]})}const CG=[{id:1,type:"card",last4:"4242",brand:"Visa",expiryMonth:12,expiryYear:2026,isDefault:!0,cardholderName:"John Doe"},{id:2,type:"card",last4:"8888",brand:"Mastercard",expiryMonth:8,expiryYear:2025,isDefault:!1,cardholderName:"John Doe"}],EG=e=>n.jsx(ta,{className:"h-5 w-5"}),PG=e=>`   ${e}`;function TG(){const e=nt(),[t,s]=j.useState(CG),r=()=>{console.log("Add new payment method")},i=c=>{console.log("Edit payment method",c)},a=c=>{s(t.filter(d=>d.id!==c))},o=c=>{s(t.map(d=>({...d,isDefault:d.id===c})))};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"Payment Methods"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:n.jsx(gn,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[t.length>0?t.map(c=>n.jsxs(Ne,{className:"hover:shadow-md transition-shadow",children:[n.jsx(ot,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:EG(c.brand)}),n.jsxs("div",{children:[n.jsxs(lt,{className:"text-base flex items-center gap-2",children:[c.brand," ",PG(c.last4),c.isDefault&&n.jsx(Me,{variant:"secondary",className:"text-xs",children:"Default"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires ",String(c.expiryMonth).padStart(2,"0"),"/",c.expiryYear]})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>i(c.id),className:"p-2",children:n.jsx(Hu,{className:"h-4 w-4"})}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>a(c.id),className:"p-2 text-red-600 hover:text-red-700",children:n.jsx(Ua,{className:"h-4 w-4"})})]})]})}),n.jsxs(ke,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(gi,{className:"h-4 w-4"}),n.jsx("span",{children:"Secured with 256-bit SSL encryption"})]}),!c.isDefault&&n.jsx(te,{variant:"outline",size:"sm",onClick:()=>o(c.id),className:"w-full",children:"Set as Default"})]})]},c.id)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ta,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No payment methods"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a payment method to make checkout faster"}),n.jsxs(te,{onClick:r,children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})]}),t.length>0&&n.jsx(Ne,{className:"border-dashed border-2 hover:border-primary/50 transition-colors",children:n.jsx(ke,{className:"p-6 text-center",children:n.jsxs(te,{variant:"ghost",onClick:r,className:"w-full h-16 flex flex-col items-center gap-2",children:[n.jsx(gn,{className:"h-6 w-6"}),n.jsx("span",{children:"Add New Payment Method"})]})})}),n.jsx(Ne,{className:"bg-green-50 border-green-200",children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gi,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-800 text-sm",children:"Secure Payments"}),n.jsx("p",{className:"text-green-700 text-xs",children:"All payment information is encrypted and secure"})]})]})})})]}),n.jsx(Os,{})]})}const AG=[{id:"orders",title:"Orders & Delivery",icon:ir,description:"Track orders, delivery issues, cancellations",articles:["How to track my order?","Delivery time and charges","Cancel or modify order","Refund policy"]},{id:"payment",title:"Payment & Billing",icon:vn,description:"Payment methods, billing, refunds",articles:["Payment methods accepted","Failed payment issues","Refund process","Billing disputes"]},{id:"account",title:"Account & Profile",icon:bD,description:"Account settings, profile management",articles:["Update profile information","Change password","Manage addresses","Privacy settings"]},{id:"technical",title:"Technical Support",icon:Wu,description:"App issues, login problems, bugs",articles:["App not working","Login issues","Payment errors","Report a bug"]}],OG=[{icon:Ul,title:"Live Chat",description:"Chat with our support team",action:"Start Chat",available:!0},{icon:Wu,title:"Phone Support",description:"Call us for immediate help",action:"Call Now",available:!0},{icon:kD,title:"Email Support",description:"Send us an email",action:"Send Email",available:!0}];function LG(){const e=nt(),[t,s]=j.useState(""),r=a=>{switch(a){case"Start Chat":console.log("Starting live chat");break;case"Call Now":window.open("tel:+977-1-234567");break;case"Send Email":window.open("mailto:support@kathsnap.com");break}},i=AG.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())||a.articles.some(o=>o.toLowerCase().includes(t.toLowerCase())));return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"Help & Support"}),n.jsx("div",{className:"w-10"})," "]})}),n.jsx("div",{className:"p-4 bg-white border-b",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search help articles...",value:t,onChange:a=>s(a.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[i.map(a=>{const o=a.icon;return n.jsxs(Ne,{className:"hover:shadow-md transition-shadow",children:[n.jsx(ot,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:n.jsx(o,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(lt,{className:"text-base",children:a.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]}),n.jsx(hc,{className:"h-5 w-5 text-muted-foreground"})]})}),n.jsx(ke,{children:n.jsxs("div",{className:"space-y-2",children:[a.articles.slice(0,2).map((c,d)=>n.jsxs("div",{className:"text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[" ",c]},d)),a.articles.length>2&&n.jsxs("div",{className:"text-sm text-primary font-medium cursor-pointer",children:["View all ",a.articles.length," articles"]})]})})]},a.id)}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{className:"text-base",children:"Contact Support"})}),n.jsx(ke,{className:"space-y-3",children:OG.map((a,o)=>{const c=a.icon;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>r(a.action),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:n.jsx(c,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:a.title}),n.jsx("div",{className:"text-xs text-muted-foreground",children:a.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[a.available&&n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx(hc,{className:"h-4 w-4 text-muted-foreground"})]})]},o)})})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{className:"text-base",children:"Frequently Asked Questions"})}),n.jsxs(ke,{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium text-sm",children:"How do I track my order?"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Go to My Orders in your profile and click on any order to see its current status and tracking information."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium text-sm",children:"What are the delivery charges?"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Free delivery for orders above 500. For orders below 500, a delivery fee of 40 applies."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium text-sm",children:"How do I cancel an order?"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"You can cancel an order within 30 minutes of placement. Go to My Orders and select the cancel option."})]})]})]}),n.jsx(Ne,{className:"bg-primary/5 border-primary/20",children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ir,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-primary text-sm",children:"Support Hours"}),n.jsx("p",{className:"text-primary/80 text-xs",children:"Monday - Sunday: 6:00 AM - 10:00 PM"})]})]})})})]}),n.jsx(Os,{})]})}const _S=()=>{var Z,B,q,F;const e=nt(),[t]=_b(),s=t.get("vendor"),[r,i]=j.useState(null),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(""),[m,u]=j.useState(!0),[p,x]=j.useState(1),[v,w]=j.useState(!1),[b,y]=j.useState(!1),[_,N]=j.useState(null),[E,I]=j.useState(0),C=j.useRef(null),O=j.useRef(null);j.useEffect(()=>{A(),k(),Gt.initialize(),s&&H(parseInt(s));const $=z=>{if(z.key==="newMessage"&&z.newValue){const G=JSON.parse(z.newValue);G.sender!==(_==null?void 0:_.username)&&Gt.notifyNewMessage(G.sender,G.content,G.conversationId.toString(),"customer")}};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[s,_]);const A=async()=>{try{if(!await Te.getToken())return;const{response:z,data:G}=await Fe("/profile/");z.ok&&G&&N(G)}catch($){console.error("Failed to fetch current user:",$)}};j.useEffect(()=>{r&&P(r.id)},[r]),j.useEffect(()=>{if(r){const $=setInterval(async()=>{const z=await Bs.getMessages(r.id);let G=[];if(Array.isArray(z)?G=z.reverse():z!=null&&z.results&&Array.isArray(z.results)&&(G=z.results.reverse()),G.length>E){const X=G.slice(E);for(const J of X)J.sender.id!==(_==null?void 0:_.id)&&await Gt.notifyNewMessage(J.sender.username,J.content||"Sent a file",r.id.toString(),"customer")}d(G),I(G.length)},3e3);return()=>clearInterval($)}},[r,E,_]);const k=async($=1,z=!1)=>{try{const{response:G,data:X}=await Fe(`/api/messaging/conversations/?page=${$}&page_size=20`);if(!G.ok)throw new Error("Failed to fetch conversations");let J=(X==null?void 0:X.results)||[];$===1&&(J.some(U=>{var ne,se;return((ne=U.other_participant)==null?void 0:ne.username)==="admin"||((se=U.other_participant)==null?void 0:se.id)===1})||(J=[{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}},...J])),o(z?K=>[...K,...J]:J),w(!!(X!=null&&X.next)),x($)}catch(G){console.error("Failed to load conversations:",G),$===1&&o([{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}}])}finally{u(!1),y(!1)}},R=async()=>{b||!v||(y(!0),await k(p+1,!0))},P=async $=>{try{const z=await Bs.getMessages($);let G=[];Array.isArray(z)?G=z.reverse():z!=null&&z.results&&Array.isArray(z.results)&&(G=z.results.reverse()),d(G),I(G.length)}catch(z){console.error("Failed to load messages:",z),d([]),I(0)}},T=async()=>{if(!(!h.trim()||!r))try{const $=await Bs.sendMessage({conversation_id:r.id,message_type:"text",content:h});d(G=>[...G,$.message]);const z={conversationId:r.id,sender:(_==null?void 0:_.username)||"Unknown",content:h,timestamp:new Date().toISOString()};localStorage.setItem("newMessage",JSON.stringify(z)),setTimeout(()=>localStorage.removeItem("newMessage"),100);try{await fetch("http://localhost:8000/api/broadcast/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:(_==null?void 0:_.username)||"Unknown",content:h,conversation_id:r.id})})}catch(G){console.log("Cross-domain broadcast failed:",G)}f("")}catch($){console.error("Failed to send message:",$)}},M=async $=>{var G;const z=(G=$.target.files)==null?void 0:G[0];if(!(!z||!r))try{const X=await Bs.sendMessage({conversation_id:r.id,message_type:z.type.startsWith("image/")?"image":"file",file:z});d(J=>[...J,X.message])}catch(X){console.error("Failed to send file:",X)}},H=async $=>{try{const z=await Bs.getOrCreateConversation($);i(z)}catch(z){console.error("Failed to create conversation:",z)}},W=()=>{var $;($=C.current)==null||$.scrollIntoView({behavior:"smooth"})};return j.useEffect(()=>{W()},[c]),m?n.jsx("div",{className:"h-screen bg-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),n.jsx("p",{children:"Loading conversations..."})]})}):r?n.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[n.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>i(null),children:n.jsx(Dt,{className:"h-4 w-4"})}),n.jsxs(Gi,{className:"h-10 w-10",children:[n.jsx(Ki,{src:is((Z=r.other_participant)==null?void 0:Z.profile_picture)}),n.jsx(Yi,{children:(q=(B=r.other_participant)==null?void 0:B.username)==null?void 0:q.charAt(0)})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-sm",children:(F=r.other_participant)==null?void 0:F.username}),n.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map($=>{const z=_&&$.sender.id===_.id;return n.jsx("div",{className:`w-full flex ${z?"justify-end":"justify-start"} mb-2`,children:n.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow ${z?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[$.message_type==="text"&&n.jsx("p",{className:"text-sm",children:$.content}),$.message_type==="image"&&n.jsx("div",{className:"space-y-2",children:n.jsx("img",{src:is($.file_url),alt:"Shared image",className:"rounded max-w-full h-auto"})}),$.message_type==="file"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ax,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:$.file_name})]}),n.jsxs("div",{className:"flex items-center justify-end mt-1 gap-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:new Date($.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),z&&n.jsx("span",{className:`text-xs ${$.is_read?"text-blue-500":"text-gray-400"}`,children:$.is_read?"":""})]})]})},$.id)}),n.jsx("div",{ref:C})]}),n.jsxs("div",{className:"bg-white border-t p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{var $;return($=O.current)==null?void 0:$.click()},children:n.jsx(Ax,{className:"h-4 w-4"})}),n.jsx(me,{value:h,onChange:$=>f($.target.value),placeholder:"Type a message...",className:"flex-1",onKeyPress:$=>$.key==="Enter"&&T()}),n.jsx(te,{onClick:T,disabled:!h.trim(),children:n.jsx(_E,{className:"h-4 w-4"})})]}),n.jsx("input",{ref:O,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:M,className:"hidden"})]})]}):n.jsxs("div",{className:"h-screen bg-white flex flex-col",children:[n.jsx("div",{className:"border-b p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/home"),children:n.jsx(Dt,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-lg font-semibold",children:"Messages"})]})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(rb,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No conversations yet"}),n.jsx("p",{className:"text-sm",children:"Start messaging with vendors!"})]}):a.map(($,z)=>{var G,X,J,K,U,ne;return n.jsxs("div",{className:"flex items-center gap-3 p-4 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{$.id===0?H(1):i($)},children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Gi,{className:"h-12 w-12",children:[n.jsx(Ki,{src:is((G=$.other_participant)==null?void 0:G.profile_picture)}),n.jsx(Yi,{children:(J=(X=$.other_participant)==null?void 0:X.username)==null?void 0:J.charAt(0)})]}),n.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-sm truncate",children:(K=$.other_participant)==null?void 0:K.username}),n.jsx("span",{className:"text-xs text-gray-500",children:$.last_message?new Date($.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:((U=$.last_message)==null?void 0:U.content)||((ne=$.last_message)==null?void 0:ne.file_name)||"Start conversation"})]}),$.unread_count>0&&n.jsx(Me,{className:"bg-blue-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center",children:$.unread_count})]},$.id)}),v&&n.jsx("div",{className:"p-4 text-center",children:n.jsx(te,{onClick:R,disabled:b,variant:"outline",className:"w-full",children:b?"Loading...":"Load More Conversations"})})]})]})},Ey=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3},RG=()=>{const e=27.6398805,t=85.3303725,s=27.66424179701499,r=85.3465231243003,i=Ey(e,t,s,r);console.log(` Your coordinates test: ${i.toFixed(3)} km (Google shows: 5.1 km)`);const a={lat:40.7128,lon:-74.006},o={lat:34.0522,lon:-118.2437},c=Ey(a.lat,a.lon,o.lat,o.lon);console.log(`Test: NYC to LA = ${c.toFixed(2)} km (Google: ~3944 km)`),console.log(` Verify on Google Maps: https://www.google.com/maps/dir/${e},${t}/${s},${r}`)};function MG(){const e=nt(),{categoryName:t}=pp(),[s,r]=j.useState({products:[]}),[i,a]=j.useState(!1),[o,c]=j.useState(xt.getLocation()),[d,h]=j.useState({page:1,hasMore:!0}),[f,m]=j.useState(new Set),[u,p]=j.useState(!1),[x,v]=j.useState(""),{addToCart:w}=ur(),{toast:b}=cn(),y=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const k=xt.subscribe(c);return xt.startTracking(),RG(),_(),C(),k},[t]),j.useEffect(()=>{_(1)},[x,t]),j.useEffect(()=>{o&&(console.log(" Location updated, refetching data:",o),_(1))},[o]);const _=async(k=1)=>{a(!0);try{const R=localStorage.getItem("token"),P=R?{Authorization:`Token ${R}`}:{},T=xt.getLocation();console.log(" Frontend location check:",{userLocation:o,currentLocation:T});const M=new URLSearchParams({page:k.toString(),page_size:"100"});T?(M.append("latitude",T.latitude.toString()),M.append("longitude",T.longitude.toString()),console.log(" Sending location to API:",T)):console.log(" No location available for API call");const W=await(await fetch(`${Je}api/search/products/?${M}`,{headers:P})).json(),Z=N(W.results||[]);r(k===1?{products:Z}:F=>({products:[...F.products,...Z]}));const q=(W.results||[]).filter(F=>F.category&&F.category.toLowerCase()===t.toLowerCase()).length;h({page:k,hasMore:W.next!==null&&q>=10})}catch(R){console.error("Fetch error:",R)}finally{a(!1)}},N=k=>{const R=xt.getLocation();let T=k.filter(M=>M.category&&M.category.toLowerCase()===t.toLowerCase()).map(M=>{var B,q;const H=((B=M.images)==null?void 0:B.find(F=>F.is_primary))||((q=M.images)==null?void 0:q[0]);let W="N/A",Z=1/0;return R&&M.vendor_latitude&&M.vendor_longitude&&(Z=Ey(R.latitude,R.longitude,M.vendor_latitude,M.vendor_longitude),W=`${Z.toFixed(1)} km`),{id:M.id,name:M.name,vendor:M.vendor_name||"Unknown Vendor",price:`${M.price}`,priceValue:parseFloat(M.price),image:(H==null?void 0:H.image_url)||"/placeholder-product.jpg",rating:4.5,distance:W,distanceValue:Z,deliveryTime:"30-45 mins",inStock:M.quantity>0,category:M.category}});return x==="price_low"?T.sort((M,H)=>M.priceValue-H.priceValue):x==="price_high"?T.sort((M,H)=>H.priceValue-M.priceValue):T.sort((M,H)=>M.distanceValue-H.distanceValue),T},E=()=>{!i&&d.hasMore&&_(d.page+1)},I=k=>{e(`/product/${k}`)},C=async()=>{var R;const k=localStorage.getItem("token");if(k)try{const P=await fetch(`${Je}favorites/`,{headers:{Authorization:`Token ${k}`}});if(P.ok){const T=await P.json(),M=new Set(((R=T.results)==null?void 0:R.map(H=>H.product.id))||[]);m(M)}}catch(P){console.error("Failed to fetch favorites:",P)}},O=async(k,R)=>{R.stopPropagation();const P=localStorage.getItem("token");if(!P){b({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const T=await fetch(`${Je}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${P}`},body:JSON.stringify({product_id:k})});if(T.ok){const M=await T.json(),H=new Set(f);M.is_favorite?H.add(k):H.delete(k),m(H),b({title:M.is_favorite?"Added to Favorites":"Removed from Favorites",description:M.message})}}catch{b({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},A=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.products.map(k=>n.jsxs(Ne,{className:"overflow-hidden",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>I(k.id),children:[n.jsxs("div",{className:"aspect-square relative",children:[n.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover",onError:R=>{R.target.src="/placeholder-product.jpg"}}),n.jsx(te,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:R=>O(k.id,R),children:n.jsx(dr,{className:`h-4 w-4 ${f.has(k.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),n.jsx(Me,{variant:k.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:k.inStock?"In Stock":"Out of Stock"})]}),n.jsxs(ke,{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:k.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:k.vendor}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:k.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{children:k.distance})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-bold text-primary text-sm",children:k.price}),n.jsx("span",{className:"text-xs text-muted-foreground",children:k.deliveryTime})]})]})]}),n.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[n.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!k.inStock,onClick:R=>{R.stopPropagation(),w(k.id,1)},children:[n.jsx(ss,{className:"h-3 w-3 mr-1"}),"Cart"]}),n.jsxs(te,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!k.inStock,onClick:R=>{R.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:k.id,name:k.name,price:k.price.replace("",""),quantity:1,vendor_name:k.vendor,images:[{image_url:k.image}]}}})},children:[n.jsx(gn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},k.id))}),d.hasMore&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(te,{onClick:E,disabled:i,variant:"outline",children:[i?n.jsx(os,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold",children:t}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.products.length," products found"]})]}),n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>p(!0),children:n.jsx(to,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 pb-20",children:[s.products.length>0&&n.jsx("div",{className:"mb-6",children:A()}),s.products.length===0&&!i&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No products found"}),n.jsxs("p",{className:"text-muted-foreground",children:["No products available in ",t," category"]})]}),i&&s.products.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(os,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),u&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>p(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:k=>k.stopPropagation(),children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>p(!1),children:""})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),n.jsx("div",{className:"space-y-2",children:y.map(k=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"sort",value:k.value,checked:x===k.value,onChange:R=>v(R.target.value),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:k.label})]},k.value))})]}),n.jsx(te,{variant:"outline",className:"w-full",onClick:()=>{v("")},children:"Clear All Filters"})]})]})}),n.jsx(Os,{})]})}const IG=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function DG(){const e=nt(),[t,s]=j.useState({products:[]}),[r,i]=j.useState(!1),[a,o]=j.useState(xt.getLocation()),[c,d]=j.useState({page:1,hasMore:!0}),[h,f]=j.useState(new Set),[m,u]=j.useState(!1),[p,x]=j.useState(""),{addToCart:v}=ur(),{toast:w}=cn(),b=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const A=xt.subscribe(o);return y(),I(),A},[]),j.useEffect(()=>{y(1)},[p]),j.useEffect(()=>{a&&(console.log(" Location updated, refetching data:",a),y(1))},[a]);const y=async(A=1)=>{i(!0);try{const k=localStorage.getItem("token"),R=k?{Authorization:`Token ${k}`}:{},P=xt.getLocation();console.log(" Frontend location check:",{userLocation:a,currentLocation:P});const T=new URLSearchParams({page:A.toString(),page_size:"20"});P?(T.append("latitude",P.latitude.toString()),T.append("longitude",P.longitude.toString()),console.log(" Sending location to API:",P)):console.log(" No location available for API call");const H=await(await fetch(`${Je}api/search/products/?${T}`,{headers:R})).json(),W=_(H.results||[]);s(A===1?{products:W}:Z=>({products:[...Z.products,...W]})),d({page:A,hasMore:H.next!==null})}catch(k){console.error("Fetch error:",k)}finally{i(!1)}},_=A=>{const k=xt.getLocation();let P=A.filter(T=>T.featured===!0).map(T=>{var Z,B;const M=((Z=T.images)==null?void 0:Z.find(q=>q.is_primary))||((B=T.images)==null?void 0:B[0]);let H="N/A",W=1/0;return k&&T.vendor_latitude&&T.vendor_longitude&&(W=IG(k.latitude,k.longitude,T.vendor_latitude,T.vendor_longitude),H=`${W.toFixed(1)} km`),{id:T.id,name:T.name,vendor:T.vendor_name||"Unknown Vendor",distance:H,distanceValue:W,rating:4.5,price:`${T.price}`,priceValue:parseFloat(T.price),image:(M==null?void 0:M.image_url)||"/placeholder-product.jpg",inStock:T.quantity>0,category:T.category,featured:T.featured}});return p==="price_low"?P.sort((T,M)=>T.priceValue-M.priceValue):p==="price_high"?P.sort((T,M)=>M.priceValue-T.priceValue):P.sort((T,M)=>T.distanceValue-M.distanceValue),P},N=()=>{!r&&c.hasMore&&y(c.page+1)},E=A=>{e(`/product/${A}`)},I=async()=>{var k;const A=localStorage.getItem("token");if(A)try{const R=await fetch(`${Je}favorites/`,{headers:{Authorization:`Token ${A}`}});if(R.ok){const P=await R.json(),T=new Set(((k=P.results)==null?void 0:k.map(M=>M.product.id))||[]);f(T)}}catch(R){console.error("Failed to fetch favorites:",R)}},C=async(A,k)=>{k.stopPropagation();const R=localStorage.getItem("token");if(!R){w({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const P=await fetch(`${Je}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${R}`},body:JSON.stringify({product_id:A})});if(P.ok){const T=await P.json(),M=new Set(h);T.is_favorite?M.add(A):M.delete(A),f(M),w({title:T.is_favorite?"Added to Favorites":"Removed from Favorites",description:T.message})}}catch{w({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},O=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.products.map(A=>n.jsxs(Ne,{className:"overflow-hidden",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>E(A.id),children:[n.jsxs("div",{className:"aspect-square relative",children:[n.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover",onError:k=>{k.target.src="/placeholder-product.jpg"}}),n.jsx(te,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:k=>C(A.id,k),children:n.jsx(dr,{className:`h-4 w-4 ${h.has(A.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),n.jsx(Me,{variant:A.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:A.inStock?"In Stock":"Out of Stock"})]}),n.jsxs(ke,{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:A.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:A.vendor}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:A.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{children:A.distance})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-bold text-primary text-sm",children:A.price}),n.jsx("span",{className:"text-xs text-muted-foreground",children:A.deliveryTime})]})]})]}),n.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[n.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!A.inStock,onClick:k=>{k.stopPropagation(),v(A.id,1)},children:[n.jsx(ss,{className:"h-3 w-3 mr-1"}),"Cart"]}),n.jsxs(te,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!A.inStock,onClick:k=>{k.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:A.id,name:A.name,price:A.price.replace("",""),quantity:1,vendor_name:A.vendor,images:[{image_url:A.image}]}}})},children:[n.jsx(gn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},A.id))}),c.hasMore&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(te,{onClick:N,disabled:r,variant:"outline",children:[r?n.jsx(os,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold",children:"Featured Products"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.products.length," products found"]})]}),n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>u(!0),children:n.jsx(to,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 pb-20",children:[t.products.length>0&&n.jsx("div",{className:"mb-6",children:O()}),t.products.length===0&&!r&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No featured products"}),n.jsx("p",{className:"text-muted-foreground",children:"Featured products will appear here when available"})]}),r&&t.products.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(os,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),m&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>u(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:A=>A.stopPropagation(),children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:""})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),n.jsx("div",{className:"space-y-2",children:b.map(A=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"sort",value:A.value,checked:p===A.value,onChange:k=>x(k.target.value),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:A.label})]},A.value))})]}),n.jsx(te,{variant:"outline",className:"w-full",onClick:()=>{x("")},children:"Clear All Filters"})]})]})}),n.jsx(Os,{})]})}const FG=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function $G(){const e=nt(),[t,s]=j.useState({products:[]}),[r,i]=j.useState(!1),[a,o]=j.useState(xt.getLocation()),[c,d]=j.useState({page:1,hasMore:!0}),[h,f]=j.useState(new Set),[m,u]=j.useState(!1),[p,x]=j.useState(""),{addToCart:v}=ur(),{toast:w}=cn(),b=[{value:"",label:"Default (Rating)"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const A=xt.subscribe(o);return y(),I(),A},[]),j.useEffect(()=>{y(1)},[p]),j.useEffect(()=>{a&&(console.log(" Location updated, refetching data:",a),y(1))},[a]);const y=async(A=1)=>{i(!0);try{const k=localStorage.getItem("token"),R=k?{Authorization:`Token ${k}`,"ngrok-skip-browser-warning":"true"}:{"ngrok-skip-browser-warning":"true"},P=xt.getLocation();console.log(" Frontend location check:",{userLocation:a,currentLocation:P});const T=new URLSearchParams({page:A.toString(),page_size:"20"});P?(T.append("latitude",P.latitude.toString()),T.append("longitude",P.longitude.toString()),console.log(" Sending location to API:",P)):console.log(" No location available for API call");const H=await(await fetch(`${Je}api/search/products/?${T}`,{headers:R})).json(),W=_(H.results||[]);s(A===1?{products:W}:Z=>({products:[...Z.products,...W]})),d({page:A,hasMore:H.next!==null})}catch(k){console.error("Fetch error:",k)}finally{i(!1)}},_=A=>{const k=xt.getLocation();let R=A.map(P=>{var W,Z;const T=((W=P.images)==null?void 0:W.find(B=>B.is_primary))||((Z=P.images)==null?void 0:Z[0]);let M="N/A",H=1/0;return k&&P.vendor_latitude&&P.vendor_longitude&&(H=FG(k.latitude,k.longitude,P.vendor_latitude,P.vendor_longitude),M=`${H.toFixed(1)} km`),{id:P.id,name:P.name,vendor:P.vendor_name||"Unknown Vendor",distance:M,distanceValue:H,rating:4.5,price:`${P.price}`,priceValue:parseFloat(P.price),image:(T==null?void 0:T.image_url)||"/placeholder-product.jpg",inStock:P.quantity>0,category:P.category}});return p==="price_low"?R.sort((P,T)=>P.priceValue-T.priceValue):p==="price_high"?R.sort((P,T)=>T.priceValue-P.priceValue):R.sort((P,T)=>T.rating-P.rating),R},N=()=>{!r&&c.hasMore&&y(c.page+1)},E=A=>{e(`/product/${A}`)},I=async()=>{var k;const A=localStorage.getItem("token");if(A)try{const R=await fetch(`${Je}favorites/`,{headers:{Authorization:`Token ${A}`}});if(R.ok){const P=await R.json(),T=new Set(((k=P.results)==null?void 0:k.map(M=>M.product.id))||[]);f(T)}}catch(R){console.error("Failed to fetch favorites:",R)}},C=async(A,k)=>{k.stopPropagation();const R=localStorage.getItem("token");if(!R){w({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const P=await fetch(`${Je}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${R}`},body:JSON.stringify({product_id:A})});if(P.ok){const T=await P.json(),M=new Set(h);T.is_favorite?M.add(A):M.delete(A),f(M),w({title:T.is_favorite?"Added to Favorites":"Removed from Favorites",description:T.message})}}catch{w({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},O=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.products.map(A=>n.jsxs(Ne,{className:"overflow-hidden",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>E(A.id),children:[n.jsxs("div",{className:"aspect-square relative",children:[n.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover",onError:k=>{k.target.src="/placeholder-product.jpg"}}),n.jsx(te,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:k=>C(A.id,k),children:n.jsx(dr,{className:`h-4 w-4 ${h.has(A.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),n.jsx(Me,{variant:A.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:A.inStock?"In Stock":"Out of Stock"})]}),n.jsxs(ke,{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:A.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:A.vendor}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:A.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{children:A.distance})]})]}),n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("span",{className:"font-bold text-primary text-sm",children:A.price})})]})]}),n.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[n.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!A.inStock,onClick:k=>{k.stopPropagation(),v(A.id,1)},children:[n.jsx(ss,{className:"h-3 w-3 mr-1"}),"Cart"]}),n.jsxs(te,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!A.inStock,onClick:k=>{k.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:A.id,name:A.name,price:A.price.replace("",""),quantity:1,vendor_name:A.vendor,images:[{image_url:A.image}]}}})},children:[n.jsx(gn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},A.id))}),c.hasMore&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(te,{onClick:N,disabled:r,variant:"outline",children:[r?n.jsx(os,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold",children:"Trending Products"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.products.length," products found"]})]}),n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>u(!0),children:n.jsx(to,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 pb-20",children:[t.products.length>0&&n.jsx("div",{className:"mb-6",children:O()}),t.products.length===0&&!r&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No trending products"}),n.jsx("p",{className:"text-muted-foreground",children:"Trending products will appear here when available"})]}),r&&t.products.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(os,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),m&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>u(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:A=>A.stopPropagation(),children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:""})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),n.jsx("div",{className:"space-y-2",children:b.map(A=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"sort",value:A.value,checked:p===A.value,onChange:k=>x(k.target.value),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:A.label})]},A.value))})]}),n.jsx(te,{variant:"outline",className:"w-full",onClick:()=>{x("")},children:"Clear All Filters"})]})]})}),n.jsx(Os,{})]})}function BG(){const e=nt(),{login:t}=sa(),[s,r]=j.useState("password"),[i,a]=j.useState(""),[o,c]=j.useState(""),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(!1),[x,v]=j.useState(!1),[w,b]=j.useState(!1),[y,_]=j.useState(""),[N,E]=j.useState(!1),[I,C]=j.useState(null),O=async()=>{b(!0),_("");try{await Te.clearAuth();const{response:T,data:M}=await Fe("/login/",{method:"POST",body:JSON.stringify({username:i,password:o})},!1);if(!T.ok)throw new Error((M==null?void 0:M.error)||"Login failed");if(M.needs_verification)E(!0),C(M.user_id),v(!0),_("Email not verified. Please verify your email with the OTP sent.");else{const H={...M.user||{id:M.user_id,email:i,user_type:"vendor"},available_roles:M.available_roles||["vendor"],user_type:M.user.user_type||"vendor"};await t(H,M.token);const{simplePersistentAuth:W}=await et(async()=>{const{simplePersistentAuth:Z}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:Z}},[]);await W.saveVendorLogin(M.token,H),console.log("Login response:",M),console.log("profile_exists:",M.profile_exists,"is_approved:",M.is_approved),M.profile_exists?M.profile_exists&&M.is_approved?(console.log("Profile exists and approved, redirecting to dashboard"),e("/vendor/dashboard")):M.profile_exists&&!M.is_approved&&(console.log("Profile exists but not approved"),_("Your vendor application is pending approval. You will be notified once approved."),await Te.clearAuth()):(console.log("No profile exists, redirecting to onboarding"),e("/vendor/onboarding"))}}catch(T){console.error("Vendor login error:",T),_(T.message||"Login failed. Please try again.")}finally{b(!1)}},A=async()=>{b(!0),_("");try{const{response:T,data:M}=await Fe("/send-otp/",{method:"POST",body:JSON.stringify({email:i})},!1);if(!T.ok)throw new Error((M==null?void 0:M.error)||"Failed to send OTP");v(!0),_("OTP sent successfully")}catch(T){_(T.message)}finally{b(!1)}},k=async()=>{b(!0),_("");try{const{response:T,data:M}=await Fe("/verify-otp/",{method:"POST",body:JSON.stringify({email:i,otp:d})},!1);if(!T.ok)throw new Error((M==null?void 0:M.error)||"OTP verification failed");const H={...M.user||{id:M.user_id,email:i,user_type:"vendor"},available_roles:M.available_roles||["vendor"],user_type:M.user.user_type||"vendor"};await t(H,M.token);const{simplePersistentAuth:W}=await et(async()=>{const{simplePersistentAuth:Z}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:Z}},[]);await W.saveVendorLogin(M.token,H),console.log("OTP verification response:",M),console.log("profile_exists:",M.profile_exists,"is_approved:",M.is_approved),M.profile_exists?M.profile_exists&&M.is_approved?(console.log("Profile exists and approved, redirecting to dashboard"),e("/vendor/dashboard")):M.profile_exists&&!M.is_approved&&(console.log("Profile exists but not approved"),_("Your vendor application is pending approval. You will be notified once approved."),await Te.clearAuth()):(console.log("No profile exists, redirecting to onboarding"),e("/vendor/onboarding"))}catch(T){console.error("Vendor OTP verification error:",T),_(T.message||"OTP verification failed. Please try again.")}finally{b(!1)}},R=async()=>{b(!0),_("");try{const{response:T,data:M}=await Fe("/update-email/",{method:"POST",body:JSON.stringify({email:f,user_id:I})},!1);if(!T.ok)throw new Error((M==null?void 0:M.error)||"Failed to update email");a(f),m(""),v(!0),_("Email updated. OTP sent to new email.")}catch(T){_(T.message)}finally{b(!1)}},P=()=>{e("/vendor/signup")};return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4 relative",children:[n.jsx(TP,{currentType:"vendor"}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("div",{className:"w-full max-w-80 mx-auto px-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"text-center",children:n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-16 h-16 mx-auto mb-6"})}),n.jsx("div",{className:"text-center mb-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-700 bg-blue-50 px-3 py-1 rounded-full",children:"Vendor Login"})}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"flex space-x-8",children:[n.jsx("button",{onClick:()=>r("password"),className:`pb-2 text-sm font-medium transition-colors ${s==="password"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Password"}),n.jsx("button",{onClick:()=>r("otp"),className:`pb-2 text-sm font-medium transition-colors ${s==="otp"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"OTP"})]})}),s==="password"&&n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(me,{type:"text",value:i,onChange:T=>a(T.target.value),placeholder:"Username or Email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),!N&&n.jsxs("div",{className:"relative",children:[n.jsx(me,{type:u?"text":"password",value:o,onChange:T=>c(T.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),n.jsx("button",{type:"button",onClick:()=>p(!u),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),y&&n.jsx("p",{className:"text-red-600 text-center",children:y}),N&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(me,{type:"email",value:f,onChange:T=>m(T.target.value),placeholder:"Update email if incorrect",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsx(te,{onClick:R,disabled:!f||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Updating...":"Update Email and Resend OTP"}),n.jsx(me,{type:"text",value:d,onChange:T=>h(T.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),n.jsx(te,{onClick:k,disabled:d.length!==6||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Verifying...":"Verify OTP"}),n.jsx("button",{onClick:A,disabled:w,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}),!N&&n.jsx(te,{onClick:O,disabled:!i||!o||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Logging in...":"Login"})]}),s==="otp"&&n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(me,{type:"email",value:i,onChange:T=>a(T.target.value),placeholder:"Enter your email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),x?n.jsxs(n.Fragment,{children:[n.jsx(me,{type:"text",value:d,onChange:T=>h(T.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),y&&n.jsx("p",{className:"text-red-600 text-center",children:y}),n.jsx(te,{onClick:k,disabled:d.length!==6||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Verifying...":"Verify & Login"}),n.jsx("button",{onClick:A,disabled:w,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}):n.jsx(te,{onClick:A,disabled:!i||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Sending...":"Send OTP"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:P,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Don't have an account? Sign up"})})]})})})]})}function zG(){const e=nt(),[t,s]=j.useState(1),[r,i]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,x]=j.useState(!1),[v,w]=j.useState(!1),[b,y]=j.useState(""),_=async()=>{var O,A,k;w(!0),y("");try{const R=await fetch(Je+"register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:r,password:c,user_type:"vendor"})}),P=await R.json();if(!R.ok){const T=((O=P.username)==null?void 0:O[0])||((A=P.email)==null?void 0:A[0])||P.message||((k=Object.values(P)[0])==null?void 0:k[0])||"Failed to register";throw new Error(T)}s(2)}catch(R){y(R.message)}finally{w(!1)}},N=async O=>{w(!0),y("");try{const A=await fetch(Je+"verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,otp:O})}),k=await A.json();if(!A.ok)throw new Error(k.error||"Verification failed");localStorage.setItem("token",k.token),e("/vendor/onboarding")}catch(A){y(A.message)}finally{w(!1)}},E=O=>{u(O),O.length===6&&N(O)},I=async()=>{w(!0),y("");try{const O=await fetch(Je+"send-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})}),A=await O.json();if(!O.ok)throw new Error(A.error||"Failed to resend OTP");y("OTP resent successfully")}catch(O){y(O.message)}finally{w(!1)}},C=()=>{e("/vendor/login")};return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[n.jsx("button",{onClick:C,className:"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors",children:" Back"}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"w-full max-w-80 mx-auto px-4",children:[t===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Join as Seller"})]}),n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(me,{type:"email",value:r,onChange:O=>i(O.target.value),placeholder:"Enter your email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsx(me,{type:"text",value:a,onChange:O=>o(O.target.value),placeholder:"Choose username",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{type:p?"text":"password",value:c,onChange:O=>d(O.target.value),placeholder:"Create password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),n.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),n.jsx(me,{type:"password",value:h,onChange:O=>f(O.target.value),placeholder:"Confirm password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),b&&n.jsx("p",{className:"text-red-600 text-center",children:b}),n.jsx(te,{onClick:_,disabled:!r||!a||!c||!h||c!==h||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Creating Account...":"Join as Seller"})]})]}),t===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verify Email"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["Code sent to ",r]})]}),n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(me,{type:"text",value:m,onChange:O=>E(O.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-widest w-80"}),v&&n.jsx("div",{className:"text-center text-blue-600",children:"Verifying..."}),b&&n.jsx("p",{className:"text-red-600 text-center",children:b}),n.jsx("button",{onClick:()=>s(1),className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Change details"}),n.jsx("button",{onClick:I,disabled:v,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend code"})]})]})]})})]})}const VG=Nw.divIcon({className:"custom-marker",html:'<div style="background-color: #ff0000; width: 20px; height: 20px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>',iconSize:[20,20],iconAnchor:[10,10]});function UG(){var A;const e=nt(),[t,s]=j.useState(0),[r,i]=j.useState({location:{lat:27.7172,lng:85.324,address:""},shopName:"",ownerName:"",phone:"",email:"",shopAddress:"",city:"",state:"",pincode:"",shopRegDoc:null,extraDoc:null,bankAccount:"",accountHolderName:"",bankName:"",ifscCode:"",gstNumber:"",panNumber:"",deliveryRadius:"",minOrderAmount:"",vendorType:"",categories:[],description:""}),[a,o]=j.useState(""),[c,d]=j.useState(!1),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,x]=j.useState([]),v=["Location","Shop Info","Address","Documents","Payment","Business Type","Categories","Review"],w=[{value:"retailer",label:"Retailer"},{value:"wholesaler",label:"Wholesaler"},{value:"manufacturer",label:"Manufacturer"},{value:"service_provider",label:"Service Provider"},{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"}];j.useEffect(()=>{(async()=>{try{const R=await fetch(Je+"categories/"),P=await R.json();R.ok&&x(P.categories.map(T=>T.name))}catch(R){console.error("Error fetching categories:",R)}})()},[]);const b=({lat:k,lng:R})=>(wL().setView([k,R],13),null),y=()=>(jL({click(k){const{lat:R,lng:P}=k.latlng;i(T=>({...T,location:{...T.location,lat:R,lng:P}})),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${R}&lon=${P}`).then(T=>T.json()).then(T=>{T.display_name&&i(M=>({...M,location:{...M.location,address:T.display_name}}))}).catch(T=>console.error("Error fetching address:",T))}}),null),_=()=>{o(""),navigator.geolocation?navigator.geolocation.getCurrentPosition(k=>{const{latitude:R,longitude:P}=k.coords;i(T=>({...T,location:{...T.location,lat:R,lng:P}})),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${R}&lon=${P}`).then(T=>T.json()).then(T=>{T.display_name&&i(M=>({...M,location:{...M.location,address:T.display_name}}))}).catch(T=>{console.error("Error fetching address:",T),o("Unable to fetch address for this location.")})},k=>{switch(console.error("Geolocation error:",k),k.code){case k.PERMISSION_DENIED:o("Location access denied. Please allow location permissions.");break;case k.POSITION_UNAVAILABLE:o("Location information is unavailable.");break;case k.TIMEOUT:o("The request to get your location timed out.");break;default:o("An unknown error occurred while fetching your location.");break}}):o("Geolocation is not supported by your browser.")},N=()=>{const k=[{field:"shopName",label:"Shop Name"},{field:"ownerName",label:"Owner Name"},{field:"email",label:"Email"},{field:"phone",label:"Phone"},{field:"shopAddress",label:"Shop Address"},{field:"city",label:"City"},{field:"state",label:"State"},{field:"pincode",label:"PIN Code"},{field:"vendorType",label:"Business Type"}];for(const{field:R,label:P}of k)if(!r[R])return f(`${P} is required.`),!1;return r.location.address?!0:(f("Location address is required."),!1)},E=async()=>{if(t<v.length-1)s(t+1);else{if(console.log("Starting form submission..."),!N()){console.log("Validation failed:",h);return}d(!0),f(""),u("");const k=new FormData;k.append("business_name",r.shopName),k.append("owner_name",r.ownerName),k.append("business_email",r.email),k.append("business_phone",r.phone),k.append("business_address",r.shopAddress),k.append("location_address",r.location.address),k.append("city",r.city),k.append("state",r.state),k.append("pincode",r.pincode),k.append("latitude",r.location.lat.toString()),k.append("longitude",r.location.lng.toString()),k.append("business_type",r.vendorType),k.append("categories",JSON.stringify(r.categories)),k.append("description",r.description||""),k.append("account_number",r.bankAccount||""),k.append("account_holder_name",r.accountHolderName||""),k.append("bank_name",r.bankName||""),k.append("ifsc_code",r.ifscCode||""),k.append("gst_number",r.gstNumber||""),k.append("pan_number",r.panNumber||""),k.append("delivery_radius",r.deliveryRadius||""),k.append("min_order_amount",r.minOrderAmount||""),r.shopRegDoc&&k.append("business_license_file",r.shopRegDoc);try{const R=localStorage.getItem("token");console.log("Submitting vendor profile to backend...");const P=await fetch(Je+"vendor-profiles/",{method:"POST",headers:{Authorization:`Token ${R}`},body:k}),T=await P.json();if(console.log("Profile submission response:",P.status,T),!P.ok){f(T.detail||T.error||"Failed to submit vendor profile. Please check your inputs."),console.error("Profile submission failed:",T);return}if(console.log("Profile created with ID:",T.id),r.extraDoc){console.log("Uploading extra document...");const M=new FormData;M.append("vendor_profile",T.id.toString()),M.append("document",r.extraDoc);const H=await fetch(Je+"vendor-documents/",{method:"POST",headers:{Authorization:`Token ${R}`},body:M}),W=await H.json();if(console.log("Extra document upload response:",H.status,W),!H.ok){f("Profile submitted but failed to upload extra document."),console.error("Extra document upload failed:",W);return}console.log("Extra document uploaded successfully.")}T.is_approved?(u("Vendor profile submitted and approved successfully!"),console.log("Vendor approved. Navigating to dashboard..."),e("/vendor/dashboard")):(u("Your vendor application has been submitted successfully and is pending approval. You will be notified once approved by the admin."),console.log("Vendor not approved yet. Redirecting to login page."),setTimeout(()=>{e("/vendor/login")},2e3))}catch(R){console.error("Submission error:",R),f("An unexpected error occurred. Please try again.")}finally{d(!1)}}},I=()=>{t>0&&s(t-1)},C=(k,R)=>{i(P=>({...P,[k]:R}))},O=k=>{const R=r.categories.includes(k)?r.categories.filter(P=>P!==k):[...r.categories,k];C("categories",R)};return n.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Complete Your Setup"}),n.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Step ",t+1," of ",v.length]})]}),n.jsx("div",{className:"flex overflow-x-auto mb-8 pb-2",children:v.map((k,R)=>n.jsxs("button",{onClick:()=>s(R),className:`flex-shrink-0 px-4 py-2 text-xs font-medium whitespace-nowrap ${R===t?"text-blue-600 border-b-2 border-blue-600":R<t?"text-green-600":"text-gray-400"}`,children:[R<t?"":R+1,". ",k]},k))}),n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[c&&n.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsx("p",{className:"text-blue-600",children:"Submitting your application..."})}),h&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsx("p",{className:"text-red-600",children:h})}),m&&n.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:n.jsx("p",{className:"text-green-600",children:m})}),t===0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Choose Your Location"}),n.jsx("div",{className:"h-48 rounded-lg",children:n.jsxs(_L,{center:[r.location.lat,r.location.lng],zoom:13,style:{height:"100%",width:"100%",borderRadius:"0.5rem"},children:[n.jsx(NL,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n.jsx(by,{position:[r.location.lat,r.location.lng],icon:VG}),n.jsx(y,{}),n.jsx(b,{lat:r.location.lat,lng:r.location.lng})]})}),n.jsx(te,{onClick:_,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Use Live Location"}),a&&n.jsx("p",{className:"text-red-500 text-sm",children:a}),n.jsx(me,{placeholder:"Selected address will appear here",value:r.location.address,onChange:k=>C("location",{...r.location,address:k.target.value})})]}),t===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Shop Information"}),n.jsx(me,{placeholder:"Shop Name",value:r.shopName,onChange:k=>C("shopName",k.target.value)}),n.jsx(me,{placeholder:"Owner Name",value:r.ownerName,onChange:k=>C("ownerName",k.target.value)}),n.jsx(me,{placeholder:"Phone Number",value:r.phone,onChange:k=>C("phone",k.target.value)}),n.jsx(me,{placeholder:"Email Address",value:r.email,onChange:k=>C("email",k.target.value)}),n.jsx(me,{placeholder:"PAN Number (Optional)",value:r.panNumber,onChange:k=>C("panNumber",k.target.value)})]}),t===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Shop Address"}),n.jsx(me,{placeholder:"Full Shop Address",value:r.shopAddress,onChange:k=>C("shopAddress",k.target.value)}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(me,{placeholder:"City",value:r.city,onChange:k=>C("city",k.target.value)}),n.jsx(me,{placeholder:"State",value:r.state,onChange:k=>C("state",k.target.value)})]}),n.jsx(me,{placeholder:"PIN Code",value:r.pincode,onChange:k=>C("pincode",k.target.value)})]}),t===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Upload Documents"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Shop Registration Document"}),n.jsx("input",{type:"file",className:"w-full text-sm",onChange:k=>C("shopRegDoc",k.target.files[0])})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Additional Document (Optional)"}),n.jsx("input",{type:"file",className:"w-full text-sm",onChange:k=>C("extraDoc",k.target.files[0])})]})]})]}),t===4&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Payment Details"}),n.jsx(me,{placeholder:"Bank Account Number",value:r.bankAccount,onChange:k=>C("bankAccount",k.target.value)}),n.jsx(me,{placeholder:"Account Holder/Organization Name",value:r.accountHolderName,onChange:k=>C("accountHolderName",k.target.value)}),n.jsx(me,{placeholder:"Bank Name",value:r.bankName,onChange:k=>C("bankName",k.target.value)}),n.jsx(me,{placeholder:"Minimum Order Amount (Optional)",value:r.minOrderAmount,onChange:k=>C("minOrderAmount",k.target.value)})]}),t===5&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Business Type"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:w.map(k=>n.jsx("button",{onClick:()=>C("vendorType",k.value),className:`p-3 text-sm rounded-lg border ${r.vendorType===k.value?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"}`,children:k.label},k.value))})]}),t===6&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Product Categories"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Select categories you'll sell"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.length>0?p.map(k=>n.jsx("button",{onClick:()=>O(k),className:`p-3 text-sm rounded-lg border ${r.categories.includes(k)?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"}`,children:k},k)):n.jsx("div",{className:"col-span-2 text-center text-gray-500 py-4",children:"No categories available. Please contact admin."})}),n.jsx(me,{placeholder:"Business Description (Optional)",value:r.description,onChange:k=>C("description",k.target.value)})]}),t===7&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Review & Submit"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Shop:"})," ",r.shopName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Owner:"})," ",r.ownerName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",((A=w.find(k=>k.value===r.vendorType))==null?void 0:A.label)||r.vendorType]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Categories:"})," ",r.categories.join(", ")]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Location:"})," ",r.city,", ",r.state]}),n.jsxs("p",{children:[n.jsx("strong",{children:"GST Number:"})," ",r.gstNumber||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"PAN Number:"})," ",r.panNumber||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Delivery Radius:"})," ",r.deliveryRadius||"N/A"," km"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Minimum Order Amount:"})," ",r.minOrderAmount||"N/A"]})]}),n.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Your application will be reviewed within 24-48 hours. You'll receive an email notification once approved."})})]})]}),n.jsxs("div",{className:"flex justify-between mt-6",children:[n.jsx(te,{onClick:I,disabled:t===0,variant:"outline",className:"px-6",children:"Previous"}),n.jsx(te,{onClick:E,disabled:c,className:"px-6 bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:c?"Submitting...":t===v.length-1?"Submit for Approval":"Next"})]})]})})}var nh=e=>e.type==="checkbox",No=e=>e instanceof Date,fs=e=>e==null;const HR=e=>typeof e=="object";var Nn=e=>!fs(e)&&!Array.isArray(e)&&HR(e)&&!No(e),WR=e=>Nn(e)&&e.target?nh(e.target)?e.target.checked:e.target.value:e,qG=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ZR=(e,t)=>e.has(qG(t)),HG=e=>{const t=e.constructor&&e.constructor.prototype;return Nn(t)&&t.hasOwnProperty("isPrototypeOf")},Iw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function On(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Iw&&(e instanceof Blob||r))&&(s||Nn(e)))if(t=s?[]:{},!s&&!HG(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=On(e[i]));else return e;return t}var zp=e=>/^\w*$/.test(e),jn=e=>e===void 0,Dw=e=>Array.isArray(e)?e.filter(Boolean):[],Fw=e=>Dw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Re=(e,t,s)=>{if(!t||!Nn(e))return s;const r=(zp(t)?[t]:Fw(t)).reduce((i,a)=>fs(i)?i:i[a],e);return jn(r)||r===e?jn(e[t])?s:e[t]:r},Is=e=>typeof e=="boolean",Lt=(e,t,s)=>{let r=-1;const i=zp(t)?[t]:Fw(t),a=i.length,o=a-1;for(;++r<a;){const c=i[r];let d=s;if(r!==o){const h=e[c];d=Nn(h)||Array.isArray(h)?h:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const vm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ei={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GR=_e.createContext(null);GR.displayName="HookFormContext";const $w=()=>_e.useContext(GR);var KR=(e,t,s,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==kr.all&&(t._proxyFormState[o]=!r||kr.all),s&&(s[o]=!0),e[o]}});return i};const Bw=typeof window<"u"?_e.useLayoutEffect:_e.useEffect;function WG(e){const t=$w(),{control:s=t.control,disabled:r,name:i,exact:a}=e||{},[o,c]=_e.useState(s._formState),d=_e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Bw(()=>s._subscribe({name:i,formState:d.current,exact:a,callback:h=>{!r&&c({...s._formState,...h})}}),[i,r,a]),_e.useEffect(()=>{d.current.isValid&&s._setValid(!0)},[s]),_e.useMemo(()=>KR(o,s,d.current,!1),[o,s])}var ni=e=>typeof e=="string",YR=(e,t,s,r,i)=>ni(e)?(r&&t.watch.add(e),Re(s,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Re(s,a))):(r&&(t.watchAll=!0),s),Py=e=>fs(e)||!HR(e);function Ri(e,t,s=new WeakSet){if(Py(e)||Py(t))return e===t;if(No(e)&&No(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const a of r){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=t[a];if(No(o)&&No(c)||Nn(o)&&Nn(c)||Array.isArray(o)&&Array.isArray(c)?!Ri(o,c,s):o!==c)return!1}}return!0}function ZG(e){const t=$w(),{control:s=t.control,name:r,defaultValue:i,disabled:a,exact:o,compute:c}=e||{},d=_e.useRef(i),h=_e.useRef(c),f=_e.useRef(void 0);h.current=c;const m=_e.useMemo(()=>s._getWatch(r,d.current),[s,r]),[u,p]=_e.useState(h.current?h.current(m):m);return Bw(()=>s._subscribe({name:r,formState:{values:!0},exact:o,callback:x=>{if(!a){const v=YR(r,s._names,x.values||s._formValues,!1,d.current);if(h.current){const w=h.current(v);Ri(w,f.current)||(p(w),f.current=w)}else p(v)}}}),[s,a,r,o]),_e.useEffect(()=>s._removeUnmounted()),u}function GG(e){const t=$w(),{name:s,disabled:r,control:i=t.control,shouldUnregister:a,defaultValue:o}=e,c=ZR(i._names.array,s),d=_e.useMemo(()=>Re(i._formValues,s,Re(i._defaultValues,s,o)),[i,s,o]),h=ZG({control:i,name:s,defaultValue:d,exact:!0}),f=WG({control:i,name:s,exact:!0}),m=_e.useRef(e),u=_e.useRef(i.register(s,{...e.rules,value:h,...Is(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const p=_e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Re(f.errors,s)},isDirty:{enumerable:!0,get:()=>!!Re(f.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Re(f.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Re(f.validatingFields,s)},error:{enumerable:!0,get:()=>Re(f.errors,s)}}),[f,s]),x=_e.useCallback(y=>u.current.onChange({target:{value:WR(y),name:s},type:vm.CHANGE}),[s]),v=_e.useCallback(()=>u.current.onBlur({target:{value:Re(i._formValues,s),name:s},type:vm.BLUR}),[s,i._formValues]),w=_e.useCallback(y=>{const _=Re(i._fields,s);_&&y&&(_._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:N=>y.setCustomValidity(N),reportValidity:()=>y.reportValidity()})},[i._fields,s]),b=_e.useMemo(()=>({name:s,value:h,...Is(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:x,onBlur:v,ref:w}),[s,r,f.disabled,x,v,w,h]);return _e.useEffect(()=>{const y=i._options.shouldUnregister||a;i.register(s,{...m.current.rules,...Is(m.current.disabled)?{disabled:m.current.disabled}:{}});const _=(N,E)=>{const I=Re(i._fields,N);I&&I._f&&(I._f.mount=E)};if(_(s,!0),y){const N=On(Re(i._options.defaultValues,s));Lt(i._defaultValues,s,N),jn(Re(i._formValues,s))&&Lt(i._formValues,s,N)}return!c&&i.register(s),()=>{(c?y&&!i._state.action:y)?i.unregister(s):_(s,!1)}},[s,i,c,a]),_e.useEffect(()=>{i._setDisabledField({disabled:r,name:s})},[r,s,i]),_e.useMemo(()=>({field:b,formState:f,fieldState:p}),[b,f,p])}const St=e=>e.render(GG(e));var XR=(e,t,s,r,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:i||!0}}:{},Xd=e=>Array.isArray(e)?e:[e],NS=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},js=e=>Nn(e)&&!Object.keys(e).length,zw=e=>e.type==="file",Cr=e=>typeof e=="function",xm=e=>{if(!Iw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},QR=e=>e.type==="select-multiple",Vw=e=>e.type==="radio",KG=e=>Vw(e)||nh(e),Tv=e=>xm(e)&&e.isConnected;function YG(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=jn(e)?r++:e[t[r++]];return e}function XG(e){for(const t in e)if(e.hasOwnProperty(t)&&!jn(e[t]))return!1;return!0}function En(e,t){const s=Array.isArray(t)?t:zp(t)?[t]:Fw(t),r=s.length===1?e:YG(e,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(Nn(r)&&js(r)||Array.isArray(r)&&XG(r))&&En(e,s.slice(0,-1)),e}var JR=e=>{for(const t in e)if(Cr(e[t]))return!0;return!1};function ym(e,t={}){const s=Array.isArray(e);if(Nn(e)||s)for(const r in e)Array.isArray(e[r])||Nn(e[r])&&!JR(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ym(e[r],t[r])):fs(e[r])||(t[r]=!0);return t}function e4(e,t,s){const r=Array.isArray(e);if(Nn(e)||r)for(const i in e)Array.isArray(e[i])||Nn(e[i])&&!JR(e[i])?jn(t)||Py(s[i])?s[i]=Array.isArray(e[i])?ym(e[i],[]):{...ym(e[i])}:e4(e[i],fs(t)?{}:t[i],s[i]):s[i]=!Ri(e[i],t[i]);return s}var wd=(e,t)=>e4(e,t,ym(t));const SS={value:!1,isValid:!1},kS={value:!0,isValid:!0};var t4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jn(e[0].attributes.value)?jn(e[0].value)||e[0].value===""?kS:{value:e[0].value,isValid:!0}:kS:SS}return SS},n4=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>jn(e)?e:t?e===""?NaN:e&&+e:s&&ni(e)?new Date(e):r?r(e):e;const CS={isValid:!1,value:null};var s4=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,CS):CS;function ES(e){const t=e.ref;return zw(t)?t.files:Vw(t)?s4(e.refs).value:QR(t)?[...t.selectedOptions].map(({value:s})=>s):nh(t)?t4(e.refs).value:n4(jn(t.value)?e.ref.value:t.value,e)}var QG=(e,t,s,r)=>{const i={};for(const a of e){const o=Re(t,a);o&&Lt(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:r}},bm=e=>e instanceof RegExp,jd=e=>jn(e)?e:bm(e)?e.source:Nn(e)?bm(e.value)?e.value.source:e.value:e,PS=e=>({isOnSubmit:!e||e===kr.onSubmit,isOnBlur:e===kr.onBlur,isOnChange:e===kr.onChange,isOnAll:e===kr.all,isOnTouch:e===kr.onTouched});const TS="AsyncFunction";var JG=e=>!!e&&!!e.validate&&!!(Cr(e.validate)&&e.validate.constructor.name===TS||Nn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===TS)),eK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),AS=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Qd=(e,t,s,r)=>{for(const i of s||Object.keys(e)){const a=Re(e,i);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Qd(c,t))break}else if(Nn(c)&&Qd(c,t))break}}};function OS(e,t,s){const r=Re(e,s);if(r||zp(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=Re(t,a),c=Re(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};i.pop()}return{name:s}}var tK=(e,t,s,r)=>{s(e);const{name:i,...a}=e;return js(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||kr.all))},nK=(e,t,s)=>!e||!t||e===t||Xd(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),sK=(e,t,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?r.isOnBlur:i.isOnBlur)?!e:(s?r.isOnChange:i.isOnChange)?e:!0,rK=(e,t)=>!Dw(Re(e,t)).length&&En(e,t),iK=(e,t,s)=>{const r=Xd(Re(e,s));return Lt(r,"root",t[s]),Lt(e,s,r),e},jf=e=>ni(e);function LS(e,t,s="validate"){if(jf(e)||Array.isArray(e)&&e.every(jf)||Is(e)&&!e)return{type:s,message:jf(e)?e:"",ref:t}}var pl=e=>Nn(e)&&!bm(e)?e:{value:e,message:""},RS=async(e,t,s,r,i,a)=>{const{ref:o,refs:c,required:d,maxLength:h,minLength:f,min:m,max:u,pattern:p,validate:x,name:v,valueAsNumber:w,mount:b}=e._f,y=Re(s,v);if(!b||t.has(v))return{};const _=c?c[0]:o,N=P=>{i&&_.reportValidity&&(_.setCustomValidity(Is(P)?"":P||""),_.reportValidity())},E={},I=Vw(o),C=nh(o),O=I||C,A=(w||zw(o))&&jn(o.value)&&jn(y)||xm(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,k=XR.bind(null,v,r,E),R=(P,T,M,H=Ei.maxLength,W=Ei.minLength)=>{const Z=P?T:M;E[v]={type:P?H:W,message:Z,ref:o,...k(P?H:W,Z)}};if(a?!Array.isArray(y)||!y.length:d&&(!O&&(A||fs(y))||Is(y)&&!y||C&&!t4(c).isValid||I&&!s4(c).isValid)){const{value:P,message:T}=jf(d)?{value:!!d,message:d}:pl(d);if(P&&(E[v]={type:Ei.required,message:T,ref:_,...k(Ei.required,T)},!r))return N(T),E}if(!A&&(!fs(m)||!fs(u))){let P,T;const M=pl(u),H=pl(m);if(!fs(y)&&!isNaN(y)){const W=o.valueAsNumber||y&&+y;fs(M.value)||(P=W>M.value),fs(H.value)||(T=W<H.value)}else{const W=o.valueAsDate||new Date(y),Z=F=>new Date(new Date().toDateString()+" "+F),B=o.type=="time",q=o.type=="week";ni(M.value)&&y&&(P=B?Z(y)>Z(M.value):q?y>M.value:W>new Date(M.value)),ni(H.value)&&y&&(T=B?Z(y)<Z(H.value):q?y<H.value:W<new Date(H.value))}if((P||T)&&(R(!!P,M.message,H.message,Ei.max,Ei.min),!r))return N(E[v].message),E}if((h||f)&&!A&&(ni(y)||a&&Array.isArray(y))){const P=pl(h),T=pl(f),M=!fs(P.value)&&y.length>+P.value,H=!fs(T.value)&&y.length<+T.value;if((M||H)&&(R(M,P.message,T.message),!r))return N(E[v].message),E}if(p&&!A&&ni(y)){const{value:P,message:T}=pl(p);if(bm(P)&&!y.match(P)&&(E[v]={type:Ei.pattern,message:T,ref:o,...k(Ei.pattern,T)},!r))return N(T),E}if(x){if(Cr(x)){const P=await x(y,s),T=LS(P,_);if(T&&(E[v]={...T,...k(Ei.validate,T.message)},!r))return N(T.message),E}else if(Nn(x)){let P={};for(const T in x){if(!js(P)&&!r)break;const M=LS(await x[T](y,s),_,T);M&&(P={...M,...k(T,M.message)},N(M.message),r&&(E[v]=P))}if(!js(P)&&(E[v]={ref:_,...P},!r))return E}}return N(!0),E};const aK={mode:kr.onSubmit,reValidateMode:kr.onChange,shouldFocusError:!0};function oK(e={}){let t={...aK,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Cr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Nn(t.defaultValues)||Nn(t.values)?On(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:On(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const u={array:NS(),state:NS()},p=t.criteriaMode===kr.all,x=Q=>re=>{clearTimeout(h),h=setTimeout(Q,re)},v=async Q=>{if(!t.disabled&&(f.isValid||m.isValid||Q)){const re=t.resolver?js((await C()).errors):await A(r,!0);re!==s.isValid&&u.state.next({isValid:re})}},w=(Q,re)=>{!t.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((Q||Array.from(c.mount)).forEach(ie=>{ie&&(re?Lt(s.validatingFields,ie,re):En(s.validatingFields,ie))}),u.state.next({validatingFields:s.validatingFields,isValidating:!js(s.validatingFields)}))},b=(Q,re=[],ie,be,we=!0,ve=!0)=>{if(be&&ie&&!t.disabled){if(o.action=!0,ve&&Array.isArray(Re(r,Q))){const Ae=ie(Re(r,Q),be.argA,be.argB);we&&Lt(r,Q,Ae)}if(ve&&Array.isArray(Re(s.errors,Q))){const Ae=ie(Re(s.errors,Q),be.argA,be.argB);we&&Lt(s.errors,Q,Ae),rK(s.errors,Q)}if((f.touchedFields||m.touchedFields)&&ve&&Array.isArray(Re(s.touchedFields,Q))){const Ae=ie(Re(s.touchedFields,Q),be.argA,be.argB);we&&Lt(s.touchedFields,Q,Ae)}(f.dirtyFields||m.dirtyFields)&&(s.dirtyFields=wd(i,a)),u.state.next({name:Q,isDirty:R(Q,re),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Lt(a,Q,re)},y=(Q,re)=>{Lt(s.errors,Q,re),u.state.next({errors:s.errors})},_=Q=>{s.errors=Q,u.state.next({errors:s.errors,isValid:!1})},N=(Q,re,ie,be)=>{const we=Re(r,Q);if(we){const ve=Re(a,Q,jn(ie)?Re(i,Q):ie);jn(ve)||be&&be.defaultChecked||re?Lt(a,Q,re?ve:ES(we._f)):M(Q,ve),o.mount&&v()}},E=(Q,re,ie,be,we)=>{let ve=!1,Ae=!1;const tt={name:Q};if(!t.disabled){if(!ie||be){(f.isDirty||m.isDirty)&&(Ae=s.isDirty,s.isDirty=tt.isDirty=R(),ve=Ae!==tt.isDirty);const Xe=Ri(Re(i,Q),re);Ae=!!Re(s.dirtyFields,Q),Xe?En(s.dirtyFields,Q):Lt(s.dirtyFields,Q,!0),tt.dirtyFields=s.dirtyFields,ve=ve||(f.dirtyFields||m.dirtyFields)&&Ae!==!Xe}if(ie){const Xe=Re(s.touchedFields,Q);Xe||(Lt(s.touchedFields,Q,ie),tt.touchedFields=s.touchedFields,ve=ve||(f.touchedFields||m.touchedFields)&&Xe!==ie)}ve&&we&&u.state.next(tt)}return ve?tt:{}},I=(Q,re,ie,be)=>{const we=Re(s.errors,Q),ve=(f.isValid||m.isValid)&&Is(re)&&s.isValid!==re;if(t.delayError&&ie?(d=x(()=>y(Q,ie)),d(t.delayError)):(clearTimeout(h),d=null,ie?Lt(s.errors,Q,ie):En(s.errors,Q)),(ie?!Ri(we,ie):we)||!js(be)||ve){const Ae={...be,...ve&&Is(re)?{isValid:re}:{},errors:s.errors,name:Q};s={...s,...Ae},u.state.next(Ae)}},C=async Q=>{w(Q,!0);const re=await t.resolver(a,t.context,QG(Q||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(Q),re},O=async Q=>{const{errors:re}=await C(Q);if(Q)for(const ie of Q){const be=Re(re,ie);be?Lt(s.errors,ie,be):En(s.errors,ie)}else s.errors=re;return re},A=async(Q,re,ie={valid:!0})=>{for(const be in Q){const we=Q[be];if(we){const{_f:ve,...Ae}=we;if(ve){const tt=c.array.has(ve.name),Xe=we._f&&JG(we._f);Xe&&f.validatingFields&&w([be],!0);const zt=await RS(we,c.disabled,a,p,t.shouldUseNativeValidation&&!re,tt);if(Xe&&f.validatingFields&&w([be]),zt[ve.name]&&(ie.valid=!1,re))break;!re&&(Re(zt,ve.name)?tt?iK(s.errors,zt,ve.name):Lt(s.errors,ve.name,zt[ve.name]):En(s.errors,ve.name))}!js(Ae)&&await A(Ae,re,ie)}}return ie.valid},k=()=>{for(const Q of c.unMount){const re=Re(r,Q);re&&(re._f.refs?re._f.refs.every(ie=>!Tv(ie)):!Tv(re._f.ref))&&U(Q)}c.unMount=new Set},R=(Q,re)=>!t.disabled&&(Q&&re&&Lt(a,Q,re),!Ri(F(),i)),P=(Q,re,ie)=>YR(Q,c,{...o.mount?a:jn(re)?i:ni(Q)?{[Q]:re}:re},ie,re),T=Q=>Dw(Re(o.mount?a:i,Q,t.shouldUnregister?Re(i,Q,[]):[])),M=(Q,re,ie={})=>{const be=Re(r,Q);let we=re;if(be){const ve=be._f;ve&&(!ve.disabled&&Lt(a,Q,n4(re,ve)),we=xm(ve.ref)&&fs(re)?"":re,QR(ve.ref)?[...ve.ref.options].forEach(Ae=>Ae.selected=we.includes(Ae.value)):ve.refs?nh(ve.ref)?ve.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(we)?Ae.checked=!!we.find(tt=>tt===Ae.value):Ae.checked=we===Ae.value||!!we)}):ve.refs.forEach(Ae=>Ae.checked=Ae.value===we):zw(ve.ref)?ve.ref.value="":(ve.ref.value=we,ve.ref.type||u.state.next({name:Q,values:On(a)})))}(ie.shouldDirty||ie.shouldTouch)&&E(Q,we,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&q(Q)},H=(Q,re,ie)=>{for(const be in re){if(!re.hasOwnProperty(be))return;const we=re[be],ve=Q+"."+be,Ae=Re(r,ve);(c.array.has(Q)||Nn(we)||Ae&&!Ae._f)&&!No(we)?H(ve,we,ie):M(ve,we,ie)}},W=(Q,re,ie={})=>{const be=Re(r,Q),we=c.array.has(Q),ve=On(re);Lt(a,Q,ve),we?(u.array.next({name:Q,values:On(a)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&ie.shouldDirty&&u.state.next({name:Q,dirtyFields:wd(i,a),isDirty:R(Q,ve)})):be&&!be._f&&!fs(ve)?H(Q,ve,ie):M(Q,ve,ie),AS(Q,c)&&u.state.next({...s,name:Q}),u.state.next({name:o.mount?Q:void 0,values:On(a)})},Z=async Q=>{o.mount=!0;const re=Q.target;let ie=re.name,be=!0;const we=Re(r,ie),ve=Xe=>{be=Number.isNaN(Xe)||No(Xe)&&isNaN(Xe.getTime())||Ri(Xe,Re(a,ie,Xe))},Ae=PS(t.mode),tt=PS(t.reValidateMode);if(we){let Xe,zt;const _t=re.type?ES(we._f):WR(Q),Vt=Q.type===vm.BLUR||Q.type===vm.FOCUS_OUT,oe=!eK(we._f)&&!t.resolver&&!Re(s.errors,ie)&&!we._f.deps||sK(Vt,Re(s.touchedFields,ie),s.isSubmitted,tt,Ae),ze=AS(ie,c,Vt);Lt(a,ie,_t),Vt?(we._f.onBlur&&we._f.onBlur(Q),d&&d(0)):we._f.onChange&&we._f.onChange(Q);const Ze=E(ie,_t,Vt),ut=!js(Ze)||ze;if(!Vt&&u.state.next({name:ie,type:Q.type,values:On(a)}),oe)return(f.isValid||m.isValid)&&(t.mode==="onBlur"?Vt&&v():Vt||v()),ut&&u.state.next({name:ie,...ze?{}:Ze});if(!Vt&&ze&&u.state.next({...s}),t.resolver){const{errors:it}=await C([ie]);if(ve(_t),be){const Ge=OS(s.errors,r,ie),dn=OS(it,r,Ge.name||ie);Xe=dn.error,ie=dn.name,zt=js(it)}}else w([ie],!0),Xe=(await RS(we,c.disabled,a,p,t.shouldUseNativeValidation))[ie],w([ie]),ve(_t),be&&(Xe?zt=!1:(f.isValid||m.isValid)&&(zt=await A(r,!0)));be&&(we._f.deps&&q(we._f.deps),I(ie,zt,Xe,Ze))}},B=(Q,re)=>{if(Re(s.errors,re)&&Q.focus)return Q.focus(),1},q=async(Q,re={})=>{let ie,be;const we=Xd(Q);if(t.resolver){const ve=await O(jn(Q)?Q:we);ie=js(ve),be=Q?!we.some(Ae=>Re(ve,Ae)):ie}else Q?(be=(await Promise.all(we.map(async ve=>{const Ae=Re(r,ve);return await A(Ae&&Ae._f?{[ve]:Ae}:Ae)}))).every(Boolean),!(!be&&!s.isValid)&&v()):be=ie=await A(r);return u.state.next({...!ni(Q)||(f.isValid||m.isValid)&&ie!==s.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:ie}:{},errors:s.errors}),re.shouldFocus&&!be&&Qd(r,B,Q?we:c.mount),be},F=Q=>{const re={...o.mount?a:i};return jn(Q)?re:ni(Q)?Re(re,Q):Q.map(ie=>Re(re,ie))},$=(Q,re)=>({invalid:!!Re((re||s).errors,Q),isDirty:!!Re((re||s).dirtyFields,Q),error:Re((re||s).errors,Q),isValidating:!!Re(s.validatingFields,Q),isTouched:!!Re((re||s).touchedFields,Q)}),z=Q=>{Q&&Xd(Q).forEach(re=>En(s.errors,re)),u.state.next({errors:Q?s.errors:{}})},G=(Q,re,ie)=>{const be=(Re(r,Q,{_f:{}})._f||{}).ref,we=Re(s.errors,Q)||{},{ref:ve,message:Ae,type:tt,...Xe}=we;Lt(s.errors,Q,{...Xe,...re,ref:be}),u.state.next({name:Q,errors:s.errors,isValid:!1}),ie&&ie.shouldFocus&&be&&be.focus&&be.focus()},X=(Q,re)=>Cr(Q)?u.state.subscribe({next:ie=>"values"in ie&&Q(P(void 0,re),ie)}):P(Q,re,!0),J=Q=>u.state.subscribe({next:re=>{nK(Q.name,re.name,Q.exact)&&tK(re,Q.formState||f,xe,Q.reRenderRoot)&&Q.callback({values:{...a},...s,...re,defaultValues:i})}}).unsubscribe,K=Q=>(o.mount=!0,m={...m,...Q.formState},J({...Q,formState:m})),U=(Q,re={})=>{for(const ie of Q?Xd(Q):c.mount)c.mount.delete(ie),c.array.delete(ie),re.keepValue||(En(r,ie),En(a,ie)),!re.keepError&&En(s.errors,ie),!re.keepDirty&&En(s.dirtyFields,ie),!re.keepTouched&&En(s.touchedFields,ie),!re.keepIsValidating&&En(s.validatingFields,ie),!t.shouldUnregister&&!re.keepDefaultValue&&En(i,ie);u.state.next({values:On(a)}),u.state.next({...s,...re.keepDirty?{isDirty:R()}:{}}),!re.keepIsValid&&v()},ne=({disabled:Q,name:re})=>{(Is(Q)&&o.mount||Q||c.disabled.has(re))&&(Q?c.disabled.add(re):c.disabled.delete(re))},se=(Q,re={})=>{let ie=Re(r,Q);const be=Is(re.disabled)||Is(t.disabled);return Lt(r,Q,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:Q}},name:Q,mount:!0,...re}}),c.mount.add(Q),ie?ne({disabled:Is(re.disabled)?re.disabled:t.disabled,name:Q}):N(Q,!0,re.value),{...be?{disabled:re.disabled||t.disabled}:{},...t.progressive?{required:!!re.required,min:jd(re.min),max:jd(re.max),minLength:jd(re.minLength),maxLength:jd(re.maxLength),pattern:jd(re.pattern)}:{},name:Q,onChange:Z,onBlur:Z,ref:we=>{if(we){se(Q,re),ie=Re(r,Q);const ve=jn(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,Ae=KG(ve),tt=ie._f.refs||[];if(Ae?tt.find(Xe=>Xe===ve):ve===ie._f.ref)return;Lt(r,Q,{_f:{...ie._f,...Ae?{refs:[...tt.filter(Tv),ve,...Array.isArray(Re(i,Q))?[{}]:[]],ref:{type:ve.type,name:Q}}:{ref:ve}}}),N(Q,!1,void 0,ve)}else ie=Re(r,Q,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||re.shouldUnregister)&&!(ZR(c.array,Q)&&o.action)&&c.unMount.add(Q)}}},le=()=>t.shouldFocusError&&Qd(r,B,c.mount),pe=Q=>{Is(Q)&&(u.state.next({disabled:Q}),Qd(r,(re,ie)=>{const be=Re(r,ie);be&&(re.disabled=be._f.disabled||Q,Array.isArray(be._f.refs)&&be._f.refs.forEach(we=>{we.disabled=be._f.disabled||Q}))},0,!1))},ee=(Q,re)=>async ie=>{let be;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let we=On(a);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:Ae}=await C();s.errors=ve,we=On(Ae)}else await A(r);if(c.disabled.size)for(const ve of c.disabled)En(we,ve);if(En(s.errors,"root"),js(s.errors)){u.state.next({errors:{}});try{await Q(we,ie)}catch(ve){be=ve}}else re&&await re({...s.errors},ie),le(),setTimeout(le);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:js(s.errors)&&!be,submitCount:s.submitCount+1,errors:s.errors}),be)throw be},ye=(Q,re={})=>{Re(r,Q)&&(jn(re.defaultValue)?W(Q,On(Re(i,Q))):(W(Q,re.defaultValue),Lt(i,Q,On(re.defaultValue))),re.keepTouched||En(s.touchedFields,Q),re.keepDirty||(En(s.dirtyFields,Q),s.isDirty=re.defaultValue?R(Q,On(Re(i,Q))):R()),re.keepError||(En(s.errors,Q),f.isValid&&v()),u.state.next({...s}))},Ce=(Q,re={})=>{const ie=Q?On(Q):i,be=On(ie),we=js(Q),ve=we?i:be;if(re.keepDefaultValues||(i=ie),!re.keepValues){if(re.keepDirtyValues){const Ae=new Set([...c.mount,...Object.keys(wd(i,a))]);for(const tt of Array.from(Ae))Re(s.dirtyFields,tt)?Lt(ve,tt,Re(a,tt)):W(tt,Re(ve,tt))}else{if(Iw&&jn(Q))for(const Ae of c.mount){const tt=Re(r,Ae);if(tt&&tt._f){const Xe=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(xm(Xe)){const zt=Xe.closest("form");if(zt){zt.reset();break}}}}if(re.keepFieldsRef)for(const Ae of c.mount)W(Ae,Re(ve,Ae));else r={}}a=t.shouldUnregister?re.keepDefaultValues?On(i):{}:On(ve),u.array.next({values:{...ve}}),u.state.next({values:{...ve}})}c={mount:re.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!re.keepIsValid||!!re.keepDirtyValues,o.watch=!!t.shouldUnregister,u.state.next({submitCount:re.keepSubmitCount?s.submitCount:0,isDirty:we?!1:re.keepDirty?s.isDirty:!!(re.keepDefaultValues&&!Ri(Q,i)),isSubmitted:re.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:we?{}:re.keepDirtyValues?re.keepDefaultValues&&a?wd(i,a):s.dirtyFields:re.keepDefaultValues&&Q?wd(i,Q):re.keepDirty?s.dirtyFields:{},touchedFields:re.keepTouched?s.touchedFields:{},errors:re.keepErrors?s.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},ue=(Q,re)=>Ce(Cr(Q)?Q(a):Q,re),je=(Q,re={})=>{const ie=Re(r,Q),be=ie&&ie._f;if(be){const we=be.refs?be.refs[0]:be.ref;we.focus&&(we.focus(),re.shouldSelect&&Cr(we.select)&&we.select())}},xe=Q=>{s={...s,...Q}},fe={control:{register:se,unregister:U,getFieldState:$,handleSubmit:ee,setError:G,_subscribe:J,_runSchema:C,_focusError:le,_getWatch:P,_getDirty:R,_setValid:v,_setFieldArray:b,_setDisabledField:ne,_setErrors:_,_getFieldArray:T,_reset:Ce,_resetDefaultValues:()=>Cr(t.defaultValues)&&t.defaultValues().then(Q=>{ue(Q,t.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:pe,_subjects:u,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(Q){o=Q},get _defaultValues(){return i},get _names(){return c},set _names(Q){c=Q},get _formState(){return s},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:K,trigger:q,register:se,handleSubmit:ee,watch:X,setValue:W,getValues:F,reset:ue,resetField:ye,clearErrors:z,unregister:U,setError:G,setFocus:je,getFieldState:$};return{...fe,formControl:fe}}function r4(e={}){const t=_e.useRef(void 0),s=_e.useRef(void 0),[r,i]=_e.useState({isDirty:!1,isValidating:!1,isLoading:Cr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Cr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Cr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=oK(e);t.current={...c,formState:r}}const a=t.current.control;return a._options=e,Bw(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),a._formState.isReady=!0,o},[a]),_e.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),_e.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),_e.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),_e.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),_e.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),_e.useEffect(()=>{e.values&&!Ri(e.values,s.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),_e.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=KR(r,a),t.current}const MS=(e,t,s)=>{if(e&&"reportValidity"in e){const r=Re(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},i4=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?MS(r.ref,s,e):r.refs&&r.refs.forEach(i=>MS(i,s,e))}},lK=(e,t)=>{t.shouldUseNativeValidation&&i4(e,t);const s={};for(const r in e){const i=Re(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(cK(t.names||Object.keys(e),r)){const o=Object.assign({},Re(s,r));Lt(o,"root",a),Lt(s,r,o)}else Lt(s,r,a)}return s},cK=(e,t)=>e.some(s=>s.startsWith(t+"."));var dK=function(e,t){for(var s={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];s[o]={message:c.message,type:c.code}}else s[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return e.push(m)})}),t){var d=s[o].types,h=d&&d[r.code];s[o]=XR(o,t,s,i,h?[].concat(h,r.message):r.message)}e.shift()}return s},a4=function(e,t,s){return s===void 0&&(s={}),function(r,i,a){try{return Promise.resolve(function(o,c){try{var d=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(h){return a.shouldUseNativeValidation&&i4({},a),{errors:{},values:s.raw?r:h}})}catch(h){return c(h)}return d&&d.then?d.then(void 0,c):d}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:lK(dK(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},At;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function s(i){throw new Error}e.assertNever=s,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(At||(At={}));var IS;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(IS||(IS={}));const He=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),va=e=>{switch(typeof e){case"undefined":return He.undefined;case"string":return He.string;case"number":return Number.isNaN(e)?He.nan:He.number;case"boolean":return He.boolean;case"function":return He.function;case"bigint":return He.bigint;case"symbol":return He.symbol;case"object":return Array.isArray(e)?He.array:e===null?He.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?He.promise:typeof Map<"u"&&e instanceof Map?He.map:typeof Set<"u"&&e instanceof Set?He.set:typeof Date<"u"&&e instanceof Date?He.date:He.object;default:return He.unknown}},Oe=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ji extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let c=r,d=0;for(;d<o.path.length;){const h=o.path[d];d===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(s(o))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return i(this),r}static assert(t){if(!(t instanceof Ji))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];s[a]=s[a]||[],s[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Ji.create=e=>new Ji(e);const Ty=(e,t)=>{let s;switch(e.code){case Oe.invalid_type:e.received===He.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case Oe.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,At.jsonStringifyReplacer)}`;break;case Oe.unrecognized_keys:s=`Unrecognized key(s) in object: ${At.joinValues(e.keys,", ")}`;break;case Oe.invalid_union:s="Invalid input";break;case Oe.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${At.joinValues(e.options)}`;break;case Oe.invalid_enum_value:s=`Invalid enum value. Expected ${At.joinValues(e.options)}, received '${e.received}'`;break;case Oe.invalid_arguments:s="Invalid function arguments";break;case Oe.invalid_return_type:s="Invalid function return type";break;case Oe.invalid_date:s="Invalid date";break;case Oe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:At.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case Oe.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case Oe.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case Oe.custom:s="Invalid input";break;case Oe.invalid_intersection_types:s="Intersection results could not be merged";break;case Oe.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case Oe.not_finite:s="Number must be finite";break;default:s=t.defaultError,At.assertNever(e)}return{message:s}};let uK=Ty;function hK(){return uK}const fK=e=>{const{data:t,path:s,errorMaps:r,issueData:i}=e,a=[...s,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(o,{data:t,defaultError:c}).message;return{...i,path:a,message:c}};function $e(e,t){const s=hK(),r=fK({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===Ty?void 0:Ty].filter(i=>!!i)});e.common.issues.push(r)}class vs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const r=[];for(const i of s){if(i.status==="aborted")return ct;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,s){const r=[];for(const i of s){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return vs.mergeObjectSync(t,r)}static mergeObjectSync(t,s){const r={};for(const i of s){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return ct;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const ct=Object.freeze({status:"aborted"}),Ld=e=>({status:"dirty",value:e}),fr=e=>({status:"valid",value:e}),DS=e=>e.status==="aborted",FS=e=>e.status==="dirty",jc=e=>e.status==="valid",wm=e=>typeof Promise<"u"&&e instanceof Promise;var Ke;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ke||(Ke={}));class xi{constructor(t,s,r,i){this._cachedPath=[],this.parent=t,this.data=s,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $S=(e,t)=>{if(jc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Ji(e.common.issues);return this._error=s,this._error}}};function bt(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:i}=e;if(t&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>{const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:d??s??c.defaultError}},description:i}}class kt{get description(){return this._def.description}_getType(t){return va(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:va(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new vs,ctx:{common:t.parent.common,data:t.data,parsedType:va(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(wm(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const r=this.safeParse(t,s);if(r.success)return r.data;throw r.error}safeParse(t,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:va(t)},i=this._parseSync({data:t,path:r.path,parent:r});return $S(r,i)}"~validate"(t){var r,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:va(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return jc(a)?{value:a.value}:{issues:s.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>jc(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,s){const r=await this.safeParseAsync(t,s);if(r.success)return r.data;throw r.error}async safeParseAsync(t,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:va(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(wm(i)?i:Promise.resolve(i));return $S(r,a)}refine(t,s){const r=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const o=t(i),c=()=>a.addIssue({code:Oe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,s){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof s=="function"?s(r,i):s),!1))}_refinement(t){return new Ya({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Ba.create(this,this._def)}nullable(){return Cc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mi.create(this)}promise(){return Sm.create(this,this._def)}or(t){return jm.create([this,t],this._def)}and(t){return _m.create(this,t,this._def)}transform(t){return new Ya({...bt(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new Uy({...bt(this._def),innerType:this,defaultValue:s,typeName:at.ZodDefault})}brand(){return new IK({typeName:at.ZodBranded,type:this,...bt(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new qy({...bt(this._def),innerType:this,catchValue:s,typeName:at.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return Uw.create(this,t)}readonly(){return Wy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mK=/^c[^\s-]{8,}$/i,pK=/^[0-9a-z]+$/,gK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,vK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xK=/^[a-z0-9_-]{21}$/i,yK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Av;const _K=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,EK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,o4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PK=new RegExp(`^${o4}$`);function l4(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function TK(e){return new RegExp(`^${l4(e)}$`)}function AK(e){let t=`${o4}T${l4(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function OK(e,t){return!!((t==="v4"||!t)&&_K.test(e)||(t==="v6"||!t)&&SK.test(e))}function LK(e,t){if(!yK.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function RK(e,t){return!!((t==="v4"||!t)&&NK.test(e)||(t==="v6"||!t)&&kK.test(e))}class Fi extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==He.string){const a=this._getOrReturnCtx(t);return $e(a,{code:Oe.invalid_type,expected:He.string,received:a.parsedType}),ct}const r=new vs;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,c=t.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?$e(i,{code:Oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&$e(i,{code:Oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")wK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"email",code:Oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Av||(Av=new RegExp(jK,"u")),Av.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"emoji",code:Oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")vK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"uuid",code:Oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")xK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"nanoid",code:Oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")mK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cuid",code:Oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")pK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cuid2",code:Oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")gK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"ulid",code:Oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),$e(i,{validation:"url",code:Oe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"regex",code:Oe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?AK(a).test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?PK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?TK(a).test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?bK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"duration",code:Oe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?OK(t.data,a.version)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"ip",code:Oe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?LK(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"jwt",code:Oe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?RK(t.data,a.version)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cidr",code:Oe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?CK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"base64",code:Oe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?EK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"base64url",code:Oe.invalid_string,message:a.message}),r.dirty()):At.assertNever(a);return{status:r.value,value:t.data}}_regex(t,s,r){return this.refinement(i=>t.test(i),{validation:s,code:Oe.invalid_string,...Ke.errToObj(r)})}_addCheck(t){return new Fi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ke.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ke.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...Ke.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...Ke.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...Ke.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...Ke.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...Ke.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...Ke.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...Ke.errToObj(s)})}nonempty(t){return this.min(1,Ke.errToObj(t))}trim(){return new Fi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Fi.create=e=>new Fi({checks:[],typeName:at.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...bt(e)});function MK(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=s>r?s:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class _c extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==He.number){const a=this._getOrReturnCtx(t);return $e(a,{code:Oe.invalid_type,expected:He.number,received:a.parsedType}),ct}let r;const i=new vs;for(const a of this._def.checks)a.kind==="int"?At.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{code:Oe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:Oe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:Oe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?MK(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),$e(r,{code:Oe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{code:Oe.not_finite,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,Ke.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Ke.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Ke.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Ke.toString(s))}setLimit(t,s,r,i){return new _c({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:Ke.toString(i)}]})}_addCheck(t){return new _c({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:Ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&At.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(s)&&Number.isFinite(t)}}_c.create=e=>new _c({checks:[],typeName:at.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...bt(e)});class Nc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==He.bigint)return this._getInvalidInput(t);let r;const i=new vs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:Oe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:Oe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:Oe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return $e(s,{code:Oe.invalid_type,expected:He.bigint,received:s.parsedType}),ct}gte(t,s){return this.setLimit("min",t,!0,Ke.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Ke.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Ke.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Ke.toString(s))}setLimit(t,s,r,i){return new Nc({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:Ke.toString(i)}]})}_addCheck(t){return new Nc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Nc.create=e=>new Nc({checks:[],typeName:at.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...bt(e)});class Ay extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==He.boolean){const r=this._getOrReturnCtx(t);return $e(r,{code:Oe.invalid_type,expected:He.boolean,received:r.parsedType}),ct}return fr(t.data)}}Ay.create=e=>new Ay({typeName:at.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...bt(e)});class Lu extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==He.date){const a=this._getOrReturnCtx(t);return $e(a,{code:Oe.invalid_type,expected:He.date,received:a.parsedType}),ct}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return $e(a,{code:Oe.invalid_date}),ct}const r=new vs;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):At.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lu({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:Ke.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:Ke.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Lu.create=e=>new Lu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:at.ZodDate,...bt(e)});class Oy extends kt{_parse(t){if(this._getType(t)!==He.symbol){const r=this._getOrReturnCtx(t);return $e(r,{code:Oe.invalid_type,expected:He.symbol,received:r.parsedType}),ct}return fr(t.data)}}Oy.create=e=>new Oy({typeName:at.ZodSymbol,...bt(e)});class Ly extends kt{_parse(t){if(this._getType(t)!==He.undefined){const r=this._getOrReturnCtx(t);return $e(r,{code:Oe.invalid_type,expected:He.undefined,received:r.parsedType}),ct}return fr(t.data)}}Ly.create=e=>new Ly({typeName:at.ZodUndefined,...bt(e)});class Ry extends kt{_parse(t){if(this._getType(t)!==He.null){const r=this._getOrReturnCtx(t);return $e(r,{code:Oe.invalid_type,expected:He.null,received:r.parsedType}),ct}return fr(t.data)}}Ry.create=e=>new Ry({typeName:at.ZodNull,...bt(e)});class My extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return fr(t.data)}}My.create=e=>new My({typeName:at.ZodAny,...bt(e)});class Iy extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return fr(t.data)}}Iy.create=e=>new Iy({typeName:at.ZodUnknown,...bt(e)});class Ka extends kt{_parse(t){const s=this._getOrReturnCtx(t);return $e(s,{code:Oe.invalid_type,expected:He.never,received:s.parsedType}),ct}}Ka.create=e=>new Ka({typeName:at.ZodNever,...bt(e)});class Dy extends kt{_parse(t){if(this._getType(t)!==He.undefined){const r=this._getOrReturnCtx(t);return $e(r,{code:Oe.invalid_type,expected:He.void,received:r.parsedType}),ct}return fr(t.data)}}Dy.create=e=>new Dy({typeName:at.ZodVoid,...bt(e)});class mi extends kt{_parse(t){const{ctx:s,status:r}=this._processInputParams(t),i=this._def;if(s.parsedType!==He.array)return $e(s,{code:Oe.invalid_type,expected:He.array,received:s.parsedType}),ct;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,c=s.data.length<i.exactLength.value;(o||c)&&($e(s,{code:o?Oe.too_big:Oe.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&($e(s,{code:Oe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&($e(s,{code:Oe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,c)=>i.type._parseAsync(new xi(s,o,s.path,c)))).then(o=>vs.mergeArray(r,o));const a=[...s.data].map((o,c)=>i.type._parseSync(new xi(s,o,s.path,c)));return vs.mergeArray(r,a)}get element(){return this._def.type}min(t,s){return new mi({...this._def,minLength:{value:t,message:Ke.toString(s)}})}max(t,s){return new mi({...this._def,maxLength:{value:t,message:Ke.toString(s)}})}length(t,s){return new mi({...this._def,exactLength:{value:t,message:Ke.toString(s)}})}nonempty(t){return this.min(1,t)}}mi.create=(e,t)=>new mi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...bt(t)});function gl(e){if(e instanceof fn){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=Ba.create(gl(r))}return new fn({...e._def,shape:()=>t})}else return e instanceof mi?new mi({...e._def,type:gl(e.element)}):e instanceof Ba?Ba.create(gl(e.unwrap())):e instanceof Cc?Cc.create(gl(e.unwrap())):e instanceof Yo?Yo.create(e.items.map(t=>gl(t))):e}class fn extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=At.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==He.object){const h=this._getOrReturnCtx(t);return $e(h,{code:Oe.invalid_type,expected:He.object,received:h.parsedType}),ct}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ka&&this._def.unknownKeys==="strip"))for(const h in i.data)o.includes(h)||c.push(h);const d=[];for(const h of o){const f=a[h],m=i.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new xi(i,m,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Ka){const h=this._def.unknownKeys;if(h==="passthrough")for(const f of c)d.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(h==="strict")c.length>0&&($e(i,{code:Oe.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const f of c){const m=i.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new xi(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const f of d){const m=await f.key,u=await f.value;h.push({key:m,value:u,alwaysSet:f.alwaysSet})}return h}).then(h=>vs.mergeObjectSync(r,h)):vs.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(t){return Ke.errToObj,new fn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:Ke.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new fn({...this._def,unknownKeys:"strip"})}passthrough(){return new fn({...this._def,unknownKeys:"passthrough"})}extend(t){return new fn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new fn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:at.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new fn({...this._def,catchall:t})}pick(t){const s={};for(const r of At.objectKeys(t))t[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new fn({...this._def,shape:()=>s})}omit(t){const s={};for(const r of At.objectKeys(this.shape))t[r]||(s[r]=this.shape[r]);return new fn({...this._def,shape:()=>s})}deepPartial(){return gl(this)}partial(t){const s={};for(const r of At.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?s[r]=i:s[r]=i.optional()}return new fn({...this._def,shape:()=>s})}required(t){const s={};for(const r of At.objectKeys(this.shape))if(t&&!t[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ba;)a=a._def.innerType;s[r]=a}return new fn({...this._def,shape:()=>s})}keyof(){return c4(At.objectKeys(this.shape))}}fn.create=(e,t)=>new fn({shape:()=>e,unknownKeys:"strip",catchall:Ka.create(),typeName:at.ZodObject,...bt(t)});fn.strictCreate=(e,t)=>new fn({shape:()=>e,unknownKeys:"strict",catchall:Ka.create(),typeName:at.ZodObject,...bt(t)});fn.lazycreate=(e,t)=>new fn({shape:e,unknownKeys:"strip",catchall:Ka.create(),typeName:at.ZodObject,...bt(t)});class jm extends kt{_parse(t){const{ctx:s}=this._processInputParams(t),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return s.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new Ji(c.ctx.common.issues));return $e(s,{code:Oe.invalid_union,unionErrors:o}),ct}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const d of r){const h={...s,common:{...s.common,issues:[]},parent:null},f=d._parseSync({data:s.data,path:s.path,parent:h});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(d=>new Ji(d));return $e(s,{code:Oe.invalid_union,unionErrors:c}),ct}}get options(){return this._def.options}}jm.create=(e,t)=>new jm({options:e,typeName:at.ZodUnion,...bt(t)});function Fy(e,t){const s=va(e),r=va(t);if(e===t)return{valid:!0,data:e};if(s===He.object&&r===He.object){const i=At.objectKeys(t),a=At.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of a){const d=Fy(e[c],t[c]);if(!d.valid)return{valid:!1};o[c]=d.data}return{valid:!0,data:o}}else if(s===He.array&&r===He.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],c=t[a],d=Fy(o,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return s===He.date&&r===He.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _m extends kt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(DS(a)||DS(o))return ct;const c=Fy(a.value,o.value);return c.valid?((FS(a)||FS(o))&&s.dirty(),{status:s.value,value:c.data}):($e(r,{code:Oe.invalid_intersection_types}),ct)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_m.create=(e,t,s)=>new _m({left:e,right:t,typeName:at.ZodIntersection,...bt(s)});class Yo extends kt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==He.array)return $e(r,{code:Oe.invalid_type,expected:He.array,received:r.parsedType}),ct;if(r.data.length<this._def.items.length)return $e(r,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&r.data.length>this._def.items.length&&($e(r,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new xi(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>vs.mergeArray(s,o)):vs.mergeArray(s,a)}get items(){return this._def.items}rest(t){return new Yo({...this._def,rest:t})}}Yo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yo({items:e,typeName:at.ZodTuple,rest:null,...bt(t)})};class Nm extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==He.object)return $e(r,{code:Oe.invalid_type,expected:He.object,received:r.parsedType}),ct;const i=[],a=this._def.keyType,o=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new xi(r,c,r.path,c)),value:o._parse(new xi(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?vs.mergeObjectAsync(s,i):vs.mergeObjectSync(s,i)}get element(){return this._def.valueType}static create(t,s,r){return s instanceof kt?new Nm({keyType:t,valueType:s,typeName:at.ZodRecord,...bt(r)}):new Nm({keyType:Fi.create(),valueType:t,typeName:at.ZodRecord,...bt(s)})}}class $y extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==He.map)return $e(r,{code:Oe.invalid_type,expected:He.map,received:r.parsedType}),ct;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([c,d],h)=>({key:i._parse(new xi(r,c,r.path,[h,"key"])),value:a._parse(new xi(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of o){const h=await d.key,f=await d.value;if(h.status==="aborted"||f.status==="aborted")return ct;(h.status==="dirty"||f.status==="dirty")&&s.dirty(),c.set(h.value,f.value)}return{status:s.value,value:c}})}else{const c=new Map;for(const d of o){const h=d.key,f=d.value;if(h.status==="aborted"||f.status==="aborted")return ct;(h.status==="dirty"||f.status==="dirty")&&s.dirty(),c.set(h.value,f.value)}return{status:s.value,value:c}}}}$y.create=(e,t,s)=>new $y({valueType:t,keyType:e,typeName:at.ZodMap,...bt(s)});class Sc extends kt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==He.set)return $e(r,{code:Oe.invalid_type,expected:He.set,received:r.parsedType}),ct;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&($e(r,{code:Oe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&($e(r,{code:Oe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function o(d){const h=new Set;for(const f of d){if(f.status==="aborted")return ct;f.status==="dirty"&&s.dirty(),h.add(f.value)}return{status:s.value,value:h}}const c=[...r.data.values()].map((d,h)=>a._parse(new xi(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>o(d)):o(c)}min(t,s){return new Sc({...this._def,minSize:{value:t,message:Ke.toString(s)}})}max(t,s){return new Sc({...this._def,maxSize:{value:t,message:Ke.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Sc.create=(e,t)=>new Sc({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet,...bt(t)});class By extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}By.create=(e,t)=>new By({getter:e,typeName:at.ZodLazy,...bt(t)});class zy extends kt{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return $e(s,{received:s.data,code:Oe.invalid_literal,expected:this._def.value}),ct}return{status:"valid",value:t.data}}get value(){return this._def.value}}zy.create=(e,t)=>new zy({value:e,typeName:at.ZodLiteral,...bt(t)});function c4(e,t){return new kc({values:e,typeName:at.ZodEnum,...bt(t)})}class kc extends kt{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),r=this._def.values;return $e(s,{expected:At.joinValues(r),received:s.parsedType,code:Oe.invalid_type}),ct}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),r=this._def.values;return $e(s,{received:s.data,code:Oe.invalid_enum_value,options:r}),ct}return fr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return kc.create(t,{...this._def,...s})}exclude(t,s=this._def){return kc.create(this.options.filter(r=>!t.includes(r)),{...this._def,...s})}}kc.create=c4;class Vy extends kt{_parse(t){const s=At.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==He.string&&r.parsedType!==He.number){const i=At.objectValues(s);return $e(r,{expected:At.joinValues(i),received:r.parsedType,code:Oe.invalid_type}),ct}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=At.objectValues(s);return $e(r,{received:r.data,code:Oe.invalid_enum_value,options:i}),ct}return fr(t.data)}get enum(){return this._def.values}}Vy.create=(e,t)=>new Vy({values:e,typeName:at.ZodNativeEnum,...bt(t)});class Sm extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==He.promise&&s.common.async===!1)return $e(s,{code:Oe.invalid_type,expected:He.promise,received:s.parsedType}),ct;const r=s.parsedType===He.promise?s.data:Promise.resolve(s.data);return fr(r.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Sm.create=(e,t)=>new Sm({type:e,typeName:at.ZodPromise,...bt(t)});class Ya extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{$e(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async c=>{if(s.value==="aborted")return ct;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?ct:d.status==="dirty"||s.value==="dirty"?Ld(d.value):d});{if(s.value==="aborted")return ct;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?ct:c.status==="dirty"||s.value==="dirty"?Ld(c.value):c}}if(i.type==="refinement"){const o=c=>{const d=i.refinement(c,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?ct:(c.status==="dirty"&&s.dirty(),o(c.value),{status:s.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?ct:(c.status==="dirty"&&s.dirty(),o(c.value).then(()=>({status:s.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!jc(o))return ct;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>jc(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:s.value,value:c})):ct);At.assertNever(i)}}Ya.create=(e,t,s)=>new Ya({schema:e,typeName:at.ZodEffects,effect:t,...bt(s)});Ya.createWithPreprocess=(e,t,s)=>new Ya({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects,...bt(s)});class Ba extends kt{_parse(t){return this._getType(t)===He.undefined?fr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ba.create=(e,t)=>new Ba({innerType:e,typeName:at.ZodOptional,...bt(t)});class Cc extends kt{_parse(t){return this._getType(t)===He.null?fr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cc.create=(e,t)=>new Cc({innerType:e,typeName:at.ZodNullable,...bt(t)});class Uy extends kt{_parse(t){const{ctx:s}=this._processInputParams(t);let r=s.data;return s.parsedType===He.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Uy.create=(e,t)=>new Uy({innerType:e,typeName:at.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...bt(t)});class qy extends kt{_parse(t){const{ctx:s}=this._processInputParams(t),r={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return wm(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ji(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ji(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}qy.create=(e,t)=>new qy({innerType:e,typeName:at.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...bt(t)});class Hy extends kt{_parse(t){if(this._getType(t)!==He.nan){const r=this._getOrReturnCtx(t);return $e(r,{code:Oe.invalid_type,expected:He.nan,received:r.parsedType}),ct}return{status:"valid",value:t.data}}}Hy.create=e=>new Hy({typeName:at.ZodNaN,...bt(e)});class IK extends kt{_parse(t){const{ctx:s}=this._processInputParams(t),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Uw extends kt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ct:a.status==="dirty"?(s.dirty(),Ld(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ct:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,s){return new Uw({in:t,out:s,typeName:at.ZodPipeline})}}class Wy extends kt{_parse(t){const s=this._def.innerType._parse(t),r=i=>(jc(i)&&(i.value=Object.freeze(i.value)),i);return wm(s)?s.then(i=>r(i)):r(s)}unwrap(){return this._def.innerType}}Wy.create=(e,t)=>new Wy({innerType:e,typeName:at.ZodReadonly,...bt(t)});fn.lazycreate;var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));const wn=Fi.create,Mi=_c.create;Hy.create;Nc.create;const Zy=Ay.create;Lu.create;Oy.create;Ly.create;Ry.create;const Gy=My.create;Iy.create;Ka.create;Dy.create;const km=mi.create,d4=fn.create;fn.strictCreate;jm.create;_m.create;Yo.create;const u4=Nm.create;$y.create;Sc.create;By.create;zy.create;const h4=kc.create;Vy.create;Sm.create;Ya.create;Ba.create;Cc.create;Ya.createWithPreprocess;function DK(){this.__data__=[],this.size=0}var FK=DK;function $K(e,t){return e===t||e!==e&&t!==t}var f4=$K,BK=f4;function zK(e,t){for(var s=e.length;s--;)if(BK(e[s][0],t))return s;return-1}var Vp=zK,VK=Vp,UK=Array.prototype,qK=UK.splice;function HK(e){var t=this.__data__,s=VK(t,e);if(s<0)return!1;var r=t.length-1;return s==r?t.pop():qK.call(t,s,1),--this.size,!0}var WK=HK,ZK=Vp;function GK(e){var t=this.__data__,s=ZK(t,e);return s<0?void 0:t[s][1]}var KK=GK,YK=Vp;function XK(e){return YK(this.__data__,e)>-1}var QK=XK,JK=Vp;function eY(e,t){var s=this.__data__,r=JK(s,e);return r<0?(++this.size,s.push([e,t])):s[r][1]=t,this}var tY=eY,nY=FK,sY=WK,rY=KK,iY=QK,aY=tY;function qc(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}qc.prototype.clear=nY;qc.prototype.delete=sY;qc.prototype.get=rY;qc.prototype.has=iY;qc.prototype.set=aY;var Up=qc,oY=Up;function lY(){this.__data__=new oY,this.size=0}var cY=lY;function dY(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}var uY=dY;function hY(e){return this.__data__.get(e)}var fY=hY;function mY(e){return this.__data__.has(e)}var pY=mY,gY=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,m4=gY,vY=m4,xY=typeof self=="object"&&self&&self.Object===Object&&self,yY=vY||xY||Function("return this")(),ia=yY,bY=ia,wY=bY.Symbol,qw=wY,BS=qw,p4=Object.prototype,jY=p4.hasOwnProperty,_Y=p4.toString,_d=BS?BS.toStringTag:void 0;function NY(e){var t=jY.call(e,_d),s=e[_d];try{e[_d]=void 0;var r=!0}catch{}var i=_Y.call(e);return r&&(t?e[_d]=s:delete e[_d]),i}var SY=NY,kY=Object.prototype,CY=kY.toString;function EY(e){return CY.call(e)}var PY=EY,zS=qw,TY=SY,AY=PY,OY="[object Null]",LY="[object Undefined]",VS=zS?zS.toStringTag:void 0;function RY(e){return e==null?e===void 0?LY:OY:VS&&VS in Object(e)?TY(e):AY(e)}var qp=RY;function MY(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var g4=MY,IY=qp,DY=g4,FY="[object AsyncFunction]",$Y="[object Function]",BY="[object GeneratorFunction]",zY="[object Proxy]";function VY(e){if(!DY(e))return!1;var t=IY(e);return t==$Y||t==BY||t==FY||t==zY}var v4=VY,UY=ia,qY=UY["__core-js_shared__"],HY=qY,Ov=HY,US=function(){var e=/[^.]+$/.exec(Ov&&Ov.keys&&Ov.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function WY(e){return!!US&&US in e}var ZY=WY,GY=Function.prototype,KY=GY.toString;function YY(e){if(e!=null){try{return KY.call(e)}catch{}try{return e+""}catch{}}return""}var x4=YY,XY=v4,QY=ZY,JY=g4,eX=x4,tX=/[\\^$.*+?()[\]{}|]/g,nX=/^\[object .+?Constructor\]$/,sX=Function.prototype,rX=Object.prototype,iX=sX.toString,aX=rX.hasOwnProperty,oX=RegExp("^"+iX.call(aX).replace(tX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lX(e){if(!JY(e)||QY(e))return!1;var t=XY(e)?oX:nX;return t.test(eX(e))}var cX=lX;function dX(e,t){return e==null?void 0:e[t]}var uX=dX,hX=cX,fX=uX;function mX(e,t){var s=fX(e,t);return hX(s)?s:void 0}var Hc=mX,pX=Hc,gX=ia,vX=pX(gX,"Map"),Hw=vX,xX=Hc,yX=xX(Object,"create"),Hp=yX,qS=Hp;function bX(){this.__data__=qS?qS(null):{},this.size=0}var wX=bX;function jX(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _X=jX,NX=Hp,SX="__lodash_hash_undefined__",kX=Object.prototype,CX=kX.hasOwnProperty;function EX(e){var t=this.__data__;if(NX){var s=t[e];return s===SX?void 0:s}return CX.call(t,e)?t[e]:void 0}var PX=EX,TX=Hp,AX=Object.prototype,OX=AX.hasOwnProperty;function LX(e){var t=this.__data__;return TX?t[e]!==void 0:OX.call(t,e)}var RX=LX,MX=Hp,IX="__lodash_hash_undefined__";function DX(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=MX&&t===void 0?IX:t,this}var FX=DX,$X=wX,BX=_X,zX=PX,VX=RX,UX=FX;function Wc(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}Wc.prototype.clear=$X;Wc.prototype.delete=BX;Wc.prototype.get=zX;Wc.prototype.has=VX;Wc.prototype.set=UX;var qX=Wc,HS=qX,HX=Up,WX=Hw;function ZX(){this.size=0,this.__data__={hash:new HS,map:new(WX||HX),string:new HS}}var GX=ZX;function KX(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var YX=KX,XX=YX;function QX(e,t){var s=e.__data__;return XX(t)?s[typeof t=="string"?"string":"hash"]:s.map}var Wp=QX,JX=Wp;function eQ(e){var t=JX(this,e).delete(e);return this.size-=t?1:0,t}var tQ=eQ,nQ=Wp;function sQ(e){return nQ(this,e).get(e)}var rQ=sQ,iQ=Wp;function aQ(e){return iQ(this,e).has(e)}var oQ=aQ,lQ=Wp;function cQ(e,t){var s=lQ(this,e),r=s.size;return s.set(e,t),this.size+=s.size==r?0:1,this}var dQ=cQ,uQ=GX,hQ=tQ,fQ=rQ,mQ=oQ,pQ=dQ;function Zc(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}Zc.prototype.clear=uQ;Zc.prototype.delete=hQ;Zc.prototype.get=fQ;Zc.prototype.has=mQ;Zc.prototype.set=pQ;var y4=Zc,gQ=Up,vQ=Hw,xQ=y4,yQ=200;function bQ(e,t){var s=this.__data__;if(s instanceof gQ){var r=s.__data__;if(!vQ||r.length<yQ-1)return r.push([e,t]),this.size=++s.size,this;s=this.__data__=new xQ(r)}return s.set(e,t),this.size=s.size,this}var wQ=bQ,jQ=Up,_Q=cY,NQ=uY,SQ=fY,kQ=pY,CQ=wQ;function Gc(e){var t=this.__data__=new jQ(e);this.size=t.size}Gc.prototype.clear=_Q;Gc.prototype.delete=NQ;Gc.prototype.get=SQ;Gc.prototype.has=kQ;Gc.prototype.set=CQ;var EQ=Gc,PQ="__lodash_hash_undefined__";function TQ(e){return this.__data__.set(e,PQ),this}var AQ=TQ;function OQ(e){return this.__data__.has(e)}var LQ=OQ,RQ=y4,MQ=AQ,IQ=LQ;function Cm(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new RQ;++t<s;)this.add(e[t])}Cm.prototype.add=Cm.prototype.push=MQ;Cm.prototype.has=IQ;var DQ=Cm;function FQ(e,t){for(var s=-1,r=e==null?0:e.length;++s<r;)if(t(e[s],s,e))return!0;return!1}var $Q=FQ;function BQ(e,t){return e.has(t)}var zQ=BQ,VQ=DQ,UQ=$Q,qQ=zQ,HQ=1,WQ=2;function ZQ(e,t,s,r,i,a){var o=s&HQ,c=e.length,d=t.length;if(c!=d&&!(o&&d>c))return!1;var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var m=-1,u=!0,p=s&WQ?new VQ:void 0;for(a.set(e,t),a.set(t,e);++m<c;){var x=e[m],v=t[m];if(r)var w=o?r(v,x,m,t,e,a):r(x,v,m,e,t,a);if(w!==void 0){if(w)continue;u=!1;break}if(p){if(!UQ(t,function(b,y){if(!qQ(p,y)&&(x===b||i(x,b,s,r,a)))return p.push(y)})){u=!1;break}}else if(!(x===v||i(x,v,s,r,a))){u=!1;break}}return a.delete(e),a.delete(t),u}var b4=ZQ,GQ=ia,KQ=GQ.Uint8Array,YQ=KQ;function XQ(e){var t=-1,s=Array(e.size);return e.forEach(function(r,i){s[++t]=[i,r]}),s}var QQ=XQ;function JQ(e){var t=-1,s=Array(e.size);return e.forEach(function(r){s[++t]=r}),s}var eJ=JQ,WS=qw,ZS=YQ,tJ=f4,nJ=b4,sJ=QQ,rJ=eJ,iJ=1,aJ=2,oJ="[object Boolean]",lJ="[object Date]",cJ="[object Error]",dJ="[object Map]",uJ="[object Number]",hJ="[object RegExp]",fJ="[object Set]",mJ="[object String]",pJ="[object Symbol]",gJ="[object ArrayBuffer]",vJ="[object DataView]",GS=WS?WS.prototype:void 0,Lv=GS?GS.valueOf:void 0;function xJ(e,t,s,r,i,a,o){switch(s){case vJ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case gJ:return!(e.byteLength!=t.byteLength||!a(new ZS(e),new ZS(t)));case oJ:case lJ:case uJ:return tJ(+e,+t);case cJ:return e.name==t.name&&e.message==t.message;case hJ:case mJ:return e==t+"";case dJ:var c=sJ;case fJ:var d=r&iJ;if(c||(c=rJ),e.size!=t.size&&!d)return!1;var h=o.get(e);if(h)return h==t;r|=aJ,o.set(e,t);var f=nJ(c(e),c(t),r,i,a,o);return o.delete(e),f;case pJ:if(Lv)return Lv.call(e)==Lv.call(t)}return!1}var yJ=xJ;function bJ(e,t){for(var s=-1,r=t.length,i=e.length;++s<r;)e[i+s]=t[s];return e}var wJ=bJ,jJ=Array.isArray,Ww=jJ,_J=wJ,NJ=Ww;function SJ(e,t,s){var r=t(e);return NJ(e)?r:_J(r,s(e))}var kJ=SJ;function CJ(e,t){for(var s=-1,r=e==null?0:e.length,i=0,a=[];++s<r;){var o=e[s];t(o,s,e)&&(a[i++]=o)}return a}var EJ=CJ;function PJ(){return[]}var TJ=PJ,AJ=EJ,OJ=TJ,LJ=Object.prototype,RJ=LJ.propertyIsEnumerable,KS=Object.getOwnPropertySymbols,MJ=KS?function(e){return e==null?[]:(e=Object(e),AJ(KS(e),function(t){return RJ.call(e,t)}))}:OJ,IJ=MJ;function DJ(e,t){for(var s=-1,r=Array(e);++s<e;)r[s]=t(s);return r}var FJ=DJ;function $J(e){return e!=null&&typeof e=="object"}var Zp=$J,BJ=qp,zJ=Zp,VJ="[object Arguments]";function UJ(e){return zJ(e)&&BJ(e)==VJ}var qJ=UJ,YS=qJ,HJ=Zp,w4=Object.prototype,WJ=w4.hasOwnProperty,ZJ=w4.propertyIsEnumerable,GJ=YS(function(){return arguments}())?YS:function(e){return HJ(e)&&WJ.call(e,"callee")&&!ZJ.call(e,"callee")},KJ=GJ,Em={exports:{}};function YJ(){return!1}var XJ=YJ;Em.exports;(function(e,t){var s=ia,r=XJ,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,c=o?s.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||r;e.exports=h})(Em,Em.exports);var j4=Em.exports,QJ=9007199254740991,JJ=/^(?:0|[1-9]\d*)$/;function eee(e,t){var s=typeof e;return t=t??QJ,!!t&&(s=="number"||s!="symbol"&&JJ.test(e))&&e>-1&&e%1==0&&e<t}var tee=eee,nee=9007199254740991;function see(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nee}var _4=see,ree=qp,iee=_4,aee=Zp,oee="[object Arguments]",lee="[object Array]",cee="[object Boolean]",dee="[object Date]",uee="[object Error]",hee="[object Function]",fee="[object Map]",mee="[object Number]",pee="[object Object]",gee="[object RegExp]",vee="[object Set]",xee="[object String]",yee="[object WeakMap]",bee="[object ArrayBuffer]",wee="[object DataView]",jee="[object Float32Array]",_ee="[object Float64Array]",Nee="[object Int8Array]",See="[object Int16Array]",kee="[object Int32Array]",Cee="[object Uint8Array]",Eee="[object Uint8ClampedArray]",Pee="[object Uint16Array]",Tee="[object Uint32Array]",Zt={};Zt[jee]=Zt[_ee]=Zt[Nee]=Zt[See]=Zt[kee]=Zt[Cee]=Zt[Eee]=Zt[Pee]=Zt[Tee]=!0;Zt[oee]=Zt[lee]=Zt[bee]=Zt[cee]=Zt[wee]=Zt[dee]=Zt[uee]=Zt[hee]=Zt[fee]=Zt[mee]=Zt[pee]=Zt[gee]=Zt[vee]=Zt[xee]=Zt[yee]=!1;function Aee(e){return aee(e)&&iee(e.length)&&!!Zt[ree(e)]}var Oee=Aee;function Lee(e){return function(t){return e(t)}}var Ree=Lee,Pm={exports:{}};Pm.exports;(function(e,t){var s=m4,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&s.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Pm,Pm.exports);var Mee=Pm.exports,Iee=Oee,Dee=Ree,XS=Mee,QS=XS&&XS.isTypedArray,Fee=QS?Dee(QS):Iee,N4=Fee,$ee=FJ,Bee=KJ,zee=Ww,Vee=j4,Uee=tee,qee=N4,Hee=Object.prototype,Wee=Hee.hasOwnProperty;function Zee(e,t){var s=zee(e),r=!s&&Bee(e),i=!s&&!r&&Vee(e),a=!s&&!r&&!i&&qee(e),o=s||r||i||a,c=o?$ee(e.length,String):[],d=c.length;for(var h in e)(t||Wee.call(e,h))&&!(o&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Uee(h,d)))&&c.push(h);return c}var Gee=Zee,Kee=Object.prototype;function Yee(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||Kee;return e===s}var Xee=Yee;function Qee(e,t){return function(s){return e(t(s))}}var Jee=Qee,ete=Jee,tte=ete(Object.keys,Object),nte=tte,ste=Xee,rte=nte,ite=Object.prototype,ate=ite.hasOwnProperty;function ote(e){if(!ste(e))return rte(e);var t=[];for(var s in Object(e))ate.call(e,s)&&s!="constructor"&&t.push(s);return t}var lte=ote,cte=v4,dte=_4;function ute(e){return e!=null&&dte(e.length)&&!cte(e)}var hte=ute,fte=Gee,mte=lte,pte=hte;function gte(e){return pte(e)?fte(e):mte(e)}var vte=gte,xte=kJ,yte=IJ,bte=vte;function wte(e){return xte(e,bte,yte)}var jte=wte,JS=jte,_te=1,Nte=Object.prototype,Ste=Nte.hasOwnProperty;function kte(e,t,s,r,i,a){var o=s&_te,c=JS(e),d=c.length,h=JS(t),f=h.length;if(d!=f&&!o)return!1;for(var m=d;m--;){var u=c[m];if(!(o?u in t:Ste.call(t,u)))return!1}var p=a.get(e),x=a.get(t);if(p&&x)return p==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var w=o;++m<d;){u=c[m];var b=e[u],y=t[u];if(r)var _=o?r(y,b,u,t,e,a):r(b,y,u,e,t,a);if(!(_===void 0?b===y||i(b,y,s,r,a):_)){v=!1;break}w||(w=u=="constructor")}if(v&&!w){var N=e.constructor,E=t.constructor;N!=E&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof E=="function"&&E instanceof E)&&(v=!1)}return a.delete(e),a.delete(t),v}var Cte=kte,Ete=Hc,Pte=ia,Tte=Ete(Pte,"DataView"),Ate=Tte,Ote=Hc,Lte=ia,Rte=Ote(Lte,"Promise"),Mte=Rte,Ite=Hc,Dte=ia,Fte=Ite(Dte,"Set"),$te=Fte,Bte=Hc,zte=ia,Vte=Bte(zte,"WeakMap"),Ute=Vte,Ky=Ate,Yy=Hw,Xy=Mte,Qy=$te,Jy=Ute,S4=qp,Kc=x4,e2="[object Map]",qte="[object Object]",t2="[object Promise]",n2="[object Set]",s2="[object WeakMap]",r2="[object DataView]",Hte=Kc(Ky),Wte=Kc(Yy),Zte=Kc(Xy),Gte=Kc(Qy),Kte=Kc(Jy),vo=S4;(Ky&&vo(new Ky(new ArrayBuffer(1)))!=r2||Yy&&vo(new Yy)!=e2||Xy&&vo(Xy.resolve())!=t2||Qy&&vo(new Qy)!=n2||Jy&&vo(new Jy)!=s2)&&(vo=function(e){var t=S4(e),s=t==qte?e.constructor:void 0,r=s?Kc(s):"";if(r)switch(r){case Hte:return r2;case Wte:return e2;case Zte:return t2;case Gte:return n2;case Kte:return s2}return t});var Yte=vo,Rv=EQ,Xte=b4,Qte=yJ,Jte=Cte,i2=Yte,a2=Ww,o2=j4,ene=N4,tne=1,l2="[object Arguments]",c2="[object Array]",Qh="[object Object]",nne=Object.prototype,d2=nne.hasOwnProperty;function sne(e,t,s,r,i,a){var o=a2(e),c=a2(t),d=o?c2:i2(e),h=c?c2:i2(t);d=d==l2?Qh:d,h=h==l2?Qh:h;var f=d==Qh,m=h==Qh,u=d==h;if(u&&o2(e)){if(!o2(t))return!1;o=!0,f=!1}if(u&&!f)return a||(a=new Rv),o||ene(e)?Xte(e,t,s,r,i,a):Qte(e,t,d,s,r,i,a);if(!(s&tne)){var p=f&&d2.call(e,"__wrapped__"),x=m&&d2.call(t,"__wrapped__");if(p||x){var v=p?e.value():e,w=x?t.value():t;return a||(a=new Rv),i(v,w,s,r,a)}}return u?(a||(a=new Rv),Jte(e,t,s,r,i,a)):!1}var rne=sne,ine=rne,u2=Zp;function k4(e,t,s,r,i){return e===t?!0:e==null||t==null||!u2(e)&&!u2(t)?e!==e&&t!==t:ine(e,t,s,r,k4,i)}var ane=k4,one=ane;function lne(e,t){return one(e,t)}var cne=lne,C4={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:pi,function(){return function(s){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return s[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=s,i.c=r,i.d=function(a,o,c){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(18),c=i(19),d=i(45),h=i(46),f=i(47),m=i(48),u=i(49),p=i(12),x=i(32),v=i(33),w=i(31),b=i(1),y={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:a.default,Format:o.default,Leaf:c.default,Embed:m.default,Scroll:d.default,Block:f.default,Inline:h.default,Text:u.default,Attributor:{Attribute:p.default,Class:x.default,Style:v.default,Store:w.default}};r.default=y},function(s,r,i){var a=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var _ in y)y.hasOwnProperty(_)&&(b[_]=y[_])};return function(b,y){w(b,y);function _(){this.constructor=b}b.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(w){a(b,w);function b(y){var _=this;return y="[Parchment] "+y,_=w.call(this,y)||this,_.message=y,_.name=_.constructor.name,_}return b}(Error);r.ParchmentError=o;var c={},d={},h={},f={};r.DATA_KEY="__blot";var m;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(m=r.Scope||(r.Scope={}));function u(w,b){var y=x(w);if(y==null)throw new o("Unable to create "+w+" blot");var _=y,N=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:_.create(b);return new _(N,b)}r.create=u;function p(w,b){return b===void 0&&(b=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:b?p(w.parentNode,b):null}r.find=p;function x(w,b){b===void 0&&(b=m.ANY);var y;if(typeof w=="string")y=f[w]||c[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)y=f.text;else if(typeof w=="number")w&m.LEVEL&m.BLOCK?y=f.block:w&m.LEVEL&m.INLINE&&(y=f.inline);else if(w instanceof HTMLElement){var _=(w.getAttribute("class")||"").split(/\s+/);for(var N in _)if(y=d[_[N]],y)break;y=y||h[w.tagName]}return y==null?null:b&m.LEVEL&y.scope&&b&m.TYPE&y.scope?y:null}r.query=x;function v(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(N){return v(N)});var y=w[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new o("Invalid definition");if(y.blotName==="abstract")throw new o("Cannot register abstract class");if(f[y.blotName||y.attrName]=y,typeof y.keyName=="string")c[y.keyName]=y;else if(y.className!=null&&(d[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(N){return N.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var _=Array.isArray(y.tagName)?y.tagName:[y.tagName];_.forEach(function(N){(h[N]==null||y.className==null)&&(h[N]=y)})}return y}r.register=v},function(s,r,i){var a=i(51),o=i(11),c=i(3),d=i(20),h="\0",f=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};f.prototype.insert=function(m,u){var p={};return m.length===0?this:(p.insert=m,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p))},f.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},f.prototype.retain=function(m,u){if(m<=0)return this;var p={retain:m};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p)},f.prototype.push=function(m){var u=this.ops.length,p=this.ops[u-1];if(m=c(!0,{},m),typeof p=="object"){if(typeof m.delete=="number"&&typeof p.delete=="number")return this.ops[u-1]={delete:p.delete+m.delete},this;if(typeof p.delete=="number"&&m.insert!=null&&(u-=1,p=this.ops[u-1],typeof p!="object"))return this.ops.unshift(m),this;if(o(m.attributes,p.attributes)){if(typeof m.insert=="string"&&typeof p.insert=="string")return this.ops[u-1]={insert:p.insert+m.insert},typeof m.attributes=="object"&&(this.ops[u-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof p.retain=="number")return this.ops[u-1]={retain:p.retain+m.retain},typeof m.attributes=="object"&&(this.ops[u-1].attributes=m.attributes),this}}return u===this.ops.length?this.ops.push(m):this.ops.splice(u,0,m),this},f.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},f.prototype.filter=function(m){return this.ops.filter(m)},f.prototype.forEach=function(m){this.ops.forEach(m)},f.prototype.map=function(m){return this.ops.map(m)},f.prototype.partition=function(m){var u=[],p=[];return this.forEach(function(x){var v=m(x)?u:p;v.push(x)}),[u,p]},f.prototype.reduce=function(m,u){return this.ops.reduce(m,u)},f.prototype.changeLength=function(){return this.reduce(function(m,u){return u.insert?m+d.length(u):u.delete?m-u.delete:m},0)},f.prototype.length=function(){return this.reduce(function(m,u){return m+d.length(u)},0)},f.prototype.slice=function(m,u){m=m||0,typeof u!="number"&&(u=1/0);for(var p=[],x=d.iterator(this.ops),v=0;v<u&&x.hasNext();){var w;v<m?w=x.next(m-v):(w=x.next(u-v),p.push(w)),v+=d.length(w)}return new f(p)},f.prototype.compose=function(m){var u=d.iterator(this.ops),p=d.iterator(m.ops),x=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var w=v.retain;u.peekType()==="insert"&&u.peekLength()<=w;)w-=u.peekLength(),x.push(u.next());v.retain-w>0&&p.next(v.retain-w)}for(var b=new f(x);u.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(u.peekType()==="delete")b.push(u.next());else{var y=Math.min(u.peekLength(),p.peekLength()),_=u.next(y),N=p.next(y);if(typeof N.retain=="number"){var E={};typeof _.retain=="number"?E.retain=y:E.insert=_.insert;var I=d.attributes.compose(_.attributes,N.attributes,typeof _.retain=="number");if(I&&(E.attributes=I),b.push(E),!p.hasNext()&&o(b.ops[b.ops.length-1],E)){var C=new f(u.rest());return b.concat(C).chop()}}else typeof N.delete=="number"&&typeof _.retain=="number"&&b.push(N)}return b.chop()},f.prototype.concat=function(m){var u=new f(this.ops.slice());return m.ops.length>0&&(u.push(m.ops[0]),u.ops=u.ops.concat(m.ops.slice(1))),u},f.prototype.diff=function(m,u){if(this.ops===m.ops)return new f;var p=[this,m].map(function(y){return y.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:h;var N=y===m?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")}),x=new f,v=a(p[0],p[1],u),w=d.iterator(this.ops),b=d.iterator(m.ops);return v.forEach(function(y){for(var _=y[1].length;_>0;){var N=0;switch(y[0]){case a.INSERT:N=Math.min(b.peekLength(),_),x.push(b.next(N));break;case a.DELETE:N=Math.min(_,w.peekLength()),w.next(N),x.delete(N);break;case a.EQUAL:N=Math.min(w.peekLength(),b.peekLength(),_);var E=w.next(N),I=b.next(N);o(E.insert,I.insert)?x.retain(N,d.attributes.diff(E.attributes,I.attributes)):x.push(I).delete(N);break}_-=N}}),x.chop()},f.prototype.eachLine=function(m,u){u=u||`
`;for(var p=d.iterator(this.ops),x=new f,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),b=d.length(w)-p.peekLength(),y=typeof w.insert=="string"?w.insert.indexOf(u,b)-b:-1;if(y<0)x.push(p.next());else if(y>0)x.push(p.next(y));else{if(m(x,p.next(1).attributes||{},v)===!1)return;v+=1,x=new f}}x.length()>0&&m(x,{},v)},f.prototype.transform=function(m,u){if(u=!!u,typeof m=="number")return this.transformPosition(m,u);for(var p=d.iterator(this.ops),x=d.iterator(m.ops),v=new f;p.hasNext()||x.hasNext();)if(p.peekType()==="insert"&&(u||x.peekType()!=="insert"))v.retain(d.length(p.next()));else if(x.peekType()==="insert")v.push(x.next());else{var w=Math.min(p.peekLength(),x.peekLength()),b=p.next(w),y=x.next(w);if(b.delete)continue;y.delete?v.push(y):v.retain(w,d.attributes.transform(b.attributes,y.attributes,u))}return v.chop()},f.prototype.transformPosition=function(m,u){u=!!u;for(var p=d.iterator(this.ops),x=0;p.hasNext()&&x<=m;){var v=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){m-=Math.min(v,m-x);continue}else w==="insert"&&(x<m||!u)&&(m+=v);x+=v}return m},s.exports=f},function(s,r){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},h=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var x=i.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!v)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},f=function(p,x){o&&x.name==="__proto__"?o(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},m=function(p,x){if(x==="__proto__")if(i.call(p,x)){if(c)return c(p,x).value}else return;return p[x]};s.exports=function u(){var p,x,v,w,b,y,_=arguments[0],N=1,E=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[1]||{},N=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});N<E;++N)if(p=arguments[N],p!=null)for(x in p)v=m(_,x),w=m(p,x),_!==w&&(I&&w&&(h(w)||(b=d(w)))?(b?(b=!1,y=v&&d(v)?v:[]):y=v&&h(v)?v:{},f(_,{name:x,newValue:u(I,y,w)})):typeof w<"u"&&f(_,{name:x,newValue:w}));return _}},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function R(P,T){for(var M=0;M<T.length;M++){var H=T[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(P,H.key,H)}}return function(P,T,M){return T&&R(P.prototype,T),M&&R(P,M),P}}(),o=function R(P,T,M){P===null&&(P=Function.prototype);var H=Object.getOwnPropertyDescriptor(P,T);if(H===void 0){var W=Object.getPrototypeOf(P);return W===null?void 0:R(W,T,M)}else{if("value"in H)return H.value;var Z=H.get;return Z===void 0?void 0:Z.call(M)}},c=i(3),d=_(c),h=i(2),f=_(h),m=i(0),u=_(m),p=i(16),x=_(p),v=i(6),w=_(v),b=i(7),y=_(b);function _(R){return R&&R.__esModule?R:{default:R}}function N(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function E(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:R}function I(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}var C=1,O=function(R){I(P,R);function P(){return N(this,P),E(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"attach",value:function(){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,H){var W=u.default.query(M,u.default.Scope.BLOCK_ATTRIBUTE);W!=null&&this.attributes.attribute(W,H)}},{key:"formatAt",value:function(M,H,W,Z){this.format(W,Z)}},{key:"insertAt",value:function(M,H,W){if(typeof H=="string"&&H.endsWith(`
`)){var Z=u.default.create(A.blotName);this.parent.insertBefore(Z,M===0?this:this.next),Z.insertAt(0,H.slice(0,-1))}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,M,H,W)}}]),P}(u.default.Embed);O.scope=u.default.Scope.BLOCK_BLOT;var A=function(R){I(P,R);function P(T){N(this,P);var M=E(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,T));return M.cache={},M}return a(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(M,H){return H.length()===0?M:M.insert(H.value(),k(H))},new f.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(M,H){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,M,H),this.cache={}}},{key:"formatAt",value:function(M,H,W,Z){H<=0||(u.default.query(W,u.default.Scope.BLOCK)?M+H===this.length()&&this.format(W,Z):o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,M,Math.min(H,this.length()-M-1),W,Z),this.cache={})}},{key:"insertAt",value:function(M,H,W){if(W!=null)return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,M,H,W);if(H.length!==0){var Z=H.split(`
`),B=Z.shift();B.length>0&&(M<this.length()-1||this.children.tail==null?o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),B):this.children.tail.insertAt(this.children.tail.length(),B),this.cache={});var q=this;Z.reduce(function(F,$){return q=q.split(F,!0),q.insertAt(0,$),$.length},M+B.length)}}},{key:"insertBefore",value:function(M,H){var W=this.children.head;o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,M,H),W instanceof x.default&&W.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+C),this.cache.length}},{key:"moveChildren",value:function(M,H){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,M,H),this.cache={}}},{key:"optimize",value:function(M){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&(M===0||M>=this.length()-C)){var W=this.clone();return M===0?(this.parent.insertBefore(W,this),this):(this.parent.insertBefore(W,this.next),W)}else{var Z=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,M,H);return this.cache={},Z}}}]),P}(u.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[w.default,u.default.Embed,y.default];function k(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R==null||(typeof R.formats=="function"&&(P=(0,d.default)(P,R.formats())),R.parent==null||R.parent.blotName=="scroll"||R.parent.statics.scope!==R.statics.scope)?P:k(R.parent,P)}r.bubbleFormats=k,r.BlockEmbed=O,r.default=A},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},o=function(){function q(F,$){var z=[],G=!0,X=!1,J=void 0;try{for(var K=F[Symbol.iterator](),U;!(G=(U=K.next()).done)&&(z.push(U.value),!($&&z.length===$));G=!0);}catch(ne){X=!0,J=ne}finally{try{!G&&K.return&&K.return()}finally{if(X)throw J}}return z}return function(F,$){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return q(F,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function q(F,$){for(var z=0;z<$.length;z++){var G=$[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}return function(F,$,z){return $&&q(F.prototype,$),z&&q(F,z),F}}();i(50);var d=i(2),h=k(d),f=i(14),m=k(f),u=i(8),p=k(u),x=i(9),v=k(x),w=i(0),b=k(w),y=i(15),_=k(y),N=i(3),E=k(N),I=i(10),C=k(I),O=i(34),A=k(O);function k(q){return q&&q.__esModule?q:{default:q}}function R(q,F,$){return F in q?Object.defineProperty(q,F,{value:$,enumerable:!0,configurable:!0,writable:!0}):q[F]=$,q}function P(q,F){if(!(q instanceof F))throw new TypeError("Cannot call a class as a function")}var T=(0,C.default)("quill"),M=function(){c(q,null,[{key:"debug",value:function($){$===!0&&($="log"),C.default.level($)}},{key:"find",value:function($){return $.__quill||b.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&T.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $!="string"){var J=$.attrName||$.blotName;typeof J=="string"?this.register("formats/"+J,$,z):Object.keys($).forEach(function(K){G.register(K,$[K],z)})}else this.imports[$]!=null&&!X&&T.warn("Overwriting "+$+" with",z),this.imports[$]=z,($.startsWith("blots/")||$.startsWith("formats/"))&&z.blotName!=="abstract"?b.default.register(z):$.startsWith("modules")&&typeof z.register=="function"&&z.register()}}]);function q(F){var $=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,q),this.options=H(F,z),this.container=this.options.container,this.container==null)return T.error("Invalid Quill container",F);this.options.debug&&q.debug(this.options.debug);var G=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(J){J===p.default.events.TEXT_CHANGE&&$.root.classList.toggle("ql-blank",$.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(J,K){var U=$.selection.lastRange,ne=U&&U.length===0?U.index:void 0;W.call($,function(){return $.editor.update(null,K,ne)},J)});var X=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+G+"<p><br></p></div>");this.setContents(X),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(q,[{key:"addContainer",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var G=$;$=document.createElement("div"),$.classList.add(G)}return this.container.insertBefore($,z),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,z,G){var X=this,J=Z($,z,G),K=o(J,4);return $=K[0],z=K[1],G=K[3],W.call(this,function(){return X.editor.deleteText($,z)},G,$,-1*z)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return W.call(this,function(){var J=G.getSelection(!0),K=new h.default;if(J==null)return K;if(b.default.query($,b.default.Scope.BLOCK))K=G.editor.formatLine(J.index,J.length,R({},$,z));else{if(J.length===0)return G.selection.format($,z),K;K=G.editor.formatText(J.index,J.length,R({},$,z))}return G.setSelection(J,p.default.sources.SILENT),K},X)}},{key:"formatLine",value:function($,z,G,X,J){var K=this,U=void 0,ne=Z($,z,G,X,J),se=o(ne,4);return $=se[0],z=se[1],U=se[2],J=se[3],W.call(this,function(){return K.editor.formatLine($,z,U)},J,$,0)}},{key:"formatText",value:function($,z,G,X,J){var K=this,U=void 0,ne=Z($,z,G,X,J),se=o(ne,4);return $=se[0],z=se[1],U=se[2],J=se[3],W.call(this,function(){return K.editor.formatText($,z,U)},J,$,0)}},{key:"getBounds",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=void 0;typeof $=="number"?G=this.selection.getBounds($,z):G=this.selection.getBounds($.index,$.length);var X=this.container.getBoundingClientRect();return{bottom:G.bottom-X.top,height:G.height,left:G.left-X.left,right:G.right-X.left,top:G.top-X.top,width:G.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,G=Z($,z),X=o(G,2);return $=X[0],z=X[1],this.editor.getContents($,z)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,z):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,z)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,G=Z($,z),X=o(G,2);return $=X[0],z=X[1],this.editor.getText($,z)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,z,G){var X=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return W.call(this,function(){return X.editor.insertEmbed($,z,G)},J,$)}},{key:"insertText",value:function($,z,G,X,J){var K=this,U=void 0,ne=Z($,0,G,X,J),se=o(ne,4);return $=se[0],U=se[2],J=se[3],W.call(this,function(){return K.editor.insertText($,z,U)},J,$,z.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,z,G){this.clipboard.dangerouslyPasteHTML($,z,G)}},{key:"removeFormat",value:function($,z,G){var X=this,J=Z($,z,G),K=o(J,4);return $=K[0],z=K[1],G=K[3],W.call(this,function(){return X.editor.removeFormat($,z)},G,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var z=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return W.call(this,function(){$=new h.default($);var X=z.getLength(),J=z.editor.deleteText(0,X),K=z.editor.applyDelta($),U=K.ops[K.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(z.editor.deleteText(z.getLength()-1,1),K.delete(1));var ne=J.compose(K);return ne},G)}},{key:"setSelection",value:function($,z,G){if($==null)this.selection.setRange(null,z||q.sources.API);else{var X=Z($,z,G),J=o(X,4);$=J[0],z=J[1],G=J[3],this.selection.setRange(new y.Range($,z),G),G!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,G=new h.default().insert($);return this.setContents(G,z)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,z=this.scroll.update($);return this.selection.update($),z}},{key:"updateContents",value:function($){var z=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return W.call(this,function(){return $=new h.default($),z.editor.applyDelta($,G)},G,!0)}}]),q}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=p.default.events,M.sources=p.default.sources,M.version="1.3.7",M.imports={delta:h.default,parchment:b.default,"core/module":v.default,"core/theme":A.default};function H(q,F){if(F=(0,E.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===M.DEFAULTS.theme)F.theme=A.default;else if(F.theme=M.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var $=(0,E.default)(!0,{},F.theme.DEFAULTS);[$,F].forEach(function(X){X.modules=X.modules||{},Object.keys(X.modules).forEach(function(J){X.modules[J]===!0&&(X.modules[J]={})})});var z=Object.keys($.modules).concat(Object.keys(F.modules)),G=z.reduce(function(X,J){var K=M.import("modules/"+J);return K==null?T.error("Cannot load "+J+" module. Are you sure you registered it?"):X[J]=K.DEFAULTS||{},X},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,E.default)(!0,{},M.DEFAULTS,{modules:G},$,F),["bounds","container","scrollingContainer"].forEach(function(X){typeof F[X]=="string"&&(F[X]=document.querySelector(F[X]))}),F.modules=Object.keys(F.modules).reduce(function(X,J){return F.modules[J]&&(X[J]=F.modules[J]),X},{}),F}function W(q,F,$,z){if(this.options.strict&&!this.isEnabled()&&F===p.default.sources.USER)return new h.default;var G=$==null?null:this.getSelection(),X=this.editor.delta,J=q();if(G!=null&&($===!0&&($=G.index),z==null?G=B(G,J,F):z!==0&&(G=B(G,$,z,F)),this.setSelection(G,p.default.sources.SILENT)),J.length()>0){var K,U=[p.default.events.TEXT_CHANGE,J,X,F];if((K=this.emitter).emit.apply(K,[p.default.events.EDITOR_CHANGE].concat(U)),F!==p.default.sources.SILENT){var ne;(ne=this.emitter).emit.apply(ne,U)}}return J}function Z(q,F,$,z,G){var X={};return typeof q.index=="number"&&typeof q.length=="number"?typeof F!="number"?(G=z,z=$,$=F,F=q.length,q=q.index):(F=q.length,q=q.index):typeof F!="number"&&(G=z,z=$,$=F,F=0),(typeof $>"u"?"undefined":a($))==="object"?(X=$,G=z):typeof $=="string"&&(z!=null?X[$]=z:G=$),G=G||p.default.sources.API,[q,F,X,G]}function B(q,F,$,z){if(q==null)return null;var G=void 0,X=void 0;if(F instanceof h.default){var J=[q.index,q.index+q.length].map(function(se){return F.transformPosition(se,z!==p.default.sources.USER)}),K=o(J,2);G=K[0],X=K[1]}else{var U=[q.index,q.index+q.length].map(function(se){return se<F||se===F&&z===p.default.sources.USER?se:$>=0?se+$:Math.max(F,se+$)}),ne=o(U,2);G=ne[0],X=ne[1]}return new y.Range(G,X-G)}r.expandConfig=H,r.overload=Z,r.default=M},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),o=function w(b,y,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,y);if(N===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:w(E,y,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},c=i(7),d=m(c),h=i(0),f=m(h);function m(w){return w&&w.__esModule?w:{default:w}}function u(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function x(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var v=function(w){x(b,w);function b(){return u(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"formatAt",value:function(_,N,E,I){if(b.compare(this.statics.blotName,E)<0&&f.default.query(E,f.default.Scope.BLOT)){var C=this.isolate(_,N);I&&C.wrap(E,I)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,_,N,E,I)}},{key:"optimize",value:function(_){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,_),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var N=this.parent.isolate(this.offset(),this.length());this.moveChildren(N),N.wrap(this)}}}],[{key:"compare",value:function(_,N){var E=b.order.indexOf(_),I=b.order.indexOf(N);return E>=0||I>=0?E-I:_===N?0:_<N?-1:1}}]),b}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,d.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(_,N){for(var E=0;E<N.length;E++){var I=N[E];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,N,E){return N&&y(_.prototype,N),E&&y(_,E),_}}(),o=function y(_,N,E){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,N);if(I===void 0){var C=Object.getPrototypeOf(_);return C===null?void 0:y(C,N,E)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(E)}},c=i(54),d=m(c),h=i(10),f=m(h);function m(y){return y&&y.__esModule?y:{default:y}}function u(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function p(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function x(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=(0,f.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(y){document.addEventListener(y,function(){for(var _=arguments.length,N=Array(_),E=0;E<_;E++)N[E]=arguments[E];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(I){if(I.__quill&&I.__quill.emitter){var C;(C=I.__quill.emitter).handleDOM.apply(C,N)}})})});var b=function(y){x(_,y);function _(){u(this,_);var N=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return N.listeners={},N.on("error",v.error),N}return a(_,[{key:"emit",value:function(){v.log.apply(v,arguments),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(E){for(var I=arguments.length,C=Array(I>1?I-1:0),O=1;O<I;O++)C[O-1]=arguments[O];(this.listeners[E.type]||[]).forEach(function(A){var k=A.node,R=A.handler;(E.target===k||k.contains(E.target))&&R.apply(void 0,[E].concat(C))})}},{key:"listenDOM",value:function(E,I,C){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push({node:I,handler:C})}}]),_}(d.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function c(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=d,this.options=h};o.DEFAULTS={},r.default=o},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function c(h){if(a.indexOf(h)<=a.indexOf(o)){for(var f,m=arguments.length,u=Array(m>1?m-1:0),p=1;p<m;p++)u[p-1]=arguments[p];(f=console)[h].apply(f,u)}}function d(h){return a.reduce(function(f,m){return f[m]=c.bind(console,m,h),f},{})}c.level=d.level=function(h){o=h},r.default=d},function(s,r,i){var a=Array.prototype.slice,o=i(52),c=i(53),d=s.exports=function(u,p,x){return x||(x={}),u===p?!0:u instanceof Date&&p instanceof Date?u.getTime()===p.getTime():!u||!p||typeof u!="object"&&typeof p!="object"?x.strict?u===p:u==p:m(u,p,x)};function h(u){return u==null}function f(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function m(u,p,x){var v,w;if(h(u)||h(p)||u.prototype!==p.prototype)return!1;if(c(u))return c(p)?(u=a.call(u),p=a.call(p),d(u,p,x)):!1;if(f(u)){if(!f(p)||u.length!==p.length)return!1;for(v=0;v<u.length;v++)if(u[v]!==p[v])return!1;return!0}try{var b=o(u),y=o(p)}catch{return!1}if(b.length!=y.length)return!1;for(b.sort(),y.sort(),v=b.length-1;v>=0;v--)if(b[v]!=y[v])return!1;for(v=b.length-1;v>=0;v--)if(w=b[v],!d(u[w],p[w],x))return!1;return typeof u==typeof p}},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=function(){function c(d,h,f){f===void 0&&(f={}),this.attrName=d,this.keyName=h;var m=a.Scope.TYPE&a.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&a.Scope.LEVEL|m:this.scope=a.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return c.keys=function(d){return[].map.call(d.attributes,function(h){return h.name})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.setAttribute(this.keyName,h),!0):!1},c.prototype.canAdd=function(d,h){var f=a.query(d,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},c.prototype.remove=function(d){d.removeAttribute(this.keyName)},c.prototype.value=function(d){var h=d.getAttribute(this.keyName);return this.canAdd(d,h)&&h?h:""},c}();r.default=o},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function O(A,k){var R=[],P=!0,T=!1,M=void 0;try{for(var H=A[Symbol.iterator](),W;!(P=(W=H.next()).done)&&(R.push(W.value),!(k&&R.length===k));P=!0);}catch(Z){T=!0,M=Z}finally{try{!P&&H.return&&H.return()}finally{if(T)throw M}}return R}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return O(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(A,k){for(var R=0;R<k.length;R++){var P=k[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}return function(A,k,R){return k&&O(A.prototype,k),R&&O(A,R),A}}(),c=function O(A,k,R){A===null&&(A=Function.prototype);var P=Object.getOwnPropertyDescriptor(A,k);if(P===void 0){var T=Object.getPrototypeOf(A);return T===null?void 0:O(T,k,R)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(R)}},d=i(2),h=y(d),f=i(0),m=y(f),u=i(4),p=y(u),x=i(6),v=y(x),w=i(7),b=y(w);function y(O){return O&&O.__esModule?O:{default:O}}function _(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function N(O,A){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:O}function E(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(O,A):O.__proto__=A)}var I=function(O){E(A,O);function A(){return _(this,A),N(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(v.default);I.blotName="code",I.tagName="CODE";var C=function(O){E(A,O);function A(){return _(this,A),N(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"delta",value:function(){var R=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(T,M){return T.insert(M).insert(`
`,R.formats())},new h.default)}},{key:"format",value:function(R,P){if(!(R===this.statics.blotName&&P)){var T=this.descendant(b.default,this.length()-1),M=a(T,1),H=M[0];H!=null&&H.deleteAt(H.length()-1,1),c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,R,P)}}},{key:"formatAt",value:function(R,P,T,M){if(P!==0&&!(m.default.query(T,m.default.Scope.BLOCK)==null||T===this.statics.blotName&&M===this.statics.formats(this.domNode))){var H=this.newlineIndex(R);if(!(H<0||H>=R+P)){var W=this.newlineIndex(R,!0)+1,Z=H-W+1,B=this.isolate(W,Z),q=B.next;B.format(T,M),q instanceof A&&q.formatAt(0,R-W+P-Z,T,M)}}}},{key:"insertAt",value:function(R,P,T){if(T==null){var M=this.descendant(b.default,R),H=a(M,2),W=H[0],Z=H[1];W.insertAt(Z,P)}}},{key:"length",value:function(){var R=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?R:R+1}},{key:"newlineIndex",value:function(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,R).lastIndexOf(`
`);var T=this.domNode.textContent.slice(R).indexOf(`
`);return T>-1?R+T:-1}},{key:"optimize",value:function(R){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(R),P.moveChildren(this),P.remove())}},{key:"replace",value:function(R){c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,R),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var T=m.default.find(P);T==null?P.parentNode.removeChild(P):T instanceof m.default.Embed?T.remove():T.unwrap()})}}],[{key:"create",value:function(R){var P=c(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,R);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),A}(p.default);C.blotName="code-block",C.tagName="PRE",C.TAB="  ",r.Code=I,r.default=C},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},o=function(){function q(F,$){var z=[],G=!0,X=!1,J=void 0;try{for(var K=F[Symbol.iterator](),U;!(G=(U=K.next()).done)&&(z.push(U.value),!($&&z.length===$));G=!0);}catch(ne){X=!0,J=ne}finally{try{!G&&K.return&&K.return()}finally{if(X)throw J}}return z}return function(F,$){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return q(F,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function q(F,$){for(var z=0;z<$.length;z++){var G=$[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}return function(F,$,z){return $&&q(F.prototype,$),z&&q(F,z),F}}(),d=i(2),h=P(d),f=i(20),m=P(f),u=i(0),p=P(u),x=i(13),v=P(x),w=i(24),b=P(w),y=i(4),_=P(y),N=i(16),E=P(N),I=i(21),C=P(I),O=i(11),A=P(O),k=i(3),R=P(k);function P(q){return q&&q.__esModule?q:{default:q}}function T(q,F,$){return F in q?Object.defineProperty(q,F,{value:$,enumerable:!0,configurable:!0,writable:!0}):q[F]=$,q}function M(q,F){if(!(q instanceof F))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,W=function(){function q(F){M(this,q),this.scroll=F,this.delta=this.getDelta()}return c(q,[{key:"applyDelta",value:function($){var z=this,G=!1;this.scroll.update();var X=this.scroll.length();return this.scroll.batchStart(),$=B($),$.reduce(function(J,K){var U=K.retain||K.delete||K.insert.length||1,ne=K.attributes||{};if(K.insert!=null){if(typeof K.insert=="string"){var se=K.insert;se.endsWith(`
`)&&G&&(G=!1,se=se.slice(0,-1)),J>=X&&!se.endsWith(`
`)&&(G=!0),z.scroll.insertAt(J,se);var le=z.scroll.line(J),pe=o(le,2),ee=pe[0],ye=pe[1],Ce=(0,R.default)({},(0,y.bubbleFormats)(ee));if(ee instanceof _.default){var ue=ee.descendant(p.default.Leaf,ye),je=o(ue,1),xe=je[0];Ce=(0,R.default)(Ce,(0,y.bubbleFormats)(xe))}ne=m.default.attributes.diff(Ce,ne)||{}}else if(a(K.insert)==="object"){var ce=Object.keys(K.insert)[0];if(ce==null)return J;z.scroll.insertAt(J,ce,K.insert[ce])}X+=U}return Object.keys(ne).forEach(function(fe){z.scroll.formatAt(J,U,fe,ne[fe])}),J+U},0),$.reduce(function(J,K){return typeof K.delete=="number"?(z.scroll.deleteAt(J,K.delete),J):J+(K.retain||K.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,z){return this.scroll.deleteAt($,z),this.update(new h.default().retain($).delete(z))}},{key:"formatLine",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(X).forEach(function(J){if(!(G.scroll.whitelist!=null&&!G.scroll.whitelist[J])){var K=G.scroll.lines($,Math.max(z,1)),U=z;K.forEach(function(ne){var se=ne.length();if(!(ne instanceof v.default))ne.format(J,X[J]);else{var le=$-ne.offset(G.scroll),pe=ne.newlineIndex(le+U)-le+1;ne.formatAt(le,pe,J,X[J])}U-=se})}}),this.scroll.optimize(),this.update(new h.default().retain($).retain(z,(0,C.default)(X)))}},{key:"formatText",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(X).forEach(function(J){G.scroll.formatAt($,z,J,X[J])}),this.update(new h.default().retain($).retain(z,(0,C.default)(X)))}},{key:"getContents",value:function($,z){return this.delta.slice($,$+z)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,z){return $.concat(z.delta())},new h.default)}},{key:"getFormat",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=[],X=[];z===0?this.scroll.path($).forEach(function(K){var U=o(K,1),ne=U[0];ne instanceof _.default?G.push(ne):ne instanceof p.default.Leaf&&X.push(ne)}):(G=this.scroll.lines($,z),X=this.scroll.descendants(p.default.Leaf,$,z));var J=[G,X].map(function(K){if(K.length===0)return{};for(var U=(0,y.bubbleFormats)(K.shift());Object.keys(U).length>0;){var ne=K.shift();if(ne==null)return U;U=Z((0,y.bubbleFormats)(ne),U)}return U});return R.default.apply(R.default,J)}},{key:"getText",value:function($,z){return this.getContents($,z).filter(function(G){return typeof G.insert=="string"}).map(function(G){return G.insert}).join("")}},{key:"insertEmbed",value:function($,z,G){return this.scroll.insertAt($,z,G),this.update(new h.default().retain($).insert(T({},z,G)))}},{key:"insertText",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return z=z.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,z),Object.keys(X).forEach(function(J){G.scroll.formatAt($,z.length,J,X[J])}),this.update(new h.default().retain($).insert(z,(0,C.default)(X)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName!==_.default.blotName||$.children.length>1?!1:$.children.head instanceof E.default}},{key:"removeFormat",value:function($,z){var G=this.getText($,z),X=this.scroll.line($+z),J=o(X,2),K=J[0],U=J[1],ne=0,se=new h.default;K!=null&&(K instanceof v.default?ne=K.newlineIndex(U)-U+1:ne=K.length()-U,se=K.delta().slice(U,U+ne-1).insert(`
`));var le=this.getContents($,z+ne),pe=le.diff(new h.default().insert(G).concat(se)),ee=new h.default().retain($).concat(pe);return this.applyDelta(ee)}},{key:"update",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,X=this.delta;if(z.length===1&&z[0].type==="characterData"&&z[0].target.data.match(H)&&p.default.find(z[0].target)){var J=p.default.find(z[0].target),K=(0,y.bubbleFormats)(J),U=J.offset(this.scroll),ne=z[0].oldValue.replace(b.default.CONTENTS,""),se=new h.default().insert(ne),le=new h.default().insert(J.value()),pe=new h.default().retain(U).concat(se.diff(le,G));$=pe.reduce(function(ee,ye){return ye.insert?ee.insert(ye.insert,K):ee.push(ye)},new h.default),this.delta=X.compose($)}else this.delta=this.getDelta(),(!$||!(0,A.default)(X.compose($),this.delta))&&($=X.diff(this.delta,G));return $}}]),q}();function Z(q,F){return Object.keys(F).reduce(function($,z){return q[z]==null||(F[z]===q[z]?$[z]=F[z]:Array.isArray(F[z])?F[z].indexOf(q[z])<0&&($[z]=F[z].concat([q[z]])):$[z]=[F[z],q[z]]),$},{})}function B(q){return q.reduce(function(F,$){if($.insert===1){var z=(0,C.default)($.attributes);return delete z.image,F.insert({image:$.attributes.image},z)}if($.attributes!=null&&($.attributes.list===!0||$.attributes.bullet===!0)&&($=(0,C.default)($),$.attributes.list?$.attributes.list="ordered":($.attributes.list="bullet",delete $.attributes.bullet)),typeof $.insert=="string"){var G=$.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(G,$.attributes)}return F.push($)},new h.default)}r.default=W},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function O(A,k){var R=[],P=!0,T=!1,M=void 0;try{for(var H=A[Symbol.iterator](),W;!(P=(W=H.next()).done)&&(R.push(W.value),!(k&&R.length===k));P=!0);}catch(Z){T=!0,M=Z}finally{try{!P&&H.return&&H.return()}finally{if(T)throw M}}return R}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return O(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(A,k){for(var R=0;R<k.length;R++){var P=k[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}return function(A,k,R){return k&&O(A.prototype,k),R&&O(A,R),A}}(),c=i(0),d=b(c),h=i(21),f=b(h),m=i(11),u=b(m),p=i(8),x=b(p),v=i(10),w=b(v);function b(O){return O&&O.__esModule?O:{default:O}}function y(O){if(Array.isArray(O)){for(var A=0,k=Array(O.length);A<O.length;A++)k[A]=O[A];return k}else return Array.from(O)}function _(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}var N=(0,w.default)("quill:selection"),E=function O(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,O),this.index=A,this.length=k},I=function(){function O(A,k){var R=this;_(this,O),this.emitter=k,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new E(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){R.mouseDown||setTimeout(R.update.bind(R,x.default.sources.USER),1)}),this.emitter.on(x.default.events.EDITOR_CHANGE,function(P,T){P===x.default.events.TEXT_CHANGE&&T.length()>0&&R.update(x.default.sources.SILENT)}),this.emitter.on(x.default.events.SCROLL_BEFORE_UPDATE,function(){if(R.hasFocus()){var P=R.getNativeRange();P!=null&&P.start.node!==R.cursor.textNode&&R.emitter.once(x.default.events.SCROLL_UPDATE,function(){try{R.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(x.default.events.SCROLL_OPTIMIZE,function(P,T){if(T.range){var M=T.range,H=M.startNode,W=M.startOffset,Z=M.endNode,B=M.endOffset;R.setNativeRange(H,W,Z,B)}}),this.update(x.default.sources.SILENT)}return o(O,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var R=k.cursor.restore();if(!R)return;setTimeout(function(){k.setNativeRange(R.startNode,R.startOffset,R.endNode,R.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(x.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,R){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||d.default.query(k,d.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var T=d.default.find(P.start.node,!1);if(T==null)return;if(T instanceof d.default.Leaf){var M=T.split(P.start.offset);T.parent.insertBefore(this.cursor,M)}else T.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(k,R),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();k=Math.min(k,P-1),R=Math.min(k+R,P-1)-k;var T=void 0,M=this.scroll.leaf(k),H=a(M,2),W=H[0],Z=H[1];if(W==null)return null;var B=W.position(Z,!0),q=a(B,2);T=q[0],Z=q[1];var F=document.createRange();if(R>0){F.setStart(T,Z);var $=this.scroll.leaf(k+R),z=a($,2);if(W=z[0],Z=z[1],W==null)return null;var G=W.position(Z,!0),X=a(G,2);return T=X[0],Z=X[1],F.setEnd(T,Z),F.getBoundingClientRect()}else{var J="left",K=void 0;return T instanceof Text?(Z<T.data.length?(F.setStart(T,Z),F.setEnd(T,Z+1)):(F.setStart(T,Z-1),F.setEnd(T,Z),J="right"),K=F.getBoundingClientRect()):(K=W.domNode.getBoundingClientRect(),Z>0&&(J="right")),{bottom:K.top+K.height,height:K.height,left:K[J],right:K[J],top:K.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var R=k.getRangeAt(0);if(R==null)return null;var P=this.normalizeNative(R);return N.info("getNativeRange",P),P}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var R=this.normalizedToRange(k);return[R,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var R=this,P=[[k.start.node,k.start.offset]];k.native.collapsed||P.push([k.end.node,k.end.offset]);var T=P.map(function(W){var Z=a(W,2),B=Z[0],q=Z[1],F=d.default.find(B,!0),$=F.offset(R.scroll);return q===0?$:F instanceof d.default.Container?$+F.length():$+F.index(B,q)}),M=Math.min(Math.max.apply(Math,y(T)),this.scroll.length()-1),H=Math.min.apply(Math,[M].concat(y(T)));return new E(H,M-H)}},{key:"normalizeNative",value:function(k){if(!C(this.root,k.startContainer)||!k.collapsed&&!C(this.root,k.endContainer))return null;var R={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[R.start,R.end].forEach(function(P){for(var T=P.node,M=P.offset;!(T instanceof Text)&&T.childNodes.length>0;)if(T.childNodes.length>M)T=T.childNodes[M],M=0;else if(T.childNodes.length===M)T=T.lastChild,M=T instanceof Text?T.data.length:T.childNodes.length+1;else break;P.node=T,P.offset=M}),R}},{key:"rangeToNative",value:function(k){var R=this,P=k.collapsed?[k.index]:[k.index,k.index+k.length],T=[],M=this.scroll.length();return P.forEach(function(H,W){H=Math.min(M-1,H);var Z=void 0,B=R.scroll.leaf(H),q=a(B,2),F=q[0],$=q[1],z=F.position($,W!==0),G=a(z,2);Z=G[0],$=G[1],T.push(Z,$)}),T.length<2&&(T=T.concat(T)),T}},{key:"scrollIntoView",value:function(k){var R=this.lastRange;if(R!=null){var P=this.getBounds(R.index,R.length);if(P!=null){var T=this.scroll.length()-1,M=this.scroll.line(Math.min(R.index,T)),H=a(M,1),W=H[0],Z=W;if(R.length>0){var B=this.scroll.line(Math.min(R.index+R.length,T)),q=a(B,1);Z=q[0]}if(!(W==null||Z==null)){var F=k.getBoundingClientRect();P.top<F.top?k.scrollTop-=F.top-P.top:P.bottom>F.bottom&&(k.scrollTop+=P.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(k,R){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(N.info("setNativeRange",k,R,P,T),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||P.parentNode==null))){var H=document.getSelection();if(H!=null)if(k!=null){this.hasFocus()||this.root.focus();var W=(this.getNativeRange()||{}).native;if(W==null||M||k!==W.startContainer||R!==W.startOffset||P!==W.endContainer||T!==W.endOffset){k.tagName=="BR"&&(R=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),P.tagName=="BR"&&(T=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var Z=document.createRange();Z.setStart(k,R),Z.setEnd(P,T),H.removeAllRanges(),H.addRange(Z)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof R=="string"&&(P=R,R=!1),N.info("setRange",k),k!=null){var T=this.rangeToNative(k);this.setNativeRange.apply(this,y(T).concat([R]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.default.sources.USER,R=this.lastRange,P=this.getRange(),T=a(P,2),M=T[0],H=T[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(R,this.lastRange)){var W;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[x.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(R),k];if((W=this.emitter).emit.apply(W,[x.default.events.EDITOR_CHANGE].concat(Z)),k!==x.default.sources.SILENT){var B;(B=this.emitter).emit.apply(B,Z)}}}}]),O}();function C(O,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),O.contains(A)}r.Range=E,r.default=I},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(0),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"insertInto",value:function(b,y){b.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,b,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(d.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(s,r,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var x in p)p.hasOwnProperty(x)&&(u[x]=p[x])};return function(u,p){m(u,p);function x(){this.constructor=u}u.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),c=i(30),d=i(1),h=function(m){a(u,m);function u(p){var x=m.call(this,p)||this;return x.build(),x}return u.prototype.appendChild=function(p){this.insertBefore(p)},u.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},u.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(x){try{var v=f(x);p.insertBefore(v,p.children.head||void 0)}catch(w){if(w instanceof d.ParchmentError)return;throw w}})},u.prototype.deleteAt=function(p,x){if(p===0&&x===this.length())return this.remove();this.children.forEachAt(p,x,function(v,w,b){v.deleteAt(w,b)})},u.prototype.descendant=function(p,x){var v=this.children.find(x),w=v[0],b=v[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,b]:w instanceof u?w.descendant(p,b):[null,-1]},u.prototype.descendants=function(p,x,v){x===void 0&&(x=0),v===void 0&&(v=Number.MAX_VALUE);var w=[],b=v;return this.children.forEachAt(x,v,function(y,_,N){(p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p)&&w.push(y),y instanceof u&&(w=w.concat(y.descendants(p,_,b))),b-=N}),w},u.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),m.prototype.detach.call(this)},u.prototype.formatAt=function(p,x,v,w){this.children.forEachAt(p,x,function(b,y,_){b.formatAt(y,_,v,w)})},u.prototype.insertAt=function(p,x,v){var w=this.children.find(p),b=w[0],y=w[1];if(b)b.insertAt(y,x,v);else{var _=v==null?d.create("text",x):d.create(x,v);this.appendChild(_)}},u.prototype.insertBefore=function(p,x){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new d.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,x)},u.prototype.length=function(){return this.children.reduce(function(p,x){return p+x.length()},0)},u.prototype.moveChildren=function(p,x){this.children.forEach(function(v){p.insertBefore(v,x)})},u.prototype.optimize=function(p){if(m.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var x=d.create(this.statics.defaultChild);this.appendChild(x),x.optimize(p)}else this.remove()},u.prototype.path=function(p,x){x===void 0&&(x=!1);var v=this.children.find(p,x),w=v[0],b=v[1],y=[[this,p]];return w instanceof u?y.concat(w.path(b,x)):(w!=null&&y.push([w,b]),y)},u.prototype.removeChild=function(p){this.children.remove(p)},u.prototype.replace=function(p){p instanceof u&&p.moveChildren(this),m.prototype.replace.call(this,p)},u.prototype.split=function(p,x){if(x===void 0&&(x=!1),!x){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(w,b,y){w=w.split(b,x),v.appendChild(w)}),v},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(p,x){var v=this,w=[],b=[];p.forEach(function(y){y.target===v.domNode&&y.type==="childList"&&(w.push.apply(w,y.addedNodes),b.push.apply(b,y.removedNodes))}),b.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=d.find(y);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===v.domNode)&&_.detach()}}),w.filter(function(y){return y.parentNode==v.domNode}).sort(function(y,_){return y===_?0:y.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var _=null;y.nextSibling!=null&&(_=d.find(y.nextSibling));var N=f(y);(N.next!=_||N.next==null)&&(N.parent!=null&&N.parent.removeChild(v),v.insertBefore(N,_||void 0))})},u}(c.default);function f(m){var u=d.find(m);if(u==null)try{u=d.create(m)}catch{u=d.create(d.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(x){u.domNode.appendChild(x)}),m.parentNode&&m.parentNode.replaceChild(u.domNode,m),u.attach()}return u}r.default=h},function(s,r,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var x in p)p.hasOwnProperty(x)&&(u[x]=p[x])};return function(u,p){m(u,p);function x(){this.constructor=u}u.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),c=i(31),d=i(17),h=i(1),f=function(m){a(u,m);function u(p){var x=m.call(this,p)||this;return x.attributes=new c.default(x.domNode),x}return u.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},u.prototype.format=function(p,x){var v=h.query(p);v instanceof o.default?this.attributes.attribute(v,x):x&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==x)&&this.replaceWith(p,x)},u.prototype.formats=function(){var p=this.attributes.values(),x=this.statics.formats(this.domNode);return x!=null&&(p[this.statics.blotName]=x),p},u.prototype.replaceWith=function(p,x){var v=m.prototype.replaceWith.call(this,p,x);return this.attributes.copy(v),v},u.prototype.update=function(p,x){var v=this;m.prototype.update.call(this,p,x),p.some(function(w){return w.target===v.domNode&&w.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(p,x){var v=m.prototype.wrap.call(this,p,x);return v instanceof u&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},u}(d.default);r.default=f},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),c=i(1),d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.value=function(m){return!0},f.prototype.index=function(m,u){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},f.prototype.position=function(m,u){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},f.scope=c.Scope.INLINE_BLOT,f}(o.default);r.default=d},function(s,r,i){var a=i(11),o=i(3),c={attributes:{compose:function(h,f,m){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});var u=o(!0,{},f);m||(u=Object.keys(u).reduce(function(x,v){return u[v]!=null&&(x[v]=u[v]),x},{}));for(var p in h)h[p]!==void 0&&f[p]===void 0&&(u[p]=h[p]);return Object.keys(u).length>0?u:void 0},diff:function(h,f){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});var m=Object.keys(h).concat(Object.keys(f)).reduce(function(u,p){return a(h[p],f[p])||(u[p]=f[p]===void 0?null:f[p]),u},{});return Object.keys(m).length>0?m:void 0},transform:function(h,f,m){if(typeof h!="object")return f;if(typeof f=="object"){if(!m)return f;var u=Object.keys(f).reduce(function(p,x){return h[x]===void 0&&(p[x]=f[x]),p},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(h){return new d(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function d(h){this.ops=h,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(h){h||(h=1/0);var f=this.ops[this.index];if(f){var m=this.offset,u=c.length(f);if(h>=u-m?(h=u-m,this.index+=1,this.offset=0):this.offset+=h,typeof f.delete=="number")return{delete:h};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=h:typeof f.insert=="string"?p.insert=f.insert.substr(m,h):p.insert=f.insert,p}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,f=this.index,m=this.next(),u=this.ops.slice(this.index);return this.offset=h,this.index=f,[m].concat(u)}else return[]},s.exports=c},function(s,r){var i=function(){function a(v,w){return w!=null&&v instanceof w}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var d;try{d=Promise}catch{d=function(){}}function h(v,w,b,y,_){typeof w=="object"&&(b=w.depth,y=w.prototype,_=w.includeNonEnumerable,w=w.circular);var N=[],E=[],I=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function C(O,A){if(O===null)return null;if(A===0)return O;var k,R;if(typeof O!="object")return O;if(a(O,o))k=new o;else if(a(O,c))k=new c;else if(a(O,d))k=new d(function(F,$){O.then(function(z){F(C(z,A-1))},function(z){$(C(z,A-1))})});else if(h.__isArray(O))k=[];else if(h.__isRegExp(O))k=new RegExp(O.source,x(O)),O.lastIndex&&(k.lastIndex=O.lastIndex);else if(h.__isDate(O))k=new Date(O.getTime());else{if(I&&Buffer.isBuffer(O))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(O.length):k=new Buffer(O.length),O.copy(k),k;a(O,Error)?k=Object.create(O):typeof y>"u"?(R=Object.getPrototypeOf(O),k=Object.create(R)):(k=Object.create(y),R=y)}if(w){var P=N.indexOf(O);if(P!=-1)return E[P];N.push(O),E.push(k)}a(O,o)&&O.forEach(function(F,$){var z=C($,A-1),G=C(F,A-1);k.set(z,G)}),a(O,c)&&O.forEach(function(F){var $=C(F,A-1);k.add($)});for(var T in O){var M;R&&(M=Object.getOwnPropertyDescriptor(R,T)),!(M&&M.set==null)&&(k[T]=C(O[T],A-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(O),T=0;T<H.length;T++){var W=H[T],Z=Object.getOwnPropertyDescriptor(O,W);Z&&!Z.enumerable&&!_||(k[W]=C(O[W],A-1),Z.enumerable||Object.defineProperty(k,W,{enumerable:!1}))}if(_)for(var B=Object.getOwnPropertyNames(O),T=0;T<B.length;T++){var q=B[T],Z=Object.getOwnPropertyDescriptor(O,q);Z&&Z.enumerable||(k[q]=C(O[q],A-1),Object.defineProperty(k,q,{enumerable:!1}))}return k}return C(v,b)}h.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function f(v){return Object.prototype.toString.call(v)}h.__objToStr=f;function m(v){return typeof v=="object"&&f(v)==="[object Date]"}h.__isDate=m;function u(v){return typeof v=="object"&&f(v)==="[object Array]"}h.__isArray=u;function p(v){return typeof v=="object"&&f(v)==="[object RegExp]"}h.__isRegExp=p;function x(v){var w="";return v.global&&(w+="g"),v.ignoreCase&&(w+="i"),v.multiline&&(w+="m"),w}return h.__getRegExpFlags=x,h}();typeof s=="object"&&s.exports&&(s.exports=i)},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function k(R,P){var T=[],M=!0,H=!1,W=void 0;try{for(var Z=R[Symbol.iterator](),B;!(M=(B=Z.next()).done)&&(T.push(B.value),!(P&&T.length===P));M=!0);}catch(q){H=!0,W=q}finally{try{!M&&Z.return&&Z.return()}finally{if(H)throw W}}return T}return function(R,P){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return k(R,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(R,P){for(var T=0;T<P.length;T++){var M=P[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,M.key,M)}}return function(R,P,T){return P&&k(R.prototype,P),T&&k(R,T),R}}(),c=function k(R,P,T){R===null&&(R=Function.prototype);var M=Object.getOwnPropertyDescriptor(R,P);if(M===void 0){var H=Object.getPrototypeOf(R);return H===null?void 0:k(H,P,T)}else{if("value"in M)return M.value;var W=M.get;return W===void 0?void 0:W.call(T)}},d=i(0),h=N(d),f=i(8),m=N(f),u=i(4),p=N(u),x=i(16),v=N(x),w=i(13),b=N(w),y=i(25),_=N(y);function N(k){return k&&k.__esModule?k:{default:k}}function E(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function I(k,R){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:k}function C(k,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(k,R):k.__proto__=R)}function O(k){return k instanceof p.default||k instanceof u.BlockEmbed}var A=function(k){C(R,k);function R(P,T){E(this,R);var M=I(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,P));return M.emitter=T.emitter,Array.isArray(T.whitelist)&&(M.whitelist=T.whitelist.reduce(function(H,W){return H[W]=!0,H},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return o(R,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,M){var H=this.line(T),W=a(H,2),Z=W[0],B=W[1],q=this.line(T+M),F=a(q,1),$=F[0];if(c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,T,M),$!=null&&Z!==$&&B>0){if(Z instanceof u.BlockEmbed||$ instanceof u.BlockEmbed){this.optimize();return}if(Z instanceof b.default){var z=Z.newlineIndex(Z.length(),!0);if(z>-1&&(Z=Z.split(z+1),Z===$)){this.optimize();return}}else if($ instanceof b.default){var G=$.newlineIndex(0);G>-1&&$.split(G+1)}var X=$.children.head instanceof v.default?null:$.children.head;Z.moveChildren($,X),Z.remove()}this.optimize()}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",T)}},{key:"formatAt",value:function(T,M,H,W){this.whitelist!=null&&!this.whitelist[H]||(c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,T,M,H,W),this.optimize())}},{key:"insertAt",value:function(T,M,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[M])){if(T>=this.length())if(H==null||h.default.query(M,h.default.Scope.BLOCK)==null){var W=h.default.create(this.statics.defaultChild);this.appendChild(W),H==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),W.insertAt(0,M,H)}else{var Z=h.default.create(M,H);this.appendChild(Z)}else c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,T,M,H);this.optimize()}}},{key:"insertBefore",value:function(T,M){if(T.statics.scope===h.default.Scope.INLINE_BLOT){var H=h.default.create(this.statics.defaultChild);H.appendChild(T),T=H}c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,T,M)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(O,T)}},{key:"lines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function W(Z,B,q){var F=[],$=q;return Z.children.forEachAt(B,q,function(z,G,X){O(z)?F.push(z):z instanceof h.default.Container&&(F=F.concat(W(z,G,$))),$-=X}),F};return H(this,T,M)}},{key:"optimize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,T,M),T.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,T,M))}},{key:"path",value:function(T){return c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(this.batch!==!0){var M=m.default.sources.USER;typeof T=="string"&&(M=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,M,T),c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,M,T)}}}]),R}(h.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[p.default,u.BlockEmbed,_.default],r.default=A},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},o=function(){function K(U,ne){var se=[],le=!0,pe=!1,ee=void 0;try{for(var ye=U[Symbol.iterator](),Ce;!(le=(Ce=ye.next()).done)&&(se.push(Ce.value),!(ne&&se.length===ne));le=!0);}catch(ue){pe=!0,ee=ue}finally{try{!le&&ye.return&&ye.return()}finally{if(pe)throw ee}}return se}return function(U,ne){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return K(U,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function K(U,ne){for(var se=0;se<ne.length;se++){var le=ne[se];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(U,le.key,le)}}return function(U,ne,se){return ne&&K(U.prototype,ne),se&&K(U,se),U}}(),d=i(21),h=k(d),f=i(11),m=k(f),u=i(3),p=k(u),x=i(2),v=k(x),w=i(20),b=k(w),y=i(0),_=k(y),N=i(5),E=k(N),I=i(10),C=k(I),O=i(9),A=k(O);function k(K){return K&&K.__esModule?K:{default:K}}function R(K,U,ne){return U in K?Object.defineProperty(K,U,{value:ne,enumerable:!0,configurable:!0,writable:!0}):K[U]=ne,K}function P(K,U){if(!(K instanceof U))throw new TypeError("Cannot call a class as a function")}function T(K,U){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:K}function M(K,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);K.prototype=Object.create(U&&U.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(K,U):K.__proto__=U)}var H=(0,C.default)("quill:keyboard"),W=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=function(K){M(U,K),c(U,null,[{key:"match",value:function(se,le){return le=J(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!le[pe]!==se[pe]&&le[pe]!==null})?!1:le.key===(se.which||se.keyCode)}}]);function U(ne,se){P(this,U);var le=T(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,ne,se));return le.bindings={},Object.keys(le.options.bindings).forEach(function(pe){pe==="list autofill"&&ne.scroll.whitelist!=null&&!ne.scroll.whitelist.list||le.options.bindings[pe]&&le.addBinding(le.options.bindings[pe])}),le.addBinding({key:U.keys.ENTER,shiftKey:null},z),le.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},q),le.addBinding({key:U.keys.DELETE},{collapsed:!0},F)):(le.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),le.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),le.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},$),le.addBinding({key:U.keys.DELETE},{collapsed:!1},$),le.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),le.listen(),le}return c(U,[{key:"addBinding",value:function(se){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=J(se);if(ee==null||ee.key==null)return H.warn("Attempted to add invalid keyboard binding",ee);typeof le=="function"&&(le={handler:le}),typeof pe=="function"&&(pe={handler:pe}),ee=(0,p.default)(ee,le,pe),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var pe=le.which||le.keyCode,ee=(se.bindings[pe]||[]).filter(function(_t){return U.match(le,_t)});if(ee.length!==0){var ye=se.quill.getSelection();if(!(ye==null||!se.quill.hasFocus())){var Ce=se.quill.getLine(ye.index),ue=o(Ce,2),je=ue[0],xe=ue[1],ce=se.quill.getLeaf(ye.index),fe=o(ce,2),Q=fe[0],re=fe[1],ie=ye.length===0?[Q,re]:se.quill.getLeaf(ye.index+ye.length),be=o(ie,2),we=be[0],ve=be[1],Ae=Q instanceof _.default.Text?Q.value().slice(0,re):"",tt=we instanceof _.default.Text?we.value().slice(ve):"",Xe={collapsed:ye.length===0,empty:ye.length===0&&je.length()<=1,format:se.quill.getFormat(ye),offset:xe,prefix:Ae,suffix:tt},zt=ee.some(function(_t){if(_t.collapsed!=null&&_t.collapsed!==Xe.collapsed||_t.empty!=null&&_t.empty!==Xe.empty||_t.offset!=null&&_t.offset!==Xe.offset)return!1;if(Array.isArray(_t.format)){if(_t.format.every(function(Vt){return Xe.format[Vt]==null}))return!1}else if(a(_t.format)==="object"&&!Object.keys(_t.format).every(function(Vt){return _t.format[Vt]===!0?Xe.format[Vt]!=null:_t.format[Vt]===!1?Xe.format[Vt]==null:(0,m.default)(_t.format[Vt],Xe.format[Vt])}))return!1;return _t.prefix!=null&&!_t.prefix.test(Xe.prefix)||_t.suffix!=null&&!_t.suffix.test(Xe.suffix)?!1:_t.handler.call(se,ye,Xe)!==!0});zt&&le.preventDefault()}}}})}}]),U}(A.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:X("bold"),italic:X("italic"),underline:X("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function(U,ne){if(ne.collapsed&&ne.offset!==0)return!0;this.quill.format("indent","+1",E.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,ne){if(ne.collapsed&&ne.offset!==0)return!0;this.quill.format("indent","-1",E.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,ne){ne.format.indent!=null?this.quill.format("indent","-1",E.default.sources.USER):ne.format.list!=null&&this.quill.format("list",!1,E.default.sources.USER)}},"indent code-block":G(!0),"outdent code-block":G(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,E.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function(U){this.quill.history.cutoff();var ne=new v.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(ne,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,E.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,ne){this.quill.format("list",!1,E.default.sources.USER),ne.format.indent&&this.quill.format("indent",!1,E.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var ne=this.quill.getLine(U.index),se=o(ne,2),le=se[0],pe=se[1],ee=(0,p.default)({},le.formats(),{list:"checked"}),ye=new v.default().retain(U.index).insert(`
`,ee).retain(le.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(ye,E.default.sources.USER),this.quill.setSelection(U.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,ne){var se=this.quill.getLine(U.index),le=o(se,2),pe=le[0],ee=le[1],ye=new v.default().retain(U.index).insert(`
`,ne.format).retain(pe.length()-ee-1).retain(1,{header:null});this.quill.updateContents(ye,E.default.sources.USER),this.quill.setSelection(U.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,ne){var se=ne.prefix.length,le=this.quill.getLine(U.index),pe=o(le,2),ee=pe[0],ye=pe[1];if(ye>se)return!0;var Ce=void 0;switch(ne.prefix.trim()){case"[]":case"[ ]":Ce="unchecked";break;case"[x]":Ce="checked";break;case"-":case"*":Ce="bullet";break;default:Ce="ordered"}this.quill.insertText(U.index," ",E.default.sources.USER),this.quill.history.cutoff();var ue=new v.default().retain(U.index-ye).delete(se+1).retain(ee.length()-2-ye).retain(1,{list:Ce});this.quill.updateContents(ue,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-se,E.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var ne=this.quill.getLine(U.index),se=o(ne,2),le=se[0],pe=se[1],ee=new v.default().retain(U.index+le.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,E.default.sources.USER)}},"embed left":B(Z.keys.LEFT,!1),"embed left shift":B(Z.keys.LEFT,!0),"embed right":B(Z.keys.RIGHT,!1),"embed right shift":B(Z.keys.RIGHT,!0)}};function B(K,U){var ne,se=K===Z.keys.LEFT?"prefix":"suffix";return ne={key:K,shiftKey:U,altKey:null},R(ne,se,/^$/),R(ne,"handler",function(pe){var ee=pe.index;K===Z.keys.RIGHT&&(ee+=pe.length+1);var ye=this.quill.getLeaf(ee),Ce=o(ye,1),ue=Ce[0];return ue instanceof _.default.Embed?(K===Z.keys.LEFT?U?this.quill.setSelection(pe.index-1,pe.length+1,E.default.sources.USER):this.quill.setSelection(pe.index-1,E.default.sources.USER):U?this.quill.setSelection(pe.index,pe.length+1,E.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,E.default.sources.USER),!1):!0}),ne}function q(K,U){if(!(K.index===0||this.quill.getLength()<=1)){var ne=this.quill.getLine(K.index),se=o(ne,1),le=se[0],pe={};if(U.offset===0){var ee=this.quill.getLine(K.index-1),ye=o(ee,1),Ce=ye[0];if(Ce!=null&&Ce.length()>1){var ue=le.formats(),je=this.quill.getFormat(K.index-1,1);pe=b.default.attributes.diff(ue,je)||{}}}var xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(K.index-xe,xe,E.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(K.index-xe,xe,pe,E.default.sources.USER),this.quill.focus()}}function F(K,U){var ne=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(K.index>=this.quill.getLength()-ne)){var se={},le=0,pe=this.quill.getLine(K.index),ee=o(pe,1),ye=ee[0];if(U.offset>=ye.length()-1){var Ce=this.quill.getLine(K.index+1),ue=o(Ce,1),je=ue[0];if(je){var xe=ye.formats(),ce=this.quill.getFormat(K.index,1);se=b.default.attributes.diff(xe,ce)||{},le=je.length()}}this.quill.deleteText(K.index,ne,E.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(K.index+le-1,ne,se,E.default.sources.USER)}}function $(K){var U=this.quill.getLines(K),ne={};if(U.length>1){var se=U[0].formats(),le=U[U.length-1].formats();ne=b.default.attributes.diff(le,se)||{}}this.quill.deleteText(K,E.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(K.index,1,ne,E.default.sources.USER),this.quill.setSelection(K.index,E.default.sources.SILENT),this.quill.focus()}function z(K,U){var ne=this;K.length>0&&this.quill.scroll.deleteAt(K.index,K.length);var se=Object.keys(U.format).reduce(function(le,pe){return _.default.query(pe,_.default.Scope.BLOCK)&&!Array.isArray(U.format[pe])&&(le[pe]=U.format[pe]),le},{});this.quill.insertText(K.index,`
`,se,E.default.sources.USER),this.quill.setSelection(K.index+1,E.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(le){se[le]==null&&(Array.isArray(U.format[le])||le!=="link"&&ne.quill.format(le,U.format[le],E.default.sources.USER))})}function G(K){return{key:Z.keys.TAB,shiftKey:!K,format:{"code-block":!0},handler:function(ne){var se=_.default.query("code-block"),le=ne.index,pe=ne.length,ee=this.quill.scroll.descendant(se,le),ye=o(ee,2),Ce=ye[0],ue=ye[1];if(Ce!=null){var je=this.quill.getIndex(Ce),xe=Ce.newlineIndex(ue,!0)+1,ce=Ce.newlineIndex(je+ue+pe),fe=Ce.domNode.textContent.slice(xe,ce).split(`
`);ue=0,fe.forEach(function(Q,re){K?(Ce.insertAt(xe+ue,se.TAB),ue+=se.TAB.length,re===0?le+=se.TAB.length:pe+=se.TAB.length):Q.startsWith(se.TAB)&&(Ce.deleteAt(xe+ue,se.TAB.length),ue-=se.TAB.length,re===0?le-=se.TAB.length:pe-=se.TAB.length),ue+=Q.length+1}),this.quill.update(E.default.sources.USER),this.quill.setSelection(le,pe,E.default.sources.SILENT)}}}}function X(K){return{key:K[0].toUpperCase(),shortKey:!0,handler:function(ne,se){this.quill.format(K,!se.format[K],E.default.sources.USER)}}}function J(K){if(typeof K=="string"||typeof K=="number")return J({key:K});if((typeof K>"u"?"undefined":a(K))==="object"&&(K=(0,h.default)(K,!1)),typeof K.key=="string")if(Z.keys[K.key.toUpperCase()]!=null)K.key=Z.keys[K.key.toUpperCase()];else if(K.key.length===1)K.key=K.key.toUpperCase().charCodeAt(0);else return null;return K.shortKey&&(K[W]=K.shortKey,delete K.shortKey),K}r.default=Z,r.SHORTKEY=W},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(y,_){var N=[],E=!0,I=!1,C=void 0;try{for(var O=y[Symbol.iterator](),A;!(E=(A=O.next()).done)&&(N.push(A.value),!(_&&N.length===_));E=!0);}catch(k){I=!0,C=k}finally{try{!E&&O.return&&O.return()}finally{if(I)throw C}}return N}return function(y,_){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return b(y,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(y,_,N){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,_);if(E===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:b(I,_,N)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(N)}},c=function(){function b(y,_){for(var N=0;N<_.length;N++){var E=_[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,_,N){return _&&b(y.prototype,_),N&&b(y,N),y}}(),d=i(0),h=u(d),f=i(7),m=u(f);function u(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function x(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function v(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var w=function(b){v(y,b),c(y,null,[{key:"value",value:function(){}}]);function y(_,N){p(this,y);var E=x(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return E.selection=N,E.textNode=document.createTextNode(y.CONTENTS),E.domNode.appendChild(E.textNode),E._length=0,E}return c(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(N,E){if(this._length!==0)return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,N,E);for(var I=this,C=0;I!=null&&I.statics.scope!==h.default.Scope.BLOCK_BLOT;)C+=I.offset(I.parent),I=I.parent;I!=null&&(this._length=y.CONTENTS.length,I.optimize(),I.formatAt(C,y.CONTENTS.length,N,E),this._length=0)}},{key:"index",value:function(N,E){return N===this.textNode?0:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,N,E)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var N=this.textNode,E=this.selection.getNativeRange(),I=void 0,C=void 0,O=void 0;if(E!=null&&E.start.node===N&&E.end.node===N){var A=[N,E.start.offset,E.end.offset];I=A[0],C=A[1],O=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var k=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof m.default?(I=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=y.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),C!=null){var R=[C,O].map(function(T){return Math.max(0,Math.min(I.data.length,T-1))}),P=a(R,2);return C=P[0],O=P[1],{startNode:I,startOffset:C,endNode:I,endOffset:O}}}}},{key:"update",value:function(N,E){var I=this;if(N.some(function(O){return O.type==="characterData"&&O.target===I.textNode})){var C=this.restore();C&&(E.range=C)}}},{key:"value",value:function(){return""}}]),y}(h.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=h(a),c=i(4),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);p.allowedChildren=[d.default,c.BlockEmbed,p],r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),o=function w(b,y,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,y);if(N===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:w(E,y,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},c=i(0),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function u(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=function(w){u(b,w);function b(){return f(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(_){var N=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,_);return N.startsWith("rgb(")?(N=N.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+N.split(",").map(function(E){return("00"+parseInt(E).toString(16)).slice(-2)}).join("")):N}}]),b}(d.default.Attributor.Style),x=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),v=new p("color","color",{scope:d.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=x,r.ColorStyle=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function v(w,b){for(var y=0;y<b.length;y++){var _=b[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,y){return b&&v(w.prototype,b),y&&v(w,y),w}}(),o=function v(w,b,y){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,b);if(_===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,b,y)}else{if("value"in _)return _.value;var E=_.get;return E===void 0?void 0:E.call(y)}},c=i(6),d=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function m(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function u(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){u(w,v);function w(){return f(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(y,_){if(y!==this.statics.blotName||!_)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,y,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(y){var _=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,y);return y=this.sanitize(y),_.setAttribute("href",y),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return x(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),w}(d.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function x(v,w){var b=document.createElement("a");b.href=v;var y=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(y)>-1}r.default=p,r.sanitize=x},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),c=i(23),d=m(c),h=i(107),f=m(h);function m(w){return w&&w.__esModule?w:{default:w}}function u(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function x(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var v=function(){function w(b){var y=this;u(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case d.default.keys.ENTER:y.togglePicker();break;case d.default.keys.ESCAPE:y.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),x(this.label,"aria-expanded"),x(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var _=this,N=document.createElement("span");return N.tabIndex="0",N.setAttribute("role","button"),N.classList.add("ql-picker-item"),y.hasAttribute("value")&&N.setAttribute("data-value",y.getAttribute("value")),y.textContent&&N.setAttribute("data-label",y.textContent),N.addEventListener("click",function(){_.selectItem(N,!0)}),N.addEventListener("keydown",function(E){switch(E.keyCode){case d.default.keys.ENTER:_.selectItem(N,!0),E.preventDefault();break;case d.default.keys.ESCAPE:_.escape(),E.preventDefault();break}}),N}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=f.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(N){var E=y.buildItem(N);_.appendChild(E),N.selected===!0&&y.selectItem(E)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(_){y.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=this.container.querySelector(".ql-selected");if(y!==N&&(N!=null&&N.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var E=document.createEvent("Event");E.initEvent("change",!0,!0),this.select.dispatchEvent(E)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var N=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",N)}}]),w}();r.default=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=H(a),c=i(5),d=H(c),h=i(4),f=H(h),m=i(16),u=H(m),p=i(25),x=H(p),v=i(24),w=H(v),b=i(35),y=H(b),_=i(6),N=H(_),E=i(22),I=H(E),C=i(7),O=H(C),A=i(55),k=H(A),R=i(42),P=H(R),T=i(23),M=H(T);function H(W){return W&&W.__esModule?W:{default:W}}d.default.register({"blots/block":f.default,"blots/block/embed":h.BlockEmbed,"blots/break":u.default,"blots/container":x.default,"blots/cursor":w.default,"blots/embed":y.default,"blots/inline":N.default,"blots/scroll":I.default,"blots/text":O.default,"modules/clipboard":k.default,"modules/history":P.default,"modules/keyboard":M.default}),o.default.register(f.default,u.default,w.default,N.default,I.default,O.default),r.default=d.default},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=function(){function c(d){this.domNode=d,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(d){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?h=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?h=document.createElement(d):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return a.create(d)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(d,h){var f=this.isolate(d,h);f.remove()},c.prototype.formatAt=function(d,h,f,m){var u=this.isolate(d,h);if(a.query(f,a.Scope.BLOT)!=null&&m)u.wrap(f,m);else if(a.query(f,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);u.wrap(p),p.format(f,m)}},c.prototype.insertAt=function(d,h,f){var m=f==null?a.create("text",h):a.create(h,f),u=this.split(d);this.parent.insertBefore(m,u)},c.prototype.insertInto=function(d,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var f=null;d.children.insertBefore(this,h),h!=null&&(f=h.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=f)&&d.domNode.insertBefore(this.domNode,f),this.parent=d,this.attach()},c.prototype.isolate=function(d,h){var f=this.split(d);return f.split(h),f},c.prototype.length=function(){return 1},c.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},c.prototype.optimize=function(d){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},c.prototype.replaceWith=function(d,h){var f=typeof d=="string"?a.create(d,h):d;return f.replace(this),f},c.prototype.split=function(d,h){return d===0?this:this.next},c.prototype.update=function(d,h){},c.prototype.wrap=function(d,h){var f=typeof d=="string"?a.create(d,h):d;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},c.blotName="abstract",c}();r.default=o},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(32),c=i(33),d=i(1),h=function(){function f(m){this.attributes={},this.domNode=m,this.build()}return f.prototype.attribute=function(m,u){u?m.add(this.domNode,u)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},f.prototype.build=function(){var m=this;this.attributes={};var u=a.default.keys(this.domNode),p=o.default.keys(this.domNode),x=c.default.keys(this.domNode);u.concat(p).concat(x).forEach(function(v){var w=d.query(v,d.Scope.ATTRIBUTE);w instanceof a.default&&(m.attributes[w.attrName]=w)})},f.prototype.copy=function(m){var u=this;Object.keys(this.attributes).forEach(function(p){var x=u.attributes[p].value(u.domNode);m.format(p,x)})},f.prototype.move=function(m){var u=this;this.copy(m),Object.keys(this.attributes).forEach(function(p){u.attributes[p].remove(u.domNode)}),this.attributes={}},f.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(u,p){return u[p]=m.attributes[p].value(m.domNode),u},{})},f}();r.default=h},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function c(h,f){var m=h.getAttribute("class")||"";return m.split(/\s+/).filter(function(u){return u.indexOf(f+"-")===0})}var d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},f.prototype.add=function(m,u){return this.canAdd(m,u)?(this.remove(m),m.classList.add(this.keyName+"-"+u),!0):!1},f.prototype.remove=function(m){var u=c(m,this.keyName);u.forEach(function(p){m.classList.remove(p)}),m.classList.length===0&&m.removeAttribute("class")},f.prototype.value=function(m){var u=c(m,this.keyName)[0]||"",p=u.slice(this.keyName.length+1);return this.canAdd(m,p)?p:""},f}(o.default);r.default=d},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function c(h){var f=h.split("-"),m=f.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return f[0]+m}var d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(u){var p=u.split(":");return p[0].trim()})},f.prototype.add=function(m,u){return this.canAdd(m,u)?(m.style[c(this.keyName)]=u,!0):!1},f.prototype.remove=function(m){m.style[c(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},f.prototype.value=function(m){var u=m.style[c(this.keyName)];return this.canAdd(m,u)?u:""},f}(o.default);r.default=d},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function d(h,f){for(var m=0;m<f.length;m++){var u=f[m];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,f,m){return f&&d(h.prototype,f),m&&d(h,m),h}}();function o(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(h,f){o(this,d),this.quill=h,this.options=f,this.modules={}}return a(d,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(m){f.modules[m]==null&&f.addModule(m)})}},{key:"addModule",value:function(f){var m=this.quill.constructor.import("modules/"+f);return this.modules[f]=new m(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),d}();c.DEFAULTS={modules:{}},c.themes={default:c},r.default=c},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(y,_){for(var N=0;N<_.length;N++){var E=_[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,_,N){return _&&b(y.prototype,_),N&&b(y,N),y}}(),o=function b(y,_,N){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,_);if(E===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:b(I,_,N)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(N)}},c=i(0),d=m(c),h=i(7),f=m(h);function m(b){return b&&b.__esModule?b:{default:b}}function u(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function p(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function x(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var v="\uFEFF",w=function(b){x(y,b);function y(_){u(this,y);var N=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return N.contentNode=document.createElement("span"),N.contentNode.setAttribute("contenteditable",!1),[].slice.call(N.domNode.childNodes).forEach(function(E){N.contentNode.appendChild(E)}),N.leftGuard=document.createTextNode(v),N.rightGuard=document.createTextNode(v),N.domNode.appendChild(N.leftGuard),N.domNode.appendChild(N.contentNode),N.domNode.appendChild(N.rightGuard),N}return a(y,[{key:"index",value:function(N,E){return N===this.leftGuard?0:N===this.rightGuard?1:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,N,E)}},{key:"restore",value:function(N){var E=void 0,I=void 0,C=N.data.split(v).join("");if(N===this.leftGuard)if(this.prev instanceof f.default){var O=this.prev.length();this.prev.insertAt(O,C),E={startNode:this.prev.domNode,startOffset:O+C.length}}else I=document.createTextNode(C),this.parent.insertBefore(d.default.create(I),this),E={startNode:I,startOffset:C.length};else N===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,C),E={startNode:this.next.domNode,startOffset:C.length}):(I=document.createTextNode(C),this.parent.insertBefore(d.default.create(I),this.next),E={startNode:I,startOffset:C.length}));return N.data=v,E}},{key:"update",value:function(N,E){var I=this;N.forEach(function(C){if(C.type==="characterData"&&(C.target===I.leftGuard||C.target===I.rightGuard)){var O=I.restore(C.target);O&&(E.range=O)}})}}]),y}(d.default.Embed);r.default=w},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}var d={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new o.default.Attributor.Attribute("align","align",d),f=new o.default.Attributor.Class("align","ql-align",d),m=new o.default.Attributor.Style("align","text-align",d);r.AlignAttribute=h,r.AlignClass=f,r.AlignStyle=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=i(0),o=d(a),c=i(26);function d(m){return m&&m.__esModule?m:{default:m}}var h=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=f},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}var d={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},h=new o.default.Attributor.Attribute("direction","dir",d),f=new o.default.Attributor.Class("direction","ql-direction",d),m=new o.default.Attributor.Style("direction","direction",d);r.DirectionAttribute=h,r.DirectionClass=f,r.DirectionStyle=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function b(y,_){for(var N=0;N<_.length;N++){var E=_[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,_,N){return _&&b(y.prototype,_),N&&b(y,N),y}}(),o=function b(y,_,N){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,_);if(E===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:b(I,_,N)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(N)}},c=i(0),d=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function m(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function u(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var p={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},x=new d.default.Attributor.Class("font","ql-font",p),v=function(b){u(y,b);function y(){return f(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(N){return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,N).replace(/["']/g,"")}}]),y}(d.default.Attributor.Style),w=new v("font","font-family",p);r.FontStyle=w,r.FontClass=x},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=i(0),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}var d=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=d,r.SizeStyle=h},function(s,r,i){s.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function _(N,E){for(var I=0;I<E.length;I++){var C=E[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,E,I){return E&&_(N.prototype,E),I&&_(N,I),N}}(),o=i(0),c=u(o),d=i(5),h=u(d),f=i(9),m=u(f);function u(_){return _&&_.__esModule?_:{default:_}}function p(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function x(_,N){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:_}function v(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(_,N):_.__proto__=N)}var w=function(_){v(N,_);function N(E,I){p(this,N);var C=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,E,I));return C.lastRecorded=0,C.ignoreChange=!1,C.clear(),C.quill.on(h.default.events.EDITOR_CHANGE,function(O,A,k,R){O!==h.default.events.TEXT_CHANGE||C.ignoreChange||(!C.options.userOnly||R===h.default.sources.USER?C.record(A,k):C.transform(A))}),C.quill.keyboard.addBinding({key:"Z",shortKey:!0},C.undo.bind(C)),C.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},C.redo.bind(C)),/Win/i.test(navigator.platform)&&C.quill.keyboard.addBinding({key:"Y",shortKey:!0},C.redo.bind(C)),C}return a(N,[{key:"change",value:function(I,C){if(this.stack[I].length!==0){var O=this.stack[I].pop();this.stack[C].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[I],h.default.sources.USER),this.ignoreChange=!1;var A=y(O[I]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(I,C){if(I.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(C),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var k=this.stack.undo.pop();O=O.compose(k.undo),I=k.redo.compose(I)}else this.lastRecorded=A;this.stack.undo.push({redo:I,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(I){this.stack.undo.forEach(function(C){C.undo=I.transform(C.undo,!0),C.redo=I.transform(C.redo,!0)}),this.stack.redo.forEach(function(C){C.undo=I.transform(C.undo,!0),C.redo=I.transform(C.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),N}(m.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(_){var N=_.ops[_.ops.length-1];return N==null?!1:N.insert!=null?typeof N.insert=="string"&&N.insert.endsWith(`
`):N.attributes!=null?Object.keys(N.attributes).some(function(E){return c.default.query(E,c.default.Scope.BLOCK)!=null}):!1}function y(_){var N=_.reduce(function(I,C){return I+=C.delete||0,I},0),E=_.length()-N;return b(_)&&(E-=1),E}r.default=w,r.getLastChangeIndex=y},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function z(G,X){for(var J=0;J<X.length;J++){var K=X[J];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}return function(G,X,J){return X&&z(G.prototype,X),J&&z(G,J),G}}(),o=function z(G,X,J){G===null&&(G=Function.prototype);var K=Object.getOwnPropertyDescriptor(G,X);if(K===void 0){var U=Object.getPrototypeOf(G);return U===null?void 0:z(U,X,J)}else{if("value"in K)return K.value;var ne=K.get;return ne===void 0?void 0:ne.call(J)}},c=i(3),d=A(c),h=i(2),f=A(h),m=i(8),u=A(m),p=i(23),x=A(p),v=i(34),w=A(v),b=i(59),y=A(b),_=i(60),N=A(_),E=i(28),I=A(E),C=i(61),O=A(C);function A(z){return z&&z.__esModule?z:{default:z}}function k(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}function R(z,G){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:z}function P(z,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);z.prototype=Object.create(G&&G.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(z,G):z.__proto__=G)}var T=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],W=["1","2","3",!1],Z=["small",!1,"large","huge"],B=function(z){P(G,z);function G(X,J){k(this,G);var K=R(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,X,J)),U=function ne(se){if(!document.body.contains(X.root))return document.body.removeEventListener("click",ne);K.tooltip!=null&&!K.tooltip.root.contains(se.target)&&document.activeElement!==K.tooltip.textbox&&!K.quill.hasFocus()&&K.tooltip.hide(),K.pickers!=null&&K.pickers.forEach(function(le){le.container.contains(se.target)||le.close()})};return X.emitter.listenDOM("click",document.body,U),K}return a(G,[{key:"addModule",value:function(J){var K=o(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(K),K}},{key:"buildButtons",value:function(J,K){J.forEach(function(U){var ne=U.getAttribute("class")||"";ne.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),K[se]!=null))if(se==="direction")U.innerHTML=K[se][""]+K[se].rtl;else if(typeof K[se]=="string")U.innerHTML=K[se];else{var le=U.value||"";le!=null&&K[se][le]&&(U.innerHTML=K[se][le])}})})}},{key:"buildPickers",value:function(J,K){var U=this;this.pickers=J.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&$(se,T),new N.default(se,K.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var le=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&$(se,M,le==="background"?"#ffffff":"#000000"),new y.default(se,K[le])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?$(se,H):se.classList.contains("ql-header")?$(se,W):se.classList.contains("ql-size")&&$(se,Z)),new I.default(se)});var ne=function(){U.pickers.forEach(function(le){le.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,ne)}}]),G}(w.default);B.DEFAULTS=(0,d.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var G=this,X=this.container.querySelector("input.ql-image[type=file]");X==null&&(X=document.createElement("input"),X.setAttribute("type","file"),X.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),X.classList.add("ql-image"),X.addEventListener("change",function(){if(X.files!=null&&X.files[0]!=null){var J=new FileReader;J.onload=function(K){var U=G.quill.getSelection(!0);G.quill.updateContents(new f.default().retain(U.index).delete(U.length).insert({image:K.target.result}),u.default.sources.USER),G.quill.setSelection(U.index+1,u.default.sources.SILENT),X.value=""},J.readAsDataURL(X.files[0])}}),this.container.appendChild(X)),X.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(z){P(G,z);function G(X,J){k(this,G);var K=R(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,X,J));return K.textbox=K.root.querySelector('input[type="text"]'),K.listen(),K}return a(G,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(K){x.default.match(K,"enter")?(J.save(),K.preventDefault()):x.default.match(K,"escape")&&(J.cancel(),K.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),K!=null?this.textbox.value=K:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var K=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,u.default.sources.USER)),this.quill.root.scrollTop=K;break}case"video":J=F(J);case"formula":{if(!J)break;var U=this.quill.getSelection(!0);if(U!=null){var ne=U.index+U.length;this.quill.insertEmbed(ne,this.root.getAttribute("data-mode"),J,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ne+1," ",u.default.sources.USER),this.quill.setSelection(ne+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),G}(O.default);function F(z){var G=z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return G?(G[1]||"https")+"://www.youtube.com/embed/"+G[2]+"?showinfo=0":(G=z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(G[1]||"https")+"://player.vimeo.com/video/"+G[2]+"/":z}function $(z,G){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;G.forEach(function(J){var K=document.createElement("option");J===X?K.setAttribute("selected","selected"):K.setAttribute("value",J),z.appendChild(K)})}r.BaseTooltip=q,r.default=B},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var d,h=this.iterator();d=h();)if(d===c)return!0;return!1},o.prototype.insertBefore=function(c,d){c&&(c.next=d,d!=null?(c.prev=d.prev,d.prev!=null&&(d.prev.next=c),d.prev=c,d===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var d=0,h=this.head;h!=null;){if(h===c)return d;d+=h.length(),h=h.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var d=c;return c!=null&&(c=c.next),d}},o.prototype.find=function(c,d){d===void 0&&(d=!1);for(var h,f=this.iterator();h=f();){var m=h.length();if(c<m||d&&c===m&&(h.next==null||h.next.length()!==0))return[h,c];c-=m}return[null,0]},o.prototype.forEach=function(c){for(var d,h=this.iterator();d=h();)c(d)},o.prototype.forEachAt=function(c,d,h){if(!(d<=0))for(var f=this.find(c),m=f[0],u=f[1],p,x=c-u,v=this.iterator(m);(p=v())&&x<c+d;){var w=p.length();c>x?h(p,c-x,Math.min(d,x+w-c)):h(p,0,Math.min(w,c+d-x)),x+=w}},o.prototype.map=function(c){return this.reduce(function(d,h){return d.push(c(h)),d},[])},o.prototype.reduce=function(c,d){for(var h,f=this.iterator();h=f();)d=c(d,h);return d},o}();r.default=a},function(s,r,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var x in p)p.hasOwnProperty(x)&&(u[x]=p[x])};return function(u,p){m(u,p);function x(){this.constructor=u}u.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),c=i(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,f=function(m){a(u,m);function u(p){var x=m.call(this,p)||this;return x.scroll=x,x.observer=new MutationObserver(function(v){x.update(v)}),x.observer.observe(x.domNode,d),x.attach(),x}return u.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(p,x){this.update(),p===0&&x===this.length()?this.children.forEach(function(v){v.remove()}):m.prototype.deleteAt.call(this,p,x)},u.prototype.formatAt=function(p,x,v,w){this.update(),m.prototype.formatAt.call(this,p,x,v,w)},u.prototype.insertAt=function(p,x,v){this.update(),m.prototype.insertAt.call(this,p,x,v)},u.prototype.optimize=function(p,x){var v=this;p===void 0&&(p=[]),x===void 0&&(x={}),m.prototype.optimize.call(this,x);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var b=function(E,I){I===void 0&&(I=!0),!(E==null||E===v)&&E.domNode.parentNode!=null&&(E.domNode[c.DATA_KEY].mutations==null&&(E.domNode[c.DATA_KEY].mutations=[]),I&&b(E.parent))},y=function(E){E.domNode[c.DATA_KEY]==null||E.domNode[c.DATA_KEY].mutations==null||(E instanceof o.default&&E.children.forEach(y),E.optimize(x))},_=p,N=0;_.length>0;N+=1){if(N>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(E){var I=c.find(E.target,!0);I!=null&&(I.domNode===E.target&&(E.type==="childList"?(b(c.find(E.previousSibling,!1)),[].forEach.call(E.addedNodes,function(C){var O=c.find(C,!1);b(O,!1),O instanceof o.default&&O.children.forEach(function(A){b(A,!1)})})):E.type==="attributes"&&b(I.prev)),b(I))}),this.children.forEach(y),_=[].slice.call(this.observer.takeRecords()),w=_.slice();w.length>0;)p.push(w.pop())}},u.prototype.update=function(p,x){var v=this;x===void 0&&(x={}),p=p||this.observer.takeRecords(),p.map(function(w){var b=c.find(w.target,!0);return b==null?null:b.domNode[c.DATA_KEY].mutations==null?(b.domNode[c.DATA_KEY].mutations=[w],b):(b.domNode[c.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===v||w.domNode[c.DATA_KEY]==null||w.update(w.domNode[c.DATA_KEY].mutations||[],x)}),this.domNode[c.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,x),this.optimize(p,x)},u.blotName="scroll",u.defaultChild="block",u.scope=c.Scope.BLOCK_BLOT,u.tagName="DIV",u}(o.default);r.default=f},function(s,r,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var p in u)u.hasOwnProperty(p)&&(m[p]=u[p])};return function(m,u){f(m,u);function p(){this.constructor=m}m.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),c=i(1);function d(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(var u in f)if(f[u]!==m[u])return!1;return!0}var h=function(f){a(m,f);function m(){return f!==null&&f.apply(this,arguments)||this}return m.formats=function(u){if(u.tagName!==m.tagName)return f.formats.call(this,u)},m.prototype.format=function(u,p){var x=this;u===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(m.blotName,!0)),x.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,u,p)},m.prototype.formatAt=function(u,p,x,v){if(this.formats()[x]!=null||c.query(x,c.Scope.ATTRIBUTE)){var w=this.isolate(u,p);w.format(x,v)}else f.prototype.formatAt.call(this,u,p,x,v)},m.prototype.optimize=function(u){f.prototype.optimize.call(this,u);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var x=this.next;x instanceof m&&x.prev===this&&d(p,x.formats())&&(x.moveChildren(this),x.remove())},m.blotName="inline",m.scope=c.Scope.INLINE_BLOT,m.tagName="SPAN",m}(o.default);r.default=h},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),c=i(1),d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(m){var u=c.query(f.blotName).tagName;if(m.tagName!==u)return h.formats.call(this,m)},f.prototype.format=function(m,u){c.query(m,c.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!u?this.replaceWith(f.blotName):h.prototype.format.call(this,m,u))},f.prototype.formatAt=function(m,u,p,x){c.query(p,c.Scope.BLOCK)!=null?this.format(p,x):h.prototype.formatAt.call(this,m,u,p,x)},f.prototype.insertAt=function(m,u,p){if(p==null||c.query(u,c.Scope.INLINE)!=null)h.prototype.insertAt.call(this,m,u,p);else{var x=this.split(m),v=c.create(u,p);x.parent.insertBefore(v,x)}},f.prototype.update=function(m,u){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,m,u)},f.blotName="block",f.scope=c.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);r.default=d},function(s,r,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var m in f)f.hasOwnProperty(m)&&(h[m]=f[m])};return function(h,f){d(h,f);function m(){this.constructor=h}h.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),c=function(d){a(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){},h.prototype.format=function(f,m){d.prototype.formatAt.call(this,0,this.length(),f,m)},h.prototype.formatAt=function(f,m,u,p){f===0&&m===this.length()?this.format(u,p):d.prototype.formatAt.call(this,f,m,u,p)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(o.default);r.default=c},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),c=i(1),d=function(h){a(f,h);function f(m){var u=h.call(this,m)||this;return u.text=u.statics.value(u.domNode),u}return f.create=function(m){return document.createTextNode(m)},f.value=function(m){var u=m.data;return u.normalize&&(u=u.normalize()),u},f.prototype.deleteAt=function(m,u){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+u)},f.prototype.index=function(m,u){return this.domNode===m?u:-1},f.prototype.insertAt=function(m,u,p){p==null?(this.text=this.text.slice(0,m)+u+this.text.slice(m),this.domNode.data=this.text):h.prototype.insertAt.call(this,m,u,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(m){h.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(m,u){return[this.domNode,m]},f.prototype.split=function(m,u){if(u===void 0&&(u=!1),!u){if(m===0)return this;if(m===this.length())return this.next}var p=c.create(this.domNode.splitText(m));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(m,u){var p=this;m.some(function(x){return x.type==="characterData"&&x.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=c.Scope.INLINE_BLOT,f}(o.default);r.default=d},function(s,r,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,d){return arguments.length>1&&!this.contains(c)==!d?d:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,d){return d=d||0,this.substr(d,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,d){var h=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>h.length)&&(d=h.length),d-=c.length;var f=h.indexOf(c,d);return f!==-1&&f===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),f=h.length>>>0,m=arguments[1],u,p=0;p<f;p++)if(u=h[p],d.call(m,u,p,h))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,r){var i=-1,a=1,o=0;function c(N,E,I){if(N==E)return N?[[o,N]]:[];(I<0||N.length<I)&&(I=null);var C=m(N,E),O=N.substring(0,C);N=N.substring(C),E=E.substring(C),C=u(N,E);var A=N.substring(N.length-C);N=N.substring(0,N.length-C),E=E.substring(0,E.length-C);var k=d(N,E);return O&&k.unshift([o,O]),A&&k.push([o,A]),x(k),I!=null&&(k=b(k,I)),k=y(k),k}function d(N,E){var I;if(!N)return[[a,E]];if(!E)return[[i,N]];var C=N.length>E.length?N:E,O=N.length>E.length?E:N,A=C.indexOf(O);if(A!=-1)return I=[[a,C.substring(0,A)],[o,O],[a,C.substring(A+O.length)]],N.length>E.length&&(I[0][0]=I[2][0]=i),I;if(O.length==1)return[[i,N],[a,E]];var k=p(N,E);if(k){var R=k[0],P=k[1],T=k[2],M=k[3],H=k[4],W=c(R,T),Z=c(P,M);return W.concat([[o,H]],Z)}return h(N,E)}function h(N,E){for(var I=N.length,C=E.length,O=Math.ceil((I+C)/2),A=O,k=2*O,R=new Array(k),P=new Array(k),T=0;T<k;T++)R[T]=-1,P[T]=-1;R[A+1]=0,P[A+1]=0;for(var M=I-C,H=M%2!=0,W=0,Z=0,B=0,q=0,F=0;F<O;F++){for(var $=-F+W;$<=F-Z;$+=2){var z=A+$,G;$==-F||$!=F&&R[z-1]<R[z+1]?G=R[z+1]:G=R[z-1]+1;for(var X=G-$;G<I&&X<C&&N.charAt(G)==E.charAt(X);)G++,X++;if(R[z]=G,G>I)Z+=2;else if(X>C)W+=2;else if(H){var J=A+M-$;if(J>=0&&J<k&&P[J]!=-1){var K=I-P[J];if(G>=K)return f(N,E,G,X)}}}for(var U=-F+B;U<=F-q;U+=2){var J=A+U,K;U==-F||U!=F&&P[J-1]<P[J+1]?K=P[J+1]:K=P[J-1]+1;for(var ne=K-U;K<I&&ne<C&&N.charAt(I-K-1)==E.charAt(C-ne-1);)K++,ne++;if(P[J]=K,K>I)q+=2;else if(ne>C)B+=2;else if(!H){var z=A+M-U;if(z>=0&&z<k&&R[z]!=-1){var G=R[z],X=A+G-z;if(K=I-K,G>=K)return f(N,E,G,X)}}}}return[[i,N],[a,E]]}function f(N,E,I,C){var O=N.substring(0,I),A=E.substring(0,C),k=N.substring(I),R=E.substring(C),P=c(O,A),T=c(k,R);return P.concat(T)}function m(N,E){if(!N||!E||N.charAt(0)!=E.charAt(0))return 0;for(var I=0,C=Math.min(N.length,E.length),O=C,A=0;I<O;)N.substring(A,O)==E.substring(A,O)?(I=O,A=I):C=O,O=Math.floor((C-I)/2+I);return O}function u(N,E){if(!N||!E||N.charAt(N.length-1)!=E.charAt(E.length-1))return 0;for(var I=0,C=Math.min(N.length,E.length),O=C,A=0;I<O;)N.substring(N.length-O,N.length-A)==E.substring(E.length-O,E.length-A)?(I=O,A=I):C=O,O=Math.floor((C-I)/2+I);return O}function p(N,E){var I=N.length>E.length?N:E,C=N.length>E.length?E:N;if(I.length<4||C.length*2<I.length)return null;function O(Z,B,q){for(var F=Z.substring(q,q+Math.floor(Z.length/4)),$=-1,z="",G,X,J,K;($=B.indexOf(F,$+1))!=-1;){var U=m(Z.substring(q),B.substring($)),ne=u(Z.substring(0,q),B.substring(0,$));z.length<ne+U&&(z=B.substring($-ne,$)+B.substring($,$+U),G=Z.substring(0,q-ne),X=Z.substring(q+U),J=B.substring(0,$-ne),K=B.substring($+U))}return z.length*2>=Z.length?[G,X,J,K,z]:null}var A=O(I,C,Math.ceil(I.length/4)),k=O(I,C,Math.ceil(I.length/2)),R;if(!A&&!k)return null;k?A?R=A[4].length>k[4].length?A:k:R=k:R=A;var P,T,M,H;N.length>E.length?(P=R[0],T=R[1],M=R[2],H=R[3]):(M=R[0],H=R[1],P=R[2],T=R[3]);var W=R[4];return[P,T,M,H,W]}function x(N){N.push([o,""]);for(var E=0,I=0,C=0,O="",A="",k;E<N.length;)switch(N[E][0]){case a:C++,A+=N[E][1],E++;break;case i:I++,O+=N[E][1],E++;break;case o:I+C>1?(I!==0&&C!==0&&(k=m(A,O),k!==0&&(E-I-C>0&&N[E-I-C-1][0]==o?N[E-I-C-1][1]+=A.substring(0,k):(N.splice(0,0,[o,A.substring(0,k)]),E++),A=A.substring(k),O=O.substring(k)),k=u(A,O),k!==0&&(N[E][1]=A.substring(A.length-k)+N[E][1],A=A.substring(0,A.length-k),O=O.substring(0,O.length-k))),I===0?N.splice(E-C,I+C,[a,A]):C===0?N.splice(E-I,I+C,[i,O]):N.splice(E-I-C,I+C,[i,O],[a,A]),E=E-I-C+(I?1:0)+(C?1:0)+1):E!==0&&N[E-1][0]==o?(N[E-1][1]+=N[E][1],N.splice(E,1)):E++,C=0,I=0,O="",A="";break}N[N.length-1][1]===""&&N.pop();var R=!1;for(E=1;E<N.length-1;)N[E-1][0]==o&&N[E+1][0]==o&&(N[E][1].substring(N[E][1].length-N[E-1][1].length)==N[E-1][1]?(N[E][1]=N[E-1][1]+N[E][1].substring(0,N[E][1].length-N[E-1][1].length),N[E+1][1]=N[E-1][1]+N[E+1][1],N.splice(E-1,1),R=!0):N[E][1].substring(0,N[E+1][1].length)==N[E+1][1]&&(N[E-1][1]+=N[E+1][1],N[E][1]=N[E][1].substring(N[E+1][1].length)+N[E+1][1],N.splice(E+1,1),R=!0)),E++;R&&x(N)}var v=c;v.INSERT=a,v.DELETE=i,v.EQUAL=o,s.exports=v;function w(N,E){if(E===0)return[o,N];for(var I=0,C=0;C<N.length;C++){var O=N[C];if(O[0]===i||O[0]===o){var A=I+O[1].length;if(E===A)return[C+1,N];if(E<A){N=N.slice();var k=E-I,R=[O[0],O[1].slice(0,k)],P=[O[0],O[1].slice(k)];return N.splice(C,1,R,P),[C+1,N]}else I=A}}throw new Error("cursor_pos is out of bounds!")}function b(N,E){var I=w(N,E),C=I[1],O=I[0],A=C[O],k=C[O+1];if(A==null)return N;if(A[0]!==o)return N;if(k!=null&&A[1]+k[1]===k[1]+A[1])return C.splice(O,2,k,A),_(C,O,2);if(k!=null&&k[1].indexOf(A[1])===0){C.splice(O,2,[k[0],A[1]],[0,A[1]]);var R=k[1].slice(A[1].length);return R.length>0&&C.splice(O+2,0,[k[0],R]),_(C,O,3)}else return N}function y(N){for(var E=!1,I=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},C=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},O=2;O<N.length;O+=1)N[O-2][0]===o&&C(N[O-2][1])&&N[O-1][0]===i&&I(N[O-1][1])&&N[O][0]===a&&I(N[O][1])&&(E=!0,N[O-1][1]=N[O-2][1].slice(-1)+N[O-1][1],N[O][1]=N[O-2][1].slice(-1)+N[O][1],N[O-2][1]=N[O-2][1].slice(0,-1));if(!E)return N;for(var A=[],O=0;O<N.length;O+=1)N[O][1].length>0&&A.push(N[O]);return A}function _(N,E,I){for(var C=E+I-1;C>=0&&C>=E-1;C--)if(C+1<N.length){var O=N[C],A=N[C+1];O[0]===A[1]&&N.splice(C,2,[O[0],O[1]+A[1]])}return N}},function(s,r){r=s.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(a){var o=[];for(var c in a)o.push(c);return o}},function(s,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=s.exports=i?a:o,r.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}r.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(s,r){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function c(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function d(){this._events=new o,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],m,u;if(this._eventsCount===0)return f;for(u in m=this._events)i.call(m,u)&&f.push(a?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},d.prototype.listeners=function(f,m){var u=a?a+f:f,p=this._events[u];if(m)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,w=new Array(v);x<v;x++)w[x]=p[x].fn;return w},d.prototype.emit=function(f,m,u,p,x,v){var w=a?a+f:f;if(!this._events[w])return!1;var b=this._events[w],y=arguments.length,_,N;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,u),!0;case 4:return b.fn.call(b.context,m,u,p),!0;case 5:return b.fn.call(b.context,m,u,p,x),!0;case 6:return b.fn.call(b.context,m,u,p,x,v),!0}for(N=1,_=new Array(y-1);N<y;N++)_[N-1]=arguments[N];b.fn.apply(b.context,_)}else{var E=b.length,I;for(N=0;N<E;N++)switch(b[N].once&&this.removeListener(f,b[N].fn,void 0,!0),y){case 1:b[N].fn.call(b[N].context);break;case 2:b[N].fn.call(b[N].context,m);break;case 3:b[N].fn.call(b[N].context,m,u);break;case 4:b[N].fn.call(b[N].context,m,u,p);break;default:if(!_)for(I=1,_=new Array(y-1);I<y;I++)_[I-1]=arguments[I];b[N].fn.apply(b[N].context,_)}}return!0},d.prototype.on=function(f,m,u){var p=new c(m,u||this),x=a?a+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},d.prototype.once=function(f,m,u){var p=new c(m,u||this,!0),x=a?a+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},d.prototype.removeListener=function(f,m,u,p){var x=a?a+f:f;if(!this._events[x])return this;if(!m)return--this._eventsCount===0?this._events=new o:delete this._events[x],this;var v=this._events[x];if(v.fn)v.fn===m&&(!p||v.once)&&(!u||v.context===u)&&(--this._eventsCount===0?this._events=new o:delete this._events[x]);else{for(var w=0,b=[],y=v.length;w<y;w++)(v[w].fn!==m||p&&!v[w].once||u&&v[w].context!==u)&&b.push(v[w]);b.length?this._events[x]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[x]}return this},d.prototype.removeAllListeners=function(f){var m;return f?(m=a?a+f:f,this._events[m]&&(--this._eventsCount===0?this._events=new o:delete this._events[m])):(this._events=new o,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=a,d.EventEmitter=d,typeof s<"u"&&(s.exports=d)},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},o=function(){function ce(fe,Q){var re=[],ie=!0,be=!1,we=void 0;try{for(var ve=fe[Symbol.iterator](),Ae;!(ie=(Ae=ve.next()).done)&&(re.push(Ae.value),!(Q&&re.length===Q));ie=!0);}catch(tt){be=!0,we=tt}finally{try{!ie&&ve.return&&ve.return()}finally{if(be)throw we}}return re}return function(fe,Q){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ce(fe,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function ce(fe,Q){for(var re=0;re<Q.length;re++){var ie=Q[re];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(fe,ie.key,ie)}}return function(fe,Q,re){return Q&&ce(fe.prototype,Q),re&&ce(fe,re),fe}}(),d=i(3),h=P(d),f=i(2),m=P(f),u=i(0),p=P(u),x=i(5),v=P(x),w=i(10),b=P(w),y=i(9),_=P(y),N=i(36),E=i(37),I=i(13),C=P(I),O=i(26),A=i(38),k=i(39),R=i(40);function P(ce){return ce&&ce.__esModule?ce:{default:ce}}function T(ce,fe,Q){return fe in ce?Object.defineProperty(ce,fe,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ce[fe]=Q,ce}function M(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")}function H(ce,fe){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ce}function W(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}var Z=(0,b.default)("quill:clipboard"),B="__ql-matcher",q=[[Node.TEXT_NODE,xe],[Node.TEXT_NODE,Ce],["br",pe],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,je],["li",ye],["b",ne.bind(ne,"bold")],["i",ne.bind(ne,"italic")],["style",ee]],F=[N.AlignAttribute,A.DirectionAttribute].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),$=[N.AlignStyle,E.BackgroundStyle,O.ColorStyle,A.DirectionStyle,k.FontStyle,R.SizeStyle].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),z=function(ce){W(fe,ce);function fe(Q,re){M(this,fe);var ie=H(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,Q,re));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],q.concat(ie.options.matchers).forEach(function(be){var we=o(be,2),ve=we[0],Ae=we[1];!re.matchVisual&&Ae===ue||ie.addMatcher(ve,Ae)}),ie}return c(fe,[{key:"addMatcher",value:function(re,ie){this.matchers.push([re,ie])}},{key:"convert",value:function(re){if(typeof re=="string")return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[C.default.blotName]){var be=this.container.innerText;return this.container.innerHTML="",new m.default().insert(be,T({},C.default.blotName,ie[C.default.blotName]))}var we=this.prepareMatching(),ve=o(we,2),Ae=ve[0],tt=ve[1],Xe=U(this.container,Ae,tt);return J(Xe,`
`)&&Xe.ops[Xe.ops.length-1].attributes==null&&(Xe=Xe.compose(new m.default().retain(Xe.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,Xe),this.container.innerHTML="",Xe}},{key:"dangerouslyPasteHTML",value:function(re,ie){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof re=="string")this.quill.setContents(this.convert(re),ie),this.quill.setSelection(0,v.default.sources.SILENT);else{var we=this.convert(ie);this.quill.updateContents(new m.default().retain(re).concat(we),be),this.quill.setSelection(re+we.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var ie=this;if(!(re.defaultPrevented||!this.quill.isEnabled())){var be=this.quill.getSelection(),we=new m.default().retain(be.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){we=we.concat(ie.convert()).delete(be.length),ie.quill.updateContents(we,v.default.sources.USER),ie.quill.setSelection(we.length()-be.length,v.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=ve,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,ie=[],be=[];return this.matchers.forEach(function(we){var ve=o(we,2),Ae=ve[0],tt=ve[1];switch(Ae){case Node.TEXT_NODE:be.push(tt);break;case Node.ELEMENT_NODE:ie.push(tt);break;default:[].forEach.call(re.container.querySelectorAll(Ae),function(Xe){Xe[B]=Xe[B]||[],Xe[B].push(tt)});break}}),[ie,be]}}]),fe}(_.default);z.DEFAULTS={matchers:[],matchVisual:!0};function G(ce,fe,Q){return(typeof fe>"u"?"undefined":a(fe))==="object"?Object.keys(fe).reduce(function(re,ie){return G(re,ie,fe[ie])},ce):ce.reduce(function(re,ie){return ie.attributes&&ie.attributes[fe]?re.push(ie):re.insert(ie.insert,(0,h.default)({},T({},fe,Q),ie.attributes))},new m.default)}function X(ce){if(ce.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ce[fe]||(ce[fe]=window.getComputedStyle(ce))}function J(ce,fe){for(var Q="",re=ce.ops.length-1;re>=0&&Q.length<fe.length;--re){var ie=ce.ops[re];if(typeof ie.insert!="string")break;Q=ie.insert+Q}return Q.slice(-1*fe.length)===fe}function K(ce){if(ce.childNodes.length===0)return!1;var fe=X(ce);return["block","list-item"].indexOf(fe.display)>-1}function U(ce,fe,Q){return ce.nodeType===ce.TEXT_NODE?Q.reduce(function(re,ie){return ie(ce,re)},new m.default):ce.nodeType===ce.ELEMENT_NODE?[].reduce.call(ce.childNodes||[],function(re,ie){var be=U(ie,fe,Q);return ie.nodeType===ce.ELEMENT_NODE&&(be=fe.reduce(function(we,ve){return ve(ie,we)},be),be=(ie[B]||[]).reduce(function(we,ve){return ve(ie,we)},be)),re.concat(be)},new m.default):new m.default}function ne(ce,fe,Q){return G(Q,ce,!0)}function se(ce,fe){var Q=p.default.Attributor.Attribute.keys(ce),re=p.default.Attributor.Class.keys(ce),ie=p.default.Attributor.Style.keys(ce),be={};return Q.concat(re).concat(ie).forEach(function(we){var ve=p.default.query(we,p.default.Scope.ATTRIBUTE);ve!=null&&(be[ve.attrName]=ve.value(ce),be[ve.attrName])||(ve=F[we],ve!=null&&(ve.attrName===we||ve.keyName===we)&&(be[ve.attrName]=ve.value(ce)||void 0),ve=$[we],ve!=null&&(ve.attrName===we||ve.keyName===we)&&(ve=$[we],be[ve.attrName]=ve.value(ce)||void 0))}),Object.keys(be).length>0&&(fe=G(fe,be)),fe}function le(ce,fe){var Q=p.default.query(ce);if(Q==null)return fe;if(Q.prototype instanceof p.default.Embed){var re={},ie=Q.value(ce);ie!=null&&(re[Q.blotName]=ie,fe=new m.default().insert(re,Q.formats(ce)))}else typeof Q.formats=="function"&&(fe=G(fe,Q.blotName,Q.formats(ce)));return fe}function pe(ce,fe){return J(fe,`
`)||fe.insert(`
`),fe}function ee(){return new m.default}function ye(ce,fe){var Q=p.default.query(ce);if(Q==null||Q.blotName!=="list-item"||!J(fe,`
`))return fe;for(var re=-1,ie=ce.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(re+=1),ie=ie.parentNode;return re<=0?fe:fe.compose(new m.default().retain(fe.length()-1).retain(1,{indent:re}))}function Ce(ce,fe){return J(fe,`
`)||(K(ce)||fe.length()>0&&ce.nextSibling&&K(ce.nextSibling))&&fe.insert(`
`),fe}function ue(ce,fe){if(K(ce)&&ce.nextElementSibling!=null&&!J(fe,`

`)){var Q=ce.offsetHeight+parseFloat(X(ce).marginTop)+parseFloat(X(ce).marginBottom);ce.nextElementSibling.offsetTop>ce.offsetTop+Q*1.5&&fe.insert(`
`)}return fe}function je(ce,fe){var Q={},re=ce.style||{};return re.fontStyle&&X(ce).fontStyle==="italic"&&(Q.italic=!0),re.fontWeight&&(X(ce).fontWeight.startsWith("bold")||parseInt(X(ce).fontWeight)>=700)&&(Q.bold=!0),Object.keys(Q).length>0&&(fe=G(fe,Q)),parseFloat(re.textIndent||0)>0&&(fe=new m.default().insert("	").concat(fe)),fe}function xe(ce,fe){var Q=ce.data;if(ce.parentNode.tagName==="O:P")return fe.insert(Q.trim());if(Q.trim().length===0&&ce.parentNode.classList.contains("ql-clipboard"))return fe;if(!X(ce.parentNode).whiteSpace.startsWith("pre")){var re=function(be,we){return we=we.replace(/[^\u00a0]/g,""),we.length<1&&be?" ":we};Q=Q.replace(/\r\n/g," ").replace(/\n/g," "),Q=Q.replace(/\s\s+/g,re.bind(re,!0)),(ce.previousSibling==null&&K(ce.parentNode)||ce.previousSibling!=null&&K(ce.previousSibling))&&(Q=Q.replace(/^\s+/,re.bind(re,!1))),(ce.nextSibling==null&&K(ce.parentNode)||ce.nextSibling!=null&&K(ce.nextSibling))&&(Q=Q.replace(/\s+$/,re.bind(re,!1)))}return fe.insert(Q)}r.default=z,r.matchAttributor=se,r.matchBlot=le,r.matchNewline=Ce,r.matchSpacing=ue,r.matchText=xe},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(6),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"optimize",value:function(b){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(d.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function R(P,T){var M=[],H=!0,W=!1,Z=void 0;try{for(var B=P[Symbol.iterator](),q;!(H=(q=B.next()).done)&&(M.push(q.value),!(T&&M.length===T));H=!0);}catch(F){W=!0,Z=F}finally{try{!H&&B.return&&B.return()}finally{if(W)throw Z}}return M}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return R(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(P,T){for(var M=0;M<T.length;M++){var H=T[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(P,H.key,H)}}return function(P,T,M){return T&&R(P.prototype,T),M&&R(P,M),P}}(),c=i(2),d=b(c),h=i(0),f=b(h),m=i(5),u=b(m),p=i(10),x=b(p),v=i(9),w=b(v);function b(R){return R&&R.__esModule?R:{default:R}}function y(R,P,T){return P in R?Object.defineProperty(R,P,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[P]=T,R}function _(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function N(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:R}function E(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}var I=(0,x.default)("quill:toolbar"),C=function(R){E(P,R);function P(T,M){_(this,P);var H=N(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,T,M));if(Array.isArray(H.options.container)){var W=document.createElement("div");A(W,H.options.container),T.container.parentNode.insertBefore(W,T.container),H.container=W}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var Z;return Z=I.error("Container required for toolbar",H.options),N(H,Z)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(B){H.addHandler(B,H.options.handlers[B])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(B){H.attach(B)}),H.quill.on(u.default.events.EDITOR_CHANGE,function(B,q){B===u.default.events.SELECTION_CHANGE&&H.update(q)}),H.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var B=H.quill.selection.getRange(),q=a(B,1),F=q[0];H.update(F)}),H}return o(P,[{key:"addHandler",value:function(M,H){this.handlers[M]=H}},{key:"attach",value:function(M){var H=this,W=[].find.call(M.classList,function(B){return B.indexOf("ql-")===0});if(W){if(W=W.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[W]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[W]==null){I.warn("ignoring attaching to disabled format",W,M);return}if(f.default.query(W)==null){I.warn("ignoring attaching to nonexistent format",W,M);return}}var Z=M.tagName==="SELECT"?"change":"click";M.addEventListener(Z,function(B){var q=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var F=M.options[M.selectedIndex];F.hasAttribute("selected")?q=!1:q=F.value||!1}else M.classList.contains("ql-active")?q=!1:q=M.value||!M.hasAttribute("value"),B.preventDefault();H.quill.focus();var $=H.quill.selection.getRange(),z=a($,1),G=z[0];if(H.handlers[W]!=null)H.handlers[W].call(H,q);else if(f.default.query(W).prototype instanceof f.default.Embed){if(q=prompt("Enter "+W),!q)return;H.quill.updateContents(new d.default().retain(G.index).delete(G.length).insert(y({},W,q)),u.default.sources.USER)}else H.quill.format(W,q,u.default.sources.USER);H.update(G)}),this.controls.push([W,M])}}},{key:"update",value:function(M){var H=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(W){var Z=a(W,2),B=Z[0],q=Z[1];if(q.tagName==="SELECT"){var F=void 0;if(M==null)F=null;else if(H[B]==null)F=q.querySelector("option[selected]");else if(!Array.isArray(H[B])){var $=H[B];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),F=q.querySelector('option[value="'+$+'"]')}F==null?(q.value="",q.selectedIndex=-1):F.selected=!0}else if(M==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var z=H[B]===q.getAttribute("value")||H[B]!=null&&H[B].toString()===q.getAttribute("value")||H[B]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",z)}else q.classList.toggle("ql-active",H[B]!=null)})}}]),P}(w.default);C.DEFAULTS={};function O(R,P,T){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+P),T!=null&&(M.value=T),R.appendChild(M)}function A(R,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(T){var M=document.createElement("span");M.classList.add("ql-formats"),T.forEach(function(H){if(typeof H=="string")O(M,H);else{var W=Object.keys(H)[0],Z=H[W];Array.isArray(Z)?k(M,W,Z):O(M,W,Z)}}),R.appendChild(M)})}function k(R,P,T){var M=document.createElement("select");M.classList.add("ql-"+P),T.forEach(function(H){var W=document.createElement("option");H!==!1?W.setAttribute("value",H):W.setAttribute("selected","selected"),M.appendChild(W)}),R.appendChild(M)}C.DEFAULTS={container:null,handlers:{clean:function(){var P=this,T=this.quill.getSelection();if(T!=null)if(T.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(H){f.default.query(H,f.default.Scope.INLINE)!=null&&P.quill.format(H,!1)})}else this.quill.removeFormat(T,u.default.sources.USER)},direction:function(P){var T=this.quill.getFormat().align;P==="rtl"&&T==null?this.quill.format("align","right",u.default.sources.USER):!P&&T==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",P,u.default.sources.USER)},indent:function(P){var T=this.quill.getSelection(),M=this.quill.getFormat(T),H=parseInt(M.indent||0);if(P==="+1"||P==="-1"){var W=P==="+1"?1:-1;M.direction==="rtl"&&(W*=-1),this.quill.format("indent",H+W,u.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,u.default.sources.USER)},list:function(P){var T=this.quill.getSelection(),M=this.quill.getFormat(T);P==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",P,u.default.sources.USER)}}},r.default=C,r.addControls=A},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(28),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(w,b){f(this,v);var y=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return y.label.innerHTML=b,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),y}return a(v,[{key:"buildItem",value:function(b){var y=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,b);return y.style.backgroundColor=b.getAttribute("value")||"",y}},{key:"selectItem",value:function(b,y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,b,y);var _=this.label.querySelector(".ql-color-label"),N=b&&b.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=N:_.style.fill=N)}}]),v}(d.default);r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(28),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(w,b){f(this,v);var y=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=b[_.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return a(v,[{key:"selectItem",value:function(b,y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,b,y),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),v}(d.default);r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function d(h,f){for(var m=0;m<f.length;m++){var u=f[m];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,f,m){return f&&d(h.prototype,f),m&&d(h,m),h}}();function o(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(h,f){var m=this;o(this,d),this.quill=h,this.boundsContainer=f||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return a(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var m=f.left+f.width/2-this.root.offsetWidth/2,u=f.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),x=this.root.getBoundingClientRect(),v=0;if(x.right>p.right&&(v=p.right-x.right,this.root.style.left=m+v+"px"),x.left<p.left&&(v=p.left-x.left,this.root.style.left=m+v+"px"),x.bottom>p.bottom){var w=x.bottom-x.top,b=f.bottom-f.top+w;this.root.style.top=u-b+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();r.default=c},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function k(R,P){var T=[],M=!0,H=!1,W=void 0;try{for(var Z=R[Symbol.iterator](),B;!(M=(B=Z.next()).done)&&(T.push(B.value),!(P&&T.length===P));M=!0);}catch(q){H=!0,W=q}finally{try{!M&&Z.return&&Z.return()}finally{if(H)throw W}}return T}return function(R,P){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return k(R,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function k(R,P,T){R===null&&(R=Function.prototype);var M=Object.getOwnPropertyDescriptor(R,P);if(M===void 0){var H=Object.getPrototypeOf(R);return H===null?void 0:k(H,P,T)}else{if("value"in M)return M.value;var W=M.get;return W===void 0?void 0:W.call(T)}},c=function(){function k(R,P){for(var T=0;T<P.length;T++){var M=P[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,M.key,M)}}return function(R,P,T){return P&&k(R.prototype,P),T&&k(R,T),R}}(),d=i(3),h=_(d),f=i(8),m=_(f),u=i(43),p=_(u),x=i(27),v=_(x),w=i(15),b=i(41),y=_(b);function _(k){return k&&k.__esModule?k:{default:k}}function N(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function E(k,R){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:k}function I(k,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(k,R):k.__proto__=R)}var C=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(k){I(R,k);function R(P,T){N(this,R),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=C);var M=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,P,T));return M.quill.container.classList.add("ql-snow"),M}return c(R,[{key:"extendToolbar",value:function(T){T.container.classList.add("ql-snow"),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),y.default),this.tooltip=new A(this.quill,this.options.bounds),T.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,H){T.handlers.link.call(T,!H.format.link)})}}]),R}(p.default);O.DEFAULTS=(0,h.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){if(R){var P=this.quill.getSelection();if(P==null||P.length==0)return;var T=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(T)&&T.indexOf("mailto:")!==0&&(T="mailto:"+T);var M=this.quill.theme.tooltip;M.edit("link",T)}else this.quill.format("link",!1)}}}}});var A=function(k){I(R,k);function R(P,T){N(this,R);var M=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,P,T));return M.preview=M.root.querySelector("a.ql-preview"),M}return c(R,[{key:"listen",value:function(){var T=this;o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){T.root.classList.contains("ql-editing")?T.save():T.edit("link",T.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(T.linkRange!=null){var H=T.linkRange;T.restoreFocus(),T.quill.formatText(H,"link",!1,m.default.sources.USER),delete T.linkRange}M.preventDefault(),T.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(M,H,W){if(M!=null){if(M.length===0&&W===m.default.sources.USER){var Z=T.quill.scroll.descendant(v.default,M.index),B=a(Z,2),q=B[0],F=B[1];if(q!=null){T.linkRange=new w.Range(M.index-F,q.length());var $=v.default.formats(q.domNode);T.preview.textContent=$,T.preview.setAttribute("href",$),T.show(),T.position(T.quill.getBounds(T.linkRange));return}}else delete T.linkRange;T.hide()}})}},{key:"show",value:function(){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),R}(u.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=O},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(29),o=ie(a),c=i(36),d=i(38),h=i(64),f=i(65),m=ie(f),u=i(66),p=ie(u),x=i(67),v=ie(x),w=i(37),b=i(26),y=i(39),_=i(40),N=i(56),E=ie(N),I=i(68),C=ie(I),O=i(27),A=ie(O),k=i(69),R=ie(k),P=i(70),T=ie(P),M=i(71),H=ie(M),W=i(72),Z=ie(W),B=i(73),q=ie(B),F=i(13),$=ie(F),z=i(74),G=ie(z),X=i(75),J=ie(X),K=i(57),U=ie(K),ne=i(41),se=ie(ne),le=i(28),pe=ie(le),ee=i(59),ye=ie(ee),Ce=i(60),ue=ie(Ce),je=i(61),xe=ie(je),ce=i(108),fe=ie(ce),Q=i(62),re=ie(Q);function ie(be){return be&&be.__esModule?be:{default:be}}o.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":_.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":h.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":y.FontClass,"formats/size":_.SizeClass,"formats/blockquote":m.default,"formats/code-block":$.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":E.default,"formats/code":F.Code,"formats/italic":C.default,"formats/link":A.default,"formats/script":R.default,"formats/strike":T.default,"formats/underline":H.default,"formats/image":Z.default,"formats/video":q.default,"formats/list/item":x.ListItem,"modules/formula":G.default,"modules/syntax":J.default,"modules/toolbar":U.default,"themes/bubble":fe.default,"themes/snow":re.default,"ui/icons":se.default,"ui/picker":pe.default,"ui/icon-picker":ue.default,"ui/color-picker":ye.default,"ui/tooltip":xe.default},!0),r.default=o.default},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function v(w,b){for(var y=0;y<b.length;y++){var _=b[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,y){return b&&v(w.prototype,b),y&&v(w,y),w}}(),o=function v(w,b,y){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,b);if(_===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,b,y)}else{if("value"in _)return _.value;var E=_.get;return E===void 0?void 0:E.call(y)}},c=i(0),d=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function m(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function u(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){u(w,v);function w(){return f(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"add",value:function(y,_){if(_==="+1"||_==="-1"){var N=this.value(y)||0;_=_==="+1"?N+1:N-1}return _===0?(this.remove(y),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,y,_)}},{key:"canAdd",value:function(y,_){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,y,_)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,y,parseInt(_))}},{key:"value",value:function(y){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,y))||void 0}}]),w}(d.default.Attributor.Class),x=new p("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=x},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="blockquote",m.tagName="blockquote",r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function p(x,v){for(var w=0;w<v.length;w++){var b=v[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,v,w){return v&&p(x.prototype,v),w&&p(x,w),x}}(),o=i(4),c=d(o);function d(p){return p&&p.__esModule?p:{default:p}}function h(p,x){if(!(p instanceof x))throw new TypeError("Cannot call a class as a function")}function f(p,x){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:p}function m(p,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);p.prototype=Object.create(x&&x.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(p,x):p.__proto__=x)}var u=function(p){m(x,p);function x(){return h(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),x}(c.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],r.default=u},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function N(E,I){for(var C=0;C<I.length;C++){var O=I[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,I,C){return I&&N(E.prototype,I),C&&N(E,C),E}}(),o=function N(E,I,C){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,I);if(O===void 0){var A=Object.getPrototypeOf(E);return A===null?void 0:N(A,I,C)}else{if("value"in O)return O.value;var k=O.get;return k===void 0?void 0:k.call(C)}},c=i(0),d=p(c),h=i(4),f=p(h),m=i(25),u=p(m);function p(N){return N&&N.__esModule?N:{default:N}}function x(N,E,I){return E in N?Object.defineProperty(N,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[E]=I,N}function v(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function w(N,E){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:N}function b(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(N,E):N.__proto__=E)}var y=function(N){b(E,N);function E(){return v(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(C,O){C===_.blotName&&!O?this.replaceWith(d.default.create(this.statics.scope)):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,C,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(C,O){return this.parent.isolate(this.offset(this.parent),this.length()),C===this.parent.statics.blotName?(this.parent.replaceWith(C,O),this):(this.parent.unwrap(),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,C,O))}}],[{key:"formats",value:function(C){return C.tagName===this.tagName?void 0:o(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,C)}}]),E}(f.default);y.blotName="list-item",y.tagName="LI";var _=function(N){b(E,N),a(E,null,[{key:"create",value:function(C){var O=C==="ordered"?"OL":"UL",A=o(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,O);return(C==="checked"||C==="unchecked")&&A.setAttribute("data-checked",C==="checked"),A}},{key:"formats",value:function(C){if(C.tagName==="OL")return"ordered";if(C.tagName==="UL")return C.hasAttribute("data-checked")?C.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function E(I){v(this,E);var C=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I)),O=function(k){if(k.target.parentNode===I){var R=C.statics.formats(I),P=d.default.find(k.target);R==="checked"?P.format("list","unchecked"):R==="unchecked"&&P.format("list","checked")}};return I.addEventListener("touchstart",O),I.addEventListener("mousedown",O),C}return a(E,[{key:"format",value:function(C,O){this.children.length>0&&this.children.tail.format(C,O)}},{key:"formats",value:function(){return x({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(C,O){if(C instanceof y)o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,C,O);else{var A=O==null?this.length():O.offset(this),k=this.split(A);k.parent.insertBefore(C,k)}}},{key:"optimize",value:function(C){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,C);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(C){if(C.statics.blotName!==this.statics.blotName){var O=d.default.create(this.statics.defaultChild);C.moveChildren(O),this.appendChild(O)}o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,C)}}]),E}(u.default);_.blotName="list",_.scope=d.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[y],r.ListItem=y,r.default=_},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(56),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="italic",m.tagName=["EM","I"],r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(6),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),v}(d.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="strike",m.tagName="S",r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="underline",m.tagName="U",r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),o=function w(b,y,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,y);if(N===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:w(E,y,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},c=i(0),d=f(c),h=i(27);function f(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function u(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var x=["alt","height","width"],v=function(w){p(b,w);function b(){return m(this,b),u(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(_,N){x.indexOf(_)>-1?N?this.domNode.setAttribute(_,N):this.domNode.removeAttribute(_):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,_,N)}}],[{key:"create",value:function(_){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,_);return typeof _=="string"&&N.setAttribute("src",this.sanitize(_)),N}},{key:"formats",value:function(_){return x.reduce(function(N,E){return _.hasAttribute(E)&&(N[E]=_.getAttribute(E)),N},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,h.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),b}(d.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),o=function w(b,y,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,y);if(N===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:w(E,y,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},c=i(4),d=i(27),h=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function u(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var x=["height","width"],v=function(w){p(b,w);function b(){return m(this,b),u(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(_,N){x.indexOf(_)>-1?N?this.domNode.setAttribute(_,N):this.domNode.removeAttribute(_):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,_,N)}}],[{key:"create",value:function(_){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,_);return N.setAttribute("frameborder","0"),N.setAttribute("allowfullscreen",!0),N.setAttribute("src",this.sanitize(_)),N}},{key:"formats",value:function(_){return x.reduce(function(N,E){return _.hasAttribute(E)&&(N[E]=_.getAttribute(E)),N},{})}},{key:"sanitize",value:function(_){return h.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),b}(c.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function _(N,E){for(var I=0;I<E.length;I++){var C=E[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,E,I){return E&&_(N.prototype,E),I&&_(N,I),N}}(),o=function _(N,E,I){N===null&&(N=Function.prototype);var C=Object.getOwnPropertyDescriptor(N,E);if(C===void 0){var O=Object.getPrototypeOf(N);return O===null?void 0:_(O,E,I)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(I)}},c=i(35),d=p(c),h=i(5),f=p(h),m=i(9),u=p(m);function p(_){return _&&_.__esModule?_:{default:_}}function x(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function v(_,N){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:_}function w(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(_,N):_.__proto__=N)}var b=function(_){w(N,_);function N(){return x(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,null,[{key:"create",value:function(I){var C=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,C,{throwOnError:!1,errorColor:"#f00"}),C.setAttribute("data-value",I)),C}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),N}(d.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var y=function(_){w(N,_),a(N,null,[{key:"register",value:function(){f.default.register(b,!0)}}]);function N(){x(this,N);var E=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return E}return N}(u.default);r.FormulaBlot=b,r.default=y},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function I(C,O){for(var A=0;A<O.length;A++){var k=O[A];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,O,A){return O&&I(C.prototype,O),A&&I(C,A),C}}(),o=function I(C,O,A){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,O);if(k===void 0){var R=Object.getPrototypeOf(C);return R===null?void 0:I(R,O,A)}else{if("value"in k)return k.value;var P=k.get;return P===void 0?void 0:P.call(A)}},c=i(0),d=v(c),h=i(5),f=v(h),m=i(9),u=v(m),p=i(13),x=v(p);function v(I){return I&&I.__esModule?I:{default:I}}function w(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function b(I,C){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:I}function y(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);I.prototype=Object.create(C&&C.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(I,C):I.__proto__=C)}var _=function(I){y(C,I);function C(){return w(this,C),b(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),C}(x.default);_.className="ql-syntax";var N=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),E=function(I){y(C,I),a(C,null,[{key:"register",value:function(){f.default.register(N,!0),f.default.register(_,!0)}}]);function C(O,A){w(this,C);var k=b(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O,A));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var R=null;return k.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(R),R=setTimeout(function(){k.highlight(),R=null},k.options.interval)}),k.highlight(),k}return a(C,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(R){R.highlight(A.options.highlight)}),this.quill.update(f.default.sources.SILENT),k!=null&&this.quill.setSelection(k,f.default.sources.SILENT)}}}]),C}(u.default);E.DEFAULTS={highlight:function(){return window.hljs==null?null:function(I){var C=window.hljs.highlightAuto(I);return C.value}}(),interval:1e3},r.CodeBlock=_,r.CodeToken=N,r.default=E},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,r){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,r){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,r){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,r){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function C(O,A,k){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,A);if(R===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:C(P,A,k)}else{if("value"in R)return R.value;var T=R.get;return T===void 0?void 0:T.call(k)}},o=function(){function C(O,A){for(var k=0;k<A.length;k++){var R=A[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,A,k){return A&&C(O.prototype,A),k&&C(O,k),O}}(),c=i(3),d=w(c),h=i(8),f=w(h),m=i(43),u=w(m),p=i(15),x=i(41),v=w(x);function w(C){return C&&C.__esModule?C:{default:C}}function b(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function y(C,O){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:C}function _(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}var N=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],E=function(C){_(O,C);function O(A,k){b(this,O),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=N);var R=y(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,A,k));return R.quill.container.classList.add("ql-bubble"),R}return o(O,[{key:"extendToolbar",value:function(k){this.tooltip=new I(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),v.default)}}]),O}(u.default);E.DEFAULTS=(0,d.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var I=function(C){_(O,C);function O(A,k){b(this,O);var R=y(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,A,k));return R.quill.on(f.default.events.EDITOR_CHANGE,function(P,T,M,H){if(P===f.default.events.SELECTION_CHANGE)if(T!=null&&T.length>0&&H===f.default.sources.USER){R.show(),R.root.style.left="0px",R.root.style.width="",R.root.style.width=R.root.offsetWidth+"px";var W=R.quill.getLines(T.index,T.length);if(W.length===1)R.position(R.quill.getBounds(T));else{var Z=W[W.length-1],B=R.quill.getIndex(Z),q=Math.min(Z.length()-1,T.index+T.length-B),F=R.quill.getBounds(new p.Range(B,q));R.position(F)}}else document.activeElement!==R.textbox&&R.quill.hasFocus()&&R.hide()}),R}return o(O,[{key:"listen",value:function(){var k=this;a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var R=k.quill.getSelection();R!=null&&k.position(k.quill.getBounds(R))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var R=a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,k),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",R===0)return R;P.style.marginLeft=-1*R-P.offsetWidth/2+"px"}}]),O}(m.BaseTooltip);I.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=I,r.default=E},function(s,r,i){s.exports=i(63)}]).default})})(C4);var dne=C4.exports,une=pi&&pi.__extends||function(){var e=function(t,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,s)};return function(t,s){e(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}}(),Tm=pi&&pi.__assign||function(){return Tm=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Tm.apply(this,arguments)},hne=pi&&pi.__spreadArrays||function(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<s;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)r[i]=a[o];return r},Gp=pi&&pi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Wr=Gp(j),fne=Gp(eo),Nd=Gp(cne),h2=Gp(dne),mne=function(e){une(t,e);function t(s){var r=e.call(this,s)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(a,o,c,d){var h,f,m,u;a==="text-change"?(f=(h=r).onEditorChangeText)===null||f===void 0||f.call(h,r.editor.root.innerHTML,o,d,r.unprivilegedEditor):a==="selection-change"&&((u=(m=r).onEditorChangeSelection)===null||u===void 0||u.call(m,o,d,r.unprivilegedEditor))};var i=r.isControlled()?s.value:s.defaultValue;return r.value=i??"",r}return t.prototype.validateProps=function(s){var r;if(Wr.default.Children.count(s.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Wr.default.Children.count(s.children)){var i=Wr.default.Children.only(s.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&s.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(s,r){var i=this,a;if(this.validateProps(s),!this.editor||this.state.generation!==r.generation)return!0;if("value"in s){var o=this.getEditorContents(),c=(a=s.value,a??"");this.isEqualValue(c,o)||this.setEditorContents(this.editor,c)}return s.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,s.readOnly),hne(this.cleanProps,this.dirtyProps).some(function(d){return!Nd.default(s[d],i.props[d])})},t.prototype.shouldComponentRegenerate=function(s){var r=this;return this.dirtyProps.some(function(i){return!Nd.default(s[i],r.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(s,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(s)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var c=this.regenerationSnapshot,a=c.delta,d=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var h=this.editor;h.setContents(a),f2(function(){return i.setEditorSelection(h,d)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(s,r){var i=new h2.default(s,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(s){this.unprivilegedEditor=this.makeUnprivilegedEditor(s),s.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(s){s.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(s){return s&&s.ops},t.prototype.isEqualValue=function(s,r){return this.isDelta(s)&&this.isDelta(r)?Nd.default(s.ops,r.ops):Nd.default(s,r)},t.prototype.setEditorContents=function(s,r){var i=this;this.value=r;var a=this.getEditorSelection();typeof r=="string"?s.setContents(s.clipboard.convert(r)):s.setContents(r),f2(function(){return i.setEditorSelection(s,a)})},t.prototype.setEditorSelection=function(s,r){if(this.selection=r,r){var i=s.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),s.setSelection(r)}},t.prototype.setEditorTabIndex=function(s,r){var i,a;!((a=(i=s)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(s.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(s,r){r?s.disable():s.enable()},t.prototype.makeUnprivilegedEditor=function(s){var r=s;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var s=fne.default.findDOMNode(this.editingArea);if(!s)throw new Error("Cannot find element for editing area");if(s.nodeType===3)throw new Error("Editing area cannot be a text node");return s},t.prototype.renderEditingArea=function(){var s=this,r=this.props,i=r.children,a=r.preserveWhitespace,o=this.state.generation,c={key:o,ref:function(d){s.editingArea=d}};return Wr.default.Children.count(i)?Wr.default.cloneElement(Wr.default.Children.only(i),c):a?Wr.default.createElement("pre",Tm({},c)):Wr.default.createElement("div",Tm({},c))},t.prototype.render=function(){var s;return Wr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(s=this.props.className,s??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(s,r,i,a){var o,c;if(this.editor){var d=this.isDelta(this.value)?a.getContents():a.getHTML();d!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=d,(c=(o=this.props).onChange)===null||c===void 0||c.call(o,s,r,i,a))}},t.prototype.onEditorChangeSelection=function(s,r,i){var a,o,c,d,h,f;if(this.editor){var m=this.getEditorSelection(),u=!m&&s,p=m&&!s;Nd.default(s,m)||(this.selection=s,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,s,r,i),u?(d=(c=this.props).onFocus)===null||d===void 0||d.call(c,s,r,i):p&&((f=(h=this.props).onBlur)===null||f===void 0||f.call(h,m,r,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=h2.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Wr.default.Component);function f2(e){Promise.resolve().then(e)}var pne=mne;const E4=Rm(pne);var Kp="Switch",[gne,Tse]=ls(Kp),[vne,xne]=gne(Kp),P4=j.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d="on",onCheckedChange:h,form:f,...m}=e,[u,p]=j.useState(null),x=dt(t,_=>p(_)),v=j.useRef(!1),w=u?f||!!u.closest("form"):!0,[b,y]=Lr({prop:i,defaultProp:a??!1,onChange:h,caller:Kp});return n.jsxs(vne,{scope:s,checked:b,disabled:c,children:[n.jsx(We.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":L4(b),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:x,onClick:Le(e.onClick,_=>{y(N=>!N),w&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),w&&n.jsx(O4,{control:u,bubbles:!v.current,name:r,value:d,checked:b,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});P4.displayName=Kp;var T4="SwitchThumb",A4=j.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,i=xne(T4,s);return n.jsx(We.span,{"data-state":L4(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});A4.displayName=T4;var yne="SwitchBubbleInput",O4=j.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...i},a)=>{const o=j.useRef(null),c=dt(o,a),d=Cp(s),h=ap(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==s&&p){const x=new Event("click",{bubbles:r});p.call(f,s),f.dispatchEvent(x)}},[d,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});O4.displayName=yne;function L4(e){return e?"checked":"unchecked"}var R4=P4,bne=A4;const Yt=j.forwardRef(({className:e,...t},s)=>n.jsx(R4,{className:Ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(bne,{className:Ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yt.displayName=R4.displayName;const M4=({productData:e})=>{const{name:t,category:s,price:r,comparePrice:i,images:a,description:o,tags:c,dynamicFields:d,shortDescription:h,featured:f,status:m}=e,u=i&&r?Math.round((i-r)/i*100):0;return n.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[n.jsx(Ne,{children:n.jsx(ke,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"space-y-4",children:a&&a.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:n.jsx("img",{src:a[0],alt:t,className:"w-full h-full object-cover"})}),a.length>1&&n.jsx("div",{className:"grid grid-cols-4 gap-2",children:a.slice(1,5).map((p,x)=>n.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:n.jsx("img",{src:p,alt:`${t} ${x+2}`,className:"w-full h-full object-cover cursor-pointer hover:opacity-80"})},x))})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Me,{variant:"outline",children:s}),f&&n.jsx(Me,{className:"bg-yellow-100 text-yellow-800",children:"Featured"}),n.jsx(Me,{variant:m==="active"?"default":"secondary",children:m})]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:t}),h&&n.jsx("p",{className:"text-gray-600 mb-4",children:h})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((p,x)=>n.jsx(vn,{className:"h-4 w-4 fill-current"},x))}),n.jsx("span",{className:"text-sm text-gray-600",children:"(4.8) 124 reviews"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",r==null?void 0:r.toLocaleString()]}),i&&i>r&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["",i.toLocaleString()]}),n.jsxs(Me,{className:"bg-green-100 text-green-800",children:[u,"% OFF"]})]})]}),n.jsx("p",{className:"text-sm text-green-600",children:"Inclusive of all taxes"})]}),n.jsx(di,{}),d&&Object.keys(d).length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Product Details"}),n.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(d).map(([p,x])=>x?n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 capitalize",children:[p.replace(/([A-Z])/g," $1").trim(),":"]}),n.jsx("span",{className:"font-medium",children:Array.isArray(x)?x.join(", "):String(x)})]},p):null)})]}),n.jsx(di,{}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(te,{className:"flex-1",children:[n.jsx(ss,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),n.jsx(te,{variant:"outline",size:"icon",children:n.jsx(dr,{className:"h-4 w-4"})}),n.jsx(te,{variant:"outline",size:"icon",children:n.jsx(Gf,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(ql,{className:"h-6 w-6 mx-auto mb-1 text-blue-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Free Delivery"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(gi,{className:"h-6 w-6 mx-auto mb-1 text-green-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Secure Payment"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Qr,{className:"h-6 w-6 mx-auto mb-1 text-orange-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Easy Returns"})]})]})]})]})})}),o&&n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Product Description"})}),n.jsx(ke,{children:n.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:o}})})]}),c&&c.length>0&&n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Tags"})}),n.jsx(ke,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(p=>n.jsx(Me,{variant:"secondary",children:p},p))})})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Similar Products"})}),n.jsx(ke,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(p=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg"}),n.jsxs("p",{className:"text-sm font-medium",children:["Similar Product ",p]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["",(r*(.8+Math.random()*.4)).toFixed(0)]})]},p))})})]})]})},Fs={electronics:{name:"Electronics",description:"Electronic devices and gadgets",icon:"",fields:[{name:"brand",label:"Brand",type:"text",placeholder:"e.g., Samsung, Apple"},{name:"model",label:"Model",type:"text",placeholder:"e.g., Galaxy S24"},{name:"warranty",label:"Warranty",type:"select",options:["No Warranty","6 months","1 year","2 years"]}]},clothing:{name:"Clothing & Fashion",description:"Apparel and fashion accessories",icon:"",fields:[{name:"brand",label:"Brand",type:"text",placeholder:"Brand name"},{name:"size",label:"Sizes",type:"multiselect",options:["XS","S","M","L","XL","XXL"]},{name:"color",label:"Colors",type:"multiselect",options:["Black","White","Red","Blue","Green","Gray","Brown"]},{name:"material",label:"Material",type:"text",placeholder:"e.g., Cotton, Polyester"}]},food:{name:"Food & Beverages",description:"Fresh food and beverages",icon:"",fields:[{name:"cuisine",label:"Cuisine",type:"select",options:["Nepali","Indian","Chinese","Continental","Italian","Other"]},{name:"spiceLevel",label:"Spice Level",type:"select",options:["Mild","Medium","Hot"]},{name:"dietaryInfo",label:"Dietary",type:"multiselect",options:["Vegetarian","Vegan","Gluten-Free"]},{name:"servingSize",label:"Serving Size",type:"text",placeholder:"e.g., 1 plate, 250ml"}]},baby:{name:"Baby & Kids",description:"Products for babies and children",icon:"",fields:[{name:"ageGroup",label:"Age Group",type:"select",options:["0-6 months","6-12 months","1-2 years","2-4 years","4+ years"]},{name:"safetyFeatures",label:"Safety",type:"multiselect",options:["BPA Free","Non-Toxic","Organic"]}]},grocery:{name:"Grocery & Household",description:"Daily essentials and household items",icon:"",fields:[{name:"weight",label:"Weight/Volume",type:"text",placeholder:"e.g., 1kg, 500ml"},{name:"expiryDate",label:"Expiry Date",type:"date"},{name:"organic",label:"Organic",type:"boolean"}]},meat:{name:"Meat & Seafood",description:"Fresh meat and seafood",icon:"",fields:[{name:"cut",label:"Cut Type",type:"select",options:["Whole","Pieces","Minced","Fillet"]},{name:"freshness",label:"Freshness",type:"select",options:["Fresh","Frozen"]}]},medicine:{name:"Medicine & Health",description:"Medicines and health products",icon:"",fields:[{name:"dosage",label:"Dosage",type:"text",placeholder:"e.g., 500mg, 10ml"},{name:"form",label:"Form",type:"select",options:["Tablet","Capsule","Syrup","Injection","Cream","Drops"]},{name:"prescription",label:"Prescription Required",type:"boolean"}]}},I4=()=>Object.entries(Fs).map(([e,t])=>({value:e,label:t.name,description:t.description,icon:t.icon})),m2=e=>({meat:"kg",grocery:"piece",medicine:"unit",food:"plate",electronics:"piece",clothing:"piece",baby:"piece"})[e]||"piece",wne=d4({name:wn().min(1,"Product name is required"),category:wn().min(1,"Category is required"),subcategory:wn().optional(),price:Mi().min(0,"Price must be positive"),comparePrice:Mi().optional(),costPrice:Mi().optional(),sku:wn().optional(),barcode:wn().optional(),trackQuantity:Zy().default(!0),quantity:Mi().min(0,"Quantity must be positive"),lowStockThreshold:Mi().min(0).optional(),description:wn().min(1,"Description is required"),shortDescription:wn().optional(),tags:km(wn()).default([]),images:km(wn()).min(1,"At least one image is required"),status:h4(["active","draft","archived"]).default("active"),featured:Zy().default(!1),seoTitle:wn().optional(),seoDescription:wn().optional(),dynamicFields:u4(Gy()).default({})}),jne=()=>{const[e,t]=j.useState(""),[s,r]=j.useState([]),[i,a]=j.useState([]),[o,c]=j.useState(""),[d,h]=j.useState(!1),[f,m]=j.useState(!1),[u,p]=j.useState([]),x=r4({resolver:a4(wne),defaultValues:{name:"",category:"",price:0,quantity:0,description:"",tags:[],images:[],status:"active",featured:!1,trackQuantity:!0,dynamicFields:{}}}),{control:v,handleSubmit:w,watch:b,setValue:y,formState:{errors:_}}=x,N=b("category");j.useEffect(()=>{t(N)},[N]),j.useEffect(()=>{(async()=>{try{const{response:M,data:H}=await Fe("/api/vendor-profiles/");if(M.ok&&H&&H.length>0){const Z=H[0].categories||[];p(Z),Z.length>0&&(y("category",Z[0]),t(Z[0]))}}catch(M){console.error("Error fetching vendor profile:",M)}})()},[y]);const E=T=>{const M=T.target.files;if(M){const H=Array.from(M).map(W=>URL.createObjectURL(W));r(W=>[...W,...H]),y("images",[...s,...H])}},I=T=>{const M=s.filter((H,W)=>W!==T);r(M),y("images",M)},C=()=>{if(o.trim()&&!i.includes(o.trim())){const T=[...i,o.trim()];a(T),y("tags",T),c("")}},O=T=>{const M=i.filter(H=>H!==T);a(M),y("tags",M)},A=T=>{console.log("Product Data:",T)},k=T=>{const M=`dynamicFields.${T.name}`;switch(T.type){case"text":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>n.jsx(me,{...H,placeholder:`Enter ${T.label.toLowerCase()}`})})]},T.name);case"number":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>n.jsx(me,{...H,type:"number",placeholder:`Enter ${T.label.toLowerCase()}`,onChange:W=>H.onChange(Number(W.target.value))})})]},T.name);case"select":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>{var W;return n.jsxs(rn,{onValueChange:H.onChange,value:H.value,children:[n.jsx(Qt,{children:n.jsx(an,{placeholder:`Select ${T.label.toLowerCase()}`})}),n.jsx(Jt,{children:(W=T.options)==null?void 0:W.map(Z=>n.jsx(qe,{value:Z,children:Z},Z))})]})}})]},T.name);case"multiselect":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>{var Z;const W=H.value||[];return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(rn,{onValueChange:B=>{W.includes(B)||H.onChange([...W,B])},children:[n.jsx(Qt,{children:n.jsx(an,{placeholder:`Select ${T.label.toLowerCase()}`})}),n.jsx(Jt,{children:(Z=T.options)==null?void 0:Z.map(B=>n.jsx(qe,{value:B,children:B},B))})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:W.map(B=>n.jsxs(Me,{variant:"secondary",className:"flex items-center gap-1",children:[B,n.jsx(rs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{H.onChange(W.filter(q=>q!==B))}})]},B))})]})}})]},T.name);case"textarea":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>n.jsx(Wn,{...H,placeholder:`Enter ${T.label.toLowerCase()}`})})]},T.name);case"boolean":return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(St,{name:M,control:v,render:({field:H})=>n.jsx(Yt,{checked:H.value,onCheckedChange:H.onChange})}),n.jsx(de,{htmlFor:T.name,children:T.label})]},T.name);case"date":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>n.jsx(me,{...H,type:"date"})})]},T.name);default:return null}},R=()=>f?n.jsx(M4,{productData:b()}):n.jsxs("form",{onSubmit:w(A),className:"space-y-6",children:[n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsxs(lt,{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Basic Information"]})}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:"name",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:"name",control:v,render:({field:T})=>n.jsx(me,{...T,placeholder:"Enter product name"})}),_.name&&n.jsx("p",{className:"text-red-500 text-sm",children:_.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:"category",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border rounded-md cursor-not-allowed",children:(()=>{const T=I4().find(M=>M.value===e);return T?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:T.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:T.label}),n.jsx("div",{className:"text-xs text-gray-500",children:"Auto-selected from your vendor profile"})]})]}):n.jsx("div",{className:"text-gray-500",children:"Loading category..."})})()}),n.jsx("input",{type:"hidden",...x.register("category"),value:e})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"shortDescription",children:"Short Description"}),n.jsx(St,{name:"shortDescription",control:v,render:({field:T})=>n.jsx(Wn,{...T,placeholder:"Brief product description",rows:2})})]})]})]}),e&&Fs[e]&&n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsxs(lt,{className:"flex items-center gap-2",children:[n.jsx(SE,{className:"h-5 w-5"}),n.jsx("span",{className:"mr-2",children:Fs[e].icon}),Fs[e].name," Details"]})}),n.jsxs(ke,{className:"space-y-4",children:[Fs[e].subcategories&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Subcategory"}),n.jsx(St,{name:"subcategory",control:v,render:({field:T})=>{var M;return n.jsxs(rn,{onValueChange:T.onChange,value:T.value,children:[n.jsx(Qt,{children:n.jsx(an,{placeholder:"Select subcategory"})}),n.jsx(Jt,{children:(M=Fs[e].subcategories)==null?void 0:M.map(H=>n.jsx(qe,{value:H,children:H},H))})]})}})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Fs[e].fields.map(k)})]})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Pricing & Inventory"})}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:"price",children:["Selling Price ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:"price",control:v,render:({field:T})=>n.jsx(me,{...T,type:"number",step:"0.01",placeholder:"0.00",onChange:M=>T.onChange(Number(M.target.value))})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"comparePrice",children:"Compare Price"}),n.jsx(St,{name:"comparePrice",control:v,render:({field:T})=>n.jsx(me,{...T,type:"number",step:"0.01",placeholder:"0.00",onChange:M=>T.onChange(Number(M.target.value))})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"costPrice",children:"Cost Price"}),n.jsx(St,{name:"costPrice",control:v,render:({field:T})=>n.jsx(me,{...T,type:"number",step:"0.01",placeholder:"0.00",onChange:M=>T.onChange(Number(M.target.value))})})]})]}),n.jsx(di,{}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(St,{name:"trackQuantity",control:v,render:({field:T})=>n.jsx(Yt,{checked:T.value,onCheckedChange:T.onChange})}),n.jsx(de,{children:"Track Quantity"})]}),b("trackQuantity")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:"quantity",children:["Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:"quantity",control:v,render:({field:T})=>n.jsx(me,{...T,type:"number",placeholder:"0",onChange:M=>T.onChange(Number(M.target.value))})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"lowStockThreshold",children:"Low Stock Alert"}),n.jsx(St,{name:"lowStockThreshold",control:v,render:({field:T})=>n.jsx(me,{...T,type:"number",placeholder:"5",onChange:M=>T.onChange(Number(M.target.value))})})]})]})]})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsxs(lt,{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5"}),"Product Images"]})}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:E,className:"hidden",id:"image-upload"}),n.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[n.jsx(gu,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload images or drag and drop"}),n.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF up to 10MB"})]})]}),s.length>0&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map((T,M)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:T,alt:`Product ${M+1}`,className:"w-full h-24 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>I(M),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(rs,{className:"h-3 w-3"})}),M===0&&n.jsx(Me,{className:"absolute bottom-1 left-1 text-xs",children:"Main"})]},M))})]})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsxs(lt,{className:"flex items-center gap-2",children:[n.jsx(wE,{className:"h-5 w-5"}),"Product Description"]})}),n.jsx(ke,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:"description",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:"description",control:v,render:({field:T})=>n.jsx(E4,{theme:"snow",value:T.value,onChange:T.onChange,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},style:{minHeight:"200px"}})}),_.description&&n.jsx("p",{className:"text-red-500 text-sm",children:_.description.message})]})})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Product Tags"})}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(me,{value:o,onChange:T=>c(T.target.value),placeholder:"Add a tag",onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),C())}),n.jsx(te,{type:"button",onClick:C,variant:"outline",children:n.jsx(gn,{className:"h-4 w-4"})})]}),i.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(T=>n.jsxs(Me,{variant:"secondary",className:"flex items-center gap-1",children:[T,n.jsx(rs,{className:"h-3 w-3 cursor-pointer",onClick:()=>O(T)})]},T))})]})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"SEO & Settings"})}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"sku",children:"SKU"}),n.jsx(St,{name:"sku",control:v,render:({field:T})=>n.jsx(me,{...T,placeholder:"Product SKU"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"barcode",children:"Barcode"}),n.jsx(St,{name:"barcode",control:v,render:({field:T})=>n.jsx(me,{...T,placeholder:"Product barcode"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"seoTitle",children:"SEO Title"}),n.jsx(St,{name:"seoTitle",control:v,render:({field:T})=>n.jsx(me,{...T,placeholder:"SEO optimized title"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"seoDescription",children:"SEO Description"}),n.jsx(St,{name:"seoDescription",control:v,render:({field:T})=>n.jsx(Wn,{...T,placeholder:"SEO meta description",rows:3})})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(St,{name:"featured",control:v,render:({field:T})=>n.jsx(Yt,{checked:T.value,onCheckedChange:T.onChange})}),n.jsx(de,{children:"Featured Product"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"status",children:"Status"}),n.jsx(St,{name:"status",control:v,render:({field:T})=>n.jsxs(rn,{onValueChange:T.onChange,value:T.value,children:[n.jsx(Qt,{className:"w-32",children:n.jsx(an,{})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"active",children:"Active"}),n.jsx(qe,{value:"draft",children:"Draft"}),n.jsx(qe,{value:"archived",children:"Archived"})]})]})})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 sticky bottom-4 bg-white p-4 border-t",children:[n.jsxs(te,{type:"button",variant:"outline",className:"flex-1",onClick:()=>m(!f),children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),f?"Edit":"Preview"]}),n.jsx(te,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{y("status","draft"),w(A)()},children:"Save as Draft"}),n.jsxs(te,{type:"submit",className:"flex-1",children:[n.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Publish Product"]})]})]});if(d)return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>h(!1),children:n.jsx(Dt,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-xl font-semibold",children:"Add New Product"})]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>m(!f),children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),f?"Edit":"Preview"]})]})}),n.jsx("div",{className:"max-w-4xl mx-auto p-6",children:n.jsx(Mw,{className:"h-[calc(100vh-80px)]",children:n.jsx(R,{})})})]});const P=nt();return n.jsx("button",{className:"w-14 h-14 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-110 border-4 border-white","aria-label":"Add Product",onClick:()=>P("/vendor/add-product"),children:n.jsx(gn,{className:"h-7 w-7"})})},p2=[{title:"Home",url:"/vendor/dashboard",icon:nb},{title:"Orders",url:"/vendor/orders",icon:NE},{title:"Products",url:"/vendor/products",icon:Ot},{title:"Settings",url:"/vendor/settings",icon:TD}],_ne=({children:e})=>n.jsx(n.Fragment,{children:e}),Nne=()=>{const e=na(),t=nt();return n.jsxs("div",{className:"fixed bottom-0 left-0 w-full z-50",children:[n.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 -top-6 z-10",children:n.jsx(jne,{})}),n.jsxs("nav",{className:"bg-gradient-to-r from-slate-50 to-white shadow-2xl border-t border-gray-100 relative overflow-hidden backdrop-blur-sm pb-safe-bottom",children:[n.jsx("div",{className:"absolute inset-0 bg-white",style:{clipPath:"polygon(0 0, calc(50% - 32px) 0, calc(50% - 24px) 16px, calc(50% + 24px) 16px, calc(50% + 32px) 0, 100% 0, 100% 100%, 0 100%)"}}),n.jsxs("div",{className:"relative flex justify-around items-center px-safe-x py-2 pt-4",children:[p2.slice(0,2).map(s=>{const r=s.icon,i=e.pathname===s.url;return n.jsxs("button",{onClick:()=>t(s.url),className:`flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-200 min-w-[60px] ${i?"text-orange-600 bg-orange-50":"text-gray-600 hover:text-orange-500 hover:bg-gray-50"}`,"aria-label":s.title,children:[n.jsx(r,{className:"h-5 w-5 mb-1"}),n.jsx("span",{className:"text-xs font-medium",children:s.title})]},s.title)}),n.jsx("div",{className:"w-16"}),p2.slice(2).map(s=>{const r=s.icon,i=e.pathname===s.url;return n.jsxs("button",{onClick:()=>t(s.url),className:`flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-200 min-w-[60px] ${i?"text-orange-600 bg-orange-50":"text-gray-600 hover:text-orange-500 hover:bg-gray-50"}`,"aria-label":s.title,children:[n.jsx(r,{className:"h-5 w-5 mb-1"}),n.jsx("span",{className:"text-xs font-medium",children:s.title})]},s.title)})]})]})]})},Sne=async()=>{console.log(" AUTH DEBUG START");const e=await Te.getToken(),t=await Te.getUser(),s=await Te.isAuthenticated();console.log(" Auth Status:",{hasToken:!!e,tokenLength:(e==null?void 0:e.length)||0,tokenPreview:e?`${e.substring(0,10)}...`:"null",hasUser:!!t,userId:t==null?void 0:t.id,userType:t==null?void 0:t.user_type,isAuthenticated:s});const r=localStorage.getItem("token"),i=localStorage.getItem("user");return console.log(" Direct Storage:",{directToken:r?`${r.substring(0,10)}...`:"null",directUser:i?"exists":"null",allKeys:Object.keys(localStorage)}),console.log(" AUTH DEBUG END"),{token:e,user:t,isAuth:s}};function kne({title:e,subtitle:t,headerActions:s}){const r=nt(),{toast:i}=cn(),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(!0),[m,u]=j.useState(null),p=a.filter(C=>!C.read).length,x=c.reduce((C,O)=>C+(O.unread_count||0),0),v=!1;j.useEffect(()=>{console.log(" VendorHeader initializing..."),_(),y(),w(),b();const C=setInterval(w,5e3),O=setInterval(b,5e3),A=R=>{const P=R.detail;o(T=>[P,...T])},k=R=>{const{order:P}=R.detail,T={id:Date.now(),type:"order",title:"New Order Received!",message:`Order #${P.order_number} for ${P.total_amount}`,data:{orderId:P.id},read:!1,created_at:new Date().toISOString(),action_url:"/vendor/orders"};o(M=>[T,...M]),Gt.showBrowserNotification(T.title,{body:T.message,tag:`order-${P.id}`,requireInteraction:!0,data:{actionUrl:"/vendor/orders"}}),i({title:T.title,description:T.message,duration:5e3})};return window.addEventListener("newNotification",A),window.addEventListener("orderCreated",k),()=>{clearInterval(C),clearInterval(O),window.removeEventListener("newNotification",A),window.removeEventListener("orderCreated",k)}},[]);const w=async()=>{try{const C=await Bs.getConversations(),A=(Array.isArray(C)?C:(C==null?void 0:C.results)||[]).reduce((k,R)=>{var M,H,W;const P=(M=R.other_participant)==null?void 0:M.id;if(!P)return k;const T=k.find(Z=>{var B;return((B=Z.other_participant)==null?void 0:B.id)===P});if(!T)k.push(R);else{const Z=((H=R.last_message)==null?void 0:H.created_at)||R.updated_at,B=((W=T.last_message)==null?void 0:W.created_at)||T.updated_at;if(new Date(Z)>new Date(B)){const q=k.findIndex(F=>{var $;return(($=F.other_participant)==null?void 0:$.id)===P});k[q]=R}}return k},[]);c.length>0&&A.forEach(k=>{var P,T;const R=c.find(M=>{var H,W;return((H=M.other_participant)==null?void 0:H.id)===((W=k.other_participant)==null?void 0:W.id)});R&&k.unread_count>R.unread_count&&Gt.showBrowserNotification(`New message from ${(P=k.other_participant)==null?void 0:P.username}`,{body:((T=k.last_message)==null?void 0:T.content)||"New message received",tag:`message-${k.id}`,requireInteraction:!1,data:{actionUrl:"/vendor/messages"}})}),d(A)}catch(C){console.error("Failed to load conversations:",C)}},b=async()=>{try{const C=await Gt.getNotifications();a.length>0&&C.forEach(O=>{!a.find(k=>k.id===O.id)&&O.type==="order"&&(Gt.showBrowserNotification(O.title,{body:O.message,tag:`notification-${O.id}`,requireInteraction:!0,data:{actionUrl:"/vendor/orders"}}),i({title:O.title,description:O.message,duration:5e3}))}),o(C)}catch(C){console.error("Failed to load notifications:",C)}},y=async()=>{await Gt.requestPermission()},_=async()=>{console.log(" Fetching vendor status...");try{const C=await Te.isAuthenticated();if(console.log(" Authentication check for fetch:",C),!C){console.log(" Not authenticated, redirecting to login"),r("/vendor/login");return}const O=await Te.getUser(),{response:A,data:k}=await Fe("/vendor-profiles/");if(console.log(" Fetch vendor status response:",{status:A.status,statusText:A.statusText,data:k,headers:Object.fromEntries(A.headers.entries())}),A.status===401||A.status===403){console.log(" Authentication error in fetch, clearing auth"),await Te.clearAuth(),r("/vendor/login");return}if(A.status!==200&&A.status!==201)throw console.log(" Unexpected status in fetch:",A.status),new Error((k==null?void 0:k.error)||(k==null?void 0:k.message)||"Failed to fetch vendor status");if(k&&k.results&&k.results.length>0){const R=k.results.find(P=>P.user===(O==null?void 0:O.id))||k.results[0];console.log(" Profile found:",{id:R.id,user:R.user,is_active:R.is_active}),u(R.id),f(R.is_active||!1)}else console.log(" No profile found in response")}catch(C){console.error(" Error fetching vendor status:",C),i({title:"Error",description:"Failed to load vendor status",variant:"destructive"})}},N=async()=>{console.log(" Toggle status started"),await Sne();try{const C=await Te.isAuthenticated();if(console.log(" Authentication check:",C),!C){console.log(" Not authenticated, redirecting to login"),r("/vendor/login");return}if(!m)throw console.log(" No profile ID found"),new Error("Profile ID not found");const O=!h;console.log(" Toggling status from",h,"to",O,"for profile",m);const A={is_active:O};console.log(" Request body:",A);const k=await kb();console.log(" Request headers:",k);const{response:R,data:P}=await Fe(`/vendor-profiles/${m}/toggle-status/`,{method:"POST",body:JSON.stringify(A)});if(console.log(" Toggle status response:",{status:R.status,statusText:R.statusText,data:P,headers:Object.fromEntries(R.headers.entries())}),console.log(" Response details:",{ok:R.ok,status:R.status,dataSuccess:P==null?void 0:P.success,dataError:P==null?void 0:P.error,dataMessage:P==null?void 0:P.message}),R.status===401||R.status===403){console.log(" Authentication error - but not clearing auth yet"),i({title:"Permission Error",description:"You don't have permission to perform this action",variant:"destructive"});return}if(R.status===200||R.status===201)if(console.log(" Success response received"),P&&P.success!==!1){const M=P.is_active!==void 0?P.is_active:O;console.log(" Setting status to:",M),f(M),i({title:"Success",description:P.message||`Status set to ${M?"Online":"Offline"}`}),console.log(" Toggle completed successfully");return}else throw console.log(" API returned success: false"),new Error((P==null?void 0:P.error)||(P==null?void 0:P.message)||"Failed to toggle status");console.log(" Unexpected status code:",R.status);const T=(P==null?void 0:P.error)||(P==null?void 0:P.detail)||(P==null?void 0:P.message)||`Server returned status ${R.status}`;throw new Error(T)}catch(C){console.error(" Error toggling status:",C),i({title:"Error",description:C instanceof Error?C.message:"Failed to toggle status",variant:"destructive"})}},E=async C=>{await Gt.markAsRead(C),o(O=>O.map(A=>A.id===C?{...A,read:!0}:A))},I=async()=>{await Gt.markAllAsRead(),o(C=>C.map(O=>({...O,read:!0})))};return n.jsx("header",{className:"fixed top-0 z-50 w-full max-w-full border-b bg-gradient-to-r from-gray-50 to-white shadow-lg overflow-hidden",children:n.jsxs("div",{className:"flex h-14 sm:h-16 items-center px-3 sm:px-4 max-w-full",children:[n.jsx("div",{className:"flex-1 flex items-center gap-2 min-w-0",children:n.jsx("div",{className:"flex items-center gap-2 min-w-0",children:n.jsx("img",{src:"/assets/ezeywaylogo.png",alt:"Ezeyway",className:"h-32 w-32 sm:h-36 sm:w-36 object-contain flex-shrink-0"})})}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 border border-gray-300 rounded-full px-3 py-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs font-medium ${h?"text-green-700":"text-gray-700"}`,children:h?"Online":"Offline"}),v]}),n.jsx("button",{onClick:N,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-gray-300 ${h?"bg-green-500":"bg-gray-400"}`,children:n.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform shadow-sm ${h?"translate-x-5":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[n.jsxs(gc,{children:[n.jsx(vc,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"icon",className:"relative h-9 w-9 sm:h-10 sm:w-10 text-gray-700 hover:bg-gray-100",children:[n.jsx(Ul,{className:"h-4 w-4 sm:h-5 sm:w-5"}),x>0&&n.jsx(Me,{className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 h-4 w-4 sm:h-5 sm:w-5 rounded-full p-0 text-[10px] sm:text-xs flex items-center justify-center min-w-[16px] sm:min-w-[20px] bg-red-500 text-white border-2 border-white",children:x>9?"9+":x}),n.jsx("span",{className:"sr-only",children:"Messages"})]})}),n.jsxs(Wo,{align:"end",className:"w-72 sm:w-80 mr-2 sm:mr-0",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h4",{className:"font-semibold",children:"Messages"}),n.jsx("div",{className:"flex gap-2",children:n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>r("/vendor/messages"),className:"text-xs",children:"View all"})})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:c.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No messages"}):c.slice(0,5).map(C=>{var O,A,k,R,P,T;return n.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${C.unread_count>0?"bg-blue-50/50":""}`,onClick:()=>r("/vendor/messages"),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Gi,{className:"h-8 w-8",children:[n.jsx(Ki,{src:(O=C.other_participant)==null?void 0:O.profile_picture}),n.jsx(Yi,{children:(k=(A=C.other_participant)==null?void 0:A.username)==null?void 0:k.charAt(0)})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:(R=C.other_participant)==null?void 0:R.username}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((P=C.last_message)==null?void 0:P.content)||((T=C.last_message)==null?void 0:T.file_name)||"No messages"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:C.last_message?new Date(C.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),C.unread_count>0&&n.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white font-bold",children:C.unread_count})})]})},C.id)})})]})]}),s,!s&&n.jsxs(gc,{children:[n.jsx(vc,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"icon",className:"relative h-9 w-9 sm:h-10 sm:w-10 text-gray-700 hover:bg-gray-100",children:[n.jsx(ts,{className:"h-4 w-4 sm:h-5 sm:w-5"}),p>0&&n.jsx(Me,{className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 h-4 w-4 sm:h-5 sm:w-5 rounded-full p-0 text-[10px] sm:text-xs flex items-center justify-center min-w-[16px] sm:min-w-[20px] bg-red-500 text-white border-2 border-white",children:p>9?"9+":p}),n.jsx("span",{className:"sr-only",children:"Notifications"})]})}),n.jsxs(Wo,{align:"end",className:"w-72 sm:w-80 mr-2 sm:mr-0",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h4",{className:"font-semibold",children:"Notifications"}),p>0&&n.jsx(te,{variant:"ghost",size:"sm",onClick:I,className:"text-xs",children:"Mark all read"})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:a.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):a.map(C=>n.jsx("div",{className:`p-4 border-b last:border-b-0 hover:bg-muted/50 cursor-pointer ${C.read?"":"bg-blue-50/50"}`,onClick:()=>{E(C.id),C.type==="order"?r("/vendor/orders"):C.type==="payment"?r("/vendor/wallet"):C.type==="message"?r("/vendor/messages"):r("/vendor/orders")},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${C.read?"bg-transparent":"bg-blue-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm font-medium ${C.read?"text-gray-700":"text-gray-900"}`,children:C.title}),n.jsx("p",{className:`text-sm ${C.read?"text-gray-600":"text-gray-700"}`,children:C.message}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(C.created_at).toLocaleString()})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Me,{variant:"outline",className:`text-xs ${C.type==="order"?"border-green-200 text-green-700":C.type==="payment"?"border-blue-200 text-blue-700":C.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:C.type})})]})},C.id))}),n.jsx("div",{className:"p-2 border-t",children:n.jsx(te,{variant:"ghost",className:"w-full text-sm",onClick:()=>r("/vendor/notifications"),children:"View all notifications"})})]})]})]})]})})}function Cne({isOpen:e,orders:t,onAccept:s,onReject:r}){const[i,a]=j.useState({}),o=j.useRef(null),{toast:c}=cn(),d=j.useRef({});j.useEffect(()=>{if(e&&t.length>0){(async()=>{if(o.current)try{o.current.volume=.8,await o.current.play(),setTimeout(()=>{o.current&&(o.current.pause(),o.current.currentTime=0)},3e3)}catch(x){console.warn("Audio autoplay blocked:",x);try{const v=new(window.AudioContext||window.webkitAudioContext),w=v.createOscillator(),b=v.createGain();w.connect(b),b.connect(v.destination),w.frequency.setValueAtTime(800,v.currentTime),w.type="square",b.gain.setValueAtTime(.3,v.currentTime),b.gain.exponentialRampToValueAtTime(.01,v.currentTime+.5),w.start(v.currentTime),w.stop(v.currentTime+.5)}catch(v){console.warn("Web Audio API also failed:",v)}}})(),"Notification"in window&&Notification.permission==="default"?Notification.requestPermission().then(x=>{x==="granted"&&h()}):"Notification"in window&&Notification.permission==="granted"&&h(),t.forEach(x=>{d.current[x.id]||(d.current[x.id]=new Date(x.created_at))});const p=setInterval(()=>{const x={};t.forEach(v=>{if(d.current[v.id]){const b=Math.floor((new Date().getTime()-d.current[v.id].getTime())/1e3);x[v.id]=b}}),a(x)},1e3);return()=>clearInterval(p)}},[e,t]);const h=()=>{t.forEach(u=>{new Notification("New Order Received!",{body:`Order #${u.order_number} - ${u.total_amount}`,icon:"/favicon.ico",tag:`order-${u.id}`,requireInteraction:!0})})};if(!e||t.length===0)return null;const f=u=>{const p=t.find(x=>x.id===u);s(u),c({title:"Order Accepted",description:`Order #${p==null?void 0:p.order_number} has been accepted`})},m=u=>{const p=t.find(x=>x.id===u);r(u),c({title:"Order Rejected",description:`Order #${p==null?void 0:p.order_number} has been rejected`,variant:"destructive"})};return n.jsxs(n.Fragment,{children:[n.jsx("audio",{ref:o,preload:"auto",loop:!0,children:n.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT",type:"audio/wav"})}),n.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-end",children:n.jsx("div",{className:"w-full bg-white rounded-t-3xl shadow-2xl animate-in slide-in-from-bottom duration-300",style:{height:"80vh"},children:n.jsxs("div",{className:"p-6 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center animate-pulse",children:n.jsx(ts,{className:"h-3 w-3 text-red-600 animate-bounce"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-bold text-red-900",children:" New Orders Received!"}),n.jsxs("p",{className:"text-xs text-red-600 font-medium",children:[t.length," order",t.length>1?"s":""," waiting for response"]})]})]}),n.jsx("div",{className:"text-xs text-red-600 font-bold animate-pulse",children:"URGENT"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:t.map(u=>{const p=i[u.id]||0;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-2 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("p",{className:"text-xs font-bold text-gray-900",children:["#",u.order_number]}),n.jsxs("p",{className:"text-xs font-bold text-green-600",children:["",u.total_amount]}),n.jsxs("p",{className:"text-xs text-blue-600",children:[Math.floor(p/60),":",(p%60).toString().padStart(2,"0")]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:u.customer_name}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-1",children:[n.jsxs("div",{className:"flex items-start gap-1",children:[n.jsx(Bt,{className:"h-2 w-2 text-gray-500 mt-0.5"}),n.jsx("p",{className:"text-xs text-gray-900",children:u.delivery_address})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Wu,{className:"h-2 w-2 text-gray-500"}),n.jsx("p",{className:"text-xs text-gray-900",children:u.delivery_phone})]})]}),n.jsxs("div",{className:"mb-1",children:[n.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1",children:["Items (",u.items.length,")"]}),n.jsx("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:u.items.map(x=>{var v,w,b;return n.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:n.jsx("img",{src:((b=(w=(v=x.product_details)==null?void 0:v.images)==null?void 0:w[0])==null?void 0:b.image_url)||"/placeholder-product.jpg",alt:x.product_name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:x.product_name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Qty: ",x.quantity]})]}),n.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["",x.total_price]})]},x.id)})})]}),u.delivery_instructions&&n.jsxs("div",{className:"mb-1",children:[n.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Instructions:"}),n.jsx("p",{className:"text-xs text-gray-600 italic",children:u.delivery_instructions})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs(te,{onClick:()=>m(u.id),variant:"outline",size:"sm",className:"flex-1 border-red-200 text-red-600 hover:bg-red-50 text-xs h-6",children:[n.jsx(rs,{className:"h-2 w-2 mr-1"}),"Reject"]}),n.jsxs(te,{onClick:()=>f(u.id),size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-xs h-6",children:[n.jsx(qu,{className:"h-2 w-2 mr-1"}),"Accept"]})]})]},u.id)})})]})})})]})}function D4(){const[e,t]=j.useState(!1),[s,r]=j.useState(null);return j.useEffect(()=>{if(!vt.isNativePlatform())return;const i=a=>{r(a.detail),t(!0),setTimeout(()=>{t(!1)},5e3)};return window.addEventListener("showOrderModal",i),()=>{window.removeEventListener("showOrderModal",i)}},[]),!vt.isNativePlatform()||!e?null:n.jsx("div",{className:"fixed top-4 left-4 right-4 z-[10000] animate-in slide-in-from-top duration-300",children:n.jsx(Ne,{className:"border-orange-200 bg-orange-50 shadow-lg",children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center animate-pulse",children:n.jsx(ts,{className:"h-4 w-4 text-orange-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-bold text-orange-900",children:" New Order Received!"}),s&&n.jsxs("p",{className:"text-xs text-orange-700",children:["Order #",s.orderNumber," - ",s.amount]}),n.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Tap anywhere to view and respond"})]})]})})})})}function Ene(){const[e,t]=j.useState([]),[s,r]=j.useState(!1),i=j.useRef(null),a=j.useRef(new Set),{notifications:o,unreadCount:c,isConnected:d}=Bp();j.useEffect(()=>{const u=p=>{const x=p.detail;x.type==="order"&&x.title.includes("New Order")&&h()};return window.addEventListener("newNotification",u),()=>{window.removeEventListener("newNotification",u)}},[]);const h=async()=>{try{const{authService:u}=await et(async()=>{const{authService:b}=await Promise.resolve().then(()=>Nu);return{authService:b}},void 0),p=await u.getToken();if(!p){console.log("No token found for pending orders");return}console.log(" Mobile: Fetching pending orders with token:",p?`${p.substring(0,10)}...`:"NO TOKEN"),console.log(" Mobile: API URL:",Sb("/api/orders/vendor/pending/"));const{apiRequest:x}=await et(async()=>{const{apiRequest:b}=await Promise.resolve().then(()=>ai);return{apiRequest:b}},void 0),{response:v,data:w}=await x("/api/orders/vendor/pending/");console.log(" Mobile: Pending orders response:",v.status,v.ok),v.ok&&w?(console.log("Pending orders received:",w.length,w),t(w),r(w.length>0),w.length>0&&(console.log(" Mobile: Showing order notification for",w.length,"orders"),et(async()=>{const{simpleNotificationService:b}=await Promise.resolve().then(()=>Pv);return{simpleNotificationService:b}},void 0).then(({simpleNotificationService:b})=>{w.forEach(y=>{a.current.has(y.id)||(console.log(" Processing NEW order:",y.order_number,y.total_amount),a.current.add(y.id),b.showOrderNotification(y.order_number,y.total_amount,y.id))})}))):console.error("Failed to fetch pending orders:",v.status,v.statusText)}catch(u){console.error("Error fetching pending orders:",u)}};return j.useEffect(()=>{(async()=>{const{authService:w}=await et(async()=>{const{authService:y}=await Promise.resolve().then(()=>Nu);return{authService:y}},void 0);await w.getToken()&&h()})();const p=vt.isNativePlatform()?3e4:6e4;i.current=setInterval(h,p);const x=()=>{document.hidden||h()};document.addEventListener("visibilitychange",x);const v=()=>{console.log("Refreshing pending orders from mobile app resume"),h()};if(window.addEventListener("refreshPendingOrders",v),vt.isNativePlatform()){const w=()=>{console.log(" App state changed - refreshing orders"),h()};return document.addEventListener("resume",w),document.addEventListener("visibilitychange",w),()=>{i.current&&clearInterval(i.current),document.removeEventListener("visibilitychange",x),window.removeEventListener("refreshPendingOrders",v),document.removeEventListener("resume",w),document.removeEventListener("visibilitychange",w)}}return()=>{i.current&&clearInterval(i.current),document.removeEventListener("visibilitychange",x),window.removeEventListener("refreshPendingOrders",v)}},[]),{pendingOrders:e,isModalOpen:s,acceptOrder:async u=>{try{const{apiRequest:p}=await et(async()=>{const{apiRequest:v}=await Promise.resolve().then(()=>ai);return{apiRequest:v}},void 0),{response:x}=await p(`/api/orders/${u}/accept/`,{method:"POST"});if(x.ok){const{simpleNotificationService:v}=await et(async()=>{const{simpleNotificationService:w}=await Promise.resolve().then(()=>Pv);return{simpleNotificationService:w}},void 0);return v.clearNotification(u),a.current.delete(u),t(w=>w.filter(b=>b.id!==u)),e.length<=1&&r(!1),!0}}catch(p){console.error("Error accepting order:",p)}return!1},rejectOrder:async u=>{try{const{apiRequest:p}=await et(async()=>{const{apiRequest:v}=await Promise.resolve().then(()=>ai);return{apiRequest:v}},void 0),{response:x}=await p(`/api/orders/${u}/reject/`,{method:"POST",body:JSON.stringify({reason:"Rejected by vendor"})});if(x.ok){const{simpleNotificationService:v}=await et(async()=>{const{simpleNotificationService:w}=await Promise.resolve().then(()=>Pv);return{simpleNotificationService:w}},void 0);return v.clearNotification(u),a.current.delete(u),t(w=>w.filter(b=>b.id!==u)),e.length<=1&&r(!1),!0}}catch(p){console.error("Error rejecting order:",p)}return!1},notifications:o,unreadCount:c,isConnected:d}}const F4=j.createContext(void 0);function Pne({children:e}){const{pendingOrders:t,isModalOpen:s,acceptOrder:r,rejectOrder:i}=Ene(),[a,o]=j.useState(!1);j.useEffect(()=>{(async()=>{await Il.requestPermissions(),console.log("Notification service initialized for platform:",vt.isNativePlatform()?"mobile":"web")})()},[]),j.useEffect(()=>{o(s)},[s]),j.useEffect(()=>{t.length>0&&t.forEach(h=>{Il.showOrderNotification(h.order_number,h.total_amount,h.id),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([300,100,300])})},[t]),j.useEffect(()=>{const h=async f=>{console.log("Order modal event received:",f.detail);const m=f.detail;o(!0),(m!=null&&m.startBeeping||m!=null&&m.autoOpened||m!=null&&m.fromPush)&&(console.log(" Starting beeping for auto-opened notification"),await c()),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([200,100,200])};return window.addEventListener("showOrderModal",h),()=>{window.removeEventListener("showOrderModal",h)}},[]);const c=async()=>{try{console.log(" Starting order notification beeping sequence..."),await Il.playNotificationSound();let h=0;const f=10,m=setInterval(async()=>{h<f&&a?(await Il.playNotificationSound(),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([150,50,150]),h++,console.log(` Beep ${h}/${f}`)):(clearInterval(m),console.log(" Beeping sequence completed"))},2e3);window.orderBeepInterval=m}catch(h){console.error("Failed to start order beeping:",h)}};j.useEffect(()=>{vt.isNativePlatform()&&document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("Page visible - checking for pending orders"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))})},[]);const d=()=>{o(!1),window.orderBeepInterval&&(clearInterval(window.orderBeepInterval),window.orderBeepInterval=null,console.log(" Stopped beeping - modal closed"))};return n.jsxs(F4.Provider,{value:{pendingOrdersCount:t.length,isModalOpen:a,closeModal:d},children:[e,n.jsx(D4,{}),n.jsx(Cne,{isOpen:a,orders:t,onAccept:r,onReject:i})]})}function Tne(){const e=j.useContext(F4);return e===void 0?{pendingOrdersCount:0,isModalOpen:!1,closeModal:()=>{}}:e}function Ane({children:e,title:t,subtitle:s,headerActions:r}){return n.jsx(Pne,{children:n.jsx(_ne,{children:n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 safe-area-inset max-w-full overflow-x-hidden",children:[n.jsx(D4,{}),n.jsx("div",{className:"pt-safe-top",children:n.jsx(kne,{title:t,subtitle:s,headerActions:r})}),n.jsx("main",{className:"flex-1 pb-20 px-safe-x max-w-full overflow-x-hidden pt-14 sm:pt-16",children:e}),n.jsx(Nne,{})]})})})}function It({children:e,title:t,subtitle:s,headerActions:r}){return n.jsx(Ane,{title:t,subtitle:s,headerActions:r,children:e})}const One=()=>{const[e,t]=j.useState({}),[s,r]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{const a=await Te.getToken(),o=await Te.getUser(),c=await Te.isAuthenticated(),d=await Te.isSessionValid(),h=vt.isNativePlatform();let f="Not checked",m=null;if(a&&(o==null?void 0:o.user_type)==="vendor")try{const{response:u,data:p}=await Fe("/api/vendor-profiles/");f=`${u.status} - ${u.ok?"Success":"Failed"}`,u.ok||(m=(p==null?void 0:p.error)||u.statusText)}catch(u){f="Error",m=u.message}else a&&(o==null?void 0:o.user_type)!=="vendor"&&(f="Not a vendor user");t({isNative:h,platform:vt.getPlatform(),token:a?`${a.substring(0,10)}...`:"None",user:o?{id:o.id,user_type:o.user_type,email:o.email}:"None",isAuthenticated:c,isSessionValid:d,vendorProfileStatus:f,vendorProfileError:m,timestamp:new Date().toISOString()})}catch(a){t({error:a.message,timestamp:new Date().toISOString()})}})()},[]),s?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-md w-full max-h-96 overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Vendor Debug Info"}),n.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),n.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(e,null,2)}),n.jsx("button",{onClick:()=>{var i;(i=navigator.clipboard)==null||i.writeText(JSON.stringify(e,null,2)),alert("Debug info copied to clipboard")},className:"mt-2 bg-blue-500 text-white px-3 py-1 rounded text-xs w-full",children:"Copy to Clipboard"})]})}):n.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-4 right-4 bg-red-500 text-white px-3 py-1 rounded text-xs z-50",children:"Debug"})},xo=no("PushNotifications",{}),$4=Object.freeze(Object.defineProperty({__proto__:null,PushNotifications:xo},Symbol.toStringTag,{value:"Module"})),Lne=no("FCM",{web:()=>et(()=>import("./web-BhupMhWz.js"),[]).then(e=>new e.FCMWeb)});class Rne{constructor(){Ur(this,"fcmToken",null)}async initialize(){if(!vt.isNativePlatform()){console.log(" Not on native platform, skipping FCM initialization");return}try{console.log(" Initializing FCM Service..."),this.checkForAutoOpenOrder(),this.setupListeners(),console.log(" Requesting push notification permissions...");const t=await xo.requestPermissions();if(console.log(" Permission result:",t),t.receive!=="granted"){console.warn(" Push notification permission denied");return}console.log(" Registering for push notifications..."),await xo.register();try{await Lne.requestPermissions(),console.log(" FCM Community plugin initialized")}catch(s){console.warn(" FCM Community plugin not available:",s)}await this.getFCMToken(),console.log(" FCM Service initialized successfully")}catch(t){console.error(" FCM initialization failed:",t)}}checkForAutoOpenOrder(){try{const t=localStorage.getItem("autoOpenOrder");if(t){const s=JSON.parse(t);Date.now()-s.timestamp<3e4?(console.log(" AUTO-OPENING ORDER FROM NOTIFICATION:",s),localStorage.removeItem("autoOpenOrder"),this.startOrderBeeping(),setTimeout(()=>{this.showOrderModalImmediately(s)},1e3)):localStorage.removeItem("autoOpenOrder")}window.addEventListener("autoOpenedFromBackground",s=>{console.log(" APP AUTO-OPENED FROM BACKGROUND SERVICE:",s.detail),this.startOrderBeeping(),setTimeout(()=>{this.showOrderModalImmediately(s.detail)},500)})}catch(t){console.error("Error checking for auto-open order:",t)}}async getFCMToken(){try{return vt.isNativePlatform()?new Promise(t=>{xo.addListener("registration",s=>{this.fcmToken=s.value,console.log(" FCM Token (Native):",s.value),this.sendTokenToBackend(),t(s.value)})}):null}catch(t){return console.error("Failed to get FCM token:",t),null}}setupListeners(){xo.addListener("pushNotificationReceived",t=>{var s,r,i;if(console.log(" Push notification received:",t),console.log(" Notification data:",t.data),((s=t.data)==null?void 0:s.autoOpen)==="true"||((r=t.data)==null?void 0:r.action)==="autoOpenOrder"){console.log(" AGGRESSIVE AUTO-OPENING APP FROM DATA MESSAGE!"),this.forceAppToForeground(),this.startOrderBeeping(),this.showOrderModalImmediately({orderId:parseInt(t.data.orderId),orderNumber:t.data.orderNumber,amount:t.data.amount,autoOpened:!0,fromPush:!0,startBeeping:!0,aggressive:!0}),this.triggerBackgroundAutoOpen(t.data);return}(i=t.data)!=null&&i.orderId?(console.log(` Showing order modal for order: ${t.data.orderId}`),this.startOrderBeeping(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(t.data.orderId),orderNumber:t.data.orderNumber,amount:t.data.amount,fromPush:!0,startBeeping:!0}}))):console.warn(" No orderId in notification data")}),xo.addListener("pushNotificationActionPerformed",t=>{var r,i,a,o,c;console.log(" NOTIFICATION TAPPED - AGGRESSIVE AUTO OPENING LIKE YANGO PRO:",t),console.log(" Notification data:",t.notification.data);const s=(r=t.notification.data)==null?void 0:r.orderId;s?(console.log(` AGGRESSIVE AUTO-OPENING FOR ORDER: ${s}`),this.startOrderBeeping(),localStorage.setItem("autoOpenOrder",JSON.stringify({orderId:parseInt(s),orderNumber:(i=t.notification.data)==null?void 0:i.orderNumber,amount:(a=t.notification.data)==null?void 0:a.amount,autoOpened:!0,fromPush:!0,startBeeping:!0,timestamp:Date.now()})),this.triggerAggressiveAutoOpen({orderId:parseInt(s),orderNumber:(o=t.notification.data)==null?void 0:o.orderNumber,amount:(c=t.notification.data)==null?void 0:c.amount})):(console.warn(" No orderId found in notification data"),this.triggerAggressiveAutoOpen({}))}),xo.addListener("registrationError",t=>{console.error(" Push registration error:",t)}),console.log(" FCM listeners set up successfully")}async sendTokenToBackend(){if(!this.fcmToken){console.warn("No FCM token available to send");return}try{await this.waitForAuth();const{apiRequest:t}=await et(async()=>{const{apiRequest:r}=await Promise.resolve().then(()=>ai);return{apiRequest:r}},void 0),{response:s}=await t("/api/register-fcm-token/",{method:"POST",body:JSON.stringify({fcm_token:this.fcmToken,platform:vt.getPlatform()})});s.ok?console.log(" FCM token sent to backend successfully"):console.warn(" Failed to register FCM token:",s.status)}catch(t){console.warn(" Failed to send FCM token:",t),setTimeout(()=>this.sendTokenToBackend(),5e3)}}async waitForAuth(t=1e4){const s=Date.now();for(;Date.now()-s<t;){try{const{authService:r}=await et(async()=>{const{authService:a}=await Promise.resolve().then(()=>Nu);return{authService:a}},void 0);if(r.getToken()){console.log(" Authentication ready for FCM token registration");return}}catch{}await new Promise(r=>setTimeout(r,500))}console.warn(" Authentication not ready, sending FCM token anyway")}showOrderModalImmediately(t){console.log(" SHOWING ORDER MODAL IMMEDIATELY:",t),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t}))},500),setTimeout(()=>{window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t}))},1500)}async forceAppToForeground(){try{console.log(" FORCING APP TO FOREGROUND..."),window.focus&&window.focus(),document.hidden&&document.dispatchEvent(new Event("visibilitychange")),Object.defineProperty(document,"hidden",{value:!1,writable:!1}),Object.defineProperty(document,"visibilityState",{value:"visible",writable:!1}),window.dispatchEvent(new Event("focus")),document.dispatchEvent(new Event("visibilitychange"))}catch(t){console.warn("Could not force app focus:",t)}}triggerBackgroundAutoOpen(t){try{if(vt.isNativePlatform()){const s={action:"com.ezeyway.app.AUTO_OPEN_ORDER",extras:{orderId:t.orderId,orderNumber:t.orderNumber,amount:t.amount,autoOpened:!0}};console.log(" Triggering background auto-open:",s)}}catch(s){console.error("Failed to trigger background auto-open:",s)}}async triggerAggressiveAutoOpen(t){try{console.log(" TRIGGERING AGGRESSIVE AUTO-OPEN..."),this.forceAppToForeground(),window.location.replace("/vendor/home");for(let s=0;s<5;s++)setTimeout(()=>{this.showOrderModalImmediately({...t,autoOpened:!0,fromPush:!0,startBeeping:!0,aggressive:!0})},s*500)}catch(s){console.error("Failed to trigger aggressive auto-open:",s)}}async startOrderBeeping(){try{console.log(" Starting order notification beeping...");const{notificationService:t}=await et(async()=>{const{notificationService:i}=await Promise.resolve().then(()=>AP);return{notificationService:i}},void 0);await t.playNotificationSound();try{const{Haptics:i,ImpactStyle:a}=await et(async()=>{const{Haptics:d,ImpactStyle:h}=await import("./index-CIszWtlt.js");return{Haptics:d,ImpactStyle:h}},[]);await i.impact({style:a.Heavy});let o=0;const c=setInterval(async()=>{o<5?(await i.impact({style:a.Medium}),o++):clearInterval(c)},2e3)}catch(i){console.warn("Haptics not available:",i)}let s=0;const r=setInterval(async()=>{s<5?(await t.playNotificationSound(),s++):clearInterval(r)},3e3)}catch(t){console.error("Failed to start order beeping:",t)}}getFCMTokenValue(){return this.fcmToken}async registerToken(){this.fcmToken?await this.sendTokenToBackend():console.warn("No FCM token available to register")}}const e0=new Rne,g2=()=>{var X,J,K;const e=nt(),[t,s]=j.useState(!0),[r,i]=j.useState(!1),{pendingOrdersCount:a,isModalOpen:o}=Tne(),[c,d]=j.useState(null),[h,f]=j.useState(0),[m,u]=j.useState({totalOrders:0,totalRevenue:0,totalProducts:0,totalCustomers:0,monthlyEarnings:0,monthlyGrowth:0}),[p,x]=j.useState([]),[v,w]=j.useState([]),[b,y]=j.useState([]),[_,N]=j.useState([]),[E,I]=j.useState([]),[C,O]=j.useState(!0),[A,k]=j.useState(1),[R,P]=j.useState(!0),[T,M]=j.useState(0),[H,W]=j.useState(0),Z=E.length>0?[E[E.length-1],...E,E[0]]:[];j.useEffect(()=>{if(E.length>0){const U=setInterval(()=>{k(ne=>ne+1)},4e3);return()=>clearInterval(U)}},[E.length]),j.useEffect(()=>{E.length>0&&(A===Z.length-1?setTimeout(()=>{P(!1),k(1),setTimeout(()=>P(!0),50)},500):A===0&&setTimeout(()=>{P(!1),k(E.length),setTimeout(()=>P(!0),50)},500))},[A,E.length]);const B=U=>{W(0),M(U.targetTouches[0].clientX)},q=U=>{W(U.targetTouches[0].clientX)},F=()=>{if(!T||!H)return;const U=T-H,ne=U>50,se=U<-50;ne&&A<E.length&&k(le=>le+1),se&&A>1&&k(le=>le-1)};j.useEffect(()=>{i(!0),s(!1),vt.isNativePlatform()&&e0.initialize().then(()=>{console.log(" FCM Service initialized on vendor home"),setTimeout(()=>{e0.registerToken()},2e3)}).catch(U=>{console.error(" FCM Service initialization failed:",U)}),$(),z()},[]);const $=async()=>{var U;try{const{apiRequest:ne}=await et(async()=>{const{apiRequest:xe}=await Promise.resolve().then(()=>ai);return{apiRequest:xe}},void 0),{response:se,data:le}=await ne("/vendor-profiles/");se.ok&&((U=le==null?void 0:le.results)!=null&&U[0])&&d(le.results[0]);const{response:pe,data:ee}=await ne("/api/accounts/wallet/");pe.ok&&ee&&f(parseFloat(ee.balance)||0);const{response:ye,data:Ce}=await ne("/api/vendor/orders/");if(ye.ok&&Ce){const xe=Ce.results||Ce||[],ce=xe.length,fe=xe.filter(ie=>ie.status==="delivered").reduce((ie,be)=>ie+parseFloat(be.total_amount||0),0);u({totalOrders:ce,totalRevenue:fe,totalProducts:0,totalCustomers:0,monthlyEarnings:fe*.2,monthlyGrowth:15});const Q=new Date().toDateString(),re=xe.filter(ie=>new Date(ie.created_at).toDateString()===Q);x(re.slice(0,5))}const{response:ue,data:je}=await ne("/api/products/");if(ue.ok&&je){const xe=je.results||je||[];y(xe.slice(0,6)),u(ce=>({...ce,totalProducts:xe.length}))}}catch(ne){console.warn("Dashboard data fetch error:",ne)}},z=async()=>{try{const{apiRequest:U}=await et(async()=>{const{apiRequest:le}=await Promise.resolve().then(()=>ai);return{apiRequest:le}},void 0),{response:ne,data:se}=await U("/api/sliders/?user_type=vendor");ne.ok&&se&&se.sliders&&(I(se.sliders),se.sliders.length>0&&k(1))}catch(U){console.warn("Sliders fetch error:",U)}finally{O(!1)}},G=U=>{switch(U){case"pending":return{icon:yE,color:"red",bgColor:"red-50",textColor:"red-600",label:"Action Required"};case"confirmed":case"preparing":return{icon:ir,color:"orange",bgColor:"orange-50",textColor:"orange-600",label:"Processing"};case"delivered":return{icon:qu,color:"green",bgColor:"green-50",textColor:"green-600",label:"Completed"};default:return{icon:ir,color:"blue",bgColor:"blue-50",textColor:"blue-600",label:"In Progress"}}};return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(os,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),n.jsx("p",{className:"text-gray-600",children:"Verifying your account..."})]})}):r?n.jsxs(n.Fragment,{children:[n.jsx(One,{}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/20 z-[9998] pointer-events-none"}),n.jsx(It,{title:"Dashboard",children:n.jsxs("div",{className:`space-y-4 pb-16 max-w-full overflow-x-hidden ${o?"pointer-events-none":""}`,children:[n.jsxs("div",{className:"p-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Gi,{className:"h-10 w-10",children:[n.jsx(Ki,{src:(X=c==null?void 0:c.user_info)==null?void 0:X.profile_picture}),n.jsx(Yi,{className:"bg-[#A98D7E] text-white",children:((J=c==null?void 0:c.business_name)==null?void 0:J[0])||((K=c==null?void 0:c.owner_name)==null?void 0:K[0])||"V"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:(c==null?void 0:c.business_name)||"My Store"}),n.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[n.jsx(Xf,{className:"h-3 w-3"})," ",(h||0).toFixed(2)," Available"]})]})]}),n.jsxs(te,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto flex items-center gap-1",onClick:()=>e("/vendor/wallet"),children:[n.jsx(Xf,{className:"h-3 w-3"}),"Wallet"]})]}),n.jsx("div",{className:"px-4",children:n.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:[n.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=orders"),children:n.jsx(ke,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-5 h-5 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-1",children:n.jsx(Ot,{className:"h-2.5 w-2.5 text-teal-600"})}),n.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Orders"}),n.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalOrders})]})})}),n.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=revenue"),children:n.jsx(ke,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-1",children:n.jsx($s,{className:"h-2.5 w-2.5 text-blue-600"})}),n.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Revenue"}),n.jsxs("p",{className:"text-xs font-bold text-gray-900",children:["",m.totalRevenue.toFixed(0)]})]})})}),n.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=products"),children:n.jsx(ke,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-1",children:n.jsx(Ss,{className:"h-2.5 w-2.5 text-purple-600"})}),n.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Products"}),n.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalProducts})]})})}),n.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=customers"),children:n.jsx(ke,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-1",children:n.jsx(np,{className:"h-2.5 w-2.5 text-orange-600"})}),n.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Customers"}),n.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalCustomers})]})})})]})}),n.jsx("div",{children:C?n.jsxs("div",{className:"h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:[n.jsx(os,{className:"h-6 w-6 animate-spin text-gray-400"}),n.jsx("span",{className:"ml-2 text-gray-500",children:"Loading sliders..."})]}):E.length>0?n.jsxs("div",{className:"relative h-32",children:[n.jsx("div",{className:"overflow-visible",onTouchStart:B,onTouchMove:q,onTouchEnd:F,children:n.jsx("div",{className:`flex ${R?"transition-transform duration-500 ease-in-out":""}`,style:{transform:`translateX(calc(-${A*95}% + 2.5%))`},children:Z.map((U,ne)=>n.jsx("div",{className:`flex-shrink-0 rounded-lg overflow-hidden transition-all duration-300 cursor-pointer ${ne===A?"scale-100 opacity-100 z-10":"scale-90 opacity-50 z-0"}`,style:{width:"95%",marginRight:"1%"},onClick:()=>{U.link_url&&window.open(U.link_url,"_blank")},children:n.jsxs("div",{className:"relative h-32",children:[U.image_url?n.jsx("img",{src:U.image_url,alt:U.title,className:"w-full h-full object-cover",onError:se=>{se.target.style.display="none",se.target.nextSibling.style.display="flex"}}):null,n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/80 to-purple-600/80 flex items-center justify-center",style:{display:U.image_url?"none":"flex"},children:n.jsx("h3",{className:"text-white text-lg font-bold text-center px-4",children:U.title})})]})},`${U.id}-${ne}`))})}),n.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 flex gap-1",children:E.map((U,ne)=>n.jsx("button",{onClick:()=>k(ne+1),className:`w-2 h-2 rounded-full transition-colors ${ne===(A-1+E.length)%E.length?"bg-blue-500":"bg-gray-300"}`},ne))})]}):n.jsx("div",{className:"h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:n.jsx(Ot,{className:"h-6 w-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No promotional banners available"})]})})}),n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Earnings"}),n.jsxs(te,{variant:"outline",className:"text-gray-700 text-sm px-3 py-2 h-auto flex items-center gap-2",onClick:()=>e("/vendor/wallet"),children:[n.jsx($s,{className:"h-4 w-4"}),"View Transactions",n.jsx(vD,{className:"h-4 w-4"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",(m.totalRevenue||0).toFixed(2)]})]}),n.jsx(Ne,{children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Earning in ",new Date().toLocaleDateString("en-US",{month:"long"})]}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",m.monthlyEarnings.toFixed(2)," ",n.jsxs("span",{className:"text-green-600",children:["+",m.monthlyGrowth,"%"]})]})]}),n.jsx("div",{className:"flex items-end gap-1 h-8",children:_.map((U,ne)=>{const se=Math.max(..._,1),le=U>0?Math.max(4,U/se*24):2,pe=ne===_.length-1;return n.jsx("div",{className:`w-2 rounded-t ${pe?"bg-green-500":U>0?"bg-blue-400":"bg-gray-200"}`,style:{height:`${le}px`}},ne)})})]})})})]}),n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Orders"}),n.jsx(te,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto",onClick:()=>e("/vendor/orders"),children:"View All"})]}),n.jsx("div",{className:`space-y-3 ${p.length>7?"max-h-96 overflow-y-auto":""}`,children:p.length===0?n.jsx(Ne,{children:n.jsxs(ke,{className:"p-6 text-center",children:[n.jsx(Ot,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"No orders today"})]})}):p.map(U=>{var ee;const ne=G(U.status),se=ne.icon,le=U.created_at?new Date(U.created_at):new Date,pe=Math.floor((Date.now()-le.getTime())/(1e3*60));return n.jsx(Ne,{className:`border-l-4 border-l-${ne.color}-500 cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>e(`/vendor/orders?tab=${U.status}&orderId=${U.id}`),children:n.jsxs(ke,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(se,{className:`h-4 w-4 text-${ne.color}-500`}),n.jsx("span",{className:`text-xs font-medium text-${ne.textColor} bg-${ne.bgColor} px-2 py-1 rounded-full`,children:ne.label})]}),n.jsxs("span",{className:"text-xs text-gray-500",children:["#",U.order_number]})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:U.status==="pending"?"New order received":U.status==="delivered"?"Order delivered successfully":"Order in progress"}),n.jsxs("p",{className:"text-xs text-gray-600",children:["",parseFloat(U.total_amount||0).toFixed(2),"  ",((ee=U.items)==null?void 0:ee.length)||0," items  ",pe<60?`${pe} min ago`:`${Math.floor(pe/60)} hours ago`]})]})},U.id)})})]}),n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Best Selling Products"}),n.jsx(te,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto",children:"View All"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx("div",{className:"flex gap-3 pb-2",children:v.map(U=>{var ne,se;return n.jsx(Ne,{className:"w-32 flex-shrink-0",children:n.jsx(ke,{className:"p-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"w-full h-16 bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:((se=(ne=U.images)==null?void 0:ne[0])==null?void 0:se.image_url)||"/api/placeholder/80/80",alt:U.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:U.name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["",parseFloat(U.price).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("span",{className:"text-green-600 font-medium",children:[U.sold," sold"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vn,{className:"h-3 w-3 text-yellow-400 fill-current"}),n.jsx("span",{className:"text-gray-600",children:U.rating})]})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",U.quantity]})]})})},U.id)})})})]}),n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Products"}),n.jsxs(te,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto flex items-center gap-1",onClick:()=>e("/vendor/products"),children:[n.jsx(An,{className:"h-3 w-3"}),"Manage"]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-full",children:b.map(U=>{var ne,se;return n.jsx(Ne,{className:"overflow-hidden",children:n.jsx(ke,{className:"p-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"w-full h-12 bg-gray-100 rounded overflow-hidden",children:n.jsx("img",{src:((se=(ne=U.images)==null?void 0:ne[0])==null?void 0:se.image_url)||"/api/placeholder/60/60",alt:U.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:U.name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["",parseFloat(U.price).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["Stock: ",U.quantity]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.quantity>10?"bg-green-100 text-green-700":U.quantity>0?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:U.quantity>10?"Active":U.quantity>0?"Low Stock":"Out of Stock"})]})]})})},U.id)})})]})]})})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ir,{className:"h-8 w-8 text-yellow-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Account Under Review"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Your vendor application is being reviewed by our team. You'll receive an email notification once approved."}),n.jsx(te,{onClick:()=>e("/vendor/onboarding"),variant:"outline",className:"w-full",children:"Back to Application"})]})})},Am=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:Ve("w-full caption-bottom text-sm",e),...t})}));Am.displayName="Table";const Om=j.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:Ve("[&_tr]:border-b",e),...t}));Om.displayName="TableHeader";const Lm=j.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:Ve("[&_tr:last-child]:border-0",e),...t}));Lm.displayName="TableBody";const Mne=j.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:Ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Mne.displayName="TableFooter";const So=j.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:Ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));So.displayName="TableRow";const Ln=j.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:Ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ln.displayName="TableHead";const Rn=j.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:Ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Rn.displayName="TableCell";const Ine=j.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:Ve("mt-4 text-sm text-muted-foreground",e),...t}));Ine.displayName="TableCaption";const Sd=[{id:"ORD-001",customer:"John Doe",product:"Wireless Headphones",quantity:2,amount:"4,998",status:"Pending",date:"2024-01-15",address:"123 Main St, City"},{id:"ORD-002",customer:"Jane Smith",product:"Smart Watch",quantity:1,amount:"12,999",status:"Processing",date:"2024-01-14",address:"456 Oak Ave, City"},{id:"ORD-003",customer:"Mike Johnson",product:"Laptop Stand",quantity:3,amount:"2,997",status:"Shipped",date:"2024-01-13",address:"789 Pine Rd, City"},{id:"ORD-004",customer:"Sarah Wilson",product:"Bluetooth Speaker",quantity:1,amount:"3,499",status:"Delivered",date:"2024-01-12",address:"321 Elm St, City"}],v2={Pending:"bg-yellow-100 text-yellow-800",Processing:"bg-blue-100 text-blue-800",Shipped:"bg-purple-100 text-purple-800",Delivered:"bg-green-100 text-green-800"};function Dne(){const e=nt(),[t,s]=j.useState(""),[r,i]=j.useState("all"),[a,o]=j.useState(!1),[c,d]=j.useState("Tools"),h=Sd.filter(f=>{const m=f.customer.toLowerCase().includes(t.toLowerCase())||f.product.toLowerCase().includes(t.toLowerCase())||f.id.toLowerCase().includes(t.toLowerCase()),u=r==="all"||f.status.toLowerCase()===r.toLowerCase();return m&&u});return n.jsx(It,{title:"Tools",children:n.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 pt-1 pb-16",children:[n.jsx("div",{className:"bg-white p-4 border-b mb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:n.jsx(gn,{className:"h-6 w-6 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Business Tools"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage your products, orders, and business operations"})]})]}),n.jsxs(Fo,{open:a,onOpenChange:o,children:[n.jsx(wy,{asChild:!0,children:n.jsxs(te,{size:"sm",children:[n.jsx(gn,{className:"mr-2 h-4 w-4"})," Create Order"]})}),n.jsxs(Da,{className:"sm:max-w-[500px] rounded-lg",children:[n.jsxs(Fa,{children:[n.jsx($a,{className:"text-lg font-semibold",children:"Create New Order"}),n.jsx(WL,{className:"text-sm text-gray-600",children:"Fill in the details below to create a new order for your customer."})]}),n.jsxs("div",{className:"grid gap-3 py-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"customer",className:"text-sm font-medium",children:"Customer Name"}),n.jsx(me,{id:"customer",placeholder:"Enter customer name",className:"h-9"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"product",className:"text-sm font-medium",children:"Product"}),n.jsxs(rn,{children:[n.jsx(Qt,{className:"h-9",children:n.jsx(an,{placeholder:"Select product"})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"headphones",children:"Wireless Headphones"}),n.jsx(qe,{value:"watch",children:"Smart Watch"}),n.jsx(qe,{value:"stand",children:"Laptop Stand"}),n.jsx(qe,{value:"speaker",children:"Bluetooth Speaker"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"quantity",className:"text-sm font-medium",children:"Quantity"}),n.jsx(me,{id:"quantity",type:"number",placeholder:"1",className:"h-9"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"amount",className:"text-sm font-medium",children:"Amount"}),n.jsx(me,{id:"amount",placeholder:"0.00",className:"h-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"address",className:"text-sm font-medium",children:"Delivery Address"}),n.jsx(Wn,{id:"address",placeholder:"Enter delivery address",className:"h-20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),n.jsx(Wn,{id:"notes",placeholder:"Any special instructions...",className:"h-16"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(te,{variant:"outline",size:"sm",onClick:()=>o(!1),children:"Cancel"}),n.jsx(te,{size:"sm",onClick:()=>o(!1),children:"Create Order"})]})]})]})]})}),n.jsxs(Ne,{className:"mb-4 border border-gray-200",children:[n.jsx(ot,{className:"bg-gray-50 border-b border-gray-200 p-3",children:n.jsxs(lt,{className:"flex items-center gap-2 text-base",children:[n.jsx("div",{className:"p-1.5 bg-white rounded-md shadow-sm",children:n.jsx(gn,{className:"h-4 w-4 text-gray-700"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-900 font-bold text-sm",children:"Business Functions"}),n.jsx("p",{className:"text-xs text-gray-600 font-normal mt-0.5",children:"Manage your core business operations"})]})]})}),n.jsx(ke,{className:"p-3",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-2",children:[n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/add-products"),children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-blue-200 group-hover:to-blue-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Add Products"}),n.jsx(Me,{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full text-[10px]",children:"New"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/products"),children:[n.jsx("div",{className:"bg-gradient-to-br from-green-100 to-green-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-green-200 group-hover:to-green-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Products"}),n.jsx(Me,{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full text-[10px]",children:"New"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/orders"),children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-purple-200 group-hover:to-purple-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Orders"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/return-orders"),children:[n.jsx("div",{className:"bg-gradient-to-br from-orange-100 to-orange-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-orange-200 group-hover:to-orange-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Return Order"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/reviews"),children:[n.jsx("div",{className:"bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-yellow-200 group-hover:to-yellow-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Manage Reviews"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/income"),children:[n.jsx("div",{className:"bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-emerald-200 group-hover:to-emerald-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"My Income"})]})]})})]}),n.jsxs(Ne,{className:"mb-4 rounded-lg border border-gray-200",children:[n.jsx(ot,{className:"bg-gray-50 p-3 border-b border-gray-200",children:n.jsx(lt,{className:"text-base font-semibold text-gray-900",children:"Business Upgrading"})}),n.jsx(ke,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-lg p-2 flex-shrink-0",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Business Advisor"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Get expert guidance"})]}),n.jsx(Me,{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"New"})]})})]}),n.jsx(Ne,{className:"mb-4 rounded-lg border border-gray-200",children:n.jsx(ke,{className:"p-3",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ro,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx(me,{placeholder:"Search orders...",value:t,onChange:f=>s(f.target.value),className:"pl-8 h-9 text-sm"})]})}),n.jsxs(rn,{value:r,onValueChange:i,children:[n.jsxs(Qt,{className:"w-full sm:w-[160px] h-9 text-sm",children:[n.jsx(to,{className:"mr-2 h-3 w-3"}),n.jsx(an,{placeholder:"Filter by status"})]}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"all",children:"All Status"}),n.jsx(qe,{value:"pending",children:"Pending"}),n.jsx(qe,{value:"processing",children:"Processing"}),n.jsx(qe,{value:"shipped",children:"Shipped"}),n.jsx(qe,{value:"delivered",children:"Delivered"})]})]})]})})}),n.jsxs(Ne,{className:"hidden md:block mb-4 rounded-lg border border-gray-200",children:[n.jsx(ot,{className:"p-4",children:n.jsx(lt,{className:"text-base font-semibold",children:"Recent Orders"})}),n.jsx(ke,{className:"p-4",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Am,{children:[n.jsx(Om,{children:n.jsxs(So,{children:[n.jsx(Ln,{className:"text-xs",children:"Order ID"}),n.jsx(Ln,{className:"text-xs",children:"Customer"}),n.jsx(Ln,{className:"text-xs",children:"Product"}),n.jsx(Ln,{className:"text-xs",children:"Qty"}),n.jsx(Ln,{className:"text-xs",children:"Amount"}),n.jsx(Ln,{className:"text-xs",children:"Status"}),n.jsx(Ln,{className:"text-xs",children:"Date"}),n.jsx(Ln,{className:"text-right text-xs",children:"Actions"})]})}),n.jsx(Lm,{children:h.slice(0,3).map(f=>n.jsxs(So,{className:"h-12",children:[n.jsx(Rn,{className:"text-sm font-medium",children:f.id}),n.jsx(Rn,{className:"text-sm",children:f.customer}),n.jsx(Rn,{className:"text-sm",children:f.product}),n.jsx(Rn,{className:"text-sm",children:f.quantity}),n.jsx(Rn,{className:"text-sm",children:f.amount}),n.jsx(Rn,{children:n.jsx(Me,{className:`${v2[f.status]} text-xs px-2 py-1`,children:f.status})}),n.jsx(Rn,{className:"text-sm",children:f.date}),n.jsx(Rn,{className:"text-right",children:n.jsxs(gc,{children:[n.jsx(vc,{asChild:!0,children:n.jsx(te,{variant:"ghost",className:"h-6 w-6 p-0",children:n.jsx(l1,{className:"h-3 w-3"})})}),n.jsxs(Wo,{align:"end",children:[n.jsxs(po,{className:"text-xs",children:[n.jsx(Kf,{className:"mr-2 h-3 w-3"})," Edit"]}),n.jsx(po,{className:"text-xs",children:"View Details"}),n.jsxs(po,{className:"text-red-600 text-xs",children:[n.jsx(Ua,{className:"mr-2 h-3 w-3"})," Delete"]})]})]})})]},f.id))})]})})})]}),n.jsxs("div",{className:"md:hidden space-y-3",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Recent Orders"}),h.slice(0,2).map(f=>n.jsxs(Ne,{className:"p-3 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:f.id}),n.jsx("p",{className:"text-xs text-gray-600",children:f.customer})]}),n.jsx(Me,{className:`${v2[f.status]} text-xs px-2 py-1`,children:f.status})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-600",children:"Product:"}),n.jsx("span",{className:"font-medium",children:f.product})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-600",children:"Qty:"}),n.jsx("span",{className:"font-medium",children:f.quantity})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-600",children:"Amount:"}),n.jsx("span",{className:"font-semibold text-orange-600",children:f.amount})]})]}),n.jsx("div",{className:"flex justify-end mt-3",children:n.jsxs(gc,{children:[n.jsx(vc,{asChild:!0,children:n.jsxs(te,{variant:"outline",size:"sm",className:"h-7 text-xs border-gray-300",children:[n.jsx(l1,{className:"h-3 w-3 mr-1"})," Actions"]})}),n.jsxs(Wo,{align:"end",children:[n.jsxs(po,{className:"text-xs",children:[n.jsx(Kf,{className:"mr-2 h-3 w-3"})," Edit"]}),n.jsx(po,{className:"text-xs",children:"View Details"}),n.jsxs(po,{className:"text-red-600 text-xs",children:[n.jsx(Ua,{className:"mr-2 h-3 w-3"})," Delete"]})]})]})})]},f.id))]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-4 mb-4",children:[n.jsxs(Ne,{className:"rounded-lg border border-gray-200",children:[n.jsx(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:n.jsx(lt,{className:"text-xs font-medium text-gray-900",children:"Total Orders"})}),n.jsxs(ke,{className:"p-3 pt-0",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:Sd.length}),n.jsx("p",{className:"text-xs text-gray-600",children:"+2 from yesterday"})]})]}),n.jsxs(Ne,{className:"rounded-lg border border-gray-200",children:[n.jsx(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:n.jsx(lt,{className:"text-xs font-medium text-gray-900",children:"Pending"})}),n.jsxs(ke,{className:"p-3 pt-0",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:Sd.filter(f=>f.status==="Pending").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Requires attention"})]})]}),n.jsxs(Ne,{className:"rounded-lg border border-gray-200",children:[n.jsx(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:n.jsx(lt,{className:"text-xs font-medium text-gray-900",children:"Processing"})}),n.jsxs(ke,{className:"p-3 pt-0",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:Sd.filter(f=>f.status==="Processing").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"In progress"})]})]}),n.jsxs(Ne,{className:"rounded-lg border border-gray-200",children:[n.jsx(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:n.jsx(lt,{className:"text-xs font-medium text-gray-900",children:"Completed"})}),n.jsxs(ke,{className:"p-3 pt-0",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:Sd.filter(f=>f.status==="Delivered").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Successfully delivered"})]})]})]}),n.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 md:hidden flex justify-around items-center p-3 shadow-md",children:[n.jsxs("button",{onClick:()=>d("Home"),className:`flex flex-col items-center text-gray-500 ${c==="Home"?"text-orange-500":""}`,children:[n.jsx("span",{className:"text-xl",children:""}),n.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),n.jsxs("button",{onClick:()=>d("Tools"),className:`flex flex-col items-center text-gray-500 ${c==="Tools"?"text-orange-500":""}`,children:[n.jsx("span",{className:"text-xl",children:""}),n.jsx("span",{className:"text-xs font-medium",children:"Tools"})]}),n.jsxs("button",{onClick:()=>d("Messages"),className:`flex flex-col items-center text-gray-500 ${c==="Messages"?"text-orange-500":""}`,children:[n.jsx("span",{className:"text-xl",children:""}),n.jsx("span",{className:"text-xs font-medium",children:"Messages"})]}),n.jsxs("button",{onClick:()=>d("Me"),className:`flex flex-col items-center text-gray-500 ${c==="Me"?"text-orange-500":""}`,children:[n.jsx("span",{className:"text-xl",children:""}),n.jsx("span",{className:"text-xs font-medium",children:"Me"})]})]})]})})}const Pi={overview:{totalRevenue:"2,45,000",totalOrders:1234,averageOrderValue:"199",conversionRate:"3.2%",growth:{revenue:"+12.5%",orders:"+8.2%",customers:"+5.1%"}},monthlyData:[{month:"Jan",revenue:45e3,orders:234,customers:189},{month:"Feb",revenue:52e3,orders:267,customers:203},{month:"Mar",revenue:48e3,orders:245,customers:198},{month:"Apr",revenue:61e3,orders:312,customers:245},{month:"May",revenue:58e3,orders:298,customers:232},{month:"Jun",revenue:67e3,orders:345,customers:267}],topProducts:[{name:"Wireless Headphones",sales:245,revenue:"24,500",growth:"+15%"},{name:"Smart Watch",sales:189,revenue:"18,900",growth:"+8%"},{name:"Laptop Stand",sales:156,revenue:"15,600",growth:"+12%"},{name:"Bluetooth Speaker",sales:134,revenue:"13,400",growth:"+6%"},{name:"Phone Case",sales:98,revenue:"9,800",growth:"+3%"}],recentTransactions:[{id:"TXN-001",customer:"John Doe",amount:"1,250",date:"2024-01-15",status:"Completed"},{id:"TXN-002",customer:"Jane Smith",amount:"890",date:"2024-01-15",status:"Completed"},{id:"TXN-003",customer:"Mike Johnson",amount:"2,100",date:"2024-01-14",status:"Completed"},{id:"TXN-004",customer:"Sarah Wilson",amount:"675",date:"2024-01-14",status:"Completed"},{id:"TXN-005",customer:"Tom Brown",amount:"1,450",date:"2024-01-13",status:"Pending"}]};function Fne(){const[e,t]=j.useState("30d"),[s,r]=j.useState("overview");return n.jsx(It,{title:"Sales Analytics",children:n.jsxs("div",{className:"space-y-6 pb-20",children:[n.jsx("div",{className:"bg-white p-6 border-b",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:n.jsx($s,{className:"h-8 w-8 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Sales Analytics"}),n.jsx("p",{className:"text-gray-600",children:"Track your sales performance and business insights"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[n.jsxs(rn,{value:e,onValueChange:t,children:[n.jsxs(Qt,{className:"w-full sm:w-[160px]",children:[n.jsx(pE,{className:"mr-2 h-4 w-4"}),n.jsx(an,{})]}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"7d",children:"Last 7 days"}),n.jsx(qe,{value:"30d",children:"Last 30 days"}),n.jsx(qe,{value:"90d",children:"Last 90 days"}),n.jsx(qe,{value:"1y",children:"Last year"})]})]}),n.jsxs(te,{variant:"outline",children:[n.jsx(eb,{className:"mr-2 h-4 w-4"}),"Export Report"]})]})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(Ne,{children:[n.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium",children:"Total Revenue"}),n.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:n.jsx(_D,{className:"h-4 w-4 text-gray-600"})})]}),n.jsxs(ke,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Pi.overview.totalRevenue}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[n.jsx($s,{className:"h-3 w-3 mr-1"}),Pi.overview.growth.revenue," from last month"]})]})]}),n.jsxs(Ne,{children:[n.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium",children:"Total Orders"}),n.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:n.jsx(ss,{className:"h-4 w-4 text-gray-600"})})]}),n.jsxs(ke,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Pi.overview.totalOrders}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[n.jsx($s,{className:"h-3 w-3 mr-1"}),Pi.overview.growth.orders," from last month"]})]})]}),n.jsxs(Ne,{children:[n.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium",children:"Avg Order Value"}),n.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:n.jsx($s,{className:"h-4 w-4 text-gray-600"})})]}),n.jsxs(ke,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Pi.overview.averageOrderValue}),n.jsx("p",{className:"text-xs text-gray-500",children:"Per transaction"})]})]}),n.jsxs(Ne,{children:[n.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium",children:"Conversion Rate"}),n.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:n.jsx(np,{className:"h-4 w-4 text-gray-600"})})]}),n.jsxs(ke,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Pi.overview.conversionRate}),n.jsx("p",{className:"text-xs text-gray-500",children:"Visitors to customers"})]})]})]}),n.jsxs(ra,{value:s,onValueChange:r,className:"space-y-4",children:[n.jsxs(bi,{children:[n.jsx(Mt,{value:"overview",children:"Overview"}),n.jsx(Mt,{value:"products",children:"Top Products"}),n.jsx(Mt,{value:"transactions",children:"Transactions"})]}),n.jsxs(ft,{value:"overview",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Ne,{className:"col-span-1",children:[n.jsx(ot,{children:n.jsx(lt,{children:"Revenue Trend"})}),n.jsx(ke,{children:n.jsx("div",{className:"h-[300px] flex items-center justify-center bg-muted/20 rounded-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx($s,{className:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"Revenue chart"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly trend visualization"})]})})})]}),n.jsxs(Ne,{className:"col-span-1",children:[n.jsx(ot,{children:n.jsx(lt,{children:"Orders Trend"})}),n.jsx(ke,{children:n.jsx("div",{className:"h-[300px] flex items-center justify-center bg-muted/20 rounded-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ss,{className:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"Orders chart"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order volume over time"})]})})})]})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Monthly Performance"})}),n.jsx(ke,{children:n.jsxs(Am,{children:[n.jsx(Om,{children:n.jsxs(So,{children:[n.jsx(Ln,{children:"Month"}),n.jsx(Ln,{children:"Revenue"}),n.jsx(Ln,{children:"Orders"}),n.jsx(Ln,{children:"Customers"}),n.jsx(Ln,{children:"Growth"})]})}),n.jsx(Lm,{children:Pi.monthlyData.map(i=>n.jsxs(So,{children:[n.jsx(Rn,{className:"font-medium",children:i.month}),n.jsxs(Rn,{children:["",i.revenue.toLocaleString()]}),n.jsx(Rn,{children:i.orders}),n.jsx(Rn,{children:i.customers}),n.jsx(Rn,{children:n.jsxs(Me,{variant:"secondary",className:"text-green-600",children:["+",Math.floor(Math.random()*20+5),"%"]})})]},i.month))})]})})]})]}),n.jsx(ft,{value:"products",className:"space-y-4",children:n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Top Performing Products"})}),n.jsx(ke,{children:n.jsx("div",{className:"space-y-4",children:Pi.topProducts.map((i,a)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-sm font-medium",children:a+1}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:i.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.sales," units sold"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium",children:i.revenue}),n.jsx("p",{className:`text-sm ${i.growth.startsWith("+")?"text-green-600":"text-red-600"}`,children:i.growth})]})]},a))})})]})}),n.jsx(ft,{value:"transactions",className:"space-y-4",children:n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Recent Transactions"})}),n.jsx(ke,{children:n.jsxs(Am,{children:[n.jsx(Om,{children:n.jsxs(So,{children:[n.jsx(Ln,{children:"Transaction ID"}),n.jsx(Ln,{children:"Customer"}),n.jsx(Ln,{children:"Amount"}),n.jsx(Ln,{children:"Date"}),n.jsx(Ln,{children:"Status"})]})}),n.jsx(Lm,{children:Pi.recentTransactions.map(i=>n.jsxs(So,{children:[n.jsx(Rn,{className:"font-medium",children:i.id}),n.jsx(Rn,{children:i.customer}),n.jsx(Rn,{children:i.amount}),n.jsx(Rn,{children:i.date}),n.jsx(Rn,{children:n.jsx(Me,{variant:i.status==="Completed"?"default":"secondary",children:i.status})})]},i.id))})]})})]})})]})]})})}const $ne=[{category:"Account",items:[{id:"profile",title:"Profile Management",subtitle:"Complete profile setup and management",icon:Er,action:"navigate"},{id:"company",title:"Company Information",subtitle:"Business details and verification",icon:Ss,action:"navigate"},{id:"security",title:"Security & Login",subtitle:"Password and authentication",icon:gi,action:"navigate"}]},{category:"Business",items:[{id:"products",title:"Product Management",subtitle:"Inventory, pricing, and catalog",icon:Ot,action:"navigate"},{id:"analytics",title:"Business Analytics",subtitle:"Sales reports and insights",icon:gE,action:"navigate"}]},{category:"Operations",items:[{id:"payment",title:"Payment Settings",subtitle:"Bank details and payout preferences",icon:ta,action:"navigate"},{id:"notifications",title:"Notification Settings",subtitle:"Configure notification preferences",icon:ts,action:"navigate"}]}];function Bne(){const e=nt(),[t,s]=j.useState(null),[r,i]=j.useState(!0),[a,o]=j.useState(""),[c,d]=j.useState({businessName:"",ownerName:"",email:"",phone:"",address:"",description:"",avatar:"/api/placeholder/120/120",isOnline:!0,autoOnlineTime:"09:00",autoOfflineTime:"22:00",totalProducts:0,activeProducts:0,totalSales:0,monthlyRevenue:0});j.useEffect(()=>{h()},[]);const h=async()=>{try{const{simplePersistentAuth:p}=await et(async()=>{const{simplePersistentAuth:N}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:N}},[]);if(!await p.isVendorLoggedIn()){e("/vendor/login");return}const v=await p.getVendorAuth();v&&await Te.setAuth(v.token,v.user);const{response:w,data:b}=await Fe("/profile/");if(!w.ok)throw new Error("Failed to fetch user profile");const{response:y,data:_}=await Fe("/vendor-profiles/");if(y.ok&&_){if(_.results&&_.results.length>0){const N=_.results[0];d({businessName:N.business_name||"N/A",ownerName:N.owner_name||b.username,email:N.business_email||b.email,phone:N.business_phone||b.phone_number||"N/A",address:N.business_address||"N/A",description:N.description||"No description",avatar:b.profile_picture?(b.profile_picture.startsWith("http"),b.profile_picture):"/api/placeholder/120/120",isOnline:!0,autoOnlineTime:"09:00",autoOfflineTime:"22:00",totalProducts:24,activeProducts:22,totalSales:1250,monthlyRevenue:45e3})}}else d(N=>({...N,businessName:b.username,ownerName:b.username,email:b.email,phone:b.phone_number||"N/A",avatar:b.profile_picture?(b.profile_picture.startsWith("http"),b.profile_picture):"/api/placeholder/120/120"}))}catch(p){console.error("Error fetching profile:",p),o("Failed to load profile data")}finally{i(!1)}},[f,m]=j.useState({esewa:{enabled:!1,merchantId:"",secretKey:""},khalti:{enabled:!1,publicKey:"",secretKey:""}}),u=p=>{p==="profile"?e("/vendor/profile"):p==="security"?e("/vendor/security"):p==="company"?e("/vendor/company"):p==="products"?e("/vendor/products"):p==="analytics"?e("/vendor/analytics"):s(p)};return t?n.jsx(It,{title:"Settings",children:n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"p-4",children:[n.jsx(te,{variant:"ghost",onClick:()=>s(null),className:"mb-4",children:" Back to Settings"}),t==="analytics"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Business Analytics"}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Revenue Overview"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",c.monthlyRevenue.toLocaleString()]}),n.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),n.jsx("p",{className:"text-xs text-green-600",children:"+12% from last month"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",(c.monthlyRevenue*.85).toLocaleString()]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Last Month"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Previous period"})]})]})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Sales Metrics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ot,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),n.jsx("p",{className:"text-xl font-bold",children:c.totalSales}),n.jsx("p",{className:"text-xs text-gray-600",children:"This month"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx($s,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-sm font-medium",children:"Avg Order Value"})]}),n.jsxs("p",{className:"text-xl font-bold",children:["",Math.round(c.monthlyRevenue/c.totalSales)]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Per order"})]})]})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Product Performance"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Active Products"}),n.jsx("span",{className:"font-semibold",children:c.activeProducts})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Total Products"}),n.jsx("span",{className:"font-semibold",children:c.totalProducts})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Best Seller"}),n.jsx("span",{className:"font-semibold text-green-600",children:"Chicken Momo"})]})]})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Weekly Sales"}),n.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:[65,45,78,52,89,67,43].map((p,x)=>{const v=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],w=p/100*100;return n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:"w-full bg-blue-500 rounded-t mb-1",style:{height:`${w}px`}}),n.jsx("span",{className:"text-xs text-gray-600",children:v[x]})]},x)})})]})})]}),t==="payment"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Settings"}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-green-600 font-bold text-lg",children:"eS"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"eSewa Integration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive payments through eSewa"})]})]}),n.jsx(Yt,{checked:f.esewa.enabled,onCheckedChange:p=>m(x=>({...x,esewa:{...x.esewa,enabled:p}}))})]}),f.esewa.enabled&&n.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-sm font-medium",children:"Merchant ID"}),n.jsx(me,{placeholder:"Enter your eSewa Merchant ID",value:f.esewa.merchantId,onChange:p=>m(x=>({...x,esewa:{...x.esewa,merchantId:p.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(de,{className:"text-sm font-medium",children:"Secret Key"}),n.jsx(me,{type:"password",placeholder:"Enter your eSewa Secret Key",value:f.esewa.secretKey,onChange:p=>m(x=>({...x,esewa:{...x.esewa,secretKey:p.target.value}}))})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Note:"})," You can get your eSewa API credentials from your eSewa merchant dashboard."]})})]})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"K"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Khalti Integration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive payments through Khalti"})]})]}),n.jsx(Yt,{checked:f.khalti.enabled,onCheckedChange:p=>m(x=>({...x,khalti:{...x.khalti,enabled:p}}))})]}),f.khalti.enabled&&n.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-sm font-medium",children:"Public Key"}),n.jsx(me,{placeholder:"Enter your Khalti Public Key",value:f.khalti.publicKey,onChange:p=>m(x=>({...x,khalti:{...x.khalti,publicKey:p.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(de,{className:"text-sm font-medium",children:"Secret Key"}),n.jsx(me,{type:"password",placeholder:"Enter your Khalti Secret Key",value:f.khalti.secretKey,onChange:p=>m(x=>({...x,khalti:{...x.khalti,secretKey:p.target.value}}))})]}),n.jsx("div",{className:"bg-purple-50 p-3 rounded-lg",children:n.jsxs("p",{className:"text-sm text-purple-800",children:[n.jsx("strong",{children:"Note:"})," You can get your Khalti API credentials from your Khalti merchant dashboard."]})})]})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Payment Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"eSewa Status"}),n.jsx(Me,{className:f.esewa.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:f.esewa.enabled?"Active":"Inactive"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Khalti Status"}),n.jsx(Me,{className:f.khalti.enabled?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",children:f.khalti.enabled?"Active":"Inactive"})]})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(te,{className:"bg-blue-600 hover:bg-blue-700",children:"Save Payment Settings"})})]}),t==="notifications"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Notification Settings"}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Notification Preferences"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"New Orders"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Get notified when you receive new orders"})]}),n.jsx(Yt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Payment Updates"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Notifications for payment confirmations"})]}),n.jsx(Yt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Low Stock Alerts"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Alert when products are running low"})]}),n.jsx(Yt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"System Updates"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Important system and policy updates"})]}),n.jsx(Yt,{})]})]})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Delivery Methods"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Push Notifications"}),n.jsx(Yt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Email Notifications"}),n.jsx(Yt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"SMS Notifications"}),n.jsx(Yt,{})]})]})]})})]})]})})}):r?n.jsx(It,{title:"Settings",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):a?n.jsx(It,{title:"Settings",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:a}),n.jsx(te,{onClick:h,children:"Retry"})]})})}):n.jsx(It,{title:"Settings",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b",children:n.jsxs("div",{className:"p-4 flex items-center gap-3",children:[n.jsxs(Gi,{className:"h-14 w-14",children:[n.jsx(Ki,{src:c.avatar}),n.jsx(Yi,{className:"text-lg font-bold",children:c.businessName?c.businessName.charAt(0):"U"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold",children:c.businessName||"Business Name"}),n.jsx("p",{className:"text-gray-500 text-xs",children:c.email})]}),n.jsx(Me,{className:c.isOnline?"bg-green-100 text-green-800 text-xs":"bg-gray-100 text-gray-800 text-xs",children:c.isOnline?"Online":"Offline"})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[$ne.map(p=>n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b bg-gray-50",children:n.jsx("h2",{className:"font-semibold text-gray-900",children:p.category})}),n.jsx("div",{className:"divide-y",children:p.items.map(x=>{const v=x.icon;return n.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>u(x.id),"data-section":x.id,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(v,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:x.title}),n.jsx("p",{className:"text-sm text-gray-600",children:x.subtitle})]})]}),n.jsx(hc,{className:"h-5 w-5 text-gray-400"})]})},x.id)})})]},p.category)),n.jsxs(te,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:async()=>{await Te.clearAuth(),e("/vendor/login")},children:[n.jsx(sb,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"font-medium text-base",children:"Logout"})]})]})]})})}const x2=()=>{const[e,t]=j.useState("default");j.useEffect(()=>{"Notification"in window&&t(Notification.permission)},[]);const s=async()=>{await Gt.notifyNewMessage("Test Admin","This is a test notification to check if notifications are working!","1","vendor")},r=async()=>{if(!("Notification"in window)){alert("Browser notifications not supported");return}if(console.log("Current permission:",Notification.permission),Notification.permission==="default"){const i=await Notification.requestPermission();if(console.log("Permission result:",i),i!=="granted"){alert("Notification permission denied");return}}else if(Notification.permission==="denied"){alert("Notifications are blocked. Please enable them in browser settings.");return}if(Notification.permission==="granted"){const i=new Notification("Test Notification",{body:"This is a test browser notification",icon:"/logo192.png",requireInteraction:!0});i.onclick=()=>{console.log("Notification clicked"),i.close()},setTimeout(()=>i.close(),5e3),console.log("Notification shown")}};return n.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2 z-50 bg-white p-3 rounded-lg shadow-lg border",children:[n.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Permission: ",n.jsx("span",{className:`font-bold ${e==="granted"?"text-green-600":e==="denied"?"text-red-600":"text-yellow-600"}`,children:e})]}),n.jsxs(te,{onClick:s,size:"sm",className:"bg-blue-500 hover:bg-blue-600",children:[n.jsx(ts,{className:"h-4 w-4 mr-2"}),"Test Notification"]}),n.jsxs(te,{onClick:r,size:"sm",variant:"outline",children:[e==="denied"?n.jsx(yE,{className:"h-4 w-4 mr-2"}):n.jsx(ts,{className:"h-4 w-4 mr-2"}),"Test Browser"]}),e==="denied"&&n.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Enable notifications in browser settings"})]})},y2=()=>{var M,H,W,Z;const[e,t]=j.useState(null),[s,r]=j.useState([]),[i,a]=j.useState([]),[o,c]=j.useState(""),[d,h]=j.useState(!0),[f,m]=j.useState(1),[u,p]=j.useState(!1),[x,v]=j.useState(!1),[w,b]=j.useState(null),[y,_]=j.useState(0),N=j.useRef(null),E=j.useRef(null);j.useEffect(()=>{I(),C(),Gt.initialize();const B=$=>{if($.key==="newMessage"&&$.newValue){const z=JSON.parse($.newValue);z.sender!==(w==null?void 0:w.username)&&Gt.notifyNewMessage(z.sender,z.content,z.conversationId.toString(),"vendor")}};window.addEventListener("storage",B);let q=Date.now()/1e3;const F=setInterval(async()=>{try{const z=await(await fetch(`http://localhost:8000/api/broadcast/?conversation_id=${(e==null?void 0:e.id)||0}&since=${q}`)).json();z.messages&&z.messages.length>0&&(z.messages.forEach(G=>{G.sender!==(w==null?void 0:w.username)&&Gt.notifyNewMessage(G.sender,G.content,G.conversation_id.toString(),"vendor")}),q=Date.now()/1e3)}catch($){console.log("Broadcast check failed:",$)}},2e3);return()=>{window.removeEventListener("storage",B),clearInterval(F)}},[w]);const I=async()=>{try{if(!localStorage.getItem("token"))return;const{response:q,data:F}=await Fe("/profile/");q.ok&&F&&b(F)}catch(B){console.error("Failed to fetch current user:",B)}};j.useEffect(()=>{e&&A(e.id)},[e]),j.useEffect(()=>{if(e){const B=setInterval(async()=>{try{const q=await Bs.getMessages(e.id),F=Array.isArray(q)?q.reverse():[];if(F.length>y){const $=F.slice(y);for(const z of $)z.sender.id!==(w==null?void 0:w.id)&&await Gt.notifyNewMessage(z.sender.username,z.content||"Sent a file",e.id.toString(),"vendor")}a(F),_(F.length)}catch{i.length>0&&Math.random()>.8&&await Gt.notifyNewMessage("Test User","This is a test notification",e.id.toString(),"vendor")}},3e3);return()=>clearInterval(B)}},[e,y,w,i]);const C=async(B=1,q=!1)=>{try{const{response:F,data:$}=await Fe(`/api/messaging/conversations/?page=${B}&page_size=20`);if(!F.ok)throw new Error("Failed to fetch conversations");const G=(($==null?void 0:$.results)||[]).filter((X,J,K)=>J===K.findIndex(U=>{var ne,se;return((ne=U.other_participant)==null?void 0:ne.id)===((se=X.other_participant)==null?void 0:se.id)}));if(B===1&&!G.some(J=>{var K,U,ne;return((K=J.other_participant)==null?void 0:K.username)==="admin"||((U=J.other_participant)==null?void 0:U.id)===1||((ne=J.other_participant)==null?void 0:ne.username)==="EzzeYway Support"})){const J={id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}};G.unshift(J)}r(q?X=>[...X,...G].filter((K,U,ne)=>U===ne.findIndex(se=>{var le,pe;return((le=se.other_participant)==null?void 0:le.id)===((pe=K.other_participant)==null?void 0:pe.id)})):G),p(!!($!=null&&$.next)),m(B)}catch(F){console.error("Failed to load conversations:",F),B===1&&r([{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}}])}finally{h(!1),v(!1)}},O=async()=>{x||!u||(v(!0),await C(f+1,!0))},A=async B=>{try{const q=await Bs.getMessages(B),F=Array.isArray(q)?q.reverse():[];a(F),_(F.length)}catch(q){console.error("Failed to load messages:",q),a([]),_(0)}},k=async()=>{if(!(!o.trim()||!e))try{const B=await Bs.sendMessage({conversation_id:e.id,message_type:"text",content:o});a(F=>[...F,B.message]);const q={conversationId:e.id,sender:(w==null?void 0:w.username)||"Unknown",content:o,timestamp:new Date().toISOString()};localStorage.setItem("newMessage",JSON.stringify(q)),setTimeout(()=>localStorage.removeItem("newMessage"),100);try{await fetch("http://localhost:8000/api/broadcast/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:(w==null?void 0:w.username)||"Unknown",content:o,conversation_id:e.id})})}catch(F){console.log("Cross-domain broadcast failed:",F)}c("")}catch(B){console.error("Failed to send message:",B)}},R=async B=>{var F;const q=(F=B.target.files)==null?void 0:F[0];if(!(!q||!e))try{const $=await Bs.sendMessage({conversation_id:e.id,message_type:q.type.startsWith("image/")?"image":"file",file:q});a(z=>[...z,$.message])}catch($){console.error("Failed to send file:",$)}},P=async B=>{try{const q=await Bs.getOrCreateConversation(B);t(q)}catch(q){console.error("Failed to create conversation:",q)}},T=()=>{var B;(B=N.current)==null||B.scrollIntoView({behavior:"smooth"})};return j.useEffect(()=>{T()},[i]),d?n.jsx(It,{title:"Messages",children:n.jsx("div",{className:"h-screen bg-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),n.jsx("p",{children:"Loading conversations..."})]})})}):e?n.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[n.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t(null),children:n.jsx(Dt,{className:"h-4 w-4"})}),n.jsxs(Gi,{className:"h-10 w-10",children:[n.jsx(Ki,{src:is((M=e.other_participant)==null?void 0:M.profile_picture)}),n.jsx(Yi,{children:(W=(H=e.other_participant)==null?void 0:H.username)==null?void 0:W.charAt(0)})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-sm",children:(Z=e.other_participant)==null?void 0:Z.username}),n.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]}),n.jsx(te,{variant:"ghost",size:"sm",children:n.jsx(ND,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(B=>{const q=w&&B.sender.id===w.id;return n.jsx("div",{className:`w-full flex ${q?"justify-end":"justify-start"} mb-2`,children:n.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow ${q?"bg-green-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[B.message_type==="text"&&n.jsx("p",{className:"text-sm",children:B.content}),B.message_type==="image"&&n.jsx("div",{className:"space-y-2",children:n.jsx("img",{src:is(B.file_url),alt:"Shared image",className:"rounded max-w-full h-auto"})}),B.message_type==="file"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ei,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:B.file_name})]}),n.jsxs("div",{className:"flex items-center justify-end mt-1 gap-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:new Date(B.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),q&&n.jsx("span",{className:`text-xs ${B.is_read?"text-blue-500":"text-gray-400"}`,children:B.is_read?"":""})]})]})},B.id)}),n.jsx("div",{ref:N})]}),n.jsxs("div",{className:"bg-white border-t p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{var B;return(B=E.current)==null?void 0:B.click()},children:n.jsx(Ax,{className:"h-4 w-4"})}),n.jsx(me,{value:o,onChange:B=>c(B.target.value),placeholder:"Type a message...",className:"flex-1",onKeyPress:B=>B.key==="Enter"&&k()}),n.jsx(te,{onClick:k,disabled:!o.trim(),children:n.jsx(_E,{className:"h-4 w-4"})})]}),n.jsx("input",{ref:E,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:R,className:"hidden"})]}),n.jsx(x2,{})]}):n.jsx(It,{title:"Messages",children:n.jsxs("div",{className:"h-screen bg-white flex flex-col",children:[n.jsx("div",{className:"border-b p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h2",{className:"text-lg font-semibold",children:"Messages"})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(rb,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No conversations yet"}),n.jsx("p",{className:"text-sm",children:"Customers will message you here!"})]}):s.map(B=>{var q,F,$,z,G,X;return n.jsxs("div",{className:"flex items-center gap-3 p-4 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{B.id===0?P(1):t(B)},children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Gi,{className:"h-12 w-12",children:[n.jsx(Ki,{src:is((q=B.other_participant)==null?void 0:q.profile_picture)}),n.jsx(Yi,{children:($=(F=B.other_participant)==null?void 0:F.username)==null?void 0:$.charAt(0)})]}),n.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-sm truncate",children:(z=B.other_participant)==null?void 0:z.username}),n.jsx("span",{className:"text-xs text-gray-500",children:B.last_message?new Date(B.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:((G=B.last_message)==null?void 0:G.content)||((X=B.last_message)==null?void 0:X.file_name)||"Start conversation"})]}),B.unread_count>0&&n.jsx(Me,{className:"bg-blue-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center",children:B.unread_count})]},B.id)}),u&&n.jsx("div",{className:"p-4 text-center",children:n.jsx(te,{onClick:O,disabled:x,variant:"outline",className:"w-full",children:x?"Loading...":"Load More Conversations"})})]}),n.jsx(x2,{})]})})},zne=()=>{var J,K,U,ne,se,le,pe;const[e,t]=j.useState(null),[s,r]=j.useState(2),[i,a]=j.useState(!1),[o,c]=j.useState(""),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(""),[x,v]=j.useState(""),[w,b]=j.useState("all"),[y,_]=j.useState(1),[N,E]=j.useState([]),I=10,[C,O]=j.useState(!0),[A,k]=j.useState(!1),[R,P]=j.useState(""),[T,M]=j.useState(!1);Bp(),j.useEffect(()=>{const ee=()=>{const ye=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;M(ye)};return ee(),window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]),j.useEffect(()=>{H();const ee=Ce=>{Ce.detail.type==="order"&&H()};window.addEventListener("newNotification",ee);let ye;return T||(ye=setInterval(()=>{H()},6e4)),()=>{window.removeEventListener("newNotification",ee),ye&&clearInterval(ye)}},[T]);const H=async()=>{try{O(!0);const{apiRequest:ee}=await et(async()=>{const{apiRequest:ce}=await Promise.resolve().then(()=>ai);return{apiRequest:ce}},void 0),ye=new AbortController,Ce=setTimeout(()=>ye.abort(),T?8e3:3e4),ue=T?"/api/vendor/orders/?limit=50":"/api/vendor/orders/",{response:je,data:xe}=await ee(ue,{signal:ye.signal});if(clearTimeout(Ce),je.ok&&xe){const ce=xe.results||xe||[];console.log(" Orders received:",ce.length,ce),E(ce)}else console.error("Failed to fetch orders:",je.status,xe),E([])}catch(ee){console.error("Error fetching vendor orders:",ee),E([])}finally{O(!1)}};j.useEffect(()=>{if(s>0){const ee=setInterval(()=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(`${s} New Order${s>1?"s":""} Waiting!`,{icon:"/favicon.ico",body:"Please check and confirm your orders"})},6e4);return()=>clearInterval(ee)}},[s]),j.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const W=ee=>{switch(ee){case"new":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-orange-100 text-orange-800";case"pending":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-gray-100 text-gray-800";case"returned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Z=ee=>{switch(ee){case"new":return n.jsx(ts,{className:"h-3 w-3"});case"confirmed":return n.jsx(Ot,{className:"h-3 w-3"});case"pending":return n.jsx(ql,{className:"h-3 w-3"});case"delivered":return n.jsx(qu,{className:"h-3 w-3"});case"cancelled":return n.jsx(o1,{className:"h-3 w-3"});case"returned":return n.jsx(Qr,{className:"h-3 w-3"});default:return n.jsx(Ot,{className:"h-3 w-3"})}},B=ee=>ee==="all"?N:ee==="new"?N.filter(ye=>ye.status==="pending"):ee==="pending"?N.filter(ye=>ye.status==="out_for_delivery"):N.filter(ye=>ye.status===ee),q=(ee,ye,Ce)=>{E(ue=>ue.map(je=>je.id===ee?{...je,status:ye,isNew:ye==="new",estimatedTime:"Ready for delivery",...Ce}:je))},F=ee=>{const ye=T?15:I;if(w==="new")return T?ee.slice(0,ye):ee;const Ce=(y-1)*ye,ue=Ce+ye;return ee.slice(Ce,ue)},$=ee=>Math.ceil(ee.length/I),z=ee=>{_(ee)},G=({orders:ee})=>{if(w==="new")return null;const ye=$(ee);return ye<=1?null:n.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-100",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(y-1)*I+1,"-",Math.min(y*I,ee.length)," of ",ee.length," orders"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{variant:"outline",size:"sm",onClick:()=>z(y-1),disabled:y===1,className:"h-7 w-7 p-0",children:n.jsx(xE,{className:"h-3 w-3"})}),n.jsx("div",{className:"flex gap-1",children:Array.from({length:ye},(Ce,ue)=>ue+1).map(Ce=>n.jsx(te,{variant:y===Ce?"default":"outline",size:"sm",onClick:()=>z(Ce),className:"h-7 w-7 p-0 text-xs",children:Ce},Ce))}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>z(y+1),disabled:y===ye,className:"h-7 w-7 p-0",children:n.jsx(hc,{className:"h-3 w-3"})})]})]})},X=({order:ee})=>{var ye,Ce,ue,je,xe,ce,fe;return n.jsxs("div",{className:`p-4 ${ee.status==="pending"?"bg-blue-50 border-l-4 border-blue-500":((ye=ee.refunds)==null?void 0:ye.length)>0?"bg-orange-50 border-l-4 border-orange-400":"bg-white"} cursor-pointer hover:bg-gray-50 min-h-[120px]`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:ee.order_number}),ee.status==="pending"&&n.jsx(ts,{className:"h-3 w-3 text-blue-500 animate-pulse"})]}),n.jsxs(Me,{className:`${W(ee.status)} flex items-center gap-1 text-xs px-2 py-1`,children:[Z(ee.status),ee.status.charAt(0).toUpperCase()+ee.status.slice(1)]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-800 mb-2",children:[((Ce=ee.items)==null?void 0:Ce.length)||0," item",((ue=ee.items)==null?void 0:ue.length)!==1?"s":""]}),n.jsxs("div",{className:"flex gap-3 overflow-x-auto",children:[(je=ee.items)==null?void 0:je.slice(0,T?2:3).map((Q,re)=>{var ie,be,we,ve;return n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center overflow-hidden",children:(we=(be=(ie=Q.product_details)==null?void 0:ie.images)==null?void 0:be[0])!=null&&we.image_url?n.jsx("img",{src:is(Q.product_details.images[0].image_url),alt:Q.product_name,className:"w-full h-full object-cover",loading:"lazy",onError:Ae=>{Ae.currentTarget.style.display="none",Ae.currentTarget.parentElement.innerHTML='<span class="text-xs text-gray-400"></span>'}}):n.jsx("span",{className:"text-xs text-gray-400",children:""})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:Q.product_name}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:((ve=Q.product_details)==null?void 0:ve.category)||"Item"})]})]},re)}),((xe=ee.items)==null?void 0:xe.length)>(T?2:3)&&n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center flex-shrink-0",children:n.jsxs("span",{className:"text-xs text-gray-600",children:["+",ee.items.length-(T?2:3)]})})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Er,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:((ce=ee.customer_details)==null?void 0:ce.username)||ee.delivery_name})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Bt,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:ee.delivery_address})]}),ee.status==="delivered"&&ee.review&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(vn,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),n.jsxs("span",{className:"text-yellow-600 font-medium text-xs",children:["Rated ",ee.review.overall_rating,"/5"]})]}),((fe=ee.refunds)==null?void 0:fe.length)>0&&n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-2 mt-2",children:ee.refunds.map(Q=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"h-4 w-4 text-orange-500"}),n.jsx("span",{className:"text-orange-700 font-medium text-xs capitalize",children:Q.reason.replace("_"," ")})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${Q.status==="requested"?"bg-yellow-100 text-yellow-800":Q.status==="approved"?"bg-green-100 text-green-800":Q.status==="rejected"?"bg-red-100 text-red-800":Q.status==="appeal"?"bg-purple-100 text-purple-800":Q.status==="processed"?"bg-blue-100 text-blue-800":Q.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:Q.status.charAt(0).toUpperCase()+Q.status.slice(1)})]},Q.id))}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(ee.total_amount).toFixed(2)]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>t(ee),children:[n.jsx(An,{className:"h-3 w-3 mr-1"}),"View"]}),ee.status==="pending"&&n.jsx(te,{size:"sm",className:"h-7 text-xs bg-green-600 hover:bg-green-700",onClick:async Q=>{Q.stopPropagation();try{const{response:re}=await Fe(`/api/orders/${ee.id}/accept/`,{method:"POST"});re.ok&&(H(),r(ie=>Math.max(0,ie-1)),window.dispatchEvent(new CustomEvent("walletUpdated")))}catch(re){console.error("Error accepting order:",re)}},children:"Accept"}),ee.status==="confirmed"&&n.jsx(te,{size:"sm",className:"h-7 text-xs bg-blue-600 hover:bg-blue-700",onClick:Q=>{Q.stopPropagation(),t(ee),a(!0)},children:"Ship"}),ee.status==="out_for_delivery"&&n.jsx(te,{size:"sm",className:"h-7 text-xs bg-green-600 hover:bg-green-700",onClick:async Q=>{Q.stopPropagation();try{const{response:re}=await Fe(`/api/vendor/orders/${ee.id}/status/`,{method:"POST",body:JSON.stringify({status:"delivered",notes:"Marked as delivered by vendor"})});re.ok&&H()}catch(re){console.error("Error marking as delivered:",re)}},children:"Delivered"})]})]})]})]})};return n.jsx(It,{title:"Orders",children:n.jsxs("div",{className:"bg-gray-50 min-h-screen pb-20 max-w-full overflow-x-hidden",children:[C?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]}):N.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ot,{className:"h-8 w-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),n.jsx("p",{className:"text-gray-500",children:"Orders will appear here when customers place them."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"flex gap-3 pb-2",children:[n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center border-l-4 border-blue-500",children:[n.jsx("p",{className:"text-xl font-bold text-blue-600",children:N.filter(ee=>ee.status==="pending").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"New Orders"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-yellow-600",children:N.filter(ee=>ee.status==="out_for_delivery").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Shipped"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-orange-600",children:N.filter(ee=>ee.status==="confirmed").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Confirmed"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-green-600",children:N.filter(ee=>ee.status==="delivered").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Delivered"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-gray-600",children:N.filter(ee=>ee.status==="cancelled").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Cancelled"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-orange-600",children:N.filter(ee=>{var ye;return((ye=ee.refunds)==null?void 0:ye.length)>0}).length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Returns"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-gray-600",children:N.length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Total"})]})]})})}),n.jsx("div",{className:"px-4",children:n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),n.jsxs(ra,{value:w,onValueChange:ee=>{b(ee),_(1)},className:"w-full",children:[n.jsx("div",{className:"border-b border-gray-100 overflow-x-auto scrollbar-hide",children:n.jsxs(bi,{className:"flex w-max bg-transparent h-auto p-2 gap-3",children:[n.jsxs(Mt,{value:"all",className:"text-xs py-2 px-3 data-[state=active]:bg-gray-50 data-[state=active]:text-gray-600 data-[state=active]:border-b-2 data-[state=active]:border-gray-600 rounded-none whitespace-nowrap flex-shrink-0",children:["All ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.length,")"]})]}),n.jsxs(Mt,{value:"new",className:"text-xs py-2 px-3 data-[state=active]:bg-blue-50 data-[state=active]:text-blue-600 data-[state=active]:border-b-2 data-[state=active]:border-blue-600 rounded-none whitespace-nowrap flex-shrink-0",children:["New ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="pending").length,")"]})]}),n.jsxs(Mt,{value:"confirmed",className:"text-xs py-2 px-3 data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:border-b-2 data-[state=active]:border-orange-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Confirmed ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="confirmed").length,")"]})]}),n.jsxs(Mt,{value:"pending",className:"text-xs py-2 px-3 data-[state=active]:bg-yellow-50 data-[state=active]:text-yellow-600 data-[state=active]:border-b-2 data-[state=active]:border-yellow-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Shipped ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="out_for_delivery").length,")"]})]}),n.jsxs(Mt,{value:"delivered",className:"text-xs py-2 px-3 data-[state=active]:bg-green-50 data-[state=active]:text-green-600 data-[state=active]:border-b-2 data-[state=active]:border-green-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Delivered ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="delivered").length,")"]})]}),n.jsxs(Mt,{value:"returns",className:"text-xs py-2 px-3 data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:border-b-2 data-[state=active]:border-orange-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Returns ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>{var ye;return((ye=ee.refunds)==null?void 0:ye.length)>0}).length,")"]})]}),n.jsxs(Mt,{value:"cancelled",className:"text-xs py-2 px-3 data-[state=active]:bg-gray-50 data-[state=active]:text-gray-600 data-[state=active]:border-b-2 data-[state=active]:border-gray-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Cancelled ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="cancelled").length,")"]})]})]})}),n.jsxs(ft,{value:"all",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:F(N).map(ee=>n.jsx(X,{order:ee},ee.id))}),n.jsx(G,{orders:N})]}),n.jsxs(ft,{value:"new",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:F(B("new")).map(ee=>n.jsx(X,{order:ee},ee.id))}),n.jsx(G,{orders:B("new")})]}),n.jsxs(ft,{value:"confirmed",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:F(B("confirmed")).map(ee=>n.jsx(X,{order:ee},ee.id))}),n.jsx(G,{orders:B("confirmed")})]}),n.jsxs(ft,{value:"pending",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:F(B("pending")).map(ee=>n.jsx(X,{order:ee},ee.id))}),n.jsx(G,{orders:B("pending")})]}),n.jsxs(ft,{value:"delivered",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:F(B("delivered")).map(ee=>n.jsx(X,{order:ee},ee.id))}),n.jsx(G,{orders:B("delivered")})]}),n.jsx(ft,{value:"returns",className:"mt-0",children:n.jsx("div",{className:"divide-y divide-gray-100",children:N.filter(ee=>{var ye;return((ye=ee.refunds)==null?void 0:ye.length)>0}).map(ee=>{var ye,Ce;return n.jsxs("div",{className:"p-4 bg-white cursor-pointer hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:ee.order_number})}),n.jsxs(Me,{className:"bg-orange-100 text-orange-800 flex items-center gap-1 text-xs px-2 py-1",children:[n.jsx(Qr,{className:"h-3 w-3"}),"Return Request"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Er,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:((ye=ee.customer_details)==null?void 0:ye.username)||ee.delivery_name})]}),(Ce=ee.refunds)==null?void 0:Ce.map(ue=>{var je;return n.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Return Reason:"}),n.jsx(Me,{className:`text-xs ${ue.status==="requested"?"bg-yellow-100 text-yellow-800":ue.status==="approved"?"bg-green-100 text-green-800":ue.status==="rejected"?"bg-red-100 text-red-800":ue.status==="appeal"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:ue.status.charAt(0).toUpperCase()+ue.status.slice(1)})]}),n.jsx("p",{className:"text-xs text-gray-700 capitalize",children:ue.reason.replace("_"," ")}),ue.customer_notes&&n.jsxs("p",{className:"text-xs text-gray-600",children:['"',ue.customer_notes,'"']}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",ue.requested_amount]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Method:"})," ",ue.refund_method]}),ue.status==="requested"&&n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(te,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:async()=>{const xe=prompt("Reason for rejection:");if(xe)try{const{response:ce}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",admin_notes:xe})});ce.ok&&H()}catch(ce){console.error("Error rejecting return:",ce)}},children:"Reject"}),n.jsx(te,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",approved_amount:ue.requested_amount,admin_notes:"Return approved by vendor"})});xe.ok&&H()}catch(xe){console.error("Error approving return:",xe)}},children:"Approve"})]}),ue.status==="approved"&&n.jsxs("div",{className:"bg-green-50 p-2 rounded mt-2",children:[n.jsx("p",{className:"text-xs text-green-800 font-medium mb-2",children:"Return Approved - Process Refund"}),n.jsx(te,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"process",admin_notes:"Money transferred to customer"})});xe.ok&&H()}catch(xe){console.error("Error processing refund:",xe)}},children:"Process Refund (Transfer Money)"})]}),ue.status==="processed"&&n.jsxs("div",{className:"bg-blue-50 p-2 rounded mt-2",children:[n.jsx("p",{className:"text-xs text-blue-800 font-medium mb-2",children:"Money Transferred - Upload Proof"}),n.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:async xe=>{const ce=xe.target.files[0];if(!ce)return;const fe=new FormData;fe.append("document",ce);try{const{response:Q}=await Fe(`/api/refunds/${ue.id}/upload-document/`,{method:"POST",body:fe});Q.ok&&H()}catch(Q){console.error("Error uploading document:",Q)}},className:"w-full text-xs mb-2"}),n.jsx(te,{size:"sm",className:"w-full bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"complete",admin_notes:"Refund completed successfully"})});xe.ok&&H()}catch(xe){console.error("Error completing refund:",xe)}},children:"Mark as Completed"})]}),ue.status==="appeal"&&n.jsxs("div",{className:"bg-purple-50 p-2 rounded mt-2",children:[n.jsx("p",{className:"text-xs text-purple-800 font-medium",children:"Customer has appealed this decision"}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(te,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",admin_notes:"Appeal rejected - final decision"})});xe.ok&&H()}catch(xe){console.error("Error rejecting appeal:",xe)}},children:"Reject Appeal"}),n.jsx(te,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",approved_amount:ue.requested_amount,admin_notes:"Appeal approved - refund processed"})});xe.ok&&H()}catch(xe){console.error("Error approving appeal:",xe)}},children:"Approve Appeal"})]})]}),((je=ue.evidence_photos)==null?void 0:je.length)>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs font-medium mb-1",children:"Evidence Documents:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:ue.evidence_photos.map((xe,ce)=>{var re;const fe=(re=xe.filename)==null?void 0:re.match(/\.(jpg|jpeg|png|gif|webp)$/i);let Q;return xe.filename.startsWith("http")?Q=xe.filename:xe.filename.startsWith("/media/")?Q=`${As.BASE_URL}${xe.filename}`:Q=`${As.BASE_URL}/media/${xe.filename}`,n.jsxs("div",{className:"bg-blue-100 p-2 rounded text-xs cursor-pointer hover:bg-blue-200 transition-colors flex items-center gap-1",onClick:()=>{fe?(P(Q),k(!0)):window.open(Q,"_blank")},children:[fe?n.jsx(An,{className:"h-3 w-3 text-blue-600"}):n.jsx(Ot,{className:"h-3 w-3 text-blue-600"}),n.jsx("span",{className:"text-blue-800",children:xe.filename||`Document ${ce+1}`})]},ce)})})]}),ue.admin_notes&&n.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Response:"})," ",ue.admin_notes]})]},ue.id)}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(ee.total_amount).toFixed(2)]}),n.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>t(ee),children:[n.jsx(An,{className:"h-3 w-3 mr-1"}),"View Details"]})]})]})]},ee.id)})})}),n.jsxs(ft,{value:"cancelled",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:F(B("cancelled")).map(ee=>n.jsx(X,{order:ee},ee.id))}),n.jsx(G,{orders:B("cancelled")})]})]})]})})]}),n.jsx(zi,{open:!!e,onOpenChange:()=>t(null),children:n.jsxs(ui,{side:"bottom",className:"h-[90vh] rounded-t-xl",children:[n.jsx(hi,{className:"pb-4",children:n.jsx(fi,{className:"text-left",children:(e==null?void 0:e.status)==="confirmed"&&i?"Ship Order":`Order Details - ${e==null?void 0:e.id}`})}),e&&n.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[e.status==="confirmed"&&i?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(Er,{className:"h-4 w-4"}),"Customer Details for Rider"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{var ye,Ce,ue;const ee=`Order ID: ${e.order_number}

Customer: ${((ye=e.customer_details)==null?void 0:ye.username)||e.delivery_name}

Phone: ${((Ce=e.customer_details)==null?void 0:Ce.phone_number)||e.delivery_phone}

Address: ${e.delivery_address}

Map Link: https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}

Total Amount: ${e.total_amount}

Payment: ${e.payment_method} (${e.payment_status})

Items:
${((ue=e.items)==null?void 0:ue.map(je=>` ${je.product_name} x${je.quantity}`).join(`
`))||""}`;navigator.clipboard.writeText(ee)},children:[n.jsx(jD,{className:"h-3 w-3 mr-1"}),"Copy"]}),n.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{var ye,Ce,ue;const ee=`Order ID: ${e.order_number}

Customer: ${((ye=e.customer_details)==null?void 0:ye.username)||e.delivery_name}

Phone: ${((Ce=e.customer_details)==null?void 0:Ce.phone_number)||e.delivery_phone}

Address: ${e.delivery_address}

Map Link: https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}

Total Amount: ${e.total_amount}

Payment: ${e.payment_method} (${e.payment_status})

Items:
${((ue=e.items)==null?void 0:ue.map(je=>` ${je.product_name} x${je.quantity}`).join(`
`))||""}`;if(navigator.share)navigator.share({title:"Delivery Details",text:ee});else{const je=`https://wa.me/?text=${encodeURIComponent(ee)}`;window.open(je,"_blank")}},children:[n.jsx(Gf,{className:"h-3 w-3 mr-1"}),"Share"]})]})]}),n.jsxs("div",{className:"space-y-2 text-xs bg-white rounded p-3",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Order ID:"})," ",e.order_number]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",((J=e.customer_details)==null?void 0:J.username)||e.delivery_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",((K=e.customer_details)==null?void 0:K.phone_number)||e.delivery_phone]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Address:"})," ",e.delivery_address]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Map Link:"})," ",n.jsx("a",{href:`https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",className:"text-blue-600 underline",children:"Open in Maps"})]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",e.total_amount]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Payment:"})," ",e.payment_method," (",e.payment_status,")"]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"font-medium",children:"Items:"}),n.jsx("ul",{className:"ml-2 mt-1",children:((U=e.items)==null?void 0:U.map((ee,ye)=>n.jsxs("li",{children:[" ",ee.product_name," x",ee.quantity]},ye)))||[]})]})]})]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(ql,{className:"h-4 w-4"}),"Delivery Information"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs(de,{className:"text-xs font-medium text-gray-700",children:["Rider Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{value:o,onChange:ee=>c(ee.target.value),placeholder:"+977-98XXXXXXXX",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsxs(de,{className:"text-xs font-medium text-gray-700",children:["Vehicle Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{value:d,onChange:ee=>h(ee.target.value),placeholder:"e.g., BA-1-PA-1234",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{className:"text-xs font-medium text-gray-700",children:"Vehicle Color"}),n.jsx(me,{value:f,onChange:ee=>m(ee.target.value),placeholder:"e.g., Red, Blue, White",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsxs(de,{className:"text-xs font-medium text-gray-700",children:["Estimated Delivery Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{value:u,onChange:ee=>p(ee.target.value),placeholder:"e.g., 30-45 mins",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsxs(de,{className:"text-xs font-medium text-gray-700",children:["Delivery Fee ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{type:"number",value:x,onChange:ee=>v(ee.target.value),placeholder:"e.g., 50",className:"h-8 text-xs mt-1"})]})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(Er,{className:"h-4 w-4"}),"Customer Information"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",((ne=e.customer_details)==null?void 0:ne.username)||e.delivery_name]}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Wu,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:"Phone:"})," ",((se=e.customer_details)==null?void 0:se.phone_number)||e.delivery_phone]}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:"Address:"})," ",e.delivery_address]}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Bt,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:"Map:"}),n.jsx("a",{href:`https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",className:"text-blue-600 underline text-xs",children:"View Location"})]})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Order Items"]}),n.jsx("div",{className:"space-y-2",children:((le=e.items)==null?void 0:le.map((ee,ye)=>{var Ce,ue,je;return n.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-100 last:border-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center overflow-hidden flex-shrink-0",children:(je=(ue=(Ce=ee.product_details)==null?void 0:Ce.images)==null?void 0:ue[0])!=null&&je.image_url?n.jsx("img",{src:is(ee.product_details.images[0].image_url),alt:ee.product_name,className:"w-full h-full object-cover",loading:"lazy",onError:xe=>{xe.currentTarget.style.display="none",xe.currentTarget.parentElement.innerHTML='<span class="text-xs text-gray-400"></span>'}}):n.jsx("span",{className:"text-xs text-gray-400",children:""})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:ee.product_name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",ee.quantity]})]})]}),n.jsxs("p",{className:"text-sm font-semibold flex-shrink-0",children:["",ee.total_price]})]},ye)}))||[]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(ta,{className:"h-4 w-4"}),"Payment Details"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",e.subtotal]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Delivery Fee:"}),n.jsxs("span",{children:["",e.delivery_fee]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tax:"}),n.jsxs("span",{children:["",e.tax_amount]})]}),n.jsx("hr",{className:"my-1"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",e.total_amount]})]}),n.jsxs("div",{className:"flex justify-between mt-2",children:[n.jsx("span",{children:"Payment Method:"}),n.jsx("span",{className:"capitalize",children:e.payment_method})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Payment Status:"}),n.jsx(Me,{variant:e.payment_status==="paid"?"default":"secondary",className:"text-xs",children:e.payment_status})]})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(pE,{className:"h-4 w-4"}),"Order Timeline"]}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Ordered:"})," ",new Date(e.created_at).toLocaleDateString()," at ",new Date(e.created_at).toLocaleTimeString()]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Order Number:"})," ",e.order_number]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:"Status:"}),n.jsx(Me,{className:`${W(e.status)} text-xs`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})]}),e.status==="delivered"&&e.review&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(vn,{className:"h-4 w-4"}),"Customer Review"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ee=>n.jsx(vn,{className:`h-4 w-4 ${ee<=e.review.overall_rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},ee))}),n.jsxs("span",{className:"text-sm font-medium",children:[e.review.overall_rating,"/5"]})]}),e.review.review_text&&n.jsx("div",{className:"bg-white p-2 rounded text-xs",children:n.jsx("p",{className:"text-gray-700",children:e.review.review_text})}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Reviewed on ",new Date(e.review.created_at).toLocaleDateString()]})]})]}),e.status==="cancelled"&&e.cancelReason&&n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(o1,{className:"h-4 w-4"}),"Cancellation Details"]}),n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),n.jsx("p",{className:"text-gray-600",children:e.cancelReason})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Cancelled By:"}),n.jsx("p",{className:"text-gray-600 capitalize",children:e.cancelledBy||"System"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Payment Status:"}),n.jsx(Me,{className:`text-xs ${e.paymentStatus==="Refunded"?"bg-green-100 text-green-800":e.paymentStatus==="Cancelled"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:e.paymentStatus})]})]})]}),((pe=e.refunds)==null?void 0:pe.map(ee=>{var ye;return n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(Qr,{className:"h-4 w-4"}),"Return/Refund Details"]}),n.jsxs("div",{className:"space-y-3 text-xs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),n.jsx(Me,{className:`text-xs ${ee.status==="requested"?"bg-yellow-100 text-yellow-800":ee.status==="approved"?"bg-green-100 text-green-800":ee.status==="rejected"?"bg-red-100 text-red-800":ee.status==="appeal"?"bg-purple-100 text-purple-800":ee.status==="processed"?"bg-blue-100 text-blue-800":ee.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),n.jsx("p",{className:"text-gray-600 capitalize",children:ee.reason.replace("_"," ")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Requested Amount:"}),n.jsxs("p",{className:"text-gray-600",children:["",ee.requested_amount]})]}),ee.approved_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Approved Amount:"}),n.jsxs("p",{className:"text-gray-600",children:["",ee.approved_amount]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[n.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Customer Refund Details:"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Method:"})," ",ee.refund_method]}),ee.refund_method==="esewa"&&ee.esewa_number&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"eSewa Number:"})," ",ee.esewa_number]}),ee.refund_method==="khalti"&&ee.khalti_number&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Khalti Number:"})," ",ee.khalti_number]}),ee.refund_method==="bank"&&n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Account Name:"})," ",ee.bank_account_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",ee.bank_account_number]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Branch:"})," ",ee.bank_branch]})]})]})]}),ee.customer_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Customer Notes:"}),n.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:ee.customer_notes})]}),ee.admin_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Vendor Response:"}),n.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:ee.admin_notes})]}),((ye=ee.evidence_photos)==null?void 0:ye.length)>0&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Evidence Documents:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:ee.evidence_photos.map((Ce,ue)=>{var ce;const je=(ce=Ce.filename)==null?void 0:ce.match(/\.(jpg|jpeg|png|gif|webp)$/i);let xe;return Ce.filename.startsWith("http")?xe=Ce.filename:xe=is(Ce.filename),n.jsxs("div",{className:"bg-white p-2 rounded border hover:shadow-md transition-shadow",children:[je?n.jsxs("div",{className:"cursor-pointer mb-2 group",onClick:()=>{P(xe),k(!0)},children:[n.jsxs("div",{className:"relative overflow-hidden rounded",children:[n.jsx("img",{src:xe,alt:Ce.filename,className:"w-full h-20 object-cover rounded mb-1 group-hover:scale-105 transition-transform",onError:fe=>{fe.currentTarget.src="/placeholder-image.svg",fe.currentTarget.alt="Image not found"}}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:n.jsx(An,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),n.jsx("p",{className:"text-xs text-blue-600 font-medium",children:" Click to enlarge"})]}):n.jsx("div",{className:"w-full h-20 bg-gray-100 rounded mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>{window.open(xe,"_blank")},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"h-6 w-6 text-gray-400 mx-auto mb-1"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Document"})]})}),n.jsx("p",{className:"font-medium text-xs truncate",title:Ce.filename,children:Ce.filename||`Document ${ue+1}`}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",Ce.uploaded_by]}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date(Ce.uploaded_at).toLocaleDateString()]})]},ue)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500",children:[n.jsx("div",{children:n.jsxs("p",{children:["Requested: ",new Date(ee.requested_at).toLocaleDateString()]})}),ee.approved_at&&n.jsx("div",{children:n.jsxs("p",{children:["Approved: ",new Date(ee.approved_at).toLocaleDateString()]})}),ee.processed_at&&n.jsx("div",{children:n.jsxs("p",{children:["Processed: ",new Date(ee.processed_at).toLocaleDateString()]})}),ee.completed_at&&n.jsx("div",{children:n.jsxs("p",{children:["Completed: ",new Date(ee.completed_at).toLocaleDateString()]})}),ee.appeal_at&&n.jsx("div",{children:n.jsxs("p",{children:["Appealed: ",new Date(ee.appeal_at).toLocaleDateString()]})})]})]})]},ee.id)}))||[]]}),e.status==="new"&&n.jsxs("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:[n.jsx(te,{variant:"outline",className:"flex-1",onClick:()=>t(null),children:"Reject"}),n.jsx(te,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>{q(e.id,"confirmed"),r(ee=>Math.max(0,ee-1)),t(null)},children:"Accept Order"})]}),e.status==="confirmed"&&n.jsx("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(te,{variant:"outline",className:"flex-1",onClick:()=>{a(!1),c(""),h(""),m(""),p(""),v("")},children:"Cancel"}),n.jsx(te,{className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:!o||!d||!u||!x,onClick:async()=>{try{const{response:ee}=await Fe(`/api/vendor/orders/${e.id}/status/`,{method:"POST",body:JSON.stringify({status:"out_for_delivery",delivery_boy_phone:o,vehicle_number:d,vehicle_color:f,estimated_delivery_time:u,delivery_fee:parseFloat(x),notes:"Order shipped with delivery details"})});ee.ok&&(H(),a(!1),c(""),h(""),m(""),p(""),v(""),t(null))}catch(ee){console.error("Error shipping order:",ee)}},children:"Confirm Ship"})]}):n.jsxs(te,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>a(!0),children:[n.jsx(ql,{className:"h-4 w-4 mr-2"}),"Ship Order"]})})]})]})}),n.jsx(Fo,{open:A,onOpenChange:k,children:n.jsxs(Da,{className:"max-w-5xl max-h-[95vh] p-4",children:[n.jsx(Fa,{className:"pb-4",children:n.jsxs($a,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"h-5 w-5"}),"Evidence Document Preview"]})}),n.jsx("div",{className:"flex justify-center items-center bg-gray-50 rounded-lg p-4",children:n.jsx("img",{src:R,alt:"Evidence Preview",className:"max-w-full max-h-[75vh] object-contain rounded shadow-lg",onError:ee=>{ee.currentTarget.src="/placeholder-image.svg",ee.currentTarget.alt="Image not found"}})}),n.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>window.open(R,"_blank"),children:[n.jsx(Gf,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{const ee=document.createElement("a");ee.href=R,ee.download="evidence-document",ee.click()},children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})})},vl={getProducts:async()=>{const{response:e,data:t}=await Fe("/products/");if(!e.ok)throw new Error("Failed to fetch products");return t},getProduct:async e=>{const{response:t,data:s}=await Fe(`/products/${e}/`);if(!t.ok)throw new Error("Failed to fetch product");return s},createProduct:async e=>{const t=new FormData;Object.entries(e).forEach(([i,a])=>{i==="image_files"&&Array.isArray(a)?a.forEach((o,c)=>{o instanceof File&&t.append("image_files",o)}):typeof a=="object"?t.append(i,JSON.stringify(a)):t.append(i,String(a))});const{response:s,data:r}=await Fe("/products/",{method:"POST",body:t});if(!s.ok)throw new Error("Failed to create product");return r},updateProduct:async(e,t)=>{const s=new FormData;Object.entries(t).forEach(([a,o])=>{a==="image_files"&&Array.isArray(o)?o.forEach(c=>{c instanceof File&&s.append("image_files",c)}):typeof o=="boolean"?s.append(a,o?"true":"false"):typeof o=="object"&&o!==null?s.append(a,JSON.stringify(o)):o!=null&&s.append(a,String(o))});const{response:r,data:i}=await Fe(`/products/${e}/`,{method:"PATCH",body:s});if(!r.ok)throw console.error("Update failed:",r.status),new Error(`Failed to update product: ${r.status}`);return i},deleteProduct:async e=>{const{response:t}=await Fe(`/products/${e}/`,{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete product")}},Vne=({message:e,show:t,onClose:s,duration:r=3e3})=>{const[i,a]=j.useState(!1);return j.useEffect(()=>{if(t){a(!0);const o=setTimeout(()=>{a(!1),setTimeout(s,300)},r);return()=>clearTimeout(o)}},[t,r,s]),!t&&!i?null:n.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center pointer-events-none transition-all duration-300 ${i?"opacity-100":"opacity-0"}`,children:[n.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl border border-green-200 p-6 mx-4 max-w-sm w-full pointer-events-auto transform transition-all duration-300 ${i?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(qu,{className:"h-6 w-6 text-green-600"})})}),n.jsx("div",{className:"flex-1",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})})]}),n.jsx("button",{onClick:()=>{a(!1),setTimeout(s,300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(rs,{className:"h-5 w-5"})})]}),n.jsx("p",{className:"text-gray-600 text-center",children:e}),n.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-1",children:n.jsx("div",{className:"bg-green-500 h-1 rounded-full transition-all duration-300 ease-linear",style:{animation:i?`shrink ${r}ms linear`:"none"}})})]}),n.jsx("style",{jsx:!0,children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},Une=d4({name:wn().min(1,"Product name is required"),category:wn().min(1,"Category is required"),subcategory:wn().optional(),price:Mi().min(0,"Price must be positive"),cost_price:Mi().nullable().optional().transform(e=>e===void 0?null:e),sku:wn().optional(),barcode:wn().optional(),quantity:Mi().min(0,"Quantity must be positive"),low_stock_threshold:Mi().min(0).optional(),description:wn().min(1,"Description is required"),short_description:wn().optional(),tags:km(wn()).default([]),image_files:km(Gy()).min(1,"At least one image is required"),status:h4(["active","draft","archived"]).default("active"),featured:Zy().default(!1),seo_title:wn().optional(),seo_description:wn().optional(),dynamic_fields:u4(Gy()).default({})}),qne=()=>{const e=nt(),[t,s]=j.useState(""),[r,i]=j.useState([]),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(""),[m,u]=j.useState(!1),[p,x]=j.useState(!1),[v,w]=j.useState(""),[b,y]=j.useState([]),_=r4({resolver:a4(Une),defaultValues:{name:"",category:"",price:"",cost_price:null,quantity:"",description:"",tags:[],image_files:[],status:"active",featured:!1,dynamic_fields:{}}}),{control:N,handleSubmit:E,watch:I,setValue:C,formState:{errors:O}}=_,A=I("category");j.useEffect(()=>{s(A)},[A]),j.useEffect(()=>{(async()=>{try{const{apiRequest:Z}=await et(async()=>{const{apiRequest:F}=await Promise.resolve().then(()=>ai);return{apiRequest:F}},void 0),{response:B,data:q}=await Z("/api/vendor-profiles/");if(console.log("Vendor profile response:",{response:B.ok,data:q}),B.ok&&q&&q.results&&q.results.length>0){const $=q.results[0].categories||[];console.log("Vendor categories:",$),y($);const z={Clothing:"clothing",Electronics:"electronics",Food:"food",Baby:"baby",Grocery:"grocery",Meat:"meat",Medicine:"medicine"};if($.length>0){const G=z[$[0]]||$[0].toLowerCase();console.log("Mapped category:",$[0],"->",G),C("category",G),s(G)}}}catch(Z){console.error("Error fetching vendor profile:",Z)}})()},[C]);const k=W=>{const Z=W.target.files;if(Z){const B=Array.from(Z),q=B.map(F=>URL.createObjectURL(F));i(F=>[...F,...B]),o(F=>[...F,...q]),C("image_files",[...r,...B])}},R=W=>{URL.revokeObjectURL(a[W]);const Z=r.filter((q,F)=>F!==W),B=a.filter((q,F)=>F!==W);i(Z),o(B),C("image_files",Z)},P=()=>{if(h.trim()&&!c.includes(h.trim())){const W=[...c,h.trim()];d(W),C("tags",W),f("")}},T=W=>{const Z=c.filter(B=>B!==W);d(Z),C("tags",Z)},M=async W=>{try{const Z={...W};if((Z.cost_price===null||Z.cost_price===void 0)&&delete Z.cost_price,await vl.createProduct(Z),w("Product created successfully!"),x(!0),_.reset(),a.forEach(B=>URL.revokeObjectURL(B)),i([]),o([]),d([]),b.length>0){const q={Clothing:"clothing",Electronics:"electronics",Food:"food",Baby:"baby",Grocery:"grocery",Meat:"meat",Medicine:"medicine"}[b[0]]||b[0].toLowerCase();C("category",q),s(q)}}catch(Z){Qs.error("Failed to create product. Please try again."),console.error("Error creating product:",Z)}},H=W=>{const Z=`dynamic_fields.${W.name}`;switch(W.type){case"text":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>n.jsx(me,{...B,placeholder:W.placeholder,className:"h-8 text-xs"})})]},W.name);case"number":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>n.jsx(me,{...B,type:"number",placeholder:W.placeholder,className:"h-8 text-xs",onChange:q=>B.onChange(Number(q.target.value))})})]},W.name);case"select":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>{var q;return n.jsxs(rn,{onValueChange:B.onChange,value:B.value,children:[n.jsx(Qt,{className:"h-8 text-xs",children:n.jsx(an,{placeholder:`Select ${W.label.toLowerCase()}`})}),n.jsx(Jt,{children:(q=W.options)==null?void 0:q.map(F=>n.jsx(qe,{value:F,className:"text-xs",children:F},F))})]})}})]},W.name);case"multiselect":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>{var F;const q=B.value||[];return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(rn,{onValueChange:$=>{q.includes($)||B.onChange([...q,$])},children:[n.jsx(Qt,{className:"h-8 text-xs",children:n.jsx(an,{placeholder:`Select ${W.label.toLowerCase()}`})}),n.jsx(Jt,{children:(F=W.options)==null?void 0:F.map($=>n.jsx(qe,{value:$,className:"text-xs",children:$},$))})]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:q.map($=>n.jsxs(Me,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[$,n.jsx(rs,{className:"h-2 w-2 cursor-pointer",onClick:()=>{B.onChange(q.filter(z=>z!==$))}})]},$))})]})}})]},W.name);case"textarea":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>n.jsx(Wn,{...B,placeholder:W.placeholder,className:"text-xs",rows:2})})]},W.name);case"boolean":return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(St,{name:Z,control:N,render:({field:B})=>n.jsx(Yt,{checked:B.value,onCheckedChange:B.onChange})}),n.jsx(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:W.label})]},W.name);case"date":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>n.jsx(me,{...B,type:"date",className:"h-8 text-xs"})})]},W.name);default:return null}};return m?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:n.jsx(Dt,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-lg font-semibold",children:"Product Preview"})]}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>u(!1),children:"Edit"})]})}),n.jsx(M4,{productData:I()})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/vendor/dashboard"),children:n.jsx(Dt,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-lg font-semibold",children:"Add New Product"})]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>u(!0),children:[n.jsx(An,{className:"h-4 w-4 mr-1"}),"Preview"]})]})}),n.jsx("div",{className:"max-w-2xl mx-auto p-4",children:n.jsxs("form",{onSubmit:E(M),className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ot,{className:"h-4 w-4 text-blue-600"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Basic Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"col-span-2 space-y-1",children:[n.jsxs(de,{htmlFor:"name",className:"text-xs font-medium text-gray-700",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:"name",control:N,render:({field:W})=>n.jsx(me,{...W,placeholder:"Enter product name",className:"h-8 text-xs"})}),O.name&&n.jsx("p",{className:"text-red-500 text-xs",children:O.name.message})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:"category",className:"text-xs font-medium text-gray-700",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"flex items-center gap-2 p-2 bg-gray-50 border rounded-md h-8",children:t?(()=>{const W=I4().find(Z=>Z.value===t);return W?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:W.icon}),n.jsx("span",{className:"text-xs font-medium",children:W.label})]}):n.jsxs("span",{className:"text-xs text-gray-500",children:["Category: ",t]})})():n.jsx("span",{className:"text-xs text-gray-500",children:"Loading..."})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Auto-selected from your vendor profile"}),n.jsx("input",{type:"hidden",..._.register("category"),value:t})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(de,{className:"text-xs font-medium text-gray-700",children:"Unit"}),n.jsx(me,{value:t?m2(t):"piece",disabled:!0,className:"h-8 text-xs bg-gray-50"})]})]})]}),t&&Fs[t]&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(SE,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"mr-1",children:Fs[t].icon}),n.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:[Fs[t].name," Details"]})]}),Fs[t].subcategories&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(de,{className:"text-xs font-medium text-gray-700",children:"Subcategory"}),n.jsx(St,{name:"subcategory",control:N,render:({field:W})=>{var Z;return n.jsxs(rn,{onValueChange:W.onChange,value:W.value,children:[n.jsx(Qt,{className:"h-8 text-xs",children:n.jsx(an,{placeholder:"Select subcategory"})}),n.jsx(Jt,{children:(Z=Fs[t].subcategories)==null?void 0:Z.map(B=>n.jsx(qe,{value:B,className:"text-xs",children:B},B))})]})}})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:Fs[t].fields.map(H)})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Pricing & Inventory"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:"price",className:"text-xs font-medium text-gray-700",children:["Selling Price ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:"price",control:N,render:({field:W})=>n.jsx(me,{...W,type:"number",step:"0.01",placeholder:"0.00",className:"h-8 text-xs",onChange:Z=>W.onChange(Number(Z.target.value))})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(de,{htmlFor:"cost_price",className:"text-xs font-medium text-gray-700",children:"Cost Price"}),n.jsx(St,{name:"cost_price",control:N,render:({field:W})=>n.jsx(me,{type:"number",step:"0.01",placeholder:"0.00",className:"h-8 text-xs",value:W.value??"",onChange:Z=>{const B=Z.target.value;W.onChange(B?Number(B):null)}})})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:"quantity",className:"text-xs font-medium text-gray-700",children:["Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:"quantity",control:N,render:({field:W})=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(me,{type:"number",placeholder:"0",className:"h-8 text-xs flex-1",value:W.value||"",onChange:Z=>W.onChange(Z.target.value?Number(Z.target.value):"")}),n.jsx("span",{className:"text-xs text-gray-500 flex items-center px-2",children:t?m2(t):"piece"})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-4 w-4 text-purple-600"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Images"})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:k,className:"hidden",id:"image-upload"}),n.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[n.jsx(gu,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Click to upload images"})]})]}),a.length>0&&n.jsx("div",{className:"grid grid-cols-4 gap-2",children:a.map((W,Z)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:W,alt:`Product ${Z+1}`,className:"w-full h-12 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>R(Z),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(rs,{className:"h-3 w-3"})}),Z===0&&n.jsx(Me,{className:"absolute bottom-0 left-0 text-xs px-1 py-0",children:"Main"})]},Z))})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wE,{className:"h-4 w-4 text-orange-600"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Description"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(de,{htmlFor:"description",className:"text-xs font-medium text-gray-700",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(St,{name:"description",control:N,render:({field:W})=>n.jsx(E4,{theme:"snow",value:W.value,onChange:W.onChange,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},style:{minHeight:"120px",fontSize:"12px"}})}),O.description&&n.jsx("p",{className:"text-red-500 text-xs",children:O.description.message})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Tags"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(me,{value:h,onChange:W=>f(W.target.value),placeholder:"Add a tag",className:"h-8 text-xs",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),P())}),n.jsx(te,{type:"button",onClick:P,variant:"outline",size:"sm",children:n.jsx(gn,{className:"h-3 w-3"})})]}),c.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(W=>n.jsxs(Me,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[W,n.jsx(rs,{className:"h-2 w-2 cursor-pointer",onClick:()=>T(W)})]},W))})]}),n.jsxs("div",{className:"flex gap-3 sticky bottom-4 bg-white p-3 border border-gray-200 rounded-lg",children:[n.jsx(te,{type:"button",variant:"outline",className:"flex-1 h-9 text-xs",onClick:()=>{C("status","draft"),E(M)()},children:"Save as Draft"}),n.jsxs(te,{type:"submit",className:"flex-1 h-9 text-xs",children:[n.jsx(Oc,{className:"h-3 w-3 mr-1"}),"Publish Product"]})]})]})}),n.jsx(Vne,{message:v,show:p,onClose:()=>x(!1),duration:3e3})]})},Hne=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState("khalti"),[i,a]=j.useState(""),[o,c]=j.useState(!0),[d,h]=j.useState("all"),[f,m]=j.useState(""),[u,p]=j.useState(""),[x,v]=j.useState(null),[w,b]=j.useState([]),[y,_]=j.useState(!1),[N,E]=j.useState(!0),[I,C]=j.useState(!1),[O,A]=j.useState(null),[k,R]=j.useState(1),[P,T]=j.useState(1),[M,H]=j.useState(0),W=20,Z=async()=>{try{const{response:U,data:ne}=await Fe("/api/accounts/wallet/");U.ok&&ne?v(ne):Qs.error("Failed to fetch wallet data")}catch(U){console.error("Error fetching wallet data:",U),Qs.error("Error loading wallet data")}finally{E(!1)}},B=async()=>{try{const U=new URLSearchParams({date_filter:d,page:k.toString(),page_size:W.toString()});d==="custom"&&f&&u&&(U.append("date_from",f),U.append("date_to",u));const{response:ne,data:se}=await Fe(`/api/accounts/wallet/transactions/?${U}`);ne.ok&&se?(b(se.transactions),T(se.total_pages),H(se.total_count)):Qs.error("Failed to fetch transactions")}catch(U){console.error("Error fetching transactions:",U),Qs.error("Error loading transactions")}};j.useEffect(()=>{Z();const U=()=>{Z()};return window.addEventListener("walletUpdated",U),()=>{window.removeEventListener("walletUpdated",U)}},[]),j.useEffect(()=>{x&&B()},[x,d,k,f,u]),j.useEffect(()=>{const U=()=>{Z(),B()};return window.addEventListener("walletUpdated",U),()=>{window.removeEventListener("walletUpdated",U)}},[]),j.useEffect(()=>{const U=new URLSearchParams(window.location.search);if(U.get("payment_complete")==="1"){const ne=U.get("pidx");ne?q(ne):(Qs.success("Payment completed successfully!"),Z()),window.history.replaceState({},document.title,window.location.pathname)}},[]);const q=async U=>{try{const{response:ne,data:se}=await Fe("/api/accounts/wallet/khalti-verify/",{method:"POST",body:JSON.stringify({pidx:U})});ne.ok&&se&&se.success?(Qs.success(`Payment verified! ${se.amount} added to wallet`),Z()):Qs.error((se==null?void 0:se.error)||"Payment verification failed")}catch(ne){console.error("Error verifying payment:",ne),Qs.error("Error verifying payment")}},F=async()=>{if(!s||!i)return;const{simplePersistentAuth:U}=await et(async()=>{const{simplePersistentAuth:se}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:se}},[]);if(!await U.isVendorLoggedIn()){Qs.error("Please login to continue");return}if(_(!0),s==="khalti")try{const{response:se,data:le}=await Fe("/api/accounts/wallet/khalti-payment/",{method:"POST",body:JSON.stringify({amount:parseFloat(i)})});se.ok&&le&&le.success?window.location.href=le.payment_url:(Qs.error((le==null?void 0:le.error)||"Failed to initiate payment"),_(!1))}catch(se){console.error("Error initiating payment:",se),Qs.error("Error processing payment"),_(!1)}t(!1),a("")},$=()=>w.filter(U=>U.transaction_type==="credit").reduce((U,ne)=>U+parseFloat(ne.amount),0),z=()=>w.filter(U=>U.transaction_type==="debit").reduce((U,ne)=>U+parseFloat(ne.amount),0),G=U=>new Date(U).toLocaleDateString(),X=U=>new Date(U).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),J=()=>{const ne=`
===========================================
           WALLET TRANSACTION SUMMARY
===========================================
Generated: ${new Date().toLocaleDateString()}
Store: ${(x==null?void 0:x.business_name)||"N/A"}
Period: ${d==="custom"?`${f} to ${u}`:d.toUpperCase()}

BALANCE OVERVIEW
-------------------------------------------
Current Balance: ${(x==null?void 0:x.balance)||"0.00"}
Total Credit: ${$().toFixed(2)}
Total Debit: ${z().toFixed(2)}
Net Amount: ${($()-z()).toFixed(2)}

TRANSACTION DETAILS (${w.length} transactions)
-------------------------------------------
${w.map(le=>`${G(le.created_at)} ${X(le.created_at)} | ${le.transaction_type.toUpperCase().padEnd(6)} | ${parseFloat(le.amount).toFixed(2).padStart(8)} | ${le.description}`).join(`
`)}

===========================================
    `,se=window.open("","_blank");se==null||se.document.write(`<pre style="font-family: monospace; font-size: 12px; line-height: 1.4;">${ne}</pre>`),se==null||se.print()},K=()=>{const U=[["Date","Time","Type","Amount","Description","Method","Status"].join(","),...w.map(pe=>[G(pe.created_at),X(pe.created_at),pe.transaction_type,parseFloat(pe.amount).toFixed(2),`"${pe.description}"`,pe.payment_method||"N/A",pe.status].join(","))].join(`
`),ne=new Blob([U],{type:"text/csv"}),se=window.URL.createObjectURL(ne),le=document.createElement("a");le.href=se,le.download=`wallet-transactions-${d}-${new Date().toISOString().split("T")[0]}.csv`,le.click(),window.URL.revokeObjectURL(se)};return n.jsx(It,{title:"Wallet",children:n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 pb-20",children:[n.jsxs("div",{className:"bg-white border-b p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Xf,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"My Wallet"}),n.jsx("p",{className:"text-gray-600 text-sm",children:(x==null?void 0:x.business_name)||"Loading..."})]})]}),n.jsx(te,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-100",onClick:()=>c(!o),children:o?n.jsx(An,{className:"h-4 w-4"}):n.jsx(tb,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Available Balance"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-3",children:o?`${(x==null?void 0:x.balance)||"0.00"}`:"****.**"}),n.jsxs(te,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium",onClick:()=>t(!0),children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Add Money"]})]})]}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ne,{className:"bg-white shadow-sm",children:n.jsx(ke,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx($s,{className:"h-4 w-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"This Month"}),n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["+",(x==null?void 0:x.total_earned)||"0.00"]})]})]})})}),n.jsx(Ne,{className:"bg-white shadow-sm",children:n.jsx(ke,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(OD,{className:"h-4 w-4 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Expenses"}),n.jsxs("p",{className:"text-sm font-bold text-red-600",children:["-",(x==null?void 0:x.total_spent)||"0.00"]})]})]})})})]})}),n.jsxs("div",{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transactions"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:J,children:[n.jsx(PD,{className:"h-4 w-4 mr-1"}),"Print"]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:K,children:[n.jsx(eb,{className:"h-4 w-4 mr-1"}),"Export"]}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>C(!0),children:n.jsx(to,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"all",label:"All"},{key:"today",label:"Today"},{key:"week",label:"This Week"},{key:"custom",label:"Custom"}].map(U=>n.jsx(te,{variant:d===U.key?"default":"outline",size:"sm",className:"whitespace-nowrap",onClick:()=>h(U.key),children:U.label},U.key))})]}),n.jsx("div",{className:"px-4 space-y-2",children:N?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx(Zf,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Loading transactions..."})]}):w.length>0?w.map(U=>n.jsx(Ne,{className:"bg-white shadow-sm cursor-pointer hover:bg-gray-50",onClick:()=>A(U),children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${U.transaction_type==="credit"?"bg-green-100":"bg-red-100"}`,children:U.transaction_type==="credit"?n.jsx(i1,{className:"h-5 w-5 text-green-600"}):n.jsx(a1,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:U.description}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsxs("span",{children:[G(U.created_at)," at ",X(U.created_at)]}),n.jsx(Me,{variant:U.status==="completed"?"default":"secondary",className:"text-xs",children:U.status})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`text-sm font-bold ${U.transaction_type==="credit"?"text-green-600":"text-red-600"}`,children:[U.transaction_type==="credit"?"+":"-","",parseFloat(U.amount).toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-500",children:U.payment_method||"N/A"})]})]})})},U.id)):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xf,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No transactions found"})]})}),P>1&&n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(k-1)*W+1,"-",Math.min(k*W,M)," of ",M," transactions"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{variant:"outline",size:"sm",onClick:()=>R(k-1),disabled:k===1,className:"h-8 w-8 p-0",children:n.jsx(xE,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,P)},(U,ne)=>{const se=k<=3?ne+1:k-2+ne;return se>P?null:n.jsx(te,{variant:k===se?"default":"outline",size:"sm",onClick:()=>R(se),className:"h-8 w-8 p-0 text-xs",children:se},se)})}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>R(k+1),disabled:k===P,className:"h-8 w-8 p-0",children:n.jsx(hc,{className:"h-4 w-4"})})]})]})}),n.jsx(zi,{open:e,onOpenChange:t,children:n.jsxs(ui,{side:"bottom",className:"h-[80vh] rounded-t-3xl",children:[n.jsx(hi,{className:"pb-6",children:n.jsx(fi,{className:"text-center text-xl",children:"Add Money to Wallet"})}),n.jsxs("div",{className:"space-y-6 overflow-y-auto h-full pb-20",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(de,{className:"text-sm font-medium",children:"Enter Amount"}),n.jsx(me,{type:"number",placeholder:" 0.00",value:i,onChange:U=>a(U.target.value),className:"h-12 text-lg text-center"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:[500,1e3,2e3].map(U=>n.jsxs(te,{variant:"outline",onClick:()=>a(U.toString()),className:"h-10",children:["",U]},U))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(de,{className:"text-sm font-medium",children:"Payment Method"}),n.jsx(Ne,{className:"cursor-pointer transition-all ring-2 ring-purple-500 bg-purple-50",onClick:()=>r("khalti"),children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(ta,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Khalti"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Secure digital payment gateway"})]})]})})})]}),n.jsx("div",{className:"fixed bottom-4 left-4 right-4",children:n.jsx(te,{className:"w-full h-12 text-lg font-medium",disabled:!s||!i||y,onClick:F,children:y?n.jsxs(n.Fragment,{children:[n.jsx(Zf,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):`Add ${i||"0"}`})})]})]})}),n.jsx(zi,{open:I,onOpenChange:C,children:n.jsxs(ui,{side:"right",className:"w-full sm:w-80",children:[n.jsx(hi,{className:"pb-4",children:n.jsxs(fi,{className:"flex items-center justify-between",children:["Filter Transactions",n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>C(!1),children:n.jsx(rs,{className:"h-4 w-4"})})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-sm font-medium mb-2 block",children:"Date Range"}),n.jsx("div",{className:"space-y-2",children:[{key:"all",label:"All Time"},{key:"today",label:"Today"},{key:"week",label:"This Week"},{key:"custom",label:"Custom Range"}].map(U=>n.jsx(te,{variant:d===U.key?"default":"outline",size:"sm",className:"w-full justify-start",onClick:()=>{h(U.key),R(1)},children:U.label},U.key))})]}),d==="custom"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-xs font-medium",children:"From Date"}),n.jsx(me,{type:"date",value:f,onChange:U=>{m(U.target.value),R(1)},className:"h-9 text-sm mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{className:"text-xs font-medium",children:"To Date"}),n.jsx(me,{type:"date",value:u,onChange:U=>{p(U.target.value),R(1)},className:"h-9 text-sm mt-1"})]})]}),n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Total Transactions: ",M]}),n.jsxs("p",{children:["Total Credit: ",$().toFixed(2)]}),n.jsxs("p",{children:["Total Debit: ",z().toFixed(2)]}),n.jsxs("p",{className:"font-medium",children:["Net: ",($()-z()).toFixed(2)]})]})})]})]})}),n.jsx(zi,{open:!!O,onOpenChange:()=>A(null),children:n.jsxs(ui,{side:"bottom",className:"h-[70vh] rounded-t-xl",children:[n.jsx(hi,{className:"pb-4",children:n.jsx(fi,{className:"text-left",children:"Transaction Details"})}),O&&n.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${O.transaction_type==="credit"?"bg-green-100":"bg-red-100"}`,children:O.transaction_type==="credit"?n.jsx(i1,{className:"h-6 w-6 text-green-600"}):n.jsx(a1,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-lg",children:O.description}),n.jsxs("p",{className:`text-xl font-bold ${O.transaction_type==="credit"?"text-green-600":"text-red-600"}`,children:[O.transaction_type==="credit"?"+":"-","",parseFloat(O.amount).toFixed(2)]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Transaction ID"}),n.jsxs("p",{className:"font-medium",children:["TXN-",O.id]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Status"}),n.jsx(Me,{variant:O.status==="completed"?"default":"secondary",children:O.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("p",{className:"font-medium",children:[G(O.created_at)," at ",X(O.created_at)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Method"}),n.jsx("p",{className:"font-medium",children:O.payment_method||"N/A"})]})]})]}),(O.order_amount||O.reference_id)&&n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(ei,{className:"h-4 w-4"}),"Additional Details"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[O.order_amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order Amount:"}),n.jsxs("span",{className:"font-medium",children:["",parseFloat(O.order_amount).toFixed(2)]})]}),O.reference_id&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Reference ID:"}),n.jsx("span",{className:"font-medium",children:O.reference_id})]})]})]})]})]})})]})})},Wne=()=>{const e=nt(),{toast:t}=cn(),{logout:s,state:r,login:i}=sa(),[a,o]=j.useState("personal"),[c,d]=j.useState(!1),[h,f]=j.useState(!0),[m,u]=j.useState("");j.useState(null);const[p,x]=j.useState(null),[v,w]=j.useState(!1),[b,y]=j.useState(""),[_,N]=j.useState(null),[E,I]=j.useState({businessName:"",ownerName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",businessType:"",categories:[],description:"",bankName:"",accountNumber:"",ifscCode:"",accountHolderName:"",gstNumber:"",panNumber:"",businessLicense:null,gstCertificate:null,fssaiLicense:null,additionalDocs:[],deliveryRadius:"",minOrderAmount:"",profileImage:null});j.useEffect(()=>{C(),O(),A()},[]);const C=async()=>{var F,$;try{const{simplePersistentAuth:z}=await et(async()=>{const{simplePersistentAuth:U}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:U}},[]);if(!await z.isVendorLoggedIn()){e("/vendor/login");return}const X=await z.getVendorAuth();X&&await Te.setAuth(X.token,X.user);const{response:J,data:K}=await Fe("/vendor-profiles/");if(!J.ok)throw new Error("Failed to fetch profile data");if(K&&K.results&&K.results.length>0){const U=K.results[0],{response:ne,data:se}=await Fe("/vendor-documents/");let le=[];ne.ok&&se&&(le=se.results||[]),I({businessName:U.business_name||"",ownerName:U.owner_name||"",email:U.business_email||"",phone:U.business_phone||"",address:U.business_address||"",city:U.city||"",state:U.state||"",pincode:U.pincode||"",businessType:U.business_type||"",categories:U.categories||[],description:U.description||"",bankName:U.bank_name||"",accountNumber:U.account_number||"",ifscCode:U.ifsc_code||"",accountHolderName:U.account_holder_name||"",gstNumber:U.gst_number||"",panNumber:U.pan_number||"",businessLicense:U.business_license_file?{name:"Business License",url:U.business_license_file}:null,gstCertificate:U.gst_certificate?{name:"GST Certificate",url:U.gst_certificate}:null,fssaiLicense:U.fssai_license?{name:"FSSAI License",url:U.fssai_license}:null,additionalDocs:le.map(pe=>({name:`Document ${pe.id}`,url:pe.document})),deliveryRadius:((F=U.delivery_radius)==null?void 0:F.toString())||"",minOrderAmount:U.min_order_amount||"",profileImage:(($=U.user_info)==null?void 0:$.profile_picture)||null})}}catch(z){console.error("Error fetching profile:",z),u("Failed to load profile data")}finally{f(!1)}},O=async()=>{try{const{simplePersistentAuth:F}=await et(async()=>{const{simplePersistentAuth:J}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:J}},[]);if(!await F.isVendorLoggedIn()){e("/vendor/login");return}const z=await F.getVendorAuth();z&&await Te.setAuth(z.token,z.user);const{response:G,data:X}=await Fe("/profile/");if(G.ok&&X){const J={...r.user,available_roles:X.available_roles,current_role:X.current_role};console.log("Updated user data:",J)}}catch(F){console.error("Error fetching user profile:",F)}},A=async()=>{try{const F=await fetch("/api/delivery-radius/"),$=await F.json();F.ok&&N($.delivery_radius)}catch(F){console.error("Error fetching admin delivery radius:",F)}},k=[{value:"retailer",label:"Retailer"},{value:"wholesaler",label:"Wholesaler"},{value:"manufacturer",label:"Manufacturer"},{value:"service_provider",label:"Service Provider"},{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"}],R=["Electronics","Fashion","Food","Home","Books","Sports","Beauty","Toys","Jewelry","Furniture","Automotive","Health & Wellness","Pet Supplies","Stationery","Garden & Outdoor","Kids & Baby","Appliances","Hardware","Crafts & Hobbies","Travel & Luggage"],P=(F,$)=>{I(z=>({...z,[F]:$}))},T=F=>{const $=E.categories.includes(F)?E.categories.filter(z=>z!==F):[...E.categories,F];P("categories",$)},M=async F=>{if(F)try{if(!await Te.isAuthenticated())return;const z=new FormData;z.append("profile_picture",F);const{response:G,data:X}=await Fe("/api/profile/upload-picture/",{method:"POST",body:z});if(G.ok&&X)console.log("Upload result:",X),console.log("Profile picture URL:",X.profile_picture),I(J=>({...J,profileImage:X.profile_picture||null})),t({title:"Success",description:"Profile image updated successfully!"}),setTimeout(()=>{C()},500);else{const J=await G.json();throw console.error("Profile image upload error:",J),new Error("Profile image upload failed")}}catch($){console.error("Profile image upload error:",$),t({title:"Error",description:"Failed to upload profile image. Please try again.",variant:"destructive"})}},H=async(F,$,z)=>{var X;if(!$)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes($.type)){t({title:"Error",description:"Please upload only PDF, JPG, JPEG, or PNG files.",variant:"destructive"});return}if($.size>5*1024*1024){t({title:"Error",description:"File size must be less than 5MB.",variant:"destructive"});return}x(F);try{if(!await Te.isAuthenticated())return;const K=new FormData;K.append(F,$),K.append("business_name",E.businessName),K.append("business_email",E.email),K.append("business_phone",E.phone),K.append("business_address",E.address),K.append("city",E.city),K.append("state",E.state),K.append("pincode",E.pincode),K.append("business_type",E.businessType);const{response:U,data:ne}=await Fe("/vendor-profiles/");if(!U.ok)throw new Error("Failed to get profile");const se=(X=ne.results[0])==null?void 0:X.id;if(!se)throw new Error("Profile not found");const{response:le,data:pe}=await Fe(`/vendor-profiles/${se}/`,{method:"PATCH",body:K});if(!le.ok)throw new Error("Upload failed");F==="business_license_file"?P("businessLicense",{name:"Business License",url:pe.business_license_file_url}):F==="gst_certificate"?P("gstCertificate",{name:"GST Certificate",url:pe.gst_certificate_url}):F==="fssai_license"&&P("fssaiLicense",{name:"FSSAI License",url:pe.fssai_license_url}),t({title:"Success",description:"Document uploaded successfully!"}),F==="additionalDocs"&&(w(!1),y(""),C())}catch(J){console.error("Upload error:",J),t({title:"Error",description:"Failed to upload document. Please try again.",variant:"destructive"})}finally{x(null)}},W=({title:F,docType:$,document:z,onUpload:G})=>n.jsxs("div",{children:[n.jsx(de,{children:F}),n.jsxs("div",{className:"mt-2 p-4 border border-gray-300 rounded-lg bg-gray-50",children:[n.jsx(ei,{className:"h-6 w-6 mx-auto mb-2 text-gray-500"}),z?n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"text-sm text-green-600",children:" Uploaded"}),n.jsxs(Fo,{children:[n.jsx(wy,{asChild:!0,children:n.jsxs(te,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[n.jsx(An,{className:"h-3 w-3 mr-1"}),"View"]})}),n.jsxs(Da,{className:"max-w-4xl w-full h-[80vh]",children:[n.jsx(Fa,{children:n.jsx($a,{children:F})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("iframe",{src:z.url,className:"w-full h-full border-0",title:F})})]})]})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Not uploaded"}),n.jsxs(te,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",onClick:()=>{const X=z.createElement("input");X.type="file",X.accept=".pdf,.jpg,.jpeg,.png",X.onchange=J=>{var U;const K=(U=J.target.files)==null?void 0:U[0];K&&G(K)},X.click()},disabled:p===$,children:[p===$?n.jsx(Zf,{className:"h-3 w-3 mr-1 animate-spin"}):n.jsx(gu,{className:"h-3 w-3 mr-1"}),"Upload"]})]})]})]}),Z=async()=>{try{if(!await Te.isAuthenticated())return;const $={business_name:E.businessName,owner_name:E.ownerName,business_email:E.email,business_phone:E.phone,business_address:E.address,city:E.city,state:E.state,pincode:E.pincode,business_type:E.businessType,categories:E.categories,description:E.description,bank_name:E.bankName,account_number:E.accountNumber,account_holder_name:E.accountHolderName,gst_number:E.gstNumber,pan_number:E.panNumber,delivery_radius:E.deliveryRadius?parseFloat(E.deliveryRadius):null,min_order_amount:E.minOrderAmount},{response:z,data:G}=await Fe("/vendor-profiles/");if(z.ok&&G){if(G.results&&G.results.length>0){const X=G.results[0].id,{response:J}=await Fe(`/vendor-profiles/${X}/`,{method:"PUT",body:JSON.stringify($)});if(J.ok)d(!1),t({title:"Success",description:"Profile updated successfully!",variant:"default"}),C();else{const K=await J.json();throw console.error("Update error:",K),new Error("Failed to update profile")}}}else throw new Error("Failed to fetch profile for update")}catch(F){console.error("Error saving profile:",F),t({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}},B=async()=>{try{await Te.getToken()&&await Fe("/logout/",{method:"POST"})}catch(F){console.error("Logout error:",F)}finally{await s(),e("/vendor/login")}},q=[{id:"personal",label:"Personal",icon:Er},{id:"business",label:"Business",icon:Ss},{id:"address",label:"Address",icon:Bt},{id:"banking",label:"Banking",icon:ta},{id:"documents",label:"Documents",icon:ei}];return h?n.jsx(It,{title:"My Profile",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):m?n.jsx(It,{title:"My Profile",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:m}),n.jsx(te,{onClick:C,children:"Retry"})]})})}):n.jsx(It,{title:"My Profile",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-100 fixed top-14 sm:top-16 left-0 right-0 z-30",children:n.jsxs("div",{className:"flex items-center justify-between p-3 mx-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-lg overflow-hidden ${c?"cursor-pointer hover:bg-gray-200":""}`,onClick:c?()=>{const F=document.createElement("input");F.type="file",F.accept="image/*",F.onchange=$=>{var G;const z=(G=$.target.files)==null?void 0:G[0];z&&M(z)},F.click()}:void 0,children:E.profileImage?n.jsx("img",{src:E.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-semibold",children:E.businessName?E.businessName.charAt(0).toUpperCase():"V"})}),c&&n.jsx(te,{size:"sm",className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const F=document.createElement("input");F.type="file",F.accept="image/*",F.onchange=$=>{var G;const z=(G=$.target.files)==null?void 0:G[0];z&&M(z)},F.click()},children:n.jsx(Bi,{className:"h-2.5 w-2.5"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:"font-medium text-base truncate",children:E.businessName||"Business Name"}),n.jsx("p",{className:"text-gray-500 text-sm truncate",children:E.ownerName||"Owner Name"})]})]}),n.jsx(te,{onClick:()=>c?Z():d(!0),size:"sm",className:"bg-green-600 hover:bg-green-700",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Oc,{className:"h-3 w-3 mr-1"}),"Save"]}):n.jsxs(n.Fragment,{children:[n.jsx(Hu,{className:"h-3 w-3 mr-1"}),"Edit"]})})]})}),n.jsx("div",{className:"bg-white pt-16",children:n.jsxs(ra,{value:a,onValueChange:o,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx(bi,{className:"grid grid-cols-5 w-full",children:q.map(F=>n.jsxs(Mt,{value:F.id,className:"flex items-center gap-2 text-xs",children:[n.jsx(F.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:F.label})]},F.id))})}),n.jsx(ft,{value:"personal",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"ownerName",children:"Full Name *"}),n.jsx(me,{id:"ownerName",value:E.ownerName,onChange:F=>P("ownerName",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email *"}),n.jsx(me,{id:"email",type:"email",value:E.email,onChange:F=>P("email",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phone",children:"Phone Number *"}),n.jsx(me,{id:"phone",value:E.phone,onChange:F=>P("phone",F.target.value),disabled:!c})]})]})}),n.jsxs(ft,{value:"business",className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"businessName",children:"Business Name *"}),n.jsx(me,{id:"businessName",value:E.businessName,onChange:F=>P("businessName",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"businessType",children:"Business Type *"}),n.jsxs(rn,{value:E.businessType,onValueChange:F=>P("businessType",F),disabled:!c,children:[n.jsx(Qt,{children:n.jsx(an,{})}),n.jsx(Jt,{children:k.map(F=>n.jsx(qe,{value:F.value,children:F.label},F.value))})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"gstNumber",children:"GST Number"}),n.jsx(me,{id:"gstNumber",value:E.gstNumber,onChange:F=>P("gstNumber",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"panNumber",children:"PAN Number"}),n.jsx(me,{id:"panNumber",value:E.panNumber,onChange:F=>P("panNumber",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"deliveryRadius",children:"Delivery Radius (km)"}),n.jsx(me,{id:"deliveryRadius",value:_?`${_} (Set by Admin)`:E.deliveryRadius,disabled:!0,className:"bg-gray-100 text-gray-600"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Delivery radius is set by the administrator"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"minOrderAmount",children:"Min Order Amount ()"}),n.jsx(me,{id:"minOrderAmount",value:E.minOrderAmount,onChange:F=>P("minOrderAmount",F.target.value),disabled:!c})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(de,{children:"Product Categories"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:R.map(F=>n.jsx("button",{type:"button",onClick:()=>T(F),disabled:!c,className:`p-2 text-sm rounded-lg border text-left ${E.categories.includes(F)?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"} ${c?"":"opacity-50 cursor-not-allowed"}`,children:F},F))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(de,{htmlFor:"description",children:"Business Description"}),n.jsx(Wn,{id:"description",value:E.description,onChange:F=>P("description",F.target.value),rows:3,disabled:!c})]})]}),n.jsx(ft,{value:"address",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(de,{htmlFor:"address",children:"Full Address *"}),n.jsx(Wn,{id:"address",value:E.address,onChange:F=>P("address",F.target.value),disabled:!c,rows:2})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"city",children:"City *"}),n.jsx(me,{id:"city",value:E.city,onChange:F=>P("city",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"state",children:"State *"}),n.jsx(me,{id:"state",value:E.state,onChange:F=>P("state",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"pincode",children:"Pincode *"}),n.jsx(me,{id:"pincode",value:E.pincode,onChange:F=>P("pincode",F.target.value),disabled:!c})]})]})}),n.jsx(ft,{value:"banking",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"bankName",children:"Bank Name *"}),n.jsx(me,{id:"bankName",value:E.bankName,onChange:F=>P("bankName",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"accountHolderName",children:"Account Holder Name *"}),n.jsx(me,{id:"accountHolderName",value:E.accountHolderName,onChange:F=>P("accountHolderName",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"accountNumber",children:"Account Number *"}),n.jsx(me,{id:"accountNumber",value:E.accountNumber,onChange:F=>P("accountNumber",F.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"ifscCode",children:"IFSC Code *"}),n.jsx(me,{id:"ifscCode",value:E.ifscCode,onChange:F=>P("ifscCode",F.target.value),disabled:!c})]})]})}),n.jsx(ft,{value:"documents",className:"p-4 space-y-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(W,{title:"Business License",docType:"business_license_file",document:E.businessLicense,onUpload:F=>H("business_license_file",F)}),n.jsx(W,{title:"GST Certificate",docType:"gst_certificate",document:E.gstCertificate,onUpload:F=>H("gst_certificate",F)}),n.jsx(W,{title:"FSSAI License",docType:"fssai_license",document:E.fssaiLicense,onUpload:F=>H("fssai_license",F)})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(de,{children:"Additional Documents"}),n.jsxs(te,{variant:"outline",size:"sm",className:"text-green-600 hover:text-green-700",onClick:()=>w(!0),children:[n.jsx(gn,{className:"h-3 w-3 mr-1"}),"Add Document"]})]}),v&&n.jsx("div",{className:"mb-4 p-4 border border-gray-200 rounded-lg bg-white",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"docName",children:"Document Name"}),n.jsx(me,{id:"docName",value:b,onChange:F=>y(F.target.value),placeholder:"Enter document name"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{variant:"outline",size:"sm",onClick:()=>{w(!1),y("")},children:"Cancel"}),n.jsxs(te,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{if(!b.trim()){t({title:"Error",description:"Please enter a document name",variant:"destructive"});return}const F=document.createElement("input");F.type="file",F.accept=".pdf,.jpg,.jpeg,.png",F.onchange=$=>{var G;const z=(G=$.target.files)==null?void 0:G[0];z&&H("additionalDocs",z)},F.click()},disabled:p==="additionalDocs",children:[p==="additionalDocs"?n.jsx(Zf,{className:"h-3 w-3 mr-1 animate-spin"}):n.jsx(gu,{className:"h-3 w-3 mr-1"}),"Upload Document"]})]})]})}),E.additionalDocs.length>0?n.jsx("div",{className:"space-y-2",children:E.additionalDocs.map((F,$)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ei,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium",children:F.name})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(Fo,{children:[n.jsx(wy,{asChild:!0,children:n.jsxs(te,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[n.jsx(An,{className:"h-3 w-3 mr-1"}),"View"]})}),n.jsxs(Da,{className:"max-w-4xl w-full h-[80vh]",children:[n.jsx(Fa,{children:n.jsx($a,{children:F.name})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("iframe",{src:F.url,className:"w-full h-full border-0",title:F.name})})]})]})})]},$))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ei,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No additional documents uploaded"})]})]})]})})]})}),n.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:n.jsx(GO,{})}),n.jsx("div",{className:"p-4 pb-20",children:n.jsxs(te,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:B,children:[n.jsx(sb,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"font-medium text-base",children:"Logout"})]})})]})})},Zne=()=>{const[e,t]=j.useState("basic"),[s,r]=j.useState(!1),[i,a]=j.useState(!1),[o,c]=j.useState(null),[d,h]=j.useState(!0),[f,m]=j.useState(null),[u,p]=j.useState({businessName:"Fresh Farm Valley",ownerName:"Ram Sharma",email:"ram@freshfarm.com",phone:"+977 9841234567",whatsapp:"+977 9841234567",avatar:"",businessType:"grocery",description:"Certified organic farm serving Kathmandu Valley for 10+ years. We specialize in fresh vegetables, fruits, and dairy products.",categories:["Vegetables","Fruits","Dairy","Organic"],establishedYear:"2014",gstNumber:"27AABCU9603R1ZX",panNumber:"AABCU9603R",address:"Balkumari, Lalitpur",city:"Kathmandu",state:"Bagmati",pincode:"44700",landmark:"Near Balkumari Temple",deliveryRadius:"5",minOrderAmount:"200",deliveryFee:"50",freeDeliveryAbove:"500",estimatedDeliveryTime:"30-45",isOpen:!0,openingHours:{monday:{open:"06:00",close:"21:00",closed:!1},tuesday:{open:"06:00",close:"21:00",closed:!1},wednesday:{open:"06:00",close:"21:00",closed:!1},thursday:{open:"06:00",close:"21:00",closed:!1},friday:{open:"06:00",close:"21:00",closed:!1},saturday:{open:"06:00",close:"21:00",closed:!1},sunday:{open:"07:00",close:"20:00",closed:!1}},bankName:"Nepal Bank Limited",accountNumber:"1234567890123456",ifscCode:"NBLNPKA",accountHolderName:"Ram Sharma",upiId:"ram@nbl",businessLicense:"",gstCertificate:"",fssaiLicense:"",autoAcceptOrders:!1,notificationSettings:{orderAlerts:!0,messageAlerts:!0,promotionalEmails:!1}}),x=[{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"},{value:"meat",label:"Meat Shop"},{value:"dairy",label:"Dairy Products"}],v=["Vegetables","Fruits","Dairy","Meat","Bakery","Beverages","Snacks","Organic","Frozen","Spices","Grains","Oil"],w=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],b=(C,O)=>{p(A=>({...A,[C]:O}))},y=(C,O,A)=>{p(k=>({...k,[C]:{...k[C],[O]:A}}))};j.useEffect(()=>{_()},[]);const _=async()=>{var C,O,A,k;try{if(h(!0),!localStorage.getItem("token")){m("No authentication token found");return}const{response:P,data:T}=await Fe("/vendor-profiles/");if(P.ok&&T)if(T.results&&T.results.length>0){const M=T.results[0];p({businessName:M.business_name||"",ownerName:M.owner_name||"",email:M.business_email||"",phone:M.business_phone||"",whatsapp:M.business_phone||"",avatar:"",businessType:M.business_type||"grocery",description:M.description||"",categories:M.categories||[],establishedYear:M.established_year||"",gstNumber:M.gst_number||"",panNumber:M.pan_number||"",address:M.business_address||"",city:M.city||"",state:M.state||"",pincode:M.pincode||"",landmark:M.landmark||"",deliveryRadius:((C=M.delivery_radius)==null?void 0:C.toString())||"5",minOrderAmount:((O=M.min_order_amount)==null?void 0:O.toString())||"200",deliveryFee:((A=M.delivery_fee)==null?void 0:A.toString())||"50",freeDeliveryAbove:((k=M.free_delivery_above)==null?void 0:k.toString())||"500",estimatedDeliveryTime:M.estimated_delivery_time||"30-45",isOpen:M.is_active||!1,openingHours:{monday:{open:M.monday_open||"06:00",close:M.monday_close||"21:00",closed:M.monday_closed||!1},tuesday:{open:M.tuesday_open||"06:00",close:M.tuesday_close||"21:00",closed:M.tuesday_closed||!1},wednesday:{open:M.wednesday_open||"06:00",close:M.wednesday_close||"21:00",closed:M.wednesday_closed||!1},thursday:{open:M.thursday_open||"06:00",close:M.thursday_close||"21:00",closed:M.thursday_closed||!1},friday:{open:M.friday_open||"06:00",close:M.friday_close||"21:00",closed:M.friday_closed||!1},saturday:{open:M.saturday_open||"06:00",close:M.saturday_close||"21:00",closed:M.saturday_closed||!1},sunday:{open:M.sunday_open||"07:00",close:M.sunday_close||"20:00",closed:M.sunday_closed||!1}},bankName:M.bank_name||"",accountNumber:M.account_number||"",ifscCode:M.ifsc_code||"",accountHolderName:M.account_holder_name||"",upiId:M.upi_id||"",businessLicense:M.business_license_file||"",gstCertificate:M.gst_certificate||"",fssaiLicense:M.fssai_license||"",autoAcceptOrders:M.auto_accept_orders||!1,notificationSettings:{orderAlerts:!0,messageAlerts:!0,promotionalEmails:!1}})}else a(!0);else throw new Error("Failed to fetch vendor profile")}catch(R){console.error("Error fetching vendor profile:",R),m("Failed to load vendor profile")}finally{h(!1)}},N=async()=>{try{if(!localStorage.getItem("token"))return;const O={business_name:u.businessName,owner_name:u.ownerName,business_email:u.email,business_phone:u.phone,business_type:u.businessType,description:u.description,categories:u.categories,established_year:u.establishedYear,gst_number:u.gstNumber,pan_number:u.panNumber,business_address:u.address,city:u.city,state:u.state,pincode:u.pincode,landmark:u.landmark,delivery_radius:parseFloat(u.deliveryRadius),min_order_amount:parseFloat(u.minOrderAmount),delivery_fee:parseFloat(u.deliveryFee),free_delivery_above:parseFloat(u.freeDeliveryAbove),estimated_delivery_time:u.estimatedDeliveryTime,is_active:u.isOpen,monday_open:u.openingHours.monday.open,monday_close:u.openingHours.monday.close,monday_closed:u.openingHours.monday.closed,tuesday_open:u.openingHours.tuesday.open,tuesday_close:u.openingHours.tuesday.close,tuesday_closed:u.openingHours.tuesday.closed,wednesday_open:u.openingHours.wednesday.open,wednesday_close:u.openingHours.wednesday.close,wednesday_closed:u.openingHours.wednesday.closed,thursday_open:u.openingHours.thursday.open,thursday_close:u.openingHours.thursday.close,thursday_closed:u.openingHours.thursday.closed,friday_open:u.openingHours.friday.open,friday_close:u.openingHours.friday.close,friday_closed:u.openingHours.friday.closed,saturday_open:u.openingHours.saturday.open,saturday_close:u.openingHours.saturday.close,saturday_closed:u.openingHours.saturday.closed,sunday_open:u.openingHours.sunday.open,sunday_close:u.openingHours.sunday.close,sunday_closed:u.openingHours.sunday.closed,bank_name:u.bankName,account_number:u.accountNumber,ifsc_code:u.ifscCode,account_holder_name:u.accountHolderName,upi_id:u.upiId,auto_accept_orders:u.autoAcceptOrders},{response:A}=await Fe("/vendor-profiles/",{method:i?"POST":"PUT",body:JSON.stringify(O)});if(A.ok)r(!1),a(!1),alert("Profile saved successfully!");else throw new Error("Failed to save profile")}catch(C){console.error("Error saving profile:",C),alert("Failed to save profile. Please try again.")}},E=async(C,O)=>{if(!C)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(C.type)){alert("Please upload only PDF, JPG, JPEG, or PNG files.");return}if(C.size>5*1024*1024){alert("File size must be less than 5MB.");return}c(O);try{const k=new FormData;k.append(O,C);const R=localStorage.getItem("token"),{response:P}=await Fe("/vendor-profiles/",{method:"PATCH",body:k});if(!P.ok)throw new Error("Upload failed");const T=data,M=T[`${O}_url`]||T[O];b(O,M),alert("Document uploaded successfully!")}catch(k){console.error("Upload error:",k),alert("Failed to upload document. Please try again.")}finally{c(null)}},I=[{id:"basic",label:"Basic Info",icon:Er},{id:"business",label:"Business",icon:Ss},{id:"location",label:"Location",icon:Bt},{id:"operations",label:"Operations",icon:Ot},{id:"timing",label:"Timing",icon:ir},{id:"banking",label:"Banking",icon:ta},{id:"documents",label:"Documents",icon:ei},{id:"settings",label:"Settings",icon:gi}];return d?n.jsx(It,{title:"Profile Management",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):f?n.jsx(It,{title:"Profile Management",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx(te,{onClick:_,children:"Retry"})]})})}):n.jsx(It,{title:"Profile Management",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-semibold text-lg",children:"Profile Management"}),i&&n.jsx("p",{className:"text-sm text-gray-600",children:"Complete your profile setup"})]})]}),n.jsx(te,{onClick:()=>s?N():r(!0),className:"bg-green-600 hover:bg-green-700",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Save"]}):n.jsxs(n.Fragment,{children:[n.jsx(Hu,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),n.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-2xl",children:u.avatar}),s&&n.jsx(te,{size:"sm",className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full p-0",children:n.jsx(Bi,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"font-semibold text-lg",children:u.businessName}),n.jsx("p",{className:"text-gray-600 text-sm",children:u.ownerName}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Me,{variant:u.isOpen?"default":"destructive",className:"text-xs",children:u.isOpen?"Open":"Closed"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:"4.8 (342 reviews)"})]})]})]})]})}),n.jsx("div",{className:"bg-white",children:n.jsxs(ra,{value:e,onValueChange:t,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx(bi,{className:"grid grid-cols-4 lg:grid-cols-8 w-full min-w-max",children:I.map(C=>n.jsxs(Mt,{value:C.id,className:"flex items-center gap-2 text-xs",children:[n.jsx(C.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:C.label})]},C.id))})}),n.jsx(ft,{value:"basic",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"businessName",children:"Business Name *"}),n.jsx(me,{id:"businessName",value:u.businessName,onChange:C=>b("businessName",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"ownerName",children:"Owner Name *"}),n.jsx(me,{id:"ownerName",value:u.ownerName,onChange:C=>b("ownerName",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email *"}),n.jsx(me,{id:"email",type:"email",value:u.email,onChange:C=>b("email",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phone",children:"Phone Number *"}),n.jsx(me,{id:"phone",value:u.phone,onChange:C=>b("phone",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"whatsapp",children:"WhatsApp Number"}),n.jsx(me,{id:"whatsapp",value:u.whatsapp,onChange:C=>b("whatsapp",C.target.value),disabled:!s})]})]})}),n.jsxs(ft,{value:"business",className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"businessType",children:"Business Type *"}),n.jsxs(rn,{value:u.businessType,onValueChange:C=>b("businessType",C),disabled:!s,children:[n.jsx(Qt,{children:n.jsx(an,{})}),n.jsx(Jt,{children:x.map(C=>n.jsx(qe,{value:C.value,children:C.label},C.value))})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"establishedYear",children:"Established Year"}),n.jsx(me,{id:"establishedYear",value:u.establishedYear,onChange:C=>b("establishedYear",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"gstNumber",children:"GST Number"}),n.jsx(me,{id:"gstNumber",value:u.gstNumber,onChange:C=>b("gstNumber",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"panNumber",children:"PAN Number"}),n.jsx(me,{id:"panNumber",value:u.panNumber,onChange:C=>b("panNumber",C.target.value),disabled:!s})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"description",children:"Business Description *"}),n.jsx(Wn,{id:"description",value:u.description,onChange:C=>b("description",C.target.value),disabled:!s,rows:3})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Categories"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.map(C=>n.jsx(Me,{variant:u.categories.includes(C)?"default":"outline",className:"cursor-pointer",onClick:()=>{if(!s)return;const O=u.categories.includes(C)?u.categories.filter(A=>A!==C):[...u.categories,C];b("categories",O)},children:C},C))})]})]}),n.jsx(ft,{value:"location",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(de,{htmlFor:"address",children:"Full Address *"}),n.jsx(Wn,{id:"address",value:u.address,onChange:C=>b("address",C.target.value),disabled:!s,rows:2})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"city",children:"City *"}),n.jsx(me,{id:"city",value:u.city,onChange:C=>b("city",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"state",children:"State *"}),n.jsx(me,{id:"state",value:u.state,onChange:C=>b("state",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"pincode",children:"Pincode *"}),n.jsx(me,{id:"pincode",value:u.pincode,onChange:C=>b("pincode",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"landmark",children:"Landmark"}),n.jsx(me,{id:"landmark",value:u.landmark,onChange:C=>b("landmark",C.target.value),disabled:!s})]})]})}),n.jsx(ft,{value:"operations",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"deliveryRadius",children:"Delivery Radius (km) *"}),n.jsx(me,{id:"deliveryRadius",value:u.deliveryRadius,onChange:C=>b("deliveryRadius",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"minOrderAmount",children:"Minimum Order Amount () *"}),n.jsx(me,{id:"minOrderAmount",value:u.minOrderAmount,onChange:C=>b("minOrderAmount",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"deliveryFee",children:"Delivery Fee () *"}),n.jsx(me,{id:"deliveryFee",value:u.deliveryFee,onChange:C=>b("deliveryFee",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"freeDeliveryAbove",children:"Free Delivery Above ()"}),n.jsx(me,{id:"freeDeliveryAbove",value:u.freeDeliveryAbove,onChange:C=>b("freeDeliveryAbove",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"estimatedDeliveryTime",children:"Estimated Delivery Time (mins) *"}),n.jsx(me,{id:"estimatedDeliveryTime",value:u.estimatedDeliveryTime,onChange:C=>b("estimatedDeliveryTime",C.target.value),disabled:!s})]})]})}),n.jsxs(ft,{value:"timing",className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(de,{children:"Store Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",children:"Closed"}),n.jsx(Yt,{checked:u.isOpen,onCheckedChange:C=>b("isOpen",C),disabled:!s}),n.jsx("span",{className:"text-sm",children:"Open"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(de,{children:"Opening Hours"}),w.map(C=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"w-20 text-sm font-medium capitalize",children:C}),n.jsx(Yt,{checked:!u.openingHours[C].closed,onCheckedChange:O=>y("openingHours",C,{...u.openingHours[C],closed:!O}),disabled:!s}),!u.openingHours[C].closed&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(me,{type:"time",value:u.openingHours[C].open,onChange:O=>y("openingHours",C,{...u.openingHours[C],open:O.target.value}),disabled:!s,className:"w-32"}),n.jsx("span",{className:"text-sm",children:"to"}),n.jsx(me,{type:"time",value:u.openingHours[C].close,onChange:O=>y("openingHours",C,{...u.openingHours[C],close:O.target.value}),disabled:!s,className:"w-32"})]}),u.openingHours[C].closed&&n.jsx("span",{className:"text-sm text-gray-500",children:"Closed"})]},C))]})]}),n.jsx(ft,{value:"banking",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"bankName",children:"Bank Name *"}),n.jsx(me,{id:"bankName",value:u.bankName,onChange:C=>b("bankName",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"accountHolderName",children:"Account Holder Name *"}),n.jsx(me,{id:"accountHolderName",value:u.accountHolderName,onChange:C=>b("accountHolderName",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"accountNumber",children:"Account Number *"}),n.jsx(me,{id:"accountNumber",value:u.accountNumber,onChange:C=>b("accountNumber",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"ifscCode",children:"IFSC Code *"}),n.jsx(me,{id:"ifscCode",value:u.ifscCode,onChange:C=>b("ifscCode",C.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"upiId",children:"UPI ID"}),n.jsx(me,{id:"upiId",value:u.upiId,onChange:C=>b("upiId",C.target.value),disabled:!s})]})]})}),n.jsx(ft,{value:"documents",className:"p-4 space-y-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-base font-medium",children:"Business License"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Upload your business registration certificate"})]}),n.jsx(Me,{variant:u.businessLicense?"default":"outline",children:u.businessLicense?"Uploaded":"Required"})]}),u.businessLicense?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"Business License Document"}),s&&n.jsx(te,{variant:"outline",size:"sm",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept=".pdf,.jpg,.jpeg,.png",C.onchange=O=>{var k;const A=(k=O.target.files)==null?void 0:k[0];A&&E(A,"business_license_file")},C.click()},disabled:o==="business_license_file",children:o==="business_license_file"?"Uploading...":"Replace"})]}):n.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept=".pdf,.jpg,.jpeg,.png",C.onchange=O=>{var k;const A=(k=O.target.files)==null?void 0:k[0];A&&E(A,"business_license_file")},C.click()},disabled:o==="business_license_file",children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),o==="business_license_file"?"Uploading...":"Upload Business License"]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-base font-medium",children:"GST Certificate"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Upload your GST registration certificate"})]}),n.jsx(Me,{variant:u.gstCertificate?"default":"outline",children:u.gstCertificate?"Uploaded":"Optional"})]}),u.gstCertificate?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"GST Certificate Document"}),s&&n.jsx(te,{variant:"outline",size:"sm",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept=".pdf,.jpg,.jpeg,.png",C.onchange=O=>{var k;const A=(k=O.target.files)==null?void 0:k[0];A&&E(A,"gst_certificate")},C.click()},disabled:o==="gst_certificate",children:o==="gst_certificate"?"Uploading...":"Replace"})]}):n.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept=".pdf,.jpg,.jpeg,.png",C.onchange=O=>{var k;const A=(k=O.target.files)==null?void 0:k[0];A&&E(A,"gst_certificate")},C.click()},disabled:o==="gst_certificate",children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),o==="gst_certificate"?"Uploading...":"Upload GST Certificate"]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-base font-medium",children:"FSSAI License"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Upload your food safety license (for food businesses)"})]}),n.jsx(Me,{variant:u.fssaiLicense?"default":"outline",children:u.fssaiLicense?"Uploaded":"Optional"})]}),u.fssaiLicense?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"FSSAI License Document"}),s&&n.jsx(te,{variant:"outline",size:"sm",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept=".pdf,.jpg,.jpeg,.png",C.onchange=O=>{var k;const A=(k=O.target.files)==null?void 0:k[0];A&&E(A,"fssai_license")},C.click()},disabled:o==="fssai_license",children:o==="fssai_license"?"Uploading...":"Replace"})]}):n.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept=".pdf,.jpg,.jpeg,.png",C.onchange=O=>{var k;const A=(k=O.target.files)==null?void 0:k[0];A&&E(A,"fssai_license")},C.click()},disabled:o==="fssai_license",children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),o==="fssai_license"?"Uploading...":"Upload FSSAI License"]})]}),n.jsx("div",{className:"text-center py-2 text-gray-500 text-xs",children:"Supported formats: PDF, JPG, JPEG, PNG (Max 5MB)"})]})}),n.jsx(ft,{value:"settings",className:"p-4 space-y-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Auto Accept Orders"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Automatically accept new orders"})]}),n.jsx(Yt,{checked:u.autoAcceptOrders,onCheckedChange:C=>b("autoAcceptOrders",C),disabled:!s})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(de,{children:"Notification Settings"}),n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Order Alerts"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new orders"})]}),n.jsx(Yt,{checked:u.notificationSettings.orderAlerts,onCheckedChange:C=>y("notificationSettings","orderAlerts",C),disabled:!s})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Message Alerts"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new messages"})]}),n.jsx(Yt,{checked:u.notificationSettings.messageAlerts,onCheckedChange:C=>y("notificationSettings","messageAlerts",C),disabled:!s})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Promotional Emails"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive promotional emails"})]}),n.jsx(Yt,{checked:u.notificationSettings.promotionalEmails,onCheckedChange:C=>y("notificationSettings","promotionalEmails",C),disabled:!s})]})]})]})})]})}),i&&n.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-white border border-gray-200 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Profile Completion"}),n.jsx("span",{className:"text-sm text-gray-600",children:"6/8 sections"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"75%"}})}),n.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Complete all sections to activate your store"})]})]})})},Gne=()=>{const e=nt(),[t,s]=j.useState(!0),[r,i]=j.useState(""),[a,o]=j.useState(!1),[c,d]=j.useState(""),[h,f]=j.useState(!1);j.useEffect(()=>{(async()=>{var p;try{if(!await Te.isAuthenticated())return;const v=1,{response:w,data:b}=await Fe(`/vendor-profiles/${v}/`);if(!w.ok)throw new Error("Failed to fetch profile");const y=((p=b==null?void 0:b.user_info)==null?void 0:p.plain_password)||"";i(y)}catch(x){console.error(x)}})()},[]);const m=async()=>{if(!c){mf.error("New password is required");return}f(!0);try{const{simplePersistentAuth:u}=await et(async()=>{const{simplePersistentAuth:b}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:b}},[]);if(!await u.isVendorLoggedIn()){e("/vendor/login");return}const x=await u.getVendorAuth();x&&await Te.setAuth(x.token,x.user);const{response:v,data:w}=await Fe("/change-password/simple/",{method:"POST",body:JSON.stringify({new_password:c})});if(!v.ok)throw new Error(w.error||"Failed to change password");await Te.setAuth(w.token,await Te.getUser()),mf.success("Password changed successfully"),i(c),d(""),o(!1)}catch(u){mf.error(u instanceof Error?u.message:"Failed to change password")}finally{f(!1)}};return n.jsx(It,{title:"Security & Login",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center gap-3 p-4",children:[n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"Security & Login"})]})}),n.jsx("div",{className:"p-4 space-y-6",children:n.jsxs("div",{className:"bg-white rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(gi,{className:"h-5 w-5 text-blue-600"}),n.jsx("h2",{className:"font-semibold",children:"Password"})]}),a?n.jsxs("div",{className:"space-y-4",children:[n.jsx(de,{children:"New Password"}),n.jsx(me,{type:"text",value:c,onChange:u=>d(u.target.value)}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{onClick:m,disabled:h,children:"Save"}),n.jsx(te,{variant:"outline",onClick:()=>o(!1),disabled:h,children:"Cancel"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(de,{children:"Your Password"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(me,{type:"text",value:r,disabled:!0,className:"bg-gray-100"}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>s(!t),children:t?n.jsx(tb,{className:"h-4 w-4"}):n.jsx(An,{className:"h-4 w-4"})})]}),n.jsx(te,{onClick:()=>o(!0),disabled:h,children:"Change Password"})]})]})})]})})},Kne=()=>{const e=nt(),{toast:t}=cn(),[s,r]=j.useState("business"),[i,a]=j.useState(!1),[o,c]=j.useState(!0),[d,h]=j.useState(!1),[f,m]=j.useState(""),[u,p]=j.useState(null),[x,v]=j.useState({businessName:"Business Name",ownerName:"Owner Name",categories:["Vegetables","Fruits","Dairy","Organic"],operatingHours:{monday:{open:"06:00",close:"21:00",closed:!1},tuesday:{open:"06:00",close:"21:00",closed:!1},wednesday:{open:"06:00",close:"21:00",closed:!1},thursday:{open:"06:00",close:"21:00",closed:!1},friday:{open:"06:00",close:"21:00",closed:!1},saturday:{open:"06:00",close:"21:00",closed:!1},sunday:{open:"07:00",close:"20:00",closed:!1}},deliverySettings:{deliveryRadius:"5",minOrderAmount:"200"},profileImage:null,isActive:!1,statusOverride:!1}),w=A=>{if(!A)return"";const[k,R]=A.split(":").map(Number),P=k>=12?"PM":"AM";return`${k%12||12}:${R.toString().padStart(2,"0")} ${P}`};j.useEffect(()=>{b()},[]);const b=async()=>{var A,k,R;try{const{simplePersistentAuth:P}=await et(async()=>{const{simplePersistentAuth:Z}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:Z}},[]);if(!await P.isVendorLoggedIn()){e("/vendor/login");return}const M=await P.getVendorAuth();M&&await Te.setAuth(M.token,M.user);const{response:H,data:W}=await Fe("/vendor-profiles/");if(!H.ok)throw new Error("Failed to fetch company data");if(W.results&&W.results.length>0){const Z=W.results[0];p(Z.id),v({businessName:Z.business_name||"Business Name",ownerName:Z.owner_name||"Owner Name",categories:Z.categories||[],operatingHours:{monday:{open:Z.monday_open||"",close:Z.monday_close||"",closed:Z.monday_closed||!1},tuesday:{open:Z.tuesday_open||"",close:Z.tuesday_close||"",closed:Z.tuesday_closed||!1},wednesday:{open:Z.wednesday_open||"",close:Z.wednesday_close||"",closed:Z.wednesday_closed||!1},thursday:{open:Z.thursday_open||"",close:Z.thursday_close||"",closed:Z.thursday_closed||!1},friday:{open:Z.friday_open||"",close:Z.friday_close||"",closed:Z.friday_closed||!1},saturday:{open:Z.saturday_open||"",close:Z.saturday_close||"",closed:Z.saturday_closed||!1},sunday:{open:Z.sunday_open||"",close:Z.sunday_close||"",closed:Z.sunday_closed||!1}},deliverySettings:{deliveryRadius:((A=Z.delivery_radius)==null?void 0:A.toString())||"5",minOrderAmount:((k=Z.min_order_amount)==null?void 0:k.toString())||"200"},profileImage:((R=Z.user_info)==null?void 0:R.profile_picture)||null,isActive:Z.is_active||!1,statusOverride:Z.status_override||!1})}}catch(P){console.error("Error fetching company data:",P),m("Failed to load company data")}finally{c(!1)}},y=async()=>{try{h(!0);const{simplePersistentAuth:A}=await et(async()=>{const{simplePersistentAuth:T}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:T}},[]);if(!await A.isVendorLoggedIn()){e("/vendor/login");return}if(!u)throw new Error("Profile ID not found");const R=new FormData;R.append("business_name",x.businessName),R.append("owner_name",x.ownerName),R.append("categories",JSON.stringify(x.categories)),R.append("delivery_radius",x.deliverySettings.deliveryRadius),R.append("min_order_amount",x.deliverySettings.minOrderAmount);const{response:P}=await Fe(`/vendor-profiles/${u}/`,{method:"PUT",body:R});if(!P.ok){const T=await P.json();throw new Error(T.detail||"Failed to update company data")}t({title:"Success",description:"Company information updated successfully!"}),a(!1),b()}catch(A){console.error("Error saving company data:",A),t({title:"Error",description:A instanceof Error?A.message:"Failed to save company data",variant:"destructive"})}finally{h(!1)}},_=async()=>{try{const{simplePersistentAuth:A}=await et(async()=>{const{simplePersistentAuth:M}=await import("./simplePersistentAuth-CboGEjjT.js");return{simplePersistentAuth:M}},[]);if(!await A.isVendorLoggedIn()){e("/vendor/login");return}if(!u)throw new Error("Profile ID not found");const R=!x.isActive,{response:P,data:T}=await Fe(`/vendor-profiles/${u}/toggle-status/`,{method:"POST",body:JSON.stringify({is_active:R})});if(!P.ok)throw new Error((T==null?void 0:T.error)||"Failed to toggle status");v(M=>({...M,isActive:T.vendor.is_active,statusOverride:T.vendor.status_override})),t({title:"Success",description:`Status set to ${R?"Active":"Inactive"}`})}catch(A){console.error("Error toggling status:",A),t({title:"Error",description:A instanceof Error?A.message:"Failed to toggle status",variant:"destructive"})}},N=["Vegetables","Fruits","Dairy","Meat","Bakery","Beverages","Snacks","Organic","Frozen","Spices","Grains","Oil","Fashion","Health & Wellness"],E=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],I=[{id:"business",label:"Business Details",icon:Ss},{id:"timing",label:"Timing",icon:ir}],C=(A,k)=>{v(R=>({...R,[A]:k}))},O=(A,k,R)=>{v(P=>({...P,[A]:{...P[A],[k]:R}}))};return o?n.jsx(It,{title:"Company Information",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading company information..."})]})})}):f?n.jsx(It,{title:"Company Information",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx(te,{onClick:b,children:"Retry"})]})})}):n.jsx(It,{title:"Company Information",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsx("div",{children:n.jsx("h1",{className:"font-semibold text-lg",children:"Company Information"})})]}),n.jsx(te,{onClick:()=>i?y():a(!0),disabled:d,className:"bg-green-600 hover:bg-green-700",children:d?"Saving...":i?"Save Changes":"Edit"})]})}),n.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"relative",children:x.profileImage?n.jsx("img",{src:x.profileImage||"/images/default-profile.png",alt:"Business Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200",onError:A=>{console.error("Image failed to load:",A.currentTarget.src),A.currentTarget.src="/images/default-profile.png"}}):n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-2xl border-2 border-gray-200",children:""})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"font-semibold text-lg",children:x.businessName}),n.jsx("p",{className:"text-gray-600 text-sm",children:x.ownerName}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(de,{children:"Status:"}),n.jsx(Yt,{checked:x.isActive,onCheckedChange:_,disabled:!i}),n.jsxs("span",{className:"text-sm",children:[x.isActive?"Active":"Inactive",x.statusOverride&&" (Overridden)"]})]})]})]})}),n.jsx("div",{className:"bg-white",children:n.jsxs(ra,{value:s,onValueChange:r,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx(bi,{className:"grid grid-cols-2 w-full min-w-max",children:I.map(A=>n.jsxs(Mt,{value:A.id,className:"flex items-center gap-2 text-xs",children:[n.jsx(A.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:A.label})]},A.id))})}),n.jsxs(ft,{value:"business",className:"p-4 space-y-6",children:[n.jsxs("div",{className:"space-y-4 max-w-3xl",children:[n.jsx(de,{children:"Business Categories"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.map(A=>n.jsx(Me,{variant:x.categories.includes(A)?"default":"outline",className:"cursor-pointer",onClick:()=>{if(!i)return;const k=x.categories.includes(A)?x.categories.filter(R=>R!==A):[...x.categories,A];C("categories",k)},children:A},A))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-3xl",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Delivery Radius (km) *"}),n.jsx(me,{value:x.deliverySettings.deliveryRadius,onChange:A=>O("deliverySettings","deliveryRadius",A.target.value),disabled:!i,className:"max-w-xs"})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Minimum Order Amount () *"}),n.jsx(me,{value:x.deliverySettings.minOrderAmount,onChange:A=>O("deliverySettings","minOrderAmount",A.target.value),disabled:!i,className:"max-w-xs"})]})]})]}),n.jsx(ft,{value:"timing",className:"p-4 space-y-4",children:n.jsxs("div",{className:"space-y-3 max-w-3xl",children:[n.jsx(de,{children:"Operating Hours"}),E.map(A=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg flex-wrap",children:[n.jsx("div",{className:"w-20 text-sm font-medium capitalize",children:A}),n.jsx(Yt,{checked:!x.operatingHours[A].closed,onCheckedChange:k=>O("operatingHours",A,{...x.operatingHours[A],closed:!k}),disabled:!i}),!x.operatingHours[A].closed&&n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(me,{type:"time",value:w(x.operatingHours[A].open),onChange:k=>O("operatingHours",A,{...x.operatingHours[A],open:k.target.value}),disabled:!i,className:"w-32"}),n.jsx("span",{className:"text-sm",children:"to"}),n.jsx(me,{type:"time",value:w(x.operatingHours[A].close),onChange:k=>O("operatingHours",A,{...x.operatingHours[A],close:k.target.value}),disabled:!i,className:"w-32"})]}),x.operatingHours[A].closed&&n.jsx("span",{className:"text-sm text-gray-500",children:"Closed"})]},A))]})})]})})]})})},Yne=()=>{const[e,t]=j.useState(""),[s,r]=j.useState(!1),[i,a]=j.useState(null),[o,c]=j.useState([]),[d,h]=j.useState(!0),[f,m]=j.useState(!1),[u,p]=j.useState({}),[x,v]=j.useState([]),[w,b]=j.useState([]),y=nt(),[_,N]=j.useState({category:"all",status:"all",stock:"all",sortBy:"name"});j.useEffect(()=>{E()},[]);const E=async()=>{try{h(!0);const B=await vl.getProducts(),q=(B==null?void 0:B.results)||B||[];c(Array.isArray(q)?q:[])}catch(B){console.error("Failed to fetch products:",B),c([])}finally{h(!1)}},I=async(B,q)=>{try{await vl.updateProduct(B,q),await E()}catch(F){console.error("Failed to update product:",F)}},C=async B=>{if(window.confirm("Are you sure you want to delete this product?"))try{await vl.deleteProduct(B),await E(),a(null)}catch(q){console.error("Failed to delete product:",q)}},O=async()=>{if(i!=null&&i.id&&u)try{const B={...u};x.length>0&&(B.image_files=x),await I(i.id,B),m(!1),p({}),v([]),b([]),a(null)}catch(B){console.error("Failed to save changes:",B)}},A=B=>{const q=B.target.files;if(q){const F=Array.from(q),$=F.map(z=>URL.createObjectURL(z));v(z=>[...z,...F]),b(z=>[...z,...$])}},k=B=>{URL.revokeObjectURL(w[B]),v(q=>q.filter((F,$)=>$!==B)),b(q=>q.filter((F,$)=>$!==B))},R=async B=>{if(i!=null&&i.id)try{const{apiRequest:q}=await et(async()=>{const{apiRequest:$}=await Promise.resolve().then(()=>ai);return{apiRequest:$}},void 0);await q(`/products/${i.id}/images/${B}/`,{method:"DELETE"}),await E();const F=await vl.getProduct(i.id);a(F)}catch(q){console.error("Failed to delete image:",q)}},P=async B=>{if(i!=null&&i.id)try{const{apiRequest:q}=await et(async()=>{const{apiRequest:$}=await Promise.resolve().then(()=>ai);return{apiRequest:$}},void 0);await q(`/products/${i.id}/images/${B}/set-primary/`,{method:"POST"}),await E();const F=await vl.getProduct(i.id);a(F)}catch(q){console.error("Failed to set primary image:",q)}},T=Array.isArray(o)?o.filter(B=>{const q=B.name.toLowerCase().includes(e.toLowerCase())||B.sku&&B.sku.toLowerCase().includes(e.toLowerCase()),F=_.category==="all"||B.category===_.category,$=_.status==="all"||B.status===_.status,z=_.stock==="all"||_.stock==="low"&&B.quantity<=5&&B.quantity>0||_.stock==="out"&&B.quantity===0||_.stock==="available"&&B.quantity>0;return q&&F&&$&&z}).sort((B,q)=>{switch(_.sortBy){case"price":return q.price-B.price;case"stock":return q.quantity-B.quantity;default:return B.name.localeCompare(q.name)}}):[],M=B=>{switch(B){case"active":return n.jsx("span",{className:"text-xs font-medium text-green-600",children:"Active"});case"draft":return n.jsx("span",{className:"text-xs font-medium text-yellow-600",children:"Draft"});case"archived":return n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Archived"});default:return n.jsx("span",{className:"text-xs font-medium text-gray-600",children:B})}},H=B=>B===0?n.jsx("span",{className:"text-xs font-medium text-red-600",children:"Out of Stock"}):B<=5?n.jsx("span",{className:"text-xs font-medium text-orange-600",children:"Low Stock"}):n.jsx("span",{className:"text-xs font-medium text-green-600",children:"In Stock"}),W=B=>B.images&&B.images.length>0?(B.images.find(F=>F.is_primary)||B.images[0]).image_url:null,Z=B=>({Vegetables:"",Fruits:"",Dairy:"",Meat:"",Bakery:"",Beverages:"",Snacks:"",Grains:""})[B]||"";return n.jsx(It,{title:"Product Management",children:n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[n.jsx(Ne,{className:"",children:n.jsx(ke,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"h-4 w-4 mx-auto mb-0.5 text-blue-500"}),n.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.length)||0}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Total"})]})})}),n.jsx(Ne,{className:"",children:n.jsx(ke,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx($s,{className:"h-4 w-4 mx-auto mb-0.5 text-green-500"}),n.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(B=>B.status==="active").length)||0}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Active"})]})})}),n.jsx(Ne,{className:"",children:n.jsx(ke,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Yf,{className:"h-4 w-4 mx-auto mb-0.5 text-orange-500"}),n.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(B=>B.quantity<=5&&B.quantity>0).length)||0}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Low"})]})})}),n.jsx(Ne,{className:"",children:n.jsx(ke,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Yf,{className:"h-4 w-4 mx-auto mb-0.5 text-red-500"}),n.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(B=>B.quantity===0).length)||0}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Out"})]})})})]}),n.jsx(Ne,{children:n.jsx(ke,{className:"p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(me,{placeholder:"Search products...",value:e,onChange:B=>t(B.target.value),className:"pl-10"})]}),n.jsx(te,{variant:"outline",size:"icon",onClick:()=>r(!0),children:n.jsx(to,{className:"h-4 w-4"})})]})})}),n.jsx("div",{children:d?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx(os,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Loading products..."})]}):T.length>0?n.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(B=>n.jsx(Ne,{className:"overflow-hidden",children:n.jsx(ke,{className:"p-2",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-center",children:W(B)?n.jsx("img",{src:W(B),alt:B.name,className:"w-12 h-12 mx-auto object-cover rounded"}):n.jsx("div",{className:"text-xl",children:Z(B.category)})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:B.name}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["",B.price]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-xs text-gray-600",children:["Stock: ",B.quantity]}),H(B.quantity)]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-600",children:B.category}),M(B.status)]})]}),n.jsxs("div",{className:"flex gap-1 pt-1",children:[n.jsx(te,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>{a(B),m(!1),p({})},children:n.jsx(An,{className:"h-3 w-3"})}),n.jsx(te,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>{a(B),m(!0),p(B)},children:n.jsx(Kf,{className:"h-3 w-3"})}),n.jsx(te,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>C(B.id),children:n.jsx(Ua,{className:"h-3 w-3"})})]})]})})},B.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ot,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No products found"}),n.jsxs(te,{className:"mt-4",onClick:()=>y("/vendor/add-product"),children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Add Your First Product"]})]})}),n.jsx(zi,{open:s,onOpenChange:r,children:n.jsxs(ui,{side:"bottom",className:"h-[400px]",children:[n.jsx(hi,{children:n.jsx(fi,{children:"Filter Products"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Category"}),n.jsxs(rn,{value:_.category,onValueChange:B=>N({..._,category:B}),children:[n.jsx(Qt,{children:n.jsx(an,{})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"all",children:"All Categories"}),Array.from(new Set((o||[]).map(B=>B.category))).map(B=>n.jsx(qe,{value:B,children:B},B))]})]})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Status"}),n.jsxs(rn,{value:_.status,onValueChange:B=>N({..._,status:B}),children:[n.jsx(Qt,{children:n.jsx(an,{})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"all",children:"All Status"}),n.jsx(qe,{value:"active",children:"Active"}),n.jsx(qe,{value:"draft",children:"Draft"}),n.jsx(qe,{value:"archived",children:"Archived"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Stock Level"}),n.jsxs(rn,{value:_.stock,onValueChange:B=>N({..._,stock:B}),children:[n.jsx(Qt,{children:n.jsx(an,{})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"all",children:"All Stock Levels"}),n.jsx(qe,{value:"available",children:"In Stock"}),n.jsx(qe,{value:"low",children:"Low Stock"}),n.jsx(qe,{value:"out",children:"Out of Stock"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Sort By"}),n.jsxs(rn,{value:_.sortBy,onValueChange:B=>N({..._,sortBy:B}),children:[n.jsx(Qt,{children:n.jsx(an,{})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"name",children:"Name"}),n.jsx(qe,{value:"price",children:"Price"}),n.jsx(qe,{value:"stock",children:"Stock"})]})]})]})]})]})}),n.jsx(zi,{open:!!i,onOpenChange:()=>{a(null),m(!1),p({}),v([]),b([])},children:n.jsxs(ui,{side:"bottom",className:"h-[80vh] overflow-y-auto",children:[n.jsx(hi,{children:n.jsxs(fi,{className:"flex items-center justify-between",children:[n.jsx("span",{children:f?"Edit Product":"Product Details"}),n.jsx("div",{className:"flex gap-2",children:f?n.jsxs(n.Fragment,{children:[n.jsx(te,{variant:"outline",size:"sm",onClick:()=>{m(!1),p({}),v([]),b([])},children:"Cancel"}),n.jsxs(te,{size:"sm",onClick:O,children:[n.jsx(Oc,{className:"h-4 w-4 mr-1"}),"Save"]})]}):n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{m(!0),p(i||{})},children:[n.jsx(Kf,{className:"h-4 w-4 mr-1"}),"Edit"]})})]})}),i&&n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Product Images"}),i.images&&i.images.length>0?n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:i.images.map((B,q)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:B.image_url,alt:`Product ${q+1}`,className:"w-full h-20 object-cover rounded border",onError:F=>{var $;console.log("Image failed to load:",B.image_url),F.currentTarget.style.display="none",($=F.currentTarget.nextElementSibling)==null||$.classList.remove("hidden")}}),n.jsx("div",{className:"hidden w-full h-20 bg-gray-100 rounded border flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bi,{className:"h-6 w-6 mx-auto mb-1 text-gray-400"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Failed to load"})]})}),f&&n.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),R(B.id)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:n.jsx(rs,{className:"h-3 w-3"})}),B.is_primary?n.jsx("div",{className:"absolute top-1 left-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Main"}):f?n.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),P(B.id)},className:"absolute top-1 left-1 bg-gray-500 hover:bg-blue-500 text-white text-xs px-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Set Main"}):null]},`existing-image-${B.id}`))}):n.jsxs("div",{className:"text-center py-4 text-gray-500",children:[n.jsx(Bi,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"No images uploaded"})]}),w.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"New Images:"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:w.map((B,q)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:B,alt:`New ${q+1}`,className:"w-full h-20 object-cover rounded border"}),n.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),k(q)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:n.jsx(rs,{className:"h-3 w-3"})})]},`new-image-${q}`))})]}),f&&n.jsxs("div",{className:"mt-2",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"image-upload"}),n.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer",children:n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[n.jsx(Bi,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Add More Images"})]})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Product Name"}),f?n.jsx(me,{value:u.name||"",onChange:B=>p({...u,name:B.target.value})}):n.jsx("p",{className:"text-sm font-medium",children:i.name})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Price"}),f?n.jsx(me,{type:"number",value:u.price||"",onChange:B=>p({...u,price:Number(B.target.value)})}):n.jsxs("p",{className:"text-sm font-medium",children:["",i.price]})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Stock"}),f?n.jsx(me,{type:"number",value:u.quantity||"",onChange:B=>p({...u,quantity:Number(B.target.value)})}):n.jsx("p",{className:"text-sm font-medium",children:i.quantity})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(de,{children:"Category"}),f?n.jsx(me,{value:u.category||"",onChange:B=>p({...u,category:B.target.value})}):n.jsx("p",{className:"text-sm font-medium",children:i.category})]}),n.jsxs("div",{children:[n.jsx(de,{children:"SKU"}),f?n.jsx(me,{value:u.sku||"",onChange:B=>p({...u,sku:B.target.value})}):n.jsx("p",{className:"text-sm font-medium",children:i.sku||"N/A"})]})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Status"}),f?n.jsxs(rn,{value:u.status||i.status,onValueChange:B=>p({...u,status:B}),children:[n.jsx(Qt,{children:n.jsx(an,{})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"active",children:"Active"}),n.jsx(qe,{value:"draft",children:"Draft"}),n.jsx(qe,{value:"archived",children:"Archived"})]})]}):n.jsx("div",{children:M(i.status)})]}),n.jsxs("div",{children:[n.jsx(de,{children:"Description"}),f?n.jsx(Wn,{value:u.description||"",onChange:B=>p({...u,description:B.target.value}),rows:3}):n.jsx("p",{className:"text-sm text-gray-600",children:i.description})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(de,{children:"Featured Product"}),f?n.jsx(Yt,{checked:u.featured??i.featured,onCheckedChange:B=>p({...u,featured:B})}):n.jsx(Yt,{checked:i.featured,disabled:!0})]}),i.tags&&i.tags.length>0&&n.jsxs("div",{children:[n.jsx(de,{children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.tags.map((B,q)=>n.jsx(Me,{variant:"secondary",className:"text-xs",children:B},q))})]})]})]})]})})]})})},Xne=()=>{const e=nt(),{toast:t}=cn(),[s,r]=j.useState([]),[i,a]=j.useState(!0);j.useEffect(()=>{o();const m=u=>{const p=u.detail;r(x=>[p,...x])};return window.addEventListener("newNotification",m),()=>{window.removeEventListener("newNotification",m)}},[]);const o=async()=>{try{a(!0);const m=await Gt.getNotifications();r(m)}catch(m){console.error("Failed to load notifications:",m),t({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{a(!1)}},c=async m=>{if(m.read||(await Gt.markAsRead(m.id),r(u=>u.map(p=>p.id===m.id?{...p,read:!0}:p))),m.action_url)e(m.action_url);else switch(m.type){case"order":e("/vendor/orders");break;case"payment":e("/vendor/wallet");break;case"message":e("/vendor/messages");break;default:e("/vendor/settings")}},d=async()=>{try{await Gt.markAllAsRead(),r(m=>m.map(u=>({...u,read:!0}))),t({title:"Success",description:"All notifications marked as read"})}catch{t({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}},h=m=>{switch(m){case"order":return n.jsx(Ot,{className:"h-5 w-5 text-blue-600"});case"payment":return n.jsx(ta,{className:"h-5 w-5 text-green-600"});case"message":return n.jsx(rb,{className:"h-5 w-5 text-purple-600"});case"system":return n.jsx(ts,{className:"h-5 w-5 text-orange-600"});default:return n.jsx(ts,{className:"h-5 w-5 text-gray-600"})}},f=s.filter(m=>!m.read).length;return i?n.jsx(It,{title:"Notifications",children:n.jsx("div",{className:"p-4 space-y-3",children:[1,2,3].map(m=>n.jsx(Ne,{className:"animate-pulse",children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},m))})}):n.jsx(It,{title:"Notifications",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"All Notifications"}),f>0&&n.jsxs(Me,{variant:"secondary",children:[f," unread"]})]}),f>0&&n.jsx(te,{variant:"outline",size:"sm",onClick:d,children:"Mark all as read"})]}),n.jsx("div",{className:"space-y-3",children:s.length===0?n.jsx(Ne,{children:n.jsxs(ke,{className:"p-8 text-center",children:[n.jsx(ts,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),n.jsx("p",{className:"text-gray-500",children:"You're all caught up! New notifications will appear here."})]})}):s.map(m=>n.jsx(Ne,{className:`cursor-pointer transition-colors hover:bg-gray-50 ${m.read?"":"border-l-4 border-l-blue-500 bg-blue-50"}`,onClick:()=>c(m),children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1",children:h(m.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsx("h3",{className:`font-medium text-sm ${m.read?"text-gray-700":"text-gray-900"}`,children:m.title}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.created_at).toLocaleString()})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx(Me,{variant:"outline",className:`text-xs ${m.type==="order"?"border-blue-200 text-blue-700":m.type==="payment"?"border-green-200 text-green-700":m.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:m.type}),!m.read&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]})]})})},m.id))})]})})};function Qne(){var p,x,v;const e=nt(),[t]=_b(),s=t.get("type"),[r,i]=j.useState(!0),[a,o]=j.useState([]),[c,d]=j.useState({});j.useEffect(()=>{h()},[s]);const h=async()=>{try{if(i(!0),s==="orders"){const{response:w,data:b}=await Fe("/vendor/orders/");if(w.ok){const y=b.results||b||[];o(y),d({total:y.length,pending:y.filter(_=>_.status==="pending").length,delivered:y.filter(_=>_.status==="delivered").length,revenue:y.filter(_=>_.status==="delivered").reduce((_,N)=>_+parseFloat(N.total_amount||0),0)})}}else if(s==="products"){const{response:w,data:b}=await Fe("/products/");if(w.ok){const y=b.results||b||[];o(y),d({total:y.length,active:y.filter(_=>_.quantity>0).length,lowStock:y.filter(_=>_.quantity>0&&_.quantity<=10).length,outOfStock:y.filter(_=>_.quantity===0).length})}}else if(s==="revenue"){const{response:w,data:b}=await Fe("/vendor/orders/");if(w.ok){const _=(b.results||b||[]).filter(N=>N.status==="delivered");o(_),d({total:_.reduce((N,E)=>N+parseFloat(E.total_amount||0),0),thisMonth:_.filter(N=>{const E=new Date(N.created_at),I=new Date;return E.getMonth()===I.getMonth()&&E.getFullYear()===I.getFullYear()}).reduce((N,E)=>N+parseFloat(E.total_amount||0),0),orders:_.length})}}else if(s==="customers"){const{response:w,data:b}=await Fe("/vendor/orders/");if(w.ok){const y=b.results||b||[],_=new Map;y.forEach(E=>{const I=E.customer;_.has(I)||_.set(I,{id:I,name:E.delivery_name||"Customer",phone:E.delivery_phone,orders:0,totalSpent:0,lastOrder:E.created_at});const C=_.get(I);C.orders+=1,E.status==="delivered"&&(C.totalSpent+=parseFloat(E.total_amount||0)),new Date(E.created_at)>new Date(C.lastOrder)&&(C.lastOrder=E.created_at)});const N=Array.from(_.values());o(N),d({total:N.length,active:N.filter(E=>{const I=new Date(E.lastOrder),C=new Date;return C.setDate(C.getDate()-30),I>C}).length})}}}catch(w){console.error("Error fetching data:",w)}finally{i(!1)}},f=()=>{switch(s){case"orders":return"Orders Summary";case"revenue":return"Revenue Summary";case"products":return"Products Summary";case"customers":return"Customers Summary";default:return"Summary"}},m=()=>{switch(s){case"orders":return Ot;case"revenue":return $s;case"products":return Ss;case"customers":return np;default:return Ot}};if(r)return n.jsx(It,{title:f(),children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading data..."})]})})});const u=m();return n.jsx(It,{title:f(),children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e("/vendor/dashboard"),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(u,{className:"h-6 w-6 text-blue-600"}),n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:f()})]})]})}),n.jsxs("div",{className:"p-4 space-y-4",children:[s==="orders"&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.total}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:c.pending}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.delivered}),n.jsx("p",{className:"text-sm text-gray-600",children:"Delivered"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",(p=c.revenue)==null?void 0:p.toFixed(0)]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"})]})})]}),s==="products"&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.total}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.active}),n.jsx("p",{className:"text-sm text-gray-600",children:"In Stock"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:c.lowStock}),n.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.outOfStock}),n.jsx("p",{className:"text-sm text-gray-600",children:"Out of Stock"})]})})]}),s==="revenue"&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(x=c.total)==null?void 0:x.toFixed(0)]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",(v=c.thisMonth)==null?void 0:v.toFixed(0)]}),n.jsx("p",{className:"text-sm text-gray-600",children:"This Month"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.orders}),n.jsx("p",{className:"text-sm text-gray-600",children:"Delivered Orders"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",c.orders>0?(c.total/c.orders).toFixed(0):0]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Avg Order Value"})]})})]}),s==="customers"&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.total}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Customers"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.active}),n.jsx("p",{className:"text-sm text-gray-600",children:"Active (30 days)"})]})})]}),n.jsxs("div",{className:"space-y-3",children:[s==="orders"&&a.map(w=>n.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e(`/vendor/orders?orderId=${w.id}`),children:n.jsxs(ke,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold",children:["#",w.order_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:w.delivery_name})]}),n.jsx(Me,{className:w.status==="delivered"?"bg-green-100 text-green-800":w.status==="pending"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800",children:w.status})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:"text-sm text-gray-600",children:new Date(w.created_at).toLocaleDateString()}),n.jsxs("p",{className:"font-bold text-green-600",children:["",parseFloat(w.total_amount).toFixed(2)]})]})]})},w.id)),s==="products"&&a.map(w=>{var b,y;return n.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e(`/vendor/products?productId=${w.id}`),children:n.jsx(ke,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:((y=(b=w.images)==null?void 0:b[0])==null?void 0:y.image_url)||"/placeholder-product.jpg",alt:w.name,className:"w-12 h-12 object-cover rounded-lg"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold",children:w.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["",parseFloat(w.price).toFixed(2)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold",children:["Stock: ",w.quantity]}),n.jsx(Me,{className:w.quantity>10?"bg-green-100 text-green-800":w.quantity>0?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800",children:w.quantity>10?"In Stock":w.quantity>0?"Low Stock":"Out of Stock"})]})]})})},w.id)}),s==="revenue"&&a.map(w=>n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold",children:["#",w.order_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:w.delivery_name})]}),n.jsxs("p",{className:"font-bold text-green-600",children:["",parseFloat(w.total_amount).toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(w.created_at).toLocaleDateString()})]})},w.id)),s==="customers"&&a.map(w=>n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:w.name}),n.jsx("p",{className:"text-sm text-gray-600",children:w.phone})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["",w.totalSpent.toFixed(2)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[w.orders," orders"]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Last order: ",new Date(w.lastOrder).toLocaleDateString()]})]})},w.id))]})]})]})})}function Jne(){const e=nt(),{toast:t}=cn(),[s,r]=j.useState("overview"),[i,a]=j.useState(!0),[o,c]=j.useState("30"),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState("all"),[x,v]=j.useState([]),[w,b]=j.useState([]),[y,_]=j.useState({totalRevenue:0,totalOrders:0,avgOrderValue:0,topProducts:[],revenueChart:[],orderChart:[],productPerformance:[],customerInsights:{totalCustomers:0,returningCustomers:0,newCustomers:0}});j.useEffect(()=>{N()},[o,d,f,u]);const N=async()=>{try{a(!0);const{response:P,data:T}=await Fe("/vendor/orders/");if(P.ok){const M=T.results||T||[];v(M);const{response:H,data:W}=await Fe("/products/");if(H.ok){const Z=W.results||W||[];b(Z),E(M,Z)}}}catch(P){console.error("Error fetching data:",P),t({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{a(!1)}},E=(P,T)=>{const M=I(P),H=M.filter(G=>G.status==="delivered"),W=H.reduce((G,X)=>G+parseFloat(X.total_amount||0),0),Z=M.length,B=Z>0?W/H.length:0,q=C(H),F=O(M),$=A(H),z=k(M);_({totalRevenue:W,totalOrders:Z,avgOrderValue:B,topProducts:$.slice(0,5),revenueChart:q,orderChart:F,productPerformance:$,customerInsights:z})},I=P=>{let T=P;if(o!=="custom"){const M=parseInt(o),H=new Date;H.setDate(H.getDate()-M),T=P.filter(W=>new Date(W.created_at)>=H)}else d&&f&&(T=P.filter(M=>{const H=new Date(M.created_at);return H>=new Date(d)&&H<=new Date(f)}));return u!=="all"&&(T=T.filter(M=>{var H;return(H=M.items)==null?void 0:H.some(W=>{var Z;return((Z=W.product_details)==null?void 0:Z.id)===parseInt(u)})})),T},C=P=>{const T=[];for(let M=29;M>=0;M--){const H=new Date;H.setDate(H.getDate()-M);const W=P.filter(B=>new Date(B.created_at).toDateString()===H.toDateString()),Z=W.reduce((B,q)=>B+parseFloat(q.total_amount||0),0);T.push({date:H.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:Z,orders:W.length})}return T},O=P=>{const T={pending:0,confirmed:0,preparing:0,out_for_delivery:0,delivered:0,cancelled:0};return P.forEach(M=>{T.hasOwnProperty(M.status)&&T[M.status]++}),Object.entries(T).map(([M,H])=>({status:M.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase()),count:H,percentage:P.length>0?(H/P.length*100).toFixed(1):0}))},A=(P,T)=>{const M={};return P.forEach(H=>{var W;(W=H.items)==null||W.forEach(Z=>{var q;const B=(q=Z.product_details)==null?void 0:q.id;B&&(M[B]||(M[B]={id:B,name:Z.product_name,totalSold:0,totalRevenue:0,orders:0}),M[B].totalSold+=Z.quantity,M[B].totalRevenue+=parseFloat(Z.total_price||0),M[B].orders++)})}),Object.values(M).sort((H,W)=>W.totalRevenue-H.totalRevenue)},k=P=>{const T=new Set,M={};P.forEach(W=>{T.add(W.customer),M[W.customer]||(M[W.customer]=[]),M[W.customer].push(W)});const H=Object.values(M).filter(W=>W.length>1).length;return{totalCustomers:T.size,returningCustomers:H,newCustomers:T.size-H}},R=[{id:"overview",label:"Overview",icon:gE},{id:"sales",label:"Sales Report",icon:$s},{id:"products",label:"Product Report",icon:Ot},{id:"customers",label:"Customer Report",icon:np}];return i?n.jsx(It,{title:"Business Analytics",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})})}):n.jsx(It,{title:"Business Analytics",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:n.jsx(Dt,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-semibold text-lg",children:"Business Analytics"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive business insights"})]})]}),n.jsxs(te,{variant:"outline",className:"flex items-center gap-2",children:[n.jsx(eb,{className:"h-4 w-4"}),"Export"]})]})}),n.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(to,{className:"h-4 w-4 text-gray-600"}),n.jsx(de,{className:"text-sm font-medium",children:"Filters:"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(de,{className:"text-sm",children:"Period:"}),n.jsxs(rn,{value:o,onValueChange:c,children:[n.jsx(Qt,{className:"w-32",children:n.jsx(an,{})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"7",children:"Last 7 days"}),n.jsx(qe,{value:"30",children:"Last 30 days"}),n.jsx(qe,{value:"90",children:"Last 3 months"}),n.jsx(qe,{value:"365",children:"Last year"}),n.jsx(qe,{value:"custom",children:"Custom"})]})]})]}),o==="custom"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(de,{className:"text-sm",children:"From:"}),n.jsx(me,{type:"date",value:d,onChange:P=>h(P.target.value),className:"w-36"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(de,{className:"text-sm",children:"To:"}),n.jsx(me,{type:"date",value:f,onChange:P=>m(P.target.value),className:"w-36"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(de,{className:"text-sm",children:"Product:"}),n.jsxs(rn,{value:u,onValueChange:p,children:[n.jsx(Qt,{className:"w-40",children:n.jsx(an,{})}),n.jsxs(Jt,{children:[n.jsx(qe,{value:"all",children:"All Products"}),w.map(P=>n.jsx(qe,{value:P.id.toString(),children:P.name},P.id))]})]})]})]})}),n.jsx("div",{className:"bg-white",children:n.jsxs(ra,{value:s,onValueChange:r,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx(bi,{className:"grid grid-cols-4 w-full min-w-max",children:R.map(P=>n.jsxs(Mt,{value:P.id,className:"flex items-center gap-2 text-xs",children:[n.jsx(P.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:P.label})]},P.id))})}),n.jsxs(ft,{value:"overview",className:"p-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",y.totalRevenue.toFixed(0)]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.totalOrders}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["",y.avgOrderValue.toFixed(0)]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Avg Order Value"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:y.customerInsights.totalCustomers}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Customers"})]})})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsxs(lt,{className:"flex items-center gap-2",children:[n.jsx($s,{className:"h-5 w-5"}),"Revenue Trend"]})}),n.jsx(ke,{children:n.jsx("div",{className:"h-64 flex items-end justify-between gap-1",children:y.revenueChart.map((P,T)=>{const M=Math.max(...y.revenueChart.map(W=>W.revenue),1),H=P.revenue/M*200;return n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:"bg-green-500 rounded-t w-full min-h-[4px] hover:bg-green-600 transition-colors cursor-pointer",style:{height:`${H}px`},title:`${P.date}: ${P.revenue.toFixed(0)}`}),n.jsx("div",{className:"text-xs text-gray-600 mt-1 transform -rotate-45 origin-left",children:P.date})]},T)})})})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsxs(lt,{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Top Performing Products"]})}),n.jsx(ke,{children:n.jsx("div",{className:"space-y-3",children:y.topProducts.map((P,T)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm font-bold text-blue-600",children:T+1}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:P.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[P.totalSold," units sold"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-green-600",children:["",P.totalRevenue.toFixed(0)]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[P.orders," orders"]})]})]},P.id))})})]})]}),n.jsx(ft,{value:"sales",className:"p-4 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Order Status Distribution"})}),n.jsx(ke,{children:n.jsx("div",{className:"space-y-3",children:y.orderChart.map(P=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${P.status==="Delivered"?"bg-green-500":P.status==="Pending"?"bg-yellow-500":P.status==="Cancelled"?"bg-red-500":"bg-blue-500"}`}),n.jsx("span",{className:"text-sm",children:P.status})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:P.count}),n.jsxs("span",{className:"text-sm text-gray-600",children:["(",P.percentage,"%)"]})]})]},P.status))})})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Daily Sales Summary"})}),n.jsx(ke,{children:n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:y.revenueChart.slice(-7).reverse().map((P,T)=>n.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded",children:[n.jsx("span",{className:"text-sm",children:P.date}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-medium",children:["",P.revenue.toFixed(0)]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[P.orders," orders"]})]})]},T))})})]})]})}),n.jsx(ft,{value:"products",className:"p-4 space-y-6",children:n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Product Performance Report"})}),n.jsx(ke,{children:n.jsx("div",{className:"space-y-3",children:y.productPerformance.map((P,T)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold",children:T+1}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:P.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[P.totalSold," units  ",P.orders," orders"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-green-600",children:["",P.totalRevenue.toFixed(0)]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["",(P.totalRevenue/P.totalSold).toFixed(0)," per unit"]})]})]},P.id))})})]})}),n.jsxs(ft,{value:"customers",className:"p-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.customerInsights.totalCustomers}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Customers"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.customerInsights.returningCustomers}),n.jsx("div",{className:"text-sm text-gray-600",children:"Returning Customers"})]})}),n.jsx(Ne,{children:n.jsxs(ke,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.customerInsights.newCustomers}),n.jsx("div",{className:"text-sm text-gray-600",children:"New Customers"})]})})]}),n.jsxs(Ne,{children:[n.jsx(ot,{children:n.jsx(lt,{children:"Customer Insights"})}),n.jsx(ke,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Customer Retention Rate"}),n.jsxs("span",{className:"font-bold text-green-600",children:[y.customerInsights.totalCustomers>0?(y.customerInsights.returningCustomers/y.customerInsights.totalCustomers*100).toFixed(1):0,"%"]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Average Orders per Customer"}),n.jsx("span",{className:"font-bold text-blue-600",children:y.customerInsights.totalCustomers>0?(y.totalOrders/y.customerInsights.totalCustomers).toFixed(1):0})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Average Revenue per Customer"}),n.jsxs("span",{className:"font-bold text-purple-600",children:["",y.customerInsights.totalCustomers>0?(y.totalRevenue/y.customerInsights.totalCustomers).toFixed(0):0]})]})]})})]})]})]})})]})})}const ese=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Compose New Message"}),n.jsx("p",{children:"Coming soon..."})]}),tse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Customer Management"}),n.jsx("p",{children:"Coming soon..."})]}),nse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Message Analytics"}),n.jsx("p",{children:"Coming soon..."})]}),sse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Notification Settings"}),n.jsx("p",{children:"Coming soon..."})]}),rse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Search Messages"}),n.jsx("p",{children:"Coming soon..."})]}),ise=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Message Settings"}),n.jsx("p",{children:"Coming soon..."})]}),ase=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New Products"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Product Statistics"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"24"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Categories"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"8"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Active Categories"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Approvals"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"3"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Awaiting Review"})]})]})]}),ose=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Return Order Management"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Return Requests"}),n.jsx("p",{className:"text-3xl font-bold text-red-600",children:"7"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pending review"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Approved Returns"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"12"}),n.jsx("p",{className:"text-sm text-gray-600",children:"This month"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Refund Amount"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"8,450"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Processed"})]})]})]}),lse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Review Management"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Average Rating"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"4.7"}),n.jsx("p",{className:"text-sm text-gray-600",children:""})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Reviews"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"89"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Customer feedback"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Response"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"5"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Need attention"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Positive Reviews"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"76"}),n.jsx("p",{className:"text-sm text-gray-600",children:"85% positive"})]})]})]}),cse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Income Dashboard"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Today's Earnings"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"2,450"}),n.jsx("p",{className:"text-sm text-gray-600",children:"+12% from yesterday"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"This Week"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"18,320"}),n.jsx("p",{className:"text-sm text-gray-600",children:"7 days total"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"This Month"}),n.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"72,850"}),n.jsx("p",{className:"text-sm text-gray-600",children:"30 days total"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Payout"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"5,200"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Available for withdrawal"})]})]})]}),dse=new n$,use=()=>(jB(),j.useEffect(()=>{(async()=>{try{await gB.requestAllPermissions(),console.log("All permissions requested successfully")}catch(t){console.error("Failed to request permissions:",t)}})()},[]),n.jsx(Q$,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsxs(G$,{children:[n.jsx(Ye,{path:"/",element:n.jsx(vS,{})}),n.jsx(Ye,{path:"/splash",element:n.jsx(TB,{})}),n.jsx(Ye,{path:"/login",element:n.jsx(OB,{})}),n.jsx(Ye,{path:"/home",element:n.jsx(vS,{})}),n.jsx(Ye,{path:"/search",element:n.jsx(kW,{})}),n.jsx(Ye,{path:"/cart",element:n.jsx(NW,{})}),n.jsx(Ye,{path:"/wishlist",element:n.jsx(Hr,{children:n.jsx(EW,{})})}),n.jsx(Ye,{path:"/profile",element:n.jsx(Hr,{children:n.jsx(TW,{})})}),n.jsx(Ye,{path:"/profile-edit",element:n.jsx(Hr,{children:n.jsx(LW,{})})}),n.jsx(Ye,{path:"/privacy",element:n.jsx(RW,{})}),n.jsx(Ye,{path:"/product/:id",element:n.jsx(dW,{})}),n.jsx(Ye,{path:"/vendor/:vendorId",element:n.jsx(vW,{})}),n.jsx(Ye,{path:"/checkout",element:n.jsx(Hr,{children:n.jsx(mZ,{})})}),n.jsx(Ye,{path:"/order-confirmation/:orderId",element:n.jsx(Hr,{children:n.jsx(pZ,{})})}),n.jsx(Ye,{path:"/orders",element:n.jsx(Hr,{children:n.jsx(_G,{})})}),n.jsx(Ye,{path:"/addresses",element:n.jsx(Hr,{children:n.jsx(kG,{})})}),n.jsx(Ye,{path:"/payments",element:n.jsx(Hr,{children:n.jsx(TG,{})})}),n.jsx(Ye,{path:"/help",element:n.jsx(LG,{})}),n.jsx(Ye,{path:"/messages",element:n.jsx(Hr,{children:n.jsx(_S,{})})}),n.jsx(Ye,{path:"/order/:orderId/messages",element:n.jsx(Hr,{children:n.jsx(_S,{})})}),n.jsx(Ye,{path:"/signup",element:n.jsx(MW,{})}),n.jsx(Ye,{path:"/forgot-password",element:n.jsx(IW,{})}),n.jsx(Ye,{path:"/category/:categoryName",element:n.jsx(MG,{})}),n.jsx(Ye,{path:"/featured-items",element:n.jsx(DG,{})}),n.jsx(Ye,{path:"/trending-items",element:n.jsx($G,{})}),n.jsx(Ye,{path:"/vendor/login",element:n.jsx(BG,{})}),n.jsx(Ye,{path:"/vendor/signup",element:n.jsx(zG,{})}),n.jsx(Ye,{path:"/vendor/onboarding",element:n.jsx(UG,{})}),n.jsx(Ye,{path:"/vendor/dashboard",element:n.jsx(g2,{})}),n.jsx(Ye,{path:"/vendor/home",element:n.jsx(g2,{})}),n.jsx(Ye,{path:"/vendor/place-order",element:n.jsx(Dne,{})}),n.jsx(Ye,{path:"/vendor/sales",element:n.jsx(Fne,{})}),n.jsx(Ye,{path:"/vendor/messages",element:n.jsx(y2,{})}),n.jsx(Ye,{path:"/vendor/order/:orderId/messages",element:n.jsx(y2,{})}),n.jsx(Ye,{path:"/vendor/messages/compose",element:n.jsx(ese,{})}),n.jsx(Ye,{path:"/vendor/messages/search",element:n.jsx(rse,{})}),n.jsx(Ye,{path:"/vendor/messages/settings",element:n.jsx(ise,{})}),n.jsx(Ye,{path:"/vendor/customers",element:n.jsx(tse,{})}),n.jsx(Ye,{path:"/vendor/analytics",element:n.jsx(nse,{})}),n.jsx(Ye,{path:"/vendor/notifications",element:n.jsx(sse,{})}),n.jsx(Ye,{path:"/vendor/add-products",element:n.jsx(ase,{})}),n.jsx(Ye,{path:"/vendor/products",element:n.jsx(Yne,{})}),n.jsx(Ye,{path:"/vendor/add-product",element:n.jsx(qne,{})}),n.jsx(Ye,{path:"/vendor/orders",element:n.jsx(zne,{})}),n.jsx(Ye,{path:"/vendor/return-orders",element:n.jsx(ose,{})}),n.jsx(Ye,{path:"/vendor/reviews",element:n.jsx(lse,{})}),n.jsx(Ye,{path:"/vendor/income",element:n.jsx(cse,{})}),n.jsx(Ye,{path:"/vendor/wallet",element:n.jsx(Hne,{})}),n.jsx(Ye,{path:"/vendor/profile",element:n.jsx(Wne,{})}),n.jsx(Ye,{path:"/vendor/profile-management",element:n.jsx(Zne,{})}),n.jsx(Ye,{path:"/vendor/company",element:n.jsx(Kne,{})}),n.jsx(Ye,{path:"/vendor/security",element:n.jsx(Gne,{})}),n.jsx(Ye,{path:"/vendor/notifications",element:n.jsx(Xne,{})}),n.jsx(Ye,{path:"/vendor/settings",element:n.jsx(Bne,{})}),n.jsx(Ye,{path:"/vendor/summary",element:n.jsx(Qne,{})}),n.jsx(Ye,{path:"/vendor/analytics",element:n.jsx(Jne,{})}),n.jsx(Ye,{path:"*",element:n.jsx(xW,{})})]})})),hse=()=>n.jsx(r$,{client:dse,children:n.jsx(wB,{children:n.jsx(EB,{children:n.jsx(L8,{children:n.jsxs(PB,{children:[n.jsx(p6,{}),n.jsx(Z6,{}),n.jsx(use,{})]})})})})});vt.isNativePlatform()&&e0.initialize().then(()=>{console.log(" FCM Service initialized on app startup")}).catch(e=>{console.error(" FCM Service initialization failed:",e)});zC(document.getElementById("root")).render(n.jsx(hse,{}));export{vt as C,Nb as W,et as _,e0 as f,vse as i,no as r};
