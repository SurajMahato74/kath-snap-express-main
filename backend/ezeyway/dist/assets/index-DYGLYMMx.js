var XM=Object.defineProperty;var zj=e=>{throw TypeError(e)};var QM=(e,t,n)=>t in e?XM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qs=(e,t,n)=>QM(e,typeof t!="symbol"?t+"":t,n),Ng=(e,t,n)=>t.has(e)||zj("Cannot "+n);var Se=(e,t,n)=>(Ng(e,t,"read from private field"),n?n.call(e):t.get(e)),Tt=(e,t,n)=>t.has(e)?zj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ht=(e,t,n,s)=>(Ng(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Xn=(e,t,n)=>(Ng(e,t,"access private method"),n);var jh=(e,t,n,s)=>({set _(i){ht(e,t,i,n)},get _(){return Se(e,t,s)}});function JM(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T2={exports:{}},Im={},A2={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),e5=Symbol.for("react.portal"),t5=Symbol.for("react.fragment"),n5=Symbol.for("react.strict_mode"),r5=Symbol.for("react.profiler"),s5=Symbol.for("react.provider"),i5=Symbol.for("react.context"),a5=Symbol.for("react.forward_ref"),o5=Symbol.for("react.suspense"),l5=Symbol.for("react.memo"),c5=Symbol.for("react.lazy"),Vj=Symbol.iterator;function d5(e){return e===null||typeof e!="object"?null:(e=Vj&&e[Vj]||e["@@iterator"],typeof e=="function"?e:null)}var O2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L2=Object.assign,R2={};function Ec(e,t,n){this.props=e,this.context=t,this.refs=R2,this.updater=n||O2}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ec.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M2(){}M2.prototype=Ec.prototype;function n0(e,t,n){this.props=e,this.context=t,this.refs=R2,this.updater=n||O2}var r0=n0.prototype=new M2;r0.constructor=n0;L2(r0,Ec.prototype);r0.isPureReactComponent=!0;var Uj=Array.isArray,I2=Object.prototype.hasOwnProperty,s0={current:null},D2={key:!0,ref:!0,__self:!0,__source:!0};function F2(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)I2.call(t,s)&&!D2.hasOwnProperty(s)&&(i[s]=t[s]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)i[s]===void 0&&(i[s]=c[s]);return{$$typeof:Du,type:e,key:a,ref:o,props:i,_owner:s0.current}}function u5(e,t){return{$$typeof:Du,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function i0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Du}function h5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qj=/\/+/g;function Sg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h5(""+e.key):t.toString(36)}function ef(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Du:case e5:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+Sg(o,0):s,Uj(i)?(n="",e!=null&&(n=e.replace(qj,"$&/")+"/"),ef(i,t,n,"",function(h){return h})):i!=null&&(i0(i)&&(i=u5(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qj,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",Uj(e))for(var c=0;c<e.length;c++){a=e[c];var d=s+Sg(a,c);o+=ef(a,t,n,d,i)}else if(d=d5(e),typeof d=="function")for(e=d.call(e),c=0;!(a=e.next()).done;)a=a.value,d=s+Sg(a,c++),o+=ef(a,t,n,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _h(e,t,n){if(e==null)return e;var s=[],i=0;return ef(e,s,"","",function(a){return t.call(n,a,i++)}),s}function f5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xr={current:null},tf={transition:null},m5={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:tf,ReactCurrentOwner:s0};function $2(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:_h,forEach:function(e,t,n){_h(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _h(e,function(){t++}),t},toArray:function(e){return _h(e,function(t){return t})||[]},only:function(e){if(!i0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Ec;jt.Fragment=t5;jt.Profiler=r5;jt.PureComponent=n0;jt.StrictMode=n5;jt.Suspense=o5;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m5;jt.act=$2;jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=L2({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=s0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)I2.call(t,d)&&!D2.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];s.children=c}return{$$typeof:Du,type:e.type,key:i,ref:a,props:s,_owner:o}};jt.createContext=function(e){return e={$$typeof:i5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s5,_context:e},e.Consumer=e};jt.createElement=F2;jt.createFactory=function(e){var t=F2.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:a5,render:e}};jt.isValidElement=i0;jt.lazy=function(e){return{$$typeof:c5,_payload:{_status:-1,_result:e},_init:f5}};jt.memo=function(e,t){return{$$typeof:l5,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=tf.transition;tf.transition={};try{e()}finally{tf.transition=t}};jt.unstable_act=$2;jt.useCallback=function(e,t){return xr.current.useCallback(e,t)};jt.useContext=function(e){return xr.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return xr.current.useDeferredValue(e)};jt.useEffect=function(e,t){return xr.current.useEffect(e,t)};jt.useId=function(){return xr.current.useId()};jt.useImperativeHandle=function(e,t,n){return xr.current.useImperativeHandle(e,t,n)};jt.useInsertionEffect=function(e,t){return xr.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return xr.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return xr.current.useMemo(e,t)};jt.useReducer=function(e,t,n){return xr.current.useReducer(e,t,n)};jt.useRef=function(e){return xr.current.useRef(e)};jt.useState=function(e){return xr.current.useState(e)};jt.useSyncExternalStore=function(e,t,n){return xr.current.useSyncExternalStore(e,t,n)};jt.useTransition=function(){return xr.current.useTransition()};jt.version="18.3.1";A2.exports=jt;var j=A2.exports;const _e=Mm(j),a0=JM({__proto__:null,default:_e},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5=j,g5=Symbol.for("react.element"),v5=Symbol.for("react.fragment"),x5=Object.prototype.hasOwnProperty,y5=p5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b5={key:!0,ref:!0,__self:!0,__source:!0};function B2(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)x5.call(t,s)&&!b5.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:g5,type:e,key:a,ref:o,props:i,_owner:y5.current}}Im.Fragment=v5;Im.jsx=B2;Im.jsxs=B2;T2.exports=Im;var r=T2.exports,z2={exports:{}},Hr={},V2={exports:{}},U2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,q){var F=B.length;B.push(q);e:for(;0<F;){var $=F-1>>>1,z=B[$];if(0<i(z,q))B[$]=q,B[F]=z,F=$;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var q=B[0],F=B.pop();if(F!==q){B[0]=F;e:for(var $=0,z=B.length,G=z>>>1;$<G;){var X=2*($+1)-1,J=B[X],K=X+1,U=B[K];if(0>i(J,F))K<z&&0>i(U,J)?(B[$]=U,B[K]=F,$=K):(B[$]=J,B[X]=F,$=X);else if(K<z&&0>i(U,F))B[$]=U,B[K]=F,$=K;else break e}}return q}function i(B,q){var F=B.sortIndex-q.sortIndex;return F!==0?F:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],h=[],f=1,m=null,u=3,p=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var q=n(h);q!==null;){if(q.callback===null)s(h);else if(q.startTime<=B)s(h),q.sortIndex=q.expirationTime,t(d,q);else break;q=n(h)}}function N(B){if(v=!1,_(B),!x)if(n(d)!==null)x=!0,W(C);else{var q=n(h);q!==null&&Z(N,q.startTime-B)}}function C(B,q){x=!1,v&&(v=!1,b(R),R=-1),p=!0;var F=u;try{for(_(q),m=n(d);m!==null&&(!(m.expirationTime>q)||B&&!O());){var $=m.callback;if(typeof $=="function"){m.callback=null,u=m.priorityLevel;var z=$(m.expirationTime<=q);q=e.unstable_now(),typeof z=="function"?m.callback=z:m===n(d)&&s(d),_(q)}else s(d);m=n(d)}if(m!==null)var G=!0;else{var X=n(h);X!==null&&Z(N,X.startTime-q),G=!1}return G}finally{m=null,u=F,p=!1}}var D=!1,E=null,R=-1,A=5,k=-1;function O(){return!(e.unstable_now()-k<A)}function P(){if(E!==null){var B=e.unstable_now();k=B;var q=!0;try{q=E(!0,B)}finally{q?T():(D=!1,E=null)}}else D=!1}var T;if(typeof y=="function")T=function(){y(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=P,T=function(){H.postMessage(null)}}else T=function(){w(P,0)};function W(B){E=B,D||(D=!0,T())}function Z(B,q){R=w(function(){B(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,W(C))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(B){switch(u){case 1:case 2:case 3:var q=3;break;default:q=u}var F=u;u=q;try{return B()}finally{u=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=u;u=B;try{return q()}finally{u=F}},e.unstable_scheduleCallback=function(B,q,F){var $=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,B={id:f++,callback:q,priorityLevel:B,startTime:F,expirationTime:z,sortIndex:-1},F>$?(B.sortIndex=F,t(h,B),n(d)===null&&B===n(h)&&(v?(b(R),R=-1):v=!0,Z(N,F-$))):(B.sortIndex=z,t(d,B),x||p||(x=!0,W(C))),B},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(B){var q=u;return function(){var F=u;u=q;try{return B.apply(this,arguments)}finally{u=F}}}})(U2);V2.exports=U2;var w5=V2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5=j,qr=w5;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q2=new Set,eu={};function Qo(e,t){ac(e,t),ac(e+"Capture",t)}function ac(e,t){for(eu[e]=t,e=0;e<t.length;e++)q2.add(t[e])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dv=Object.prototype.hasOwnProperty,_5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hj={},Wj={};function N5(e){return Dv.call(Wj,e)?!0:Dv.call(Hj,e)?!1:_5.test(e)?Wj[e]=!0:(Hj[e]=!0,!1)}function S5(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k5(e,t,n,s){if(t===null||typeof t>"u"||S5(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yr(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gn[e]=new yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gn[t]=new yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gn[e]=new yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gn[e]=new yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gn[e]=new yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gn[e]=new yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gn[e]=new yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gn[e]=new yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gn[e]=new yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var o0=/[\-:]([a-z])/g;function l0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(o0,l0);Gn[t]=new yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(o0,l0);Gn[t]=new yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(o0,l0);Gn[t]=new yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gn[e]=new yr(e,1,!1,e.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gn[e]=new yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function c0(e,t,n,s){var i=Gn.hasOwnProperty(t)?Gn[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k5(t,n,i,s)&&(n=null),s||i===null?N5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ta=j5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),bl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),Fv=Symbol.for("react.profiler"),H2=Symbol.for("react.provider"),W2=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),$v=Symbol.for("react.suspense"),Bv=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),Z2=Symbol.for("react.offscreen"),Zj=Symbol.iterator;function ld(e){return e===null||typeof e!="object"?null:(e=Zj&&e[Zj]||e["@@iterator"],typeof e=="function"?e:null)}var ln=Object.assign,kg;function kd(e){if(kg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kg=t&&t[1]||""}return`
`+kg+e}var Cg=!1;function Eg(e,t){if(!e||Cg)return"";Cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var s=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){s=h}e.call(t.prototype)}else{try{throw Error()}catch(h){s=h}e()}}catch(h){if(h&&s&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var d=`
`+i[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=c);break}}}finally{Cg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kd(e):""}function C5(e){switch(e.tag){case 5:return kd(e.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return e=Eg(e.type,!1),e;case 11:return e=Eg(e.type.render,!1),e;case 1:return e=Eg(e.type,!0),e;default:return""}}function zv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wl:return"Fragment";case bl:return"Portal";case Fv:return"Profiler";case d0:return"StrictMode";case $v:return"Suspense";case Bv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W2:return(e.displayName||"Context")+".Consumer";case H2:return(e._context.displayName||"Context")+".Provider";case u0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case h0:return t=e.displayName||null,t!==null?t:zv(e.type)||"Memo";case ga:t=e._payload,e=e._init;try{return zv(e(t))}catch{}}return null}function E5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zv(t);case 8:return t===d0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Va(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P5(e){var t=G2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sh(e){e._valueTracker||(e._valueTracker=P5(e))}function K2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=G2(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Nf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vv(e,t){var n=t.checked;return ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gj(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Va(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Y2(e,t){t=t.checked,t!=null&&c0(e,"checked",t,!1)}function Uv(e,t){Y2(e,t);var n=Va(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qv(e,t.type,n):t.hasOwnProperty("defaultValue")&&qv(e,t.type,Va(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kj(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qv(e,t,n){(t!=="number"||Nf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cd=Array.isArray;function $l(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Va(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yj(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(Cd(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Va(n)}}function X2(e,t){var n=Va(t.value),s=Va(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Xj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kh,J2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kh=kh||document.createElement("div"),kh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T5=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(e){T5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rd[t]=Rd[e]})});function ek(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rd.hasOwnProperty(e)&&Rd[e]?(""+t).trim():t+"px"}function tk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=ek(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var A5=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zv(e,t){if(t){if(A5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function Gv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kv=null;function f0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yv=null,Bl=null,zl=null;function Qj(e){if(e=Bu(e)){if(typeof Yv!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=zm(t),Yv(e.stateNode,e.type,t))}}function nk(e){Bl?zl?zl.push(e):zl=[e]:Bl=e}function rk(){if(Bl){var e=Bl,t=zl;if(zl=Bl=null,Qj(e),t)for(e=0;e<t.length;e++)Qj(t[e])}}function sk(e,t){return e(t)}function ik(){}var Pg=!1;function ak(e,t,n){if(Pg)return e(t,n);Pg=!0;try{return sk(e,t,n)}finally{Pg=!1,(Bl!==null||zl!==null)&&(ik(),rk())}}function nu(e,t){var n=e.stateNode;if(n===null)return null;var s=zm(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var Xv=!1;if(Vi)try{var cd={};Object.defineProperty(cd,"passive",{get:function(){Xv=!0}}),window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{Xv=!1}function O5(e,t,n,s,i,a,o,c,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(f){this.onError(f)}}var Md=!1,Sf=null,kf=!1,Qv=null,L5={onError:function(e){Md=!0,Sf=e}};function R5(e,t,n,s,i,a,o,c,d){Md=!1,Sf=null,O5.apply(L5,arguments)}function M5(e,t,n,s,i,a,o,c,d){if(R5.apply(this,arguments),Md){if(Md){var h=Sf;Md=!1,Sf=null}else throw Error(Te(198));kf||(kf=!0,Qv=h)}}function Jo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ok(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jj(e){if(Jo(e)!==e)throw Error(Te(188))}function I5(e){var t=e.alternate;if(!t){if(t=Jo(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Jj(i),e;if(a===s)return Jj(i),t;a=a.sibling}throw Error(Te(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,s=a;break}if(c===s){o=!0,s=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,s=i;break}if(c===s){o=!0,s=a,n=i;break}c=c.sibling}if(!o)throw Error(Te(189))}}if(n.alternate!==s)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function lk(e){return e=I5(e),e!==null?ck(e):null}function ck(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ck(e);if(t!==null)return t;e=e.sibling}return null}var dk=qr.unstable_scheduleCallback,e_=qr.unstable_cancelCallback,D5=qr.unstable_shouldYield,F5=qr.unstable_requestPaint,_n=qr.unstable_now,$5=qr.unstable_getCurrentPriorityLevel,m0=qr.unstable_ImmediatePriority,uk=qr.unstable_UserBlockingPriority,Cf=qr.unstable_NormalPriority,B5=qr.unstable_LowPriority,hk=qr.unstable_IdlePriority,Dm=null,ri=null;function z5(e){if(ri&&typeof ri.onCommitFiberRoot=="function")try{ri.onCommitFiberRoot(Dm,e,void 0,(e.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:q5,V5=Math.log,U5=Math.LN2;function q5(e){return e>>>=0,e===0?32:31-(V5(e)/U5|0)|0}var Ch=64,Eh=4194304;function Ed(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ef(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?s=Ed(c):(a&=o,a!==0&&(s=Ed(a)))}else o=n&~i,o!==0?s=Ed(o):a!==0&&(s=Ed(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ps(t),i=1<<n,s|=e[n],t&=~i;return s}function H5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W5(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ps(a),c=1<<o,d=i[o];d===-1?(!(c&n)||c&s)&&(i[o]=H5(c,t)):d<=t&&(e.expiredLanes|=c),a&=~c}}function Jv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fk(){var e=Ch;return Ch<<=1,!(Ch&4194240)&&(Ch=64),e}function Tg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ps(t),e[t]=n}function Z5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ps(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function p0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ps(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var Rt=0;function mk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pk,g0,gk,vk,xk,ex=!1,Ph=[],Pa=null,Ta=null,Aa=null,ru=new Map,su=new Map,ya=[],G5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t_(e,t){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":ru.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(t.pointerId)}}function dd(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Bu(t),t!==null&&g0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function K5(e,t,n,s,i){switch(t){case"focusin":return Pa=dd(Pa,e,t,n,s,i),!0;case"dragenter":return Ta=dd(Ta,e,t,n,s,i),!0;case"mouseover":return Aa=dd(Aa,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return ru.set(a,dd(ru.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,su.set(a,dd(su.get(a)||null,e,t,n,s,i)),!0}return!1}function yk(e){var t=yo(e.target);if(t!==null){var n=Jo(t);if(n!==null){if(t=n.tag,t===13){if(t=ok(n),t!==null){e.blockedOn=t,xk(e.priority,function(){gk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Kv=s,n.target.dispatchEvent(s),Kv=null}else return t=Bu(n),t!==null&&g0(t),e.blockedOn=n,!1;t.shift()}return!0}function n_(e,t,n){nf(e)&&n.delete(t)}function Y5(){ex=!1,Pa!==null&&nf(Pa)&&(Pa=null),Ta!==null&&nf(Ta)&&(Ta=null),Aa!==null&&nf(Aa)&&(Aa=null),ru.forEach(n_),su.forEach(n_)}function ud(e,t){e.blockedOn===t&&(e.blockedOn=null,ex||(ex=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,Y5)))}function iu(e){function t(i){return ud(i,e)}if(0<Ph.length){ud(Ph[0],e);for(var n=1;n<Ph.length;n++){var s=Ph[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Pa!==null&&ud(Pa,e),Ta!==null&&ud(Ta,e),Aa!==null&&ud(Aa,e),ru.forEach(t),su.forEach(t),n=0;n<ya.length;n++)s=ya[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<ya.length&&(n=ya[0],n.blockedOn===null);)yk(n),n.blockedOn===null&&ya.shift()}var Vl=ta.ReactCurrentBatchConfig,Pf=!0;function X5(e,t,n,s){var i=Rt,a=Vl.transition;Vl.transition=null;try{Rt=1,v0(e,t,n,s)}finally{Rt=i,Vl.transition=a}}function Q5(e,t,n,s){var i=Rt,a=Vl.transition;Vl.transition=null;try{Rt=4,v0(e,t,n,s)}finally{Rt=i,Vl.transition=a}}function v0(e,t,n,s){if(Pf){var i=tx(e,t,n,s);if(i===null)Bg(e,t,s,Tf,n),t_(e,s);else if(K5(i,e,t,n,s))s.stopPropagation();else if(t_(e,s),t&4&&-1<G5.indexOf(e)){for(;i!==null;){var a=Bu(i);if(a!==null&&pk(a),a=tx(e,t,n,s),a===null&&Bg(e,t,s,Tf,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else Bg(e,t,s,null,n)}}var Tf=null;function tx(e,t,n,s){if(Tf=null,e=f0(s),e=yo(e),e!==null)if(t=Jo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ok(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tf=e,null}function bk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($5()){case m0:return 1;case uk:return 4;case Cf:case B5:return 16;case hk:return 536870912;default:return 16}default:return 16}}var ka=null,x0=null,rf=null;function wk(){if(rf)return rf;var e,t=x0,n=t.length,s,i="value"in ka?ka.value:ka.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return rf=i.slice(e,1<s?1-s:void 0)}function sf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Th(){return!0}function r_(){return!1}function Wr(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Th:r_,this.isPropagationStopped=r_,this}return ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),t}var Pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y0=Wr(Pc),$u=ln({},Pc,{view:0,detail:0}),J5=Wr($u),Ag,Og,hd,Fm=ln({},$u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hd&&(hd&&e.type==="mousemove"?(Ag=e.screenX-hd.screenX,Og=e.screenY-hd.screenY):Og=Ag=0,hd=e),Ag)},movementY:function(e){return"movementY"in e?e.movementY:Og}}),s_=Wr(Fm),e3=ln({},Fm,{dataTransfer:0}),t3=Wr(e3),n3=ln({},$u,{relatedTarget:0}),Lg=Wr(n3),r3=ln({},Pc,{animationName:0,elapsedTime:0,pseudoElement:0}),s3=Wr(r3),i3=ln({},Pc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a3=Wr(i3),o3=ln({},Pc,{data:0}),i_=Wr(o3),l3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d3[e])?!!t[e]:!1}function b0(){return u3}var h3=ln({},$u,{key:function(e){if(e.key){var t=l3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b0,charCode:function(e){return e.type==="keypress"?sf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f3=Wr(h3),m3=ln({},Fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a_=Wr(m3),p3=ln({},$u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b0}),g3=Wr(p3),v3=ln({},Pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),x3=Wr(v3),y3=ln({},Fm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b3=Wr(y3),w3=[9,13,27,32],w0=Vi&&"CompositionEvent"in window,Id=null;Vi&&"documentMode"in document&&(Id=document.documentMode);var j3=Vi&&"TextEvent"in window&&!Id,jk=Vi&&(!w0||Id&&8<Id&&11>=Id),o_=" ",l_=!1;function _k(e,t){switch(e){case"keyup":return w3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jl=!1;function _3(e,t){switch(e){case"compositionend":return Nk(t);case"keypress":return t.which!==32?null:(l_=!0,o_);case"textInput":return e=t.data,e===o_&&l_?null:e;default:return null}}function N3(e,t){if(jl)return e==="compositionend"||!w0&&_k(e,t)?(e=wk(),rf=x0=ka=null,jl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jk&&t.locale!=="ko"?null:t.data;default:return null}}var S3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S3[e.type]:t==="textarea"}function Sk(e,t,n,s){nk(s),t=Af(t,"onChange"),0<t.length&&(n=new y0("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Dd=null,au=null;function k3(e){Ik(e,0)}function $m(e){var t=Sl(e);if(K2(t))return e}function C3(e,t){if(e==="change")return t}var kk=!1;if(Vi){var Rg;if(Vi){var Mg="oninput"in document;if(!Mg){var d_=document.createElement("div");d_.setAttribute("oninput","return;"),Mg=typeof d_.oninput=="function"}Rg=Mg}else Rg=!1;kk=Rg&&(!document.documentMode||9<document.documentMode)}function u_(){Dd&&(Dd.detachEvent("onpropertychange",Ck),au=Dd=null)}function Ck(e){if(e.propertyName==="value"&&$m(au)){var t=[];Sk(t,au,e,f0(e)),ak(k3,t)}}function E3(e,t,n){e==="focusin"?(u_(),Dd=t,au=n,Dd.attachEvent("onpropertychange",Ck)):e==="focusout"&&u_()}function P3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $m(au)}function T3(e,t){if(e==="click")return $m(t)}function A3(e,t){if(e==="input"||e==="change")return $m(t)}function O3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ls=typeof Object.is=="function"?Object.is:O3;function ou(e,t){if(Ls(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Dv.call(t,i)||!Ls(e[i],t[i]))return!1}return!0}function h_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f_(e,t){var n=h_(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=h_(n)}}function Ek(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ek(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pk(){for(var e=window,t=Nf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nf(e.document)}return t}function j0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function L3(e){var t=Pk(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ek(n.ownerDocument.documentElement,n)){if(s!==null&&j0(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=f_(n,a);var o=f_(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var R3=Vi&&"documentMode"in document&&11>=document.documentMode,_l=null,nx=null,Fd=null,rx=!1;function m_(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rx||_l==null||_l!==Nf(s)||(s=_l,"selectionStart"in s&&j0(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fd&&ou(Fd,s)||(Fd=s,s=Af(nx,"onSelect"),0<s.length&&(t=new y0("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=_l)))}function Ah(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nl={animationend:Ah("Animation","AnimationEnd"),animationiteration:Ah("Animation","AnimationIteration"),animationstart:Ah("Animation","AnimationStart"),transitionend:Ah("Transition","TransitionEnd")},Ig={},Tk={};Vi&&(Tk=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Bm(e){if(Ig[e])return Ig[e];if(!Nl[e])return e;var t=Nl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tk)return Ig[e]=t[n];return e}var Ak=Bm("animationend"),Ok=Bm("animationiteration"),Lk=Bm("animationstart"),Rk=Bm("transitionend"),Mk=new Map,p_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(e,t){Mk.set(e,t),Qo(t,[e])}for(var Dg=0;Dg<p_.length;Dg++){var Fg=p_[Dg],M3=Fg.toLowerCase(),I3=Fg[0].toUpperCase()+Fg.slice(1);Xa(M3,"on"+I3)}Xa(Ak,"onAnimationEnd");Xa(Ok,"onAnimationIteration");Xa(Lk,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(Rk,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function g_(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,M5(s,t,void 0,e),e.currentTarget=null}function Ik(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var c=s[o],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;g_(i,c,h),a=d}else for(o=0;o<s.length;o++){if(c=s[o],d=c.instance,h=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;g_(i,c,h),a=d}}}if(kf)throw e=Qv,kf=!1,Qv=null,e}function Wt(e,t){var n=t[lx];n===void 0&&(n=t[lx]=new Set);var s=e+"__bubble";n.has(s)||(Dk(t,e,2,!1),n.add(s))}function $g(e,t,n){var s=0;t&&(s|=4),Dk(n,e,s,t)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function lu(e){if(!e[Oh]){e[Oh]=!0,q2.forEach(function(n){n!=="selectionchange"&&(D3.has(n)||$g(n,!1,e),$g(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oh]||(t[Oh]=!0,$g("selectionchange",!1,t))}}function Dk(e,t,n,s){switch(bk(t)){case 1:var i=X5;break;case 4:i=Q5;break;default:i=v0}n=i.bind(null,t,n,e),i=void 0,!Xv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bg(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;o=o.return}for(;c!==null;){if(o=yo(c),o===null)return;if(d=o.tag,d===5||d===6){s=a=o;continue e}c=c.parentNode}}s=s.return}ak(function(){var h=a,f=f0(n),m=[];e:{var u=Mk.get(e);if(u!==void 0){var p=y0,x=e;switch(e){case"keypress":if(sf(n)===0)break e;case"keydown":case"keyup":p=f3;break;case"focusin":x="focus",p=Lg;break;case"focusout":x="blur",p=Lg;break;case"beforeblur":case"afterblur":p=Lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=s_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=t3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=g3;break;case Ak:case Ok:case Lk:p=s3;break;case Rk:p=x3;break;case"scroll":p=J5;break;case"wheel":p=b3;break;case"copy":case"cut":case"paste":p=a3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=a_}var v=(t&4)!==0,w=!v&&e==="scroll",b=v?u!==null?u+"Capture":null:u;v=[];for(var y=h,_;y!==null;){_=y;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,b!==null&&(N=nu(y,b),N!=null&&v.push(cu(y,N,_)))),w)break;y=y.return}0<v.length&&(u=new p(u,x,null,n,f),m.push({event:u,listeners:v}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",u&&n!==Kv&&(x=n.relatedTarget||n.fromElement)&&(yo(x)||x[Ui]))break e;if((p||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=h,x=x?yo(x):null,x!==null&&(w=Jo(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=h),p!==x)){if(v=s_,N="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=a_,N="onPointerLeave",b="onPointerEnter",y="pointer"),w=p==null?u:Sl(p),_=x==null?u:Sl(x),u=new v(N,y+"leave",p,n,f),u.target=w,u.relatedTarget=_,N=null,yo(f)===h&&(v=new v(b,y+"enter",x,n,f),v.target=_,v.relatedTarget=w,N=v),w=N,p&&x)t:{for(v=p,b=x,y=0,_=v;_;_=fl(_))y++;for(_=0,N=b;N;N=fl(N))_++;for(;0<y-_;)v=fl(v),y--;for(;0<_-y;)b=fl(b),_--;for(;y--;){if(v===b||b!==null&&v===b.alternate)break t;v=fl(v),b=fl(b)}v=null}else v=null;p!==null&&v_(m,u,p,v,!1),x!==null&&w!==null&&v_(m,w,x,v,!0)}}e:{if(u=h?Sl(h):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var C=C3;else if(c_(u))if(kk)C=A3;else{C=P3;var D=E3}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(C=T3);if(C&&(C=C(e,h))){Sk(m,C,n,f);break e}D&&D(e,u,h),e==="focusout"&&(D=u._wrapperState)&&D.controlled&&u.type==="number"&&qv(u,"number",u.value)}switch(D=h?Sl(h):window,e){case"focusin":(c_(D)||D.contentEditable==="true")&&(_l=D,nx=h,Fd=null);break;case"focusout":Fd=nx=_l=null;break;case"mousedown":rx=!0;break;case"contextmenu":case"mouseup":case"dragend":rx=!1,m_(m,n,f);break;case"selectionchange":if(R3)break;case"keydown":case"keyup":m_(m,n,f)}var E;if(w0)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else jl?_k(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(jk&&n.locale!=="ko"&&(jl||R!=="onCompositionStart"?R==="onCompositionEnd"&&jl&&(E=wk()):(ka=f,x0="value"in ka?ka.value:ka.textContent,jl=!0)),D=Af(h,R),0<D.length&&(R=new i_(R,e,null,n,f),m.push({event:R,listeners:D}),E?R.data=E:(E=Nk(n),E!==null&&(R.data=E)))),(E=j3?_3(e,n):N3(e,n))&&(h=Af(h,"onBeforeInput"),0<h.length&&(f=new i_("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:h}),f.data=E))}Ik(m,t)})}function cu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Af(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=nu(e,n),a!=null&&s.unshift(cu(e,a,i)),a=nu(e,t),a!=null&&s.push(cu(e,a,i))),e=e.return}return s}function fl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v_(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===s)break;c.tag===5&&h!==null&&(c=h,i?(d=nu(n,a),d!=null&&o.unshift(cu(n,d,c))):i||(d=nu(n,a),d!=null&&o.push(cu(n,d,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var F3=/\r\n?/g,$3=/\u0000|\uFFFD/g;function x_(e){return(typeof e=="string"?e:""+e).replace(F3,`
`).replace($3,"")}function Lh(e,t,n){if(t=x_(t),x_(e)!==t&&n)throw Error(Te(425))}function Of(){}var sx=null,ix=null;function ax(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ox=typeof setTimeout=="function"?setTimeout:void 0,B3=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,z3=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(V3)}:ox;function V3(e){setTimeout(function(){throw e})}function zg(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),iu(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);iu(t)}function Oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function b_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Xs="__reactFiber$"+Tc,du="__reactProps$"+Tc,Ui="__reactContainer$"+Tc,lx="__reactEvents$"+Tc,U3="__reactListeners$"+Tc,q3="__reactHandles$"+Tc;function yo(e){var t=e[Xs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ui]||n[Xs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=b_(e);e!==null;){if(n=e[Xs])return n;e=b_(e)}return t}e=n,n=e.parentNode}return null}function Bu(e){return e=e[Xs]||e[Ui],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function zm(e){return e[du]||null}var cx=[],kl=-1;function Qa(e){return{current:e}}function Kt(e){0>kl||(e.current=cx[kl],cx[kl]=null,kl--)}function $t(e,t){kl++,cx[kl]=e.current,e.current=t}var Ua={},ar=Qa(Ua),Er=Qa(!1),$o=Ua;function oc(e,t){var n=e.type.contextTypes;if(!n)return Ua;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return e=e.childContextTypes,e!=null}function Lf(){Kt(Er),Kt(ar)}function w_(e,t,n){if(ar.current!==Ua)throw Error(Te(168));$t(ar,t),$t(Er,n)}function Fk(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Te(108,E5(e)||"Unknown",i));return ln({},n,s)}function Rf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ua,$o=ar.current,$t(ar,e),$t(Er,Er.current),!0}function j_(e,t,n){var s=e.stateNode;if(!s)throw Error(Te(169));n?(e=Fk(e,t,$o),s.__reactInternalMemoizedMergedChildContext=e,Kt(Er),Kt(ar),$t(ar,e)):Kt(Er),$t(Er,n)}var Ai=null,Vm=!1,Vg=!1;function $k(e){Ai===null?Ai=[e]:Ai.push(e)}function H3(e){Vm=!0,$k(e)}function Ja(){if(!Vg&&Ai!==null){Vg=!0;var e=0,t=Rt;try{var n=Ai;for(Rt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ai=null,Vm=!1}catch(i){throw Ai!==null&&(Ai=Ai.slice(e+1)),dk(m0,Ja),i}finally{Rt=t,Vg=!1}}return null}var Cl=[],El=0,Mf=null,If=0,ts=[],ns=0,Bo=null,Mi=1,Ii="";function fo(e,t){Cl[El++]=If,Cl[El++]=Mf,Mf=e,If=t}function Bk(e,t,n){ts[ns++]=Mi,ts[ns++]=Ii,ts[ns++]=Bo,Bo=e;var s=Mi;e=Ii;var i=32-Ps(s)-1;s&=~(1<<i),n+=1;var a=32-Ps(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Mi=1<<32-Ps(t)+i|n<<i|s,Ii=a+e}else Mi=1<<a|n<<i|s,Ii=e}function _0(e){e.return!==null&&(fo(e,1),Bk(e,1,0))}function N0(e){for(;e===Mf;)Mf=Cl[--El],Cl[El]=null,If=Cl[--El],Cl[El]=null;for(;e===Bo;)Bo=ts[--ns],ts[ns]=null,Ii=ts[--ns],ts[ns]=null,Mi=ts[--ns],ts[ns]=null}var zr=null,Br=null,Qt=!1,Ss=null;function zk(e,t){var n=rs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function __(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zr=e,Br=Oa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zr=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bo!==null?{id:Mi,overflow:Ii}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zr=e,Br=null,!0):!1;default:return!1}}function dx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ux(e){if(Qt){var t=Br;if(t){var n=t;if(!__(e,t)){if(dx(e))throw Error(Te(418));t=Oa(n.nextSibling);var s=zr;t&&__(e,t)?zk(s,n):(e.flags=e.flags&-4097|2,Qt=!1,zr=e)}}else{if(dx(e))throw Error(Te(418));e.flags=e.flags&-4097|2,Qt=!1,zr=e}}}function N_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zr=e}function Rh(e){if(e!==zr)return!1;if(!Qt)return N_(e),Qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ax(e.type,e.memoizedProps)),t&&(t=Br)){if(dx(e))throw Vk(),Error(Te(418));for(;t;)zk(e,t),t=Oa(t.nextSibling)}if(N_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Br=Oa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=zr?Oa(e.stateNode.nextSibling):null;return!0}function Vk(){for(var e=Br;e;)e=Oa(e.nextSibling)}function lc(){Br=zr=null,Qt=!1}function S0(e){Ss===null?Ss=[e]:Ss.push(e)}var W3=ta.ReactCurrentBatchConfig;function fd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var s=n.stateNode}if(!s)throw Error(Te(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function Mh(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function S_(e){var t=e._init;return t(e._payload)}function Uk(e){function t(b,y){if(e){var _=b.deletions;_===null?(b.deletions=[y],b.flags|=16):_.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function s(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=Ia(b,y),b.index=0,b.sibling=null,b}function a(b,y,_){return b.index=_,e?(_=b.alternate,_!==null?(_=_.index,_<y?(b.flags|=2,y):_):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,y,_,N){return y===null||y.tag!==6?(y=Kg(_,b.mode,N),y.return=b,y):(y=i(y,_),y.return=b,y)}function d(b,y,_,N){var C=_.type;return C===wl?f(b,y,_.props.children,N,_.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ga&&S_(C)===y.type)?(N=i(y,_.props),N.ref=fd(b,y,_),N.return=b,N):(N=hf(_.type,_.key,_.props,null,b.mode,N),N.ref=fd(b,y,_),N.return=b,N)}function h(b,y,_,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Yg(_,b.mode,N),y.return=b,y):(y=i(y,_.children||[]),y.return=b,y)}function f(b,y,_,N,C){return y===null||y.tag!==7?(y=Lo(_,b.mode,N,C),y.return=b,y):(y=i(y,_),y.return=b,y)}function m(b,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kg(""+y,b.mode,_),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nh:return _=hf(y.type,y.key,y.props,null,b.mode,_),_.ref=fd(b,null,y),_.return=b,_;case bl:return y=Yg(y,b.mode,_),y.return=b,y;case ga:var N=y._init;return m(b,N(y._payload),_)}if(Cd(y)||ld(y))return y=Lo(y,b.mode,_,null),y.return=b,y;Mh(b,y)}return null}function u(b,y,_,N){var C=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:c(b,y,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nh:return _.key===C?d(b,y,_,N):null;case bl:return _.key===C?h(b,y,_,N):null;case ga:return C=_._init,u(b,y,C(_._payload),N)}if(Cd(_)||ld(_))return C!==null?null:f(b,y,_,N,null);Mh(b,_)}return null}function p(b,y,_,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(_)||null,c(y,b,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Nh:return b=b.get(N.key===null?_:N.key)||null,d(y,b,N,C);case bl:return b=b.get(N.key===null?_:N.key)||null,h(y,b,N,C);case ga:var D=N._init;return p(b,y,_,D(N._payload),C)}if(Cd(N)||ld(N))return b=b.get(_)||null,f(y,b,N,C,null);Mh(y,N)}return null}function x(b,y,_,N){for(var C=null,D=null,E=y,R=y=0,A=null;E!==null&&R<_.length;R++){E.index>R?(A=E,E=null):A=E.sibling;var k=u(b,E,_[R],N);if(k===null){E===null&&(E=A);break}e&&E&&k.alternate===null&&t(b,E),y=a(k,y,R),D===null?C=k:D.sibling=k,D=k,E=A}if(R===_.length)return n(b,E),Qt&&fo(b,R),C;if(E===null){for(;R<_.length;R++)E=m(b,_[R],N),E!==null&&(y=a(E,y,R),D===null?C=E:D.sibling=E,D=E);return Qt&&fo(b,R),C}for(E=s(b,E);R<_.length;R++)A=p(E,b,R,_[R],N),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?R:A.key),y=a(A,y,R),D===null?C=A:D.sibling=A,D=A);return e&&E.forEach(function(O){return t(b,O)}),Qt&&fo(b,R),C}function v(b,y,_,N){var C=ld(_);if(typeof C!="function")throw Error(Te(150));if(_=C.call(_),_==null)throw Error(Te(151));for(var D=C=null,E=y,R=y=0,A=null,k=_.next();E!==null&&!k.done;R++,k=_.next()){E.index>R?(A=E,E=null):A=E.sibling;var O=u(b,E,k.value,N);if(O===null){E===null&&(E=A);break}e&&E&&O.alternate===null&&t(b,E),y=a(O,y,R),D===null?C=O:D.sibling=O,D=O,E=A}if(k.done)return n(b,E),Qt&&fo(b,R),C;if(E===null){for(;!k.done;R++,k=_.next())k=m(b,k.value,N),k!==null&&(y=a(k,y,R),D===null?C=k:D.sibling=k,D=k);return Qt&&fo(b,R),C}for(E=s(b,E);!k.done;R++,k=_.next())k=p(E,b,R,k.value,N),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?R:k.key),y=a(k,y,R),D===null?C=k:D.sibling=k,D=k);return e&&E.forEach(function(P){return t(b,P)}),Qt&&fo(b,R),C}function w(b,y,_,N){if(typeof _=="object"&&_!==null&&_.type===wl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Nh:e:{for(var C=_.key,D=y;D!==null;){if(D.key===C){if(C=_.type,C===wl){if(D.tag===7){n(b,D.sibling),y=i(D,_.props.children),y.return=b,b=y;break e}}else if(D.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ga&&S_(C)===D.type){n(b,D.sibling),y=i(D,_.props),y.ref=fd(b,D,_),y.return=b,b=y;break e}n(b,D);break}else t(b,D);D=D.sibling}_.type===wl?(y=Lo(_.props.children,b.mode,N,_.key),y.return=b,b=y):(N=hf(_.type,_.key,_.props,null,b.mode,N),N.ref=fd(b,y,_),N.return=b,b=N)}return o(b);case bl:e:{for(D=_.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(b,y.sibling),y=i(y,_.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else t(b,y);y=y.sibling}y=Yg(_,b.mode,N),y.return=b,b=y}return o(b);case ga:return D=_._init,w(b,y,D(_._payload),N)}if(Cd(_))return x(b,y,_,N);if(ld(_))return v(b,y,_,N);Mh(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,_),y.return=b,b=y):(n(b,y),y=Kg(_,b.mode,N),y.return=b,b=y),o(b)):n(b,y)}return w}var cc=Uk(!0),qk=Uk(!1),Df=Qa(null),Ff=null,Pl=null,k0=null;function C0(){k0=Pl=Ff=null}function E0(e){var t=Df.current;Kt(Df),e._currentValue=t}function hx(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ul(e,t){Ff=e,k0=Pl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kr=!0),e.firstContext=null)}function ls(e){var t=e._currentValue;if(k0!==e)if(e={context:e,memoizedValue:t,next:null},Pl===null){if(Ff===null)throw Error(Te(308));Pl=e,Ff.dependencies={lanes:0,firstContext:e}}else Pl=Pl.next=e;return t}var bo=null;function P0(e){bo===null?bo=[e]:bo.push(e)}function Hk(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,P0(t)):(n.next=i.next,i.next=n),t.interleaved=n,qi(e,s)}function qi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var va=!1;function T0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Et&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,qi(e,n)}return i=s.interleaved,i===null?(t.next=t,P0(s)):(t.next=i.next,i.next=t),s.interleaved=t,qi(e,n)}function af(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,p0(e,n)}}function k_(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $f(e,t,n,s){var i=e.updateQueue;va=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,h=d.next;d.next=null,o===null?a=h:o.next=h,o=d;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=d))}if(a!==null){var m=i.baseState;o=0,f=h=d=null,c=a;do{var u=c.lane,p=c.eventTime;if((s&u)===u){f!==null&&(f=f.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=e,v=c;switch(u=t,p=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){m=x.call(p,m,u);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,u=typeof x=="function"?x.call(p,m,u):x,u==null)break e;m=ln({},m,u);break e;case 2:va=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,u=i.effects,u===null?i.effects=[c]:u.push(c))}else p={eventTime:p,lane:u,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=p,d=m):f=f.next=p,o|=u;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;u=c,c=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(f===null&&(d=m),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Vo|=o,e.lanes=o,e.memoizedState=m}}function C_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Te(191,i));i.call(s)}}}var zu={},si=Qa(zu),uu=Qa(zu),hu=Qa(zu);function wo(e){if(e===zu)throw Error(Te(174));return e}function A0(e,t){switch($t(hu,t),$t(uu,e),$t(si,zu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wv(t,e)}Kt(si),$t(si,t)}function dc(){Kt(si),Kt(uu),Kt(hu)}function Zk(e){wo(hu.current);var t=wo(si.current),n=Wv(t,e.type);t!==n&&($t(uu,e),$t(si,n))}function O0(e){uu.current===e&&(Kt(si),Kt(uu))}var rn=Qa(0);function Bf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ug=[];function L0(){for(var e=0;e<Ug.length;e++)Ug[e]._workInProgressVersionPrimary=null;Ug.length=0}var of=ta.ReactCurrentDispatcher,qg=ta.ReactCurrentBatchConfig,zo=0,on=null,Mn=null,$n=null,zf=!1,$d=!1,fu=0,Z3=0;function Qn(){throw Error(Te(321))}function R0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ls(e[n],t[n]))return!1;return!0}function M0(e,t,n,s,i,a){if(zo=a,on=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,of.current=e===null||e.memoizedState===null?X3:Q3,e=n(s,i),$d){a=0;do{if($d=!1,fu=0,25<=a)throw Error(Te(301));a+=1,$n=Mn=null,t.updateQueue=null,of.current=J3,e=n(s,i)}while($d)}if(of.current=Vf,t=Mn!==null&&Mn.next!==null,zo=0,$n=Mn=on=null,zf=!1,t)throw Error(Te(300));return e}function I0(){var e=fu!==0;return fu=0,e}function Zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?on.memoizedState=$n=e:$n=$n.next=e,$n}function cs(){if(Mn===null){var e=on.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var t=$n===null?on.memoizedState:$n.next;if(t!==null)$n=t,Mn=e;else{if(e===null)throw Error(Te(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},$n===null?on.memoizedState=$n=e:$n=$n.next=e}return $n}function mu(e,t){return typeof t=="function"?t(e):t}function Hg(e){var t=cs(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var s=Mn,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var c=o=null,d=null,h=a;do{var f=h.lane;if((zo&f)===f)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),s=h.hasEagerState?h.eagerState:e(s,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=m,o=s):d=d.next=m,on.lanes|=f,Vo|=f}h=h.next}while(h!==null&&h!==a);d===null?o=s:d.next=c,Ls(s,t.memoizedState)||(kr=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,on.lanes|=a,Vo|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wg(e){var t=cs(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ls(a,t.memoizedState)||(kr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Gk(){}function Kk(e,t){var n=on,s=cs(),i=t(),a=!Ls(s.memoizedState,i);if(a&&(s.memoizedState=i,kr=!0),s=s.queue,D0(Qk.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||$n!==null&&$n.memoizedState.tag&1){if(n.flags|=2048,pu(9,Xk.bind(null,n,s,i,t),void 0,null),Bn===null)throw Error(Te(349));zo&30||Yk(n,t,i)}return i}function Yk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xk(e,t,n,s){t.value=n,t.getSnapshot=s,Jk(t)&&eC(e)}function Qk(e,t,n){return n(function(){Jk(t)&&eC(e)})}function Jk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ls(e,n)}catch{return!0}}function eC(e){var t=qi(e,1);t!==null&&Ts(t,e,1,-1)}function E_(e){var t=Zs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:e},t.queue=e,e=e.dispatch=Y3.bind(null,on,e),[t.memoizedState,e]}function pu(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function tC(){return cs().memoizedState}function lf(e,t,n,s){var i=Zs();on.flags|=e,i.memoizedState=pu(1|t,n,void 0,s===void 0?null:s)}function Um(e,t,n,s){var i=cs();s=s===void 0?null:s;var a=void 0;if(Mn!==null){var o=Mn.memoizedState;if(a=o.destroy,s!==null&&R0(s,o.deps)){i.memoizedState=pu(t,n,a,s);return}}on.flags|=e,i.memoizedState=pu(1|t,n,a,s)}function P_(e,t){return lf(8390656,8,e,t)}function D0(e,t){return Um(2048,8,e,t)}function nC(e,t){return Um(4,2,e,t)}function rC(e,t){return Um(4,4,e,t)}function sC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iC(e,t,n){return n=n!=null?n.concat([e]):null,Um(4,4,sC.bind(null,t,e),n)}function F0(){}function aC(e,t){var n=cs();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&R0(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function oC(e,t){var n=cs();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&R0(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function lC(e,t,n){return zo&21?(Ls(n,t)||(n=fk(),on.lanes|=n,Vo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kr=!0),e.memoizedState=n)}function G3(e,t){var n=Rt;Rt=n!==0&&4>n?n:4,e(!0);var s=qg.transition;qg.transition={};try{e(!1),t()}finally{Rt=n,qg.transition=s}}function cC(){return cs().memoizedState}function K3(e,t,n){var s=Ma(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},dC(e))uC(t,n);else if(n=Hk(e,t,n,s),n!==null){var i=gr();Ts(n,e,s,i),hC(n,t,s)}}function Y3(e,t,n){var s=Ma(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(dC(e))uC(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,n);if(i.hasEagerState=!0,i.eagerState=c,Ls(c,o)){var d=t.interleaved;d===null?(i.next=i,P0(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=Hk(e,t,i,s),n!==null&&(i=gr(),Ts(n,e,s,i),hC(n,t,s))}}function dC(e){var t=e.alternate;return e===on||t!==null&&t===on}function uC(e,t){$d=zf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hC(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,p0(e,n)}}var Vf={readContext:ls,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},X3={readContext:ls,useCallback:function(e,t){return Zs().memoizedState=[e,t===void 0?null:t],e},useContext:ls,useEffect:P_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lf(4194308,4,sC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lf(4194308,4,e,t)},useInsertionEffect:function(e,t){return lf(4,2,e,t)},useMemo:function(e,t){var n=Zs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Zs();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=K3.bind(null,on,e),[s.memoizedState,e]},useRef:function(e){var t=Zs();return e={current:e},t.memoizedState=e},useState:E_,useDebugValue:F0,useDeferredValue:function(e){return Zs().memoizedState=e},useTransition:function(){var e=E_(!1),t=e[0];return e=G3.bind(null,e[1]),Zs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=on,i=Zs();if(Qt){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),Bn===null)throw Error(Te(349));zo&30||Yk(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,P_(Qk.bind(null,s,a,e),[e]),s.flags|=2048,pu(9,Xk.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Zs(),t=Bn.identifierPrefix;if(Qt){var n=Ii,s=Mi;n=(s&~(1<<32-Ps(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=fu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Z3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q3={readContext:ls,useCallback:aC,useContext:ls,useEffect:D0,useImperativeHandle:iC,useInsertionEffect:nC,useLayoutEffect:rC,useMemo:oC,useReducer:Hg,useRef:tC,useState:function(){return Hg(mu)},useDebugValue:F0,useDeferredValue:function(e){var t=cs();return lC(t,Mn.memoizedState,e)},useTransition:function(){var e=Hg(mu)[0],t=cs().memoizedState;return[e,t]},useMutableSource:Gk,useSyncExternalStore:Kk,useId:cC,unstable_isNewReconciler:!1},J3={readContext:ls,useCallback:aC,useContext:ls,useEffect:D0,useImperativeHandle:iC,useInsertionEffect:nC,useLayoutEffect:rC,useMemo:oC,useReducer:Wg,useRef:tC,useState:function(){return Wg(mu)},useDebugValue:F0,useDeferredValue:function(e){var t=cs();return Mn===null?t.memoizedState=e:lC(t,Mn.memoizedState,e)},useTransition:function(){var e=Wg(mu)[0],t=cs().memoizedState;return[e,t]},useMutableSource:Gk,useSyncExternalStore:Kk,useId:cC,unstable_isNewReconciler:!1};function bs(e,t){if(e&&e.defaultProps){t=ln({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fx(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ln({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qm={isMounted:function(e){return(e=e._reactInternals)?Jo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=gr(),i=Ma(e),a=Fi(s,i);a.payload=t,n!=null&&(a.callback=n),t=La(e,a,i),t!==null&&(Ts(t,e,i,s),af(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=gr(),i=Ma(e),a=Fi(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=La(e,a,i),t!==null&&(Ts(t,e,i,s),af(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gr(),s=Ma(e),i=Fi(n,s);i.tag=2,t!=null&&(i.callback=t),t=La(e,i,s),t!==null&&(Ts(t,e,s,n),af(t,e,s))}};function T_(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!ou(n,s)||!ou(i,a):!0}function fC(e,t,n){var s=!1,i=Ua,a=t.contextType;return typeof a=="object"&&a!==null?a=ls(a):(i=Pr(t)?$o:ar.current,s=t.contextTypes,a=(s=s!=null)?oc(e,i):Ua),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qm,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function A_(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&qm.enqueueReplaceState(t,t.state,null)}function mx(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},T0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ls(a):(a=Pr(t)?$o:ar.current,i.context=oc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(fx(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qm.enqueueReplaceState(i,i.state,null),$f(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uc(e,t){try{var n="",s=t;do n+=C5(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Zg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function px(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eI=typeof WeakMap=="function"?WeakMap:Map;function mC(e,t,n){n=Fi(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){qf||(qf=!0,Sx=s),px(e,t)},n}function pC(e,t,n){n=Fi(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){px(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){px(e,t),typeof s!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function O_(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new eI;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=mI.bind(null,e,t,n),t.then(e,e))}function L_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function R_(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fi(-1,1),t.tag=2,La(n,t,1))),n.lanes|=1),e)}var tI=ta.ReactCurrentOwner,kr=!1;function hr(e,t,n,s){t.child=e===null?qk(t,null,n,s):cc(t,e.child,n,s)}function M_(e,t,n,s,i){n=n.render;var a=t.ref;return Ul(t,i),s=M0(e,t,n,s,a,i),n=I0(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(Qt&&n&&_0(t),t.flags|=1,hr(e,t,s,i),t.child)}function I_(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!W0(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,gC(e,t,a,s,i)):(e=hf(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:ou,n(o,s)&&e.ref===t.ref)return Hi(e,t,i)}return t.flags|=1,e=Ia(a,s),e.ref=t.ref,e.return=t,t.child=e}function gC(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(ou(a,s)&&e.ref===t.ref)if(kr=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(kr=!0);else return t.lanes=e.lanes,Hi(e,t,i)}return gx(e,t,n,s,i)}function vC(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Al,Rr),Rr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(Al,Rr),Rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,$t(Al,Rr),Rr|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,$t(Al,Rr),Rr|=s;return hr(e,t,i,n),t.child}function xC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gx(e,t,n,s,i){var a=Pr(n)?$o:ar.current;return a=oc(t,a),Ul(t,i),n=M0(e,t,n,s,a,i),s=I0(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(Qt&&s&&_0(t),t.flags|=1,hr(e,t,n,i),t.child)}function D_(e,t,n,s,i){if(Pr(n)){var a=!0;Rf(t)}else a=!1;if(Ul(t,i),t.stateNode===null)cf(e,t),fC(t,n,s),mx(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var d=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=ls(h):(h=Pr(n)?$o:ar.current,h=oc(t,h));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||d!==h)&&A_(t,o,s,h),va=!1;var u=t.memoizedState;o.state=u,$f(t,s,o,i),d=t.memoizedState,c!==s||u!==d||Er.current||va?(typeof f=="function"&&(fx(t,n,f,s),d=t.memoizedState),(c=va||T_(t,n,c,s,u,d,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),o.props=s,o.state=d,o.context=h,s=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Wk(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:bs(t.type,c),o.props=h,m=t.pendingProps,u=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=ls(d):(d=Pr(n)?$o:ar.current,d=oc(t,d));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==m||u!==d)&&A_(t,o,s,d),va=!1,u=t.memoizedState,o.state=u,$f(t,s,o,i);var x=t.memoizedState;c!==m||u!==x||Er.current||va?(typeof p=="function"&&(fx(t,n,p,s),x=t.memoizedState),(h=va||T_(t,n,h,s,u,x,d)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=d,s=h):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),s=!1)}return vx(e,t,n,s,a,i)}function vx(e,t,n,s,i,a){xC(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&j_(t,n,!1),Hi(e,t,a);s=t.stateNode,tI.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=cc(t,e.child,null,a),t.child=cc(t,null,c,a)):hr(e,t,c,a),t.memoizedState=s.state,i&&j_(t,n,!0),t.child}function yC(e){var t=e.stateNode;t.pendingContext?w_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&w_(e,t.context,!1),A0(e,t.containerInfo)}function F_(e,t,n,s,i){return lc(),S0(i),t.flags|=256,hr(e,t,n,s),t.child}var xx={dehydrated:null,treeContext:null,retryLane:0};function yx(e){return{baseLanes:e,cachePool:null,transitions:null}}function bC(e,t,n){var s=t.pendingProps,i=rn.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$t(rn,i&1),e===null)return ux(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Zm(o,s,0,null),e=Lo(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=yx(n),t.memoizedState=xx,e):$0(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return nI(e,t,o,s,c,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,c=i.sibling;var d={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Ia(i,d),s.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Ia(c,a):(a=Lo(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?yx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=xx,s}return a=e.child,e=a.sibling,s=Ia(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function $0(e,t){return t=Zm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ih(e,t,n,s){return s!==null&&S0(s),cc(t,e.child,null,n),e=$0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nI(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=Zg(Error(Te(422))),Ih(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Zm({mode:"visible",children:s.children},i,0,null),a=Lo(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&cc(t,e.child,null,o),t.child.memoizedState=yx(o),t.memoizedState=xx,a);if(!(t.mode&1))return Ih(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(Te(419)),s=Zg(a,s,void 0),Ih(e,t,o,s)}if(c=(o&e.childLanes)!==0,kr||c){if(s=Bn,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,qi(e,i),Ts(s,e,i,-1))}return H0(),s=Zg(Error(Te(421))),Ih(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pI.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Br=Oa(i.nextSibling),zr=t,Qt=!0,Ss=null,e!==null&&(ts[ns++]=Mi,ts[ns++]=Ii,ts[ns++]=Bo,Mi=e.id,Ii=e.overflow,Bo=t),t=$0(t,s.children),t.flags|=4096,t)}function $_(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),hx(e.return,t,n)}function Gg(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function wC(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(hr(e,t,s.children,n),s=rn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$_(e,n,t);else if(e.tag===19)$_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if($t(rn,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gg(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gg(t,!0,n,null,a);break;case"together":Gg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=Ia(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ia(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rI(e,t,n){switch(t.tag){case 3:yC(t),lc();break;case 5:Zk(t);break;case 1:Pr(t.type)&&Rf(t);break;case 4:A0(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;$t(Df,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?($t(rn,rn.current&1),t.flags|=128,null):n&t.child.childLanes?bC(e,t,n):($t(rn,rn.current&1),e=Hi(e,t,n),e!==null?e.sibling:null);$t(rn,rn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return wC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(rn,rn.current),s)break;return null;case 22:case 23:return t.lanes=0,vC(e,t,n)}return Hi(e,t,n)}var jC,bx,_C,NC;jC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bx=function(){};_C=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,wo(si.current);var a=null;switch(n){case"input":i=Vv(e,i),s=Vv(e,s),a=[];break;case"select":i=ln({},i,{value:void 0}),s=ln({},s,{value:void 0}),a=[];break;case"textarea":i=Hv(e,i),s=Hv(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Of)}Zv(n,s);var o;n=null;for(h in i)if(!s.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(eu.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in s){var d=s[h];if(c=i!=null?i[h]:void 0,s.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(a||(a=[]),a.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(eu.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Wt("scroll",e),a||c===d||(a=[])):(a=a||[]).push(h,d))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};NC=function(e,t,n,s){n!==s&&(t.flags|=4)};function md(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Jn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function sI(e,t,n){var s=t.pendingProps;switch(N0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(t),null;case 1:return Pr(t.type)&&Lf(),Jn(t),null;case 3:return s=t.stateNode,dc(),Kt(Er),Kt(ar),L0(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Rh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ss!==null&&(Ex(Ss),Ss=null))),bx(e,t),Jn(t),null;case 5:O0(t);var i=wo(hu.current);if(n=t.type,e!==null&&t.stateNode!=null)_C(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Te(166));return Jn(t),null}if(e=wo(si.current),Rh(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Xs]=t,s[du]=a,e=(t.mode&1)!==0,n){case"dialog":Wt("cancel",s),Wt("close",s);break;case"iframe":case"object":case"embed":Wt("load",s);break;case"video":case"audio":for(i=0;i<Pd.length;i++)Wt(Pd[i],s);break;case"source":Wt("error",s);break;case"img":case"image":case"link":Wt("error",s),Wt("load",s);break;case"details":Wt("toggle",s);break;case"input":Gj(s,a),Wt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Wt("invalid",s);break;case"textarea":Yj(s,a),Wt("invalid",s)}Zv(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&Lh(s.textContent,c,e),i=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Lh(s.textContent,c,e),i=["children",""+c]):eu.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Wt("scroll",s)}switch(n){case"input":Sh(s),Kj(s,a,!0);break;case"textarea":Sh(s),Xj(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Of)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Xs]=t,e[du]=s,jC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gv(n,s),n){case"dialog":Wt("cancel",e),Wt("close",e),i=s;break;case"iframe":case"object":case"embed":Wt("load",e),i=s;break;case"video":case"audio":for(i=0;i<Pd.length;i++)Wt(Pd[i],e);i=s;break;case"source":Wt("error",e),i=s;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),i=s;break;case"details":Wt("toggle",e),i=s;break;case"input":Gj(e,s),i=Vv(e,s),Wt("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=ln({},s,{value:void 0}),Wt("invalid",e);break;case"textarea":Yj(e,s),i=Hv(e,s),Wt("invalid",e);break;default:i=s}Zv(n,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?tk(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&J2(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&tu(e,d):typeof d=="number"&&tu(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(eu.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Wt("scroll",e):d!=null&&c0(e,a,d,o))}switch(n){case"input":Sh(e),Kj(e,s,!1);break;case"textarea":Sh(e),Xj(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Va(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?$l(e,!!s.multiple,a,!1):s.defaultValue!=null&&$l(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Of)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jn(t),null;case 6:if(e&&t.stateNode!=null)NC(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Te(166));if(n=wo(hu.current),wo(si.current),Rh(t)){if(s=t.stateNode,n=t.memoizedProps,s[Xs]=t,(a=s.nodeValue!==n)&&(e=zr,e!==null))switch(e.tag){case 3:Lh(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lh(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Xs]=t,t.stateNode=s}return Jn(t),null;case 13:if(Kt(rn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qt&&Br!==null&&t.mode&1&&!(t.flags&128))Vk(),lc(),t.flags|=98560,a=!1;else if(a=Rh(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Te(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Te(317));a[Xs]=t}else lc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jn(t),a=!1}else Ss!==null&&(Ex(Ss),Ss=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||rn.current&1?In===0&&(In=3):H0())),t.updateQueue!==null&&(t.flags|=4),Jn(t),null);case 4:return dc(),bx(e,t),e===null&&lu(t.stateNode.containerInfo),Jn(t),null;case 10:return E0(t.type._context),Jn(t),null;case 17:return Pr(t.type)&&Lf(),Jn(t),null;case 19:if(Kt(rn),a=t.memoizedState,a===null)return Jn(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)md(a,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bf(e),o!==null){for(t.flags|=128,md(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $t(rn,rn.current&1|2),t.child}e=e.sibling}a.tail!==null&&_n()>hc&&(t.flags|=128,s=!0,md(a,!1),t.lanes=4194304)}else{if(!s)if(e=Bf(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),md(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Qt)return Jn(t),null}else 2*_n()-a.renderingStartTime>hc&&n!==1073741824&&(t.flags|=128,s=!0,md(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_n(),t.sibling=null,n=rn.current,$t(rn,s?n&1|2:n&1),t):(Jn(t),null);case 22:case 23:return q0(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Rr&1073741824&&(Jn(t),t.subtreeFlags&6&&(t.flags|=8192)):Jn(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function iI(e,t){switch(N0(t),t.tag){case 1:return Pr(t.type)&&Lf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dc(),Kt(Er),Kt(ar),L0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return O0(t),null;case 13:if(Kt(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));lc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(rn),null;case 4:return dc(),null;case 10:return E0(t.type._context),null;case 22:case 23:return q0(),null;case 24:return null;default:return null}}var Dh=!1,tr=!1,aI=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Tl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){mn(e,t,s)}else n.current=null}function wx(e,t,n){try{n()}catch(s){mn(e,t,s)}}var B_=!1;function oI(e,t){if(sx=Pf,e=Pk(),j0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,c=-1,d=-1,h=0,f=0,m=e,u=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(c=o+i),m!==a||s!==0&&m.nodeType!==3||(d=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)u=m,m=p;for(;;){if(m===e)break t;if(u===n&&++h===i&&(c=o),u===a&&++f===s&&(d=o),(p=m.nextSibling)!==null)break;m=u,u=m.parentNode}m=p}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(ix={focusedElem:e,selectionRange:n},Pf=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:bs(t.type,v),w);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(N){mn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return x=B_,B_=!1,x}function Bd(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&wx(t,n,a)}i=i.next}while(i!==s)}}function Hm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function jx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function SC(e){var t=e.alternate;t!==null&&(e.alternate=null,SC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xs],delete t[du],delete t[lx],delete t[U3],delete t[q3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kC(e){return e.tag===5||e.tag===3||e.tag===4}function z_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _x(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Of));else if(s!==4&&(e=e.child,e!==null))for(_x(e,t,n),e=e.sibling;e!==null;)_x(e,t,n),e=e.sibling}function Nx(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Nx(e,t,n),e=e.sibling;e!==null;)Nx(e,t,n),e=e.sibling}var Un=null,Ns=!1;function da(e,t,n){for(n=n.child;n!==null;)CC(e,t,n),n=n.sibling}function CC(e,t,n){if(ri&&typeof ri.onCommitFiberUnmount=="function")try{ri.onCommitFiberUnmount(Dm,n)}catch{}switch(n.tag){case 5:tr||Tl(n,t);case 6:var s=Un,i=Ns;Un=null,da(e,t,n),Un=s,Ns=i,Un!==null&&(Ns?(e=Un,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(Ns?(e=Un,n=n.stateNode,e.nodeType===8?zg(e.parentNode,n):e.nodeType===1&&zg(e,n),iu(e)):zg(Un,n.stateNode));break;case 4:s=Un,i=Ns,Un=n.stateNode.containerInfo,Ns=!0,da(e,t,n),Un=s,Ns=i;break;case 0:case 11:case 14:case 15:if(!tr&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&wx(n,t,o),i=i.next}while(i!==s)}da(e,t,n);break;case 1:if(!tr&&(Tl(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){mn(n,t,c)}da(e,t,n);break;case 21:da(e,t,n);break;case 22:n.mode&1?(tr=(s=tr)||n.memoizedState!==null,da(e,t,n),tr=s):da(e,t,n);break;default:da(e,t,n)}}function V_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aI),t.forEach(function(s){var i=gI.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function gs(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Un=c.stateNode,Ns=!1;break e;case 3:Un=c.stateNode.containerInfo,Ns=!0;break e;case 4:Un=c.stateNode.containerInfo,Ns=!0;break e}c=c.return}if(Un===null)throw Error(Te(160));CC(a,o,i),Un=null,Ns=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(h){mn(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EC(t,e),t=t.sibling}function EC(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(t,e),Hs(e),s&4){try{Bd(3,e,e.return),Hm(3,e)}catch(v){mn(e,e.return,v)}try{Bd(5,e,e.return)}catch(v){mn(e,e.return,v)}}break;case 1:gs(t,e),Hs(e),s&512&&n!==null&&Tl(n,n.return);break;case 5:if(gs(t,e),Hs(e),s&512&&n!==null&&Tl(n,n.return),e.flags&32){var i=e.stateNode;try{tu(i,"")}catch(v){mn(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Y2(i,a),Gv(c,o);var h=Gv(c,a);for(o=0;o<d.length;o+=2){var f=d[o],m=d[o+1];f==="style"?tk(i,m):f==="dangerouslySetInnerHTML"?J2(i,m):f==="children"?tu(i,m):c0(i,f,m,h)}switch(c){case"input":Uv(i,a);break;case"textarea":X2(i,a);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?$l(i,!!a.multiple,p,!1):u!==!!a.multiple&&(a.defaultValue!=null?$l(i,!!a.multiple,a.defaultValue,!0):$l(i,!!a.multiple,a.multiple?[]:"",!1))}i[du]=a}catch(v){mn(e,e.return,v)}}break;case 6:if(gs(t,e),Hs(e),s&4){if(e.stateNode===null)throw Error(Te(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){mn(e,e.return,v)}}break;case 3:if(gs(t,e),Hs(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{iu(t.containerInfo)}catch(v){mn(e,e.return,v)}break;case 4:gs(t,e),Hs(e);break;case 13:gs(t,e),Hs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(V0=_n())),s&4&&V_(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(tr=(h=tr)||f,gs(t,e),tr=h):gs(t,e),Hs(e),s&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!f&&e.mode&1)for(Ue=e,f=e.child;f!==null;){for(m=Ue=f;Ue!==null;){switch(u=Ue,p=u.child,u.tag){case 0:case 11:case 14:case 15:Bd(4,u,u.return);break;case 1:Tl(u,u.return);var x=u.stateNode;if(typeof x.componentWillUnmount=="function"){s=u,n=u.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){mn(s,n,v)}}break;case 5:Tl(u,u.return);break;case 22:if(u.memoizedState!==null){q_(m);continue}}p!==null?(p.return=u,Ue=p):q_(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=ek("display",o))}catch(v){mn(e,e.return,v)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(v){mn(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gs(t,e),Hs(e),s&4&&V_(e);break;case 21:break;default:gs(t,e),Hs(e)}}function Hs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kC(n)){var s=n;break e}n=n.return}throw Error(Te(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(tu(i,""),s.flags&=-33);var a=z_(e);Nx(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,c=z_(e);_x(e,c,o);break;default:throw Error(Te(161))}}catch(d){mn(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lI(e,t,n){Ue=e,PC(e)}function PC(e,t,n){for(var s=(e.mode&1)!==0;Ue!==null;){var i=Ue,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Dh;if(!o){var c=i.alternate,d=c!==null&&c.memoizedState!==null||tr;c=Dh;var h=tr;if(Dh=o,(tr=d)&&!h)for(Ue=i;Ue!==null;)o=Ue,d=o.child,o.tag===22&&o.memoizedState!==null?H_(i):d!==null?(d.return=o,Ue=d):H_(i);for(;a!==null;)Ue=a,PC(a),a=a.sibling;Ue=i,Dh=c,tr=h}U_(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ue=a):U_(e)}}function U_(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tr||Hm(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!tr)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:bs(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&C_(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}C_(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&iu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}tr||t.flags&512&&jx(t)}catch(u){mn(t,t.return,u)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function q_(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function H_(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hm(4,t)}catch(d){mn(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(d){mn(t,i,d)}}var a=t.return;try{jx(t)}catch(d){mn(t,a,d)}break;case 5:var o=t.return;try{jx(t)}catch(d){mn(t,o,d)}}}catch(d){mn(t,t.return,d)}if(t===e){Ue=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ue=c;break}Ue=t.return}}var cI=Math.ceil,Uf=ta.ReactCurrentDispatcher,B0=ta.ReactCurrentOwner,ss=ta.ReactCurrentBatchConfig,Et=0,Bn=null,Tn=null,Wn=0,Rr=0,Al=Qa(0),In=0,gu=null,Vo=0,Wm=0,z0=0,zd=null,Nr=null,V0=0,hc=1/0,Ti=null,qf=!1,Sx=null,Ra=null,Fh=!1,Ca=null,Hf=0,Vd=0,kx=null,df=-1,uf=0;function gr(){return Et&6?_n():df!==-1?df:df=_n()}function Ma(e){return e.mode&1?Et&2&&Wn!==0?Wn&-Wn:W3.transition!==null?(uf===0&&(uf=fk()),uf):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:bk(e.type)),e):1}function Ts(e,t,n,s){if(50<Vd)throw Vd=0,kx=null,Error(Te(185));Fu(e,n,s),(!(Et&2)||e!==Bn)&&(e===Bn&&(!(Et&2)&&(Wm|=n),In===4&&ba(e,Wn)),Tr(e,s),n===1&&Et===0&&!(t.mode&1)&&(hc=_n()+500,Vm&&Ja()))}function Tr(e,t){var n=e.callbackNode;W5(e,t);var s=Ef(e,e===Bn?Wn:0);if(s===0)n!==null&&e_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&e_(n),t===1)e.tag===0?H3(W_.bind(null,e)):$k(W_.bind(null,e)),z3(function(){!(Et&6)&&Ja()}),n=null;else{switch(mk(s)){case 1:n=m0;break;case 4:n=uk;break;case 16:n=Cf;break;case 536870912:n=hk;break;default:n=Cf}n=DC(n,TC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TC(e,t){if(df=-1,uf=0,Et&6)throw Error(Te(327));var n=e.callbackNode;if(ql()&&e.callbackNode!==n)return null;var s=Ef(e,e===Bn?Wn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Wf(e,s);else{t=s;var i=Et;Et|=2;var a=OC();(Bn!==e||Wn!==t)&&(Ti=null,hc=_n()+500,Oo(e,t));do try{hI();break}catch(c){AC(e,c)}while(!0);C0(),Uf.current=a,Et=i,Tn!==null?t=0:(Bn=null,Wn=0,t=In)}if(t!==0){if(t===2&&(i=Jv(e),i!==0&&(s=i,t=Cx(e,i))),t===1)throw n=gu,Oo(e,0),ba(e,s),Tr(e,_n()),n;if(t===6)ba(e,s);else{if(i=e.current.alternate,!(s&30)&&!dI(i)&&(t=Wf(e,s),t===2&&(a=Jv(e),a!==0&&(s=a,t=Cx(e,a))),t===1))throw n=gu,Oo(e,0),ba(e,s),Tr(e,_n()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Te(345));case 2:mo(e,Nr,Ti);break;case 3:if(ba(e,s),(s&130023424)===s&&(t=V0+500-_n(),10<t)){if(Ef(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){gr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ox(mo.bind(null,e,Nr,Ti),t);break}mo(e,Nr,Ti);break;case 4:if(ba(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Ps(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=_n()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*cI(s/1960))-s,10<s){e.timeoutHandle=ox(mo.bind(null,e,Nr,Ti),s);break}mo(e,Nr,Ti);break;case 5:mo(e,Nr,Ti);break;default:throw Error(Te(329))}}}return Tr(e,_n()),e.callbackNode===n?TC.bind(null,e):null}function Cx(e,t){var n=zd;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=Wf(e,t),e!==2&&(t=Nr,Nr=n,t!==null&&Ex(t)),e}function Ex(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function dI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Ls(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ba(e,t){for(t&=~z0,t&=~Wm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ps(t),s=1<<n;e[n]=-1,t&=~s}}function W_(e){if(Et&6)throw Error(Te(327));ql();var t=Ef(e,0);if(!(t&1))return Tr(e,_n()),null;var n=Wf(e,t);if(e.tag!==0&&n===2){var s=Jv(e);s!==0&&(t=s,n=Cx(e,s))}if(n===1)throw n=gu,Oo(e,0),ba(e,t),Tr(e,_n()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,Nr,Ti),Tr(e,_n()),null}function U0(e,t){var n=Et;Et|=1;try{return e(t)}finally{Et=n,Et===0&&(hc=_n()+500,Vm&&Ja())}}function Uo(e){Ca!==null&&Ca.tag===0&&!(Et&6)&&ql();var t=Et;Et|=1;var n=ss.transition,s=Rt;try{if(ss.transition=null,Rt=1,e)return e()}finally{Rt=s,ss.transition=n,Et=t,!(Et&6)&&Ja()}}function q0(){Rr=Al.current,Kt(Al)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,B3(n)),Tn!==null)for(n=Tn.return;n!==null;){var s=n;switch(N0(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Lf();break;case 3:dc(),Kt(Er),Kt(ar),L0();break;case 5:O0(s);break;case 4:dc();break;case 13:Kt(rn);break;case 19:Kt(rn);break;case 10:E0(s.type._context);break;case 22:case 23:q0()}n=n.return}if(Bn=e,Tn=e=Ia(e.current,null),Wn=Rr=t,In=0,gu=null,z0=Wm=Vo=0,Nr=zd=null,bo!==null){for(t=0;t<bo.length;t++)if(n=bo[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}bo=null}return e}function AC(e,t){do{var n=Tn;try{if(C0(),of.current=Vf,zf){for(var s=on.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}zf=!1}if(zo=0,$n=Mn=on=null,$d=!1,fu=0,B0.current=null,n===null||n.return===null){In=1,gu=t,Tn=null;break}e:{var a=e,o=n.return,c=n,d=t;if(t=Wn,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,f=c,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=L_(o);if(p!==null){p.flags&=-257,R_(p,o,c,a,t),p.mode&1&&O_(a,h,t),t=p,d=h;var x=t.updateQueue;if(x===null){var v=new Set;v.add(d),t.updateQueue=v}else x.add(d);break e}else{if(!(t&1)){O_(a,h,t),H0();break e}d=Error(Te(426))}}else if(Qt&&c.mode&1){var w=L_(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),R_(w,o,c,a,t),S0(uc(d,c));break e}}a=d=uc(d,c),In!==4&&(In=2),zd===null?zd=[a]:zd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=mC(a,d,t);k_(a,b);break e;case 1:c=d;var y=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ra===null||!Ra.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=pC(a,c,t);k_(a,N);break e}}a=a.return}while(a!==null)}RC(n)}catch(C){t=C,Tn===n&&n!==null&&(Tn=n=n.return);continue}break}while(!0)}function OC(){var e=Uf.current;return Uf.current=Vf,e===null?Vf:e}function H0(){(In===0||In===3||In===2)&&(In=4),Bn===null||!(Vo&268435455)&&!(Wm&268435455)||ba(Bn,Wn)}function Wf(e,t){var n=Et;Et|=2;var s=OC();(Bn!==e||Wn!==t)&&(Ti=null,Oo(e,t));do try{uI();break}catch(i){AC(e,i)}while(!0);if(C0(),Et=n,Uf.current=s,Tn!==null)throw Error(Te(261));return Bn=null,Wn=0,In}function uI(){for(;Tn!==null;)LC(Tn)}function hI(){for(;Tn!==null&&!D5();)LC(Tn)}function LC(e){var t=IC(e.alternate,e,Rr);e.memoizedProps=e.pendingProps,t===null?RC(e):Tn=t,B0.current=null}function RC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=iI(n,t),n!==null){n.flags&=32767,Tn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,Tn=null;return}}else if(n=sI(n,t,Rr),n!==null){Tn=n;return}if(t=t.sibling,t!==null){Tn=t;return}Tn=t=e}while(t!==null);In===0&&(In=5)}function mo(e,t,n){var s=Rt,i=ss.transition;try{ss.transition=null,Rt=1,fI(e,t,n,s)}finally{ss.transition=i,Rt=s}return null}function fI(e,t,n,s){do ql();while(Ca!==null);if(Et&6)throw Error(Te(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Z5(e,a),e===Bn&&(Tn=Bn=null,Wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fh||(Fh=!0,DC(Cf,function(){return ql(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ss.transition,ss.transition=null;var o=Rt;Rt=1;var c=Et;Et|=4,B0.current=null,oI(e,n),EC(n,e),L3(ix),Pf=!!sx,ix=sx=null,e.current=n,lI(n),F5(),Et=c,Rt=o,ss.transition=a}else e.current=n;if(Fh&&(Fh=!1,Ca=e,Hf=i),a=e.pendingLanes,a===0&&(Ra=null),z5(n.stateNode),Tr(e,_n()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(qf)throw qf=!1,e=Sx,Sx=null,e;return Hf&1&&e.tag!==0&&ql(),a=e.pendingLanes,a&1?e===kx?Vd++:(Vd=0,kx=e):Vd=0,Ja(),null}function ql(){if(Ca!==null){var e=mk(Hf),t=ss.transition,n=Rt;try{if(ss.transition=null,Rt=16>e?16:e,Ca===null)var s=!1;else{if(e=Ca,Ca=null,Hf=0,Et&6)throw Error(Te(331));var i=Et;for(Et|=4,Ue=e.current;Ue!==null;){var a=Ue,o=a.child;if(Ue.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(Ue=h;Ue!==null;){var f=Ue;switch(f.tag){case 0:case 11:case 15:Bd(8,f,a)}var m=f.child;if(m!==null)m.return=f,Ue=m;else for(;Ue!==null;){f=Ue;var u=f.sibling,p=f.return;if(SC(f),f===h){Ue=null;break}if(u!==null){u.return=p,Ue=u;break}Ue=p}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ue=o;else e:for(;Ue!==null;){if(a=Ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bd(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ue=b;break e}Ue=a.return}}var y=e.current;for(Ue=y;Ue!==null;){o=Ue;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ue=_;else e:for(o=y;Ue!==null;){if(c=Ue,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Hm(9,c)}}catch(C){mn(c,c.return,C)}if(c===o){Ue=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,Ue=N;break e}Ue=c.return}}if(Et=i,Ja(),ri&&typeof ri.onPostCommitFiberRoot=="function")try{ri.onPostCommitFiberRoot(Dm,e)}catch{}s=!0}return s}finally{Rt=n,ss.transition=t}}return!1}function Z_(e,t,n){t=uc(n,t),t=mC(e,t,1),e=La(e,t,1),t=gr(),e!==null&&(Fu(e,1,t),Tr(e,t))}function mn(e,t,n){if(e.tag===3)Z_(e,e,n);else for(;t!==null;){if(t.tag===3){Z_(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ra===null||!Ra.has(s))){e=uc(n,e),e=pC(t,e,1),t=La(t,e,1),e=gr(),t!==null&&(Fu(t,1,e),Tr(t,e));break}}t=t.return}}function mI(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&n,Bn===e&&(Wn&n)===n&&(In===4||In===3&&(Wn&130023424)===Wn&&500>_n()-V0?Oo(e,0):z0|=n),Tr(e,t)}function MC(e,t){t===0&&(e.mode&1?(t=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):t=1);var n=gr();e=qi(e,t),e!==null&&(Fu(e,t,n),Tr(e,n))}function pI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MC(e,n)}function gI(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Te(314))}s!==null&&s.delete(t),MC(e,n)}var IC;IC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Er.current)kr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kr=!1,rI(e,t,n);kr=!!(e.flags&131072)}else kr=!1,Qt&&t.flags&1048576&&Bk(t,If,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;cf(e,t),e=t.pendingProps;var i=oc(t,ar.current);Ul(t,n),i=M0(null,t,s,e,i,n);var a=I0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(s)?(a=!0,Rf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,T0(t),i.updater=qm,t.stateNode=i,i._reactInternals=t,mx(t,s,e,n),t=vx(null,t,s,!0,a,n)):(t.tag=0,Qt&&a&&_0(t),hr(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(cf(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=xI(s),e=bs(s,e),i){case 0:t=gx(null,t,s,e,n);break e;case 1:t=D_(null,t,s,e,n);break e;case 11:t=M_(null,t,s,e,n);break e;case 14:t=I_(null,t,s,bs(s.type,e),n);break e}throw Error(Te(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:bs(s,i),gx(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:bs(s,i),D_(e,t,s,i,n);case 3:e:{if(yC(t),e===null)throw Error(Te(387));s=t.pendingProps,a=t.memoizedState,i=a.element,Wk(e,t),$f(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=uc(Error(Te(423)),t),t=F_(e,t,s,n,i);break e}else if(s!==i){i=uc(Error(Te(424)),t),t=F_(e,t,s,n,i);break e}else for(Br=Oa(t.stateNode.containerInfo.firstChild),zr=t,Qt=!0,Ss=null,n=qk(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lc(),s===i){t=Hi(e,t,n);break e}hr(e,t,s,n)}t=t.child}return t;case 5:return Zk(t),e===null&&ux(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,ax(s,i)?o=null:a!==null&&ax(s,a)&&(t.flags|=32),xC(e,t),hr(e,t,o,n),t.child;case 6:return e===null&&ux(t),null;case 13:return bC(e,t,n);case 4:return A0(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cc(t,null,s,n):hr(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:bs(s,i),M_(e,t,s,i,n);case 7:return hr(e,t,t.pendingProps,n),t.child;case 8:return hr(e,t,t.pendingProps.children,n),t.child;case 12:return hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,$t(Df,s._currentValue),s._currentValue=o,a!==null)if(Ls(a.value,o)){if(a.children===i.children&&!Er.current){t=Hi(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===s){if(a.tag===1){d=Fi(-1,n&-n),d.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?d.next=d:(d.next=f.next,f.next=d),h.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),hx(a.return,n,t),c.lanes|=n;break}d=d.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Te(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),hx(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}hr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Ul(t,n),i=ls(i),s=s(i),t.flags|=1,hr(e,t,s,n),t.child;case 14:return s=t.type,i=bs(s,t.pendingProps),i=bs(s.type,i),I_(e,t,s,i,n);case 15:return gC(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:bs(s,i),cf(e,t),t.tag=1,Pr(s)?(e=!0,Rf(t)):e=!1,Ul(t,n),fC(t,s,i),mx(t,s,i,n),vx(null,t,s,!0,e,n);case 19:return wC(e,t,n);case 22:return vC(e,t,n)}throw Error(Te(156,t.tag))};function DC(e,t){return dk(e,t)}function vI(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(e,t,n,s){return new vI(e,t,n,s)}function W0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xI(e){if(typeof e=="function")return W0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===u0)return 11;if(e===h0)return 14}return 2}function Ia(e,t){var n=e.alternate;return n===null?(n=rs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hf(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")W0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wl:return Lo(n.children,i,a,t);case d0:o=8,i|=8;break;case Fv:return e=rs(12,n,t,i|2),e.elementType=Fv,e.lanes=a,e;case $v:return e=rs(13,n,t,i),e.elementType=$v,e.lanes=a,e;case Bv:return e=rs(19,n,t,i),e.elementType=Bv,e.lanes=a,e;case Z2:return Zm(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H2:o=10;break e;case W2:o=9;break e;case u0:o=11;break e;case h0:o=14;break e;case ga:o=16,s=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=rs(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Lo(e,t,n,s){return e=rs(7,e,s,t),e.lanes=n,e}function Zm(e,t,n,s){return e=rs(22,e,s,t),e.elementType=Z2,e.lanes=n,e.stateNode={isHidden:!1},e}function Kg(e,t,n){return e=rs(6,e,null,t),e.lanes=n,e}function Yg(e,t,n){return t=rs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yI(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tg(0),this.expirationTimes=Tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tg(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Z0(e,t,n,s,i,a,o,c,d){return e=new yI(e,t,n,c,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(a),e}function bI(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function FC(e){if(!e)return Ua;e=e._reactInternals;e:{if(Jo(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(Pr(n))return Fk(e,n,t)}return t}function $C(e,t,n,s,i,a,o,c,d){return e=Z0(n,s,!0,e,i,a,o,c,d),e.context=FC(null),n=e.current,s=gr(),i=Ma(n),a=Fi(s,i),a.callback=t??null,La(n,a,i),e.current.lanes=i,Fu(e,i,s),Tr(e,s),e}function Gm(e,t,n,s){var i=t.current,a=gr(),o=Ma(i);return n=FC(n),t.context===null?t.context=n:t.pendingContext=n,t=Fi(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=La(i,t,o),e!==null&&(Ts(e,i,o,a),af(e,i,o)),o}function Zf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function G0(e,t){G_(e,t),(e=e.alternate)&&G_(e,t)}function wI(){return null}var BC=typeof reportError=="function"?reportError:function(e){console.error(e)};function K0(e){this._internalRoot=e}Km.prototype.render=K0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));Gm(e,t,null,null)};Km.prototype.unmount=K0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uo(function(){Gm(null,e,null,null)}),t[Ui]=null}};function Km(e){this._internalRoot=e}Km.prototype.unstable_scheduleHydration=function(e){if(e){var t=vk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ya.length&&t!==0&&t<ya[n].priority;n++);ya.splice(n,0,e),n===0&&yk(e)}};function Y0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ym(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K_(){}function jI(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var h=Zf(o);a.call(h)}}var o=$C(t,s,e,0,null,!1,!1,"",K_);return e._reactRootContainer=o,e[Ui]=o.current,lu(e.nodeType===8?e.parentNode:e),Uo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var c=s;s=function(){var h=Zf(d);c.call(h)}}var d=Z0(e,0,!1,null,null,!1,!1,"",K_);return e._reactRootContainer=d,e[Ui]=d.current,lu(e.nodeType===8?e.parentNode:e),Uo(function(){Gm(t,d,n,s)}),d}function Xm(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var d=Zf(o);c.call(d)}}Gm(t,o,e,i)}else o=jI(n,t,e,i,s);return Zf(o)}pk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ed(t.pendingLanes);n!==0&&(p0(t,n|1),Tr(t,_n()),!(Et&6)&&(hc=_n()+500,Ja()))}break;case 13:Uo(function(){var s=qi(e,1);if(s!==null){var i=gr();Ts(s,e,1,i)}}),G0(e,1)}};g0=function(e){if(e.tag===13){var t=qi(e,134217728);if(t!==null){var n=gr();Ts(t,e,134217728,n)}G0(e,134217728)}};gk=function(e){if(e.tag===13){var t=Ma(e),n=qi(e,t);if(n!==null){var s=gr();Ts(n,e,t,s)}G0(e,t)}};vk=function(){return Rt};xk=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}};Yv=function(e,t,n){switch(t){case"input":if(Uv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=zm(s);if(!i)throw Error(Te(90));K2(s),Uv(s,i)}}}break;case"textarea":X2(e,n);break;case"select":t=n.value,t!=null&&$l(e,!!n.multiple,t,!1)}};sk=U0;ik=Uo;var _I={usingClientEntryPoint:!1,Events:[Bu,Sl,zm,nk,rk,U0]},pd={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NI={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lk(e),e===null?null:e.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||wI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Dm=$h.inject(NI),ri=$h}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_I;Hr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y0(t))throw Error(Te(200));return bI(e,t,null,n)};Hr.createRoot=function(e,t){if(!Y0(e))throw Error(Te(299));var n=!1,s="",i=BC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Z0(e,1,!1,null,null,n,!1,s,i),e[Ui]=t.current,lu(e.nodeType===8?e.parentNode:e),new K0(t)};Hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=lk(t),e=e===null?null:e.stateNode,e};Hr.flushSync=function(e){return Uo(e)};Hr.hydrate=function(e,t,n){if(!Ym(t))throw Error(Te(200));return Xm(null,e,t,!0,n)};Hr.hydrateRoot=function(e,t,n){if(!Y0(e))throw Error(Te(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=BC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$C(t,null,e,1,n??null,i,!1,a,o),e[Ui]=t.current,lu(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Km(t)};Hr.render=function(e,t,n){if(!Ym(t))throw Error(Te(200));return Xm(null,e,t,!1,n)};Hr.unmountComponentAtNode=function(e){if(!Ym(e))throw Error(Te(40));return e._reactRootContainer?(Uo(function(){Xm(null,null,e,!1,function(){e._reactRootContainer=null,e[Ui]=null})}),!0):!1};Hr.unstable_batchedUpdates=U0;Hr.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ym(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return Xm(e,t,n,!1,s)};Hr.version="18.3.1-next-f1338f8080-20240426";function zC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zC)}catch(e){console.error(e)}}zC(),z2.exports=Hr;var eo=z2.exports;const VC=Mm(eo);var UC,Y_=eo;UC=Y_.createRoot,Y_.hydrateRoot;const SI=1,kI=1e6;let Xg=0;function CI(){return Xg=(Xg+1)%Number.MAX_SAFE_INTEGER,Xg.toString()}const Qg=new Map,X_=e=>{if(Qg.has(e))return;const t=setTimeout(()=>{Qg.delete(e),Ud({type:"REMOVE_TOAST",toastId:e})},kI);Qg.set(e,t)},EI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,SI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?X_(n):e.toasts.forEach(s=>{X_(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ff=[];let mf={toasts:[]};function Ud(e){mf=EI(mf,e),ff.forEach(t=>{t(mf)})}function pf({...e}){const t=CI(),n=i=>Ud({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Ud({type:"DISMISS_TOAST",toastId:t});return Ud({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function cn(){const[e,t]=j.useState(mf);return j.useEffect(()=>(ff.push(t),()=>{const n=ff.indexOf(t);n>-1&&ff.splice(n,1)}),[e]),{...e,toast:pf,dismiss:n=>Ud({type:"DISMISS_TOAST",toastId:n})}}function Le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Q_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qm(...e){return t=>{let n=!1;const s=e.map(i=>{const a=Q_(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Q_(e[i],null)}}}}function dt(...e){return j.useCallback(Qm(...e),e)}function PI(e,t){const n=j.createContext(t),s=a=>{const{children:o,...c}=a,d=j.useMemo(()=>c,Object.values(c));return r.jsx(n.Provider,{value:d,children:o})};s.displayName=e+"Provider";function i(a){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function lr(e,t=[]){let n=[];function s(a,o){const c=j.createContext(o),d=n.length;n=[...n,o];const h=m=>{var b;const{scope:u,children:p,...x}=m,v=((b=u==null?void 0:u[e])==null?void 0:b[d])||c,w=j.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:w,children:p})};h.displayName=a+"Provider";function f(m,u){var v;const p=((v=u==null?void 0:u[e])==null?void 0:v[d])||c,x=j.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(o=>j.createContext(o));return function(c){const d=(c==null?void 0:c[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[s,TI(i,...t)]}function TI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function qo(e){const t=OI(e),n=j.forwardRef((s,i)=>{const{children:a,...o}=s,c=j.Children.toArray(a),d=c.find(RI);if(d){const h=d.props.children,f=c.map(m=>m===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:m);return r.jsx(t,{...o,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,f):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var AI=qo("Slot");function OI(e){const t=j.forwardRef((n,s)=>{const{children:i,...a}=n;if(j.isValidElement(i)){const o=II(i),c=MI(a,i.props);return i.type!==j.Fragment&&(c.ref=s?Qm(s,o):o),j.cloneElement(i,c)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qC=Symbol("radix.slottable");function LI(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=qC,t}function RI(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qC}function MI(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function II(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jm(e){const t=e+"CollectionProvider",[n,s]=lr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:b}=v,y=_e.useRef(null),_=_e.useRef(new Map).current;return r.jsx(i,{scope:w,itemMap:_,collectionRef:y,children:b})};o.displayName=t;const c=e+"CollectionSlot",d=qo(c),h=_e.forwardRef((v,w)=>{const{scope:b,children:y}=v,_=a(c,b),N=dt(w,_.collectionRef);return r.jsx(d,{ref:N,children:y})});h.displayName=c;const f=e+"CollectionItemSlot",m="data-radix-collection-item",u=qo(f),p=_e.forwardRef((v,w)=>{const{scope:b,children:y,..._}=v,N=_e.useRef(null),C=dt(w,N),D=a(f,b);return _e.useEffect(()=>(D.itemMap.set(N,{ref:N,..._}),()=>void D.itemMap.delete(N))),r.jsx(u,{[m]:"",ref:C,children:y})});p.displayName=f;function x(v){const w=a(e+"CollectionConsumer",v);return _e.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((D,E)=>_.indexOf(D.ref.current)-_.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:h,ItemSlot:p},x,s]}var DI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=DI.reduce((e,t)=>{const n=qo(`Primitive.${t}`),s=j.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...c,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function X0(e,t){e&&eo.flushSync(()=>e.dispatchEvent(t))}function pn(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function FI(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e);j.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var $I="DismissableLayer",Px="dismissableLayer.update",BI="dismissableLayer.pointerDownOutside",zI="dismissableLayer.focusOutside",J_,HC=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ac=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=e,h=j.useContext(HC),[f,m]=j.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),x=dt(t,E=>m(E)),v=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(w),y=f?v.indexOf(f):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,N=y>=b,C=UI(E=>{const R=E.target,A=[...h.branches].some(k=>k.contains(R));!N||A||(i==null||i(E),o==null||o(E),E.defaultPrevented||c==null||c())},u),D=qI(E=>{const R=E.target;[...h.branches].some(k=>k.contains(R))||(a==null||a(E),o==null||o(E),E.defaultPrevented||c==null||c())},u);return FI(E=>{y===h.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},u),j.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(J_=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),e1(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=J_)}},[f,u,n,h]),j.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),e1())},[f,h]),j.useEffect(()=>{const E=()=>p({});return document.addEventListener(Px,E),()=>document.removeEventListener(Px,E)},[]),r.jsx(We.div,{...d,ref:x,style:{pointerEvents:_?N?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,C.onPointerDownCapture)})});Ac.displayName=$I;var VI="DismissableLayerBranch",WC=j.forwardRef((e,t)=>{const n=j.useContext(HC),s=j.useRef(null),i=dt(t,s);return j.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(We.div,{...e,ref:i})});WC.displayName=VI;function UI(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e),s=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=c=>{if(c.target&&!s.current){let d=function(){ZC(BI,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function qI(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e),s=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!s.current&&ZC(zI,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function e1(){const e=new CustomEvent(Px);document.dispatchEvent(e)}function ZC(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?X0(i,a):i.dispatchEvent(a)}var HI=Ac,WI=WC,Sn=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},ZI="Portal",Vu=j.forwardRef((e,t)=>{var c;const{container:n,...s}=e,[i,a]=j.useState(!1);Sn(()=>a(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?VC.createPortal(r.jsx(We.div,{...s,ref:t}),o):null});Vu.displayName=ZI;function GI(e,t){return j.useReducer((n,s)=>t[n][s]??n,e)}var Kn=e=>{const{present:t,children:n}=e,s=KI(t),i=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),a=dt(s.ref,YI(i));return typeof n=="function"||s.isPresent?j.cloneElement(i,{ref:a}):null};Kn.displayName="Presence";function KI(e){const[t,n]=j.useState(),s=j.useRef(null),i=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[c,d]=GI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=Bh(s.current);a.current=c==="mounted"?h:"none"},[c]),Sn(()=>{const h=s.current,f=i.current;if(f!==e){const u=a.current,p=Bh(h);e?d("MOUNT"):p==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(f&&u!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Sn(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,m=p=>{const v=Bh(s.current).includes(p.animationName);if(p.target===t&&v&&(d("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},u=p=>{p.target===t&&(a.current=Bh(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Bh(e){return(e==null?void 0:e.animationName)||"none"}function YI(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var XI=a0[" useInsertionEffect ".trim().toString()]||Sn;function Rs({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=QI({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:i;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const h=j.useCallback(f=>{var m;if(c){const u=JI(f)?f(e):f;u!==e&&((m=o.current)==null||m.call(o,u))}else a(f)},[c,e,a,o]);return[d,h]}function QI({defaultProp:e,onChange:t}){const[n,s]=j.useState(e),i=j.useRef(n),a=j.useRef(t);return XI(()=>{a.current=t},[t]),j.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function JI(e){return typeof e=="function"}var GC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eD="VisuallyHidden",ep=j.forwardRef((e,t)=>r.jsx(We.span,{...e,ref:t,style:{...GC,...e.style}}));ep.displayName=eD;var tD=ep,Q0="ToastProvider",[J0,nD,rD]=Jm("Toast"),[KC,Pre]=lr("Toast",[rD]),[sD,tp]=KC(Q0),YC=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[c,d]=j.useState(null),[h,f]=j.useState(0),m=j.useRef(!1),u=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Q0}\`. Expected non-empty \`string\`.`),r.jsx(J0.Provider,{scope:t,children:r.jsx(sD,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:j.useCallback(()=>f(p=>p+1),[]),onToastRemove:j.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:u,children:o})})};YC.displayName=Q0;var XC="ToastViewport",iD=["F8"],Tx="toast.viewportPause",Ax="toast.viewportResume",QC=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=iD,label:i="Notifications ({hotkey})",...a}=e,o=tp(XC,n),c=nD(n),d=j.useRef(null),h=j.useRef(null),f=j.useRef(null),m=j.useRef(null),u=dt(t,m,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;j.useEffect(()=>{const w=b=>{var _;s.length!==0&&s.every(N=>b[N]||b.code===N)&&((_=m.current)==null||_.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),j.useEffect(()=>{const w=d.current,b=m.current;if(x&&w&&b){const y=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(Tx);b.dispatchEvent(D),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(Ax);b.dispatchEvent(D),o.isClosePausedRef.current=!1}},N=D=>{!w.contains(D.relatedTarget)&&_()},C=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",y),w.addEventListener("focusout",N),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[x,o.isClosePausedRef]);const v=j.useCallback(({tabbingDirection:w})=>{const y=c().map(_=>{const N=_.ref.current,C=[N,...xD(N)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?y.reverse():y).flat()},[c]);return j.useEffect(()=>{const w=m.current;if(w){const b=y=>{var C,D,E;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const R=document.activeElement,A=y.shiftKey;if(y.target===w&&A){(C=h.current)==null||C.focus();return}const P=v({tabbingDirection:A?"backwards":"forwards"}),T=P.findIndex(M=>M===R);Jg(P.slice(T+1))?y.preventDefault():A?(D=h.current)==null||D.focus():(E=f.current)==null||E.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[c,v]),r.jsxs(WI,{ref:d,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(Ox,{ref:h,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Jg(w)}}),r.jsx(J0.Slot,{scope:n,children:r.jsx(We.ol,{tabIndex:-1,...a,ref:u})}),x&&r.jsx(Ox,{ref:f,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Jg(w)}})]})});QC.displayName=XC;var JC="ToastFocusProxy",Ox=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=tp(JC,n);return r.jsx(ep,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var h;const c=o.relatedTarget;!((h=a.viewport)!=null&&h.contains(c))&&s()}})});Ox.displayName=JC;var Uu="Toast",aD="toast.swipeStart",oD="toast.swipeMove",lD="toast.swipeCancel",cD="toast.swipeEnd",eE=j.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[c,d]=Rs({prop:s,defaultProp:i??!0,onChange:a,caller:Uu});return r.jsx(Kn,{present:n||c,children:r.jsx(hD,{open:c,...o,ref:t,onClose:()=>d(!1),onPause:pn(e.onPause),onResume:pn(e.onResume),onSwipeStart:Le(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Le(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});eE.displayName=Uu;var[dD,uD]=KC(Uu,{onClose(){}}),hD=j.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:u,onSwipeEnd:p,...x}=e,v=tp(Uu,n),[w,b]=j.useState(null),y=dt(t,M=>b(M)),_=j.useRef(null),N=j.useRef(null),C=i||v.duration,D=j.useRef(0),E=j.useRef(C),R=j.useRef(0),{onToastAdd:A,onToastRemove:k}=v,O=pn(()=>{var H;(w==null?void 0:w.contains(document.activeElement))&&((H=v.viewport)==null||H.focus()),o()}),P=j.useCallback(M=>{!M||M===1/0||(window.clearTimeout(R.current),D.current=new Date().getTime(),R.current=window.setTimeout(O,M))},[O]);j.useEffect(()=>{const M=v.viewport;if(M){const H=()=>{P(E.current),h==null||h()},W=()=>{const Z=new Date().getTime()-D.current;E.current=E.current-Z,window.clearTimeout(R.current),d==null||d()};return M.addEventListener(Tx,W),M.addEventListener(Ax,H),()=>{M.removeEventListener(Tx,W),M.removeEventListener(Ax,H)}}},[v.viewport,C,d,h,P]),j.useEffect(()=>{a&&!v.isClosePausedRef.current&&P(C)},[a,C,v.isClosePausedRef,P]),j.useEffect(()=>(A(),()=>k()),[A,k]);const T=j.useMemo(()=>w?oE(w):null,[w]);return v.viewport?r.jsxs(r.Fragment,{children:[T&&r.jsx(fD,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),r.jsx(dD,{scope:n,onClose:O,children:eo.createPortal(r.jsx(J0.ItemSlot,{scope:n,children:r.jsx(HI,{asChild:!0,onEscapeKeyDown:Le(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(We.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,M=>{M.key==="Escape"&&(c==null||c(M.nativeEvent),M.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Le(e.onPointerDown,M=>{M.button===0&&(_.current={x:M.clientX,y:M.clientY})}),onPointerMove:Le(e.onPointerMove,M=>{if(!_.current)return;const H=M.clientX-_.current.x,W=M.clientY-_.current.y,Z=!!N.current,B=["left","right"].includes(v.swipeDirection),q=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,F=B?q(0,H):0,$=B?0:q(0,W),z=M.pointerType==="touch"?10:2,G={x:F,y:$},X={originalEvent:M,delta:G};Z?(N.current=G,zh(oD,m,X,{discrete:!1})):t1(G,v.swipeDirection,z)?(N.current=G,zh(aD,f,X,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(H)>z||Math.abs(W)>z)&&(_.current=null)}),onPointerUp:Le(e.onPointerUp,M=>{const H=N.current,W=M.target;if(W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId),N.current=null,_.current=null,H){const Z=M.currentTarget,B={originalEvent:M,delta:H};t1(H,v.swipeDirection,v.swipeThreshold)?zh(cD,p,B,{discrete:!0}):zh(lD,u,B,{discrete:!0}),Z.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),fD=e=>{const{__scopeToast:t,children:n,...s}=e,i=tp(Uu,t),[a,o]=j.useState(!1),[c,d]=j.useState(!1);return gD(()=>o(!0)),j.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:r.jsx(Vu,{asChild:!0,children:r.jsx(ep,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},mD="ToastTitle",tE=j.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(We.div,{...s,ref:t})});tE.displayName=mD;var pD="ToastDescription",nE=j.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(We.div,{...s,ref:t})});nE.displayName=pD;var rE="ToastAction",sE=j.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(aE,{altText:n,asChild:!0,children:r.jsx(eb,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${rE}\`. Expected non-empty \`string\`.`),null)});sE.displayName=rE;var iE="ToastClose",eb=j.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=uD(iE,n);return r.jsx(aE,{asChild:!0,children:r.jsx(We.button,{type:"button",...s,ref:t,onClick:Le(e.onClick,i.onClose)})})});eb.displayName=iE;var aE=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function oE(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),vD(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...oE(s))}}),t}function zh(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?X0(i,a):i.dispatchEvent(a)}var t1=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function gD(e=()=>{}){const t=pn(e);Sn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function vD(e){return e.nodeType===e.ELEMENT_NODE}function xD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var yD=YC,lE=QC,cE=eE,dE=tE,uE=nE,hE=sE,fE=eb;function mE(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=mE(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function pE(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=mE(e))&&(s&&(s+=" "),s+=t);return s}const n1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,r1=pE,qu=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return r1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(h=>{const f=n==null?void 0:n[h],m=a==null?void 0:a[h];if(f===null)return null;const u=n1(f)||n1(m);return i[h][u]}),c=n&&Object.entries(n).reduce((h,f)=>{let[m,u]=f;return u===void 0||(h[m]=u),h},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,f)=>{let{class:m,className:u,...p}=f;return Object.entries(p).every(x=>{let[v,w]=x;return Array.isArray(w)?w.includes({...a,...c}[v]):{...a,...c}[v]===w})?[...h,m,u]:h},[]);return r1(e,o,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gE=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...c},d)=>j.createElement("svg",{ref:d,...wD,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:gE("lucide",i),...c},[...o.map(([h,f])=>j.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const n=j.forwardRef(({className:s,...i},a)=>j.createElement(jD,{ref:a,iconNode:t,className:gE(`lucide-${bD(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Ie("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Ie("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Ie("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Ie("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ie("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ie("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=Ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ie("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Ie("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ie("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Ie("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ie("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Ie("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ie("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Ie("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Ie("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Ie("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ie("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ie("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Ie("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ie("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=Ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ab="-",BD=e=>{const t=VD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const c=o.split(ab);return c[0]===""&&c.length!==1&&c.shift(),EE(c,t)||zD(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&s[o]?[...d,...s[o]]:d}}},EE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?EE(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(ab);return(o=t.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},l1=/^\[(.+)\]$/,zD=e=>{if(l1.test(e)){const t=l1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},VD=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return qD(Object.entries(e.classGroups),n).forEach(([a,o])=>{Rx(o,s,a,t)}),s},Rx=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:c1(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(UD(i)){Rx(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Rx(o,c1(t,a),n,s)})})},c1=(e,t)=>{let n=e;return t.split(ab).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},UD=e=>e.isThemeGetter,qD=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,c])=>[t+o,c])):a);return[n,i]}):e,HD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},PE="!",WD=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=c=>{const d=[];let h=0,f=0,m;for(let w=0;w<c.length;w++){let b=c[w];if(h===0){if(b===i&&(s||c.slice(w,w+a)===t)){d.push(c.slice(f,w)),f=w+a;continue}if(b==="/"){m=w;continue}}b==="["?h++:b==="]"&&h--}const u=d.length===0?c:c.substring(f),p=u.startsWith(PE),x=p?u.substring(1):u,v=m&&m>f?m-f:void 0;return{modifiers:d,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:v}};return n?c=>n({className:c,parseClassName:o}):o},ZD=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},GD=e=>({cache:HD(e.cacheSize),parseClassName:WD(e),...BD(e)}),KD=/\s+/,YD=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(KD);let c="";for(let d=o.length-1;d>=0;d-=1){const h=o[d],{modifiers:f,hasImportantModifier:m,baseClassName:u,maybePostfixModifierPosition:p}=n(h);let x=!!p,v=s(x?u.substring(0,p):u);if(!v){if(!x){c=h+(c.length>0?" "+c:c);continue}if(v=s(u),!v){c=h+(c.length>0?" "+c:c);continue}x=!1}const w=ZD(f).join(":"),b=m?w+PE:w,y=b+v;if(a.includes(y))continue;a.push(y);const _=i(v,x);for(let N=0;N<_.length;++N){const C=_[N];a.push(b+C)}c=h+(c.length>0?" "+c:c)}return c};function XD(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=TE(t))&&(s&&(s+=" "),s+=n);return s}const TE=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=TE(e[s]))&&(n&&(n+=" "),n+=t);return n};function QD(e,...t){let n,s,i,a=o;function o(d){const h=t.reduce((f,m)=>m(f),e());return n=GD(h),s=n.cache.get,i=n.cache.set,a=c,c(d)}function c(d){const h=s(d);if(h)return h;const f=YD(d,n);return i(d,f),f}return function(){return a(XD.apply(null,arguments))}}const Ht=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},AE=/^\[(?:([a-z-]+):)?(.+)\]$/i,JD=/^\d+\/\d+$/,e6=new Set(["px","full","screen"]),t6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ki=e=>Zl(e)||e6.has(e)||JD.test(e),ua=e=>Lc(e,"length",f6),Zl=e=>!!e&&!Number.isNaN(Number(e)),ev=e=>Lc(e,"number",Zl),gd=e=>!!e&&Number.isInteger(Number(e)),a6=e=>e.endsWith("%")&&Zl(e.slice(0,-1)),gt=e=>AE.test(e),ha=e=>t6.test(e),o6=new Set(["length","size","percentage"]),l6=e=>Lc(e,o6,OE),c6=e=>Lc(e,"position",OE),d6=new Set(["image","url"]),u6=e=>Lc(e,d6,p6),h6=e=>Lc(e,"",m6),vd=()=>!0,Lc=(e,t,n)=>{const s=AE.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},f6=e=>n6.test(e)&&!r6.test(e),OE=()=>!1,m6=e=>s6.test(e),p6=e=>i6.test(e),g6=()=>{const e=Ht("colors"),t=Ht("spacing"),n=Ht("blur"),s=Ht("brightness"),i=Ht("borderColor"),a=Ht("borderRadius"),o=Ht("borderSpacing"),c=Ht("borderWidth"),d=Ht("contrast"),h=Ht("grayscale"),f=Ht("hueRotate"),m=Ht("invert"),u=Ht("gap"),p=Ht("gradientColorStops"),x=Ht("gradientColorStopPositions"),v=Ht("inset"),w=Ht("margin"),b=Ht("opacity"),y=Ht("padding"),_=Ht("saturate"),N=Ht("scale"),C=Ht("sepia"),D=Ht("skew"),E=Ht("space"),R=Ht("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",gt,t],P=()=>[gt,t],T=()=>["",ki,ua],M=()=>["auto",Zl,gt],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",gt],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Zl,gt];return{cacheSize:500,separator:":",theme:{colors:[vd],spacing:[ki,ua],blur:["none","",ha,gt],brightness:$(),borderColor:[e],borderRadius:["none","","full",ha,gt],borderSpacing:P(),borderWidth:T(),contrast:$(),grayscale:q(),hueRotate:$(),invert:q(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[a6,ua],inset:O(),margin:O(),opacity:$(),padding:P(),saturate:$(),scale:$(),sepia:q(),skew:$(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",gt]}],container:["container"],columns:[{columns:[ha]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),gt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gd,gt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gt]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",gd,gt]}],"grid-cols":[{"grid-cols":[vd]}],"col-start-end":[{col:["auto",{span:["full",gd,gt]},gt]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[vd]}],"row-start-end":[{row:["auto",{span:[gd,gt]},gt]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gt]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gt,t]}],"min-w":[{"min-w":[gt,t,"min","max","fit"]}],"max-w":[{"max-w":[gt,t,"none","full","min","max","fit","prose",{screen:[ha]},ha]}],h:[{h:[gt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ha,ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ev]}],"font-family":[{font:[vd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gt]}],"line-clamp":[{"line-clamp":["none",Zl,ev]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ki,gt]}],"list-image":[{"list-image":["none",gt]}],"list-style-type":[{list:["none","disc","decimal",gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ki,ua]}],"underline-offset":[{"underline-offset":["auto",ki,gt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),c6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ki,gt]}],"outline-w":[{outline:[ki,ua]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ki,ua]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ha,h6]}],"shadow-color":[{shadow:[vd]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ha,gt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[_]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",gt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[gd,gt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ki,ua,ev]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},v6=QD(g6);function Ve(...e){return v6(pE(e))}const x6=yD,LE=j.forwardRef(({className:e,...t},n)=>r.jsx(lE,{ref:n,className:Ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));LE.displayName=lE.displayName;const y6=qu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RE=j.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(cE,{ref:s,className:Ve(y6({variant:t}),e),...n}));RE.displayName=cE.displayName;const b6=j.forwardRef(({className:e,...t},n)=>r.jsx(hE,{ref:n,className:Ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));b6.displayName=hE.displayName;const ME=j.forwardRef(({className:e,...t},n)=>r.jsx(fE,{ref:n,className:Ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(sr,{className:"h-4 w-4"})}));ME.displayName=fE.displayName;const IE=j.forwardRef(({className:e,...t},n)=>r.jsx(dE,{ref:n,className:Ve("text-sm font-semibold",e),...t}));IE.displayName=dE.displayName;const DE=j.forwardRef(({className:e,...t},n)=>r.jsx(uE,{ref:n,className:Ve("text-sm opacity-90",e),...t}));DE.displayName=uE.displayName;function w6(){const{toasts:e}=cn();return r.jsxs(x6,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(RE,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(IE,{children:n}),s&&r.jsx(DE,{children:s})]}),i,r.jsx(ME,{})]},t)}),r.jsx(LE,{})]})}var d1=["light","dark"],j6="(prefers-color-scheme: dark)",_6=j.createContext(void 0),N6={setTheme:e=>{},themes:[]},S6=()=>{var e;return(e=j.useContext(_6))!=null?e:N6};j.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:c,nonce:d})=>{let h=a==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=i?d1.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",u=(x,v=!1,w=!0)=>{let b=o?o[x]:x,y=v?x+"|| ''":`'${b}'`,_="";return i&&w&&!v&&d1.includes(x)&&(_+=`d.style.colorScheme = '${x}';`),n==="class"?v||b?_+=`c.add(${y})`:_+="null":b&&(_+=`d[s](n,${y})`),_},p=e?`!function(){${f}${u(e)}}()`:s?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${j6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${u("dark")}}else{${u("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${u(o?"x[e]":"e",!0)}}${h?"":"else{"+u(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${u(o?"x[e]":"e",!0)}}else{${u(a,!1,!1)};}${m}}catch(t){}}();`;return j.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:p}})});var k6=e=>{switch(e){case"success":return P6;case"info":return A6;case"warning":return T6;case"error":return O6;default:return null}},C6=Array(12).fill(0),E6=({visible:e,className:t})=>_e.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},_e.createElement("div",{className:"sonner-spinner"},C6.map((n,s)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),P6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),T6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),A6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L6=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),R6=()=>{let[e,t]=_e.useState(document.hidden);return _e.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Mx=1,M6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Mx++,a=this.toasts.find(c=>c.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:o,title:n}):c):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0,a,o=s.then(async d=>{if(a=["resolve",d],_e.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(D6(d)&&!d.ok){i=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:h,description:f})}else if(t.success!==void 0){i=!1;let h=typeof t.success=="function"?await t.success(d):t.success,f=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:h,description:f})}}).catch(async d=>{if(a=["reject",d],t.error!==void 0){i=!1;let h=typeof t.error=="function"?await t.error(d):t.error,f=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),c=()=>new Promise((d,h)=>o.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Mx++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_r=new M6,I6=(e,t)=>{let n=(t==null?void 0:t.id)||Mx++;return _r.addToast({title:e,...t,id:n}),n},D6=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",F6=I6,$6=()=>_r.toasts,B6=()=>_r.getActiveToasts(),Qr=Object.assign(F6,{success:_r.success,info:_r.info,warning:_r.warning,error:_r.error,custom:_r.custom,message:_r.message,promise:_r.promise,dismiss:_r.dismiss,loading:_r.loading},{getHistory:$6,getToasts:B6});function z6(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}z6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vh(e){return e.label!==void 0}var V6=3,U6="32px",q6="16px",u1=4e3,H6=356,W6=14,Z6=20,G6=200;function vs(...e){return e.filter(Boolean).join(" ")}function K6(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var Y6=e=>{var t,n,s,i,a,o,c,d,h,f,m;let{invert:u,toast:p,unstyled:x,interacting:v,setHeights:w,visibleToasts:b,heights:y,index:_,toasts:N,expanded:C,removeToast:D,defaultRichColors:E,closeButton:R,style:A,cancelButtonStyle:k,actionButtonStyle:O,className:P="",descriptionClassName:T="",duration:M,position:H,gap:W,loadingIcon:Z,expandByDefault:B,classNames:q,icons:F,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:z}=e,[G,X]=_e.useState(null),[J,K]=_e.useState(null),[U,te]=_e.useState(!1),[re,le]=_e.useState(!1),[pe,ee]=_e.useState(!1),[ye,Ce]=_e.useState(!1),[ue,be]=_e.useState(!1),[xe,ce]=_e.useState(0),[fe,Q]=_e.useState(0),se=_e.useRef(p.duration||M||u1),ie=_e.useRef(null),we=_e.useRef(null),je=_===0,ve=_+1<=b,Ae=p.type,et=p.dismissible!==!1,Xe=p.className||"",zt=p.descriptionClassName||"",_t=_e.useMemo(()=>y.findIndex(De=>De.toastId===p.id)||0,[y,p.id]),Vt=_e.useMemo(()=>{var De;return(De=p.closeButton)!=null?De:R},[p.closeButton,R]),oe=_e.useMemo(()=>p.duration||M||u1,[p.duration,M]),ze=_e.useRef(0),Ze=_e.useRef(0),ut=_e.useRef(0),it=_e.useRef(null),[Ge,dn]=H.split("-"),Ut=_e.useMemo(()=>y.reduce((De,pt,Nt)=>Nt>=_t?De:De+pt.height,0),[y,_t]),Or=R6(),Zr=p.invert||u,cr=Ae==="loading";Ze.current=_e.useMemo(()=>_t*W+Ut,[_t,Ut]),_e.useEffect(()=>{se.current=oe},[oe]),_e.useEffect(()=>{te(!0)},[]),_e.useEffect(()=>{let De=we.current;if(De){let pt=De.getBoundingClientRect().height;return Q(pt),w(Nt=>[{toastId:p.id,height:pt,position:p.position},...Nt]),()=>w(Nt=>Nt.filter(xn=>xn.toastId!==p.id))}},[w,p.id]),_e.useLayoutEffect(()=>{if(!U)return;let De=we.current,pt=De.style.height;De.style.height="auto";let Nt=De.getBoundingClientRect().height;De.style.height=pt,Q(Nt),w(xn=>xn.find(qt=>qt.toastId===p.id)?xn.map(qt=>qt.toastId===p.id?{...qt,height:Nt}:qt):[{toastId:p.id,height:Nt,position:p.position},...xn])},[U,p.title,p.description,w,p.id]);let Yn=_e.useCallback(()=>{le(!0),ce(Ze.current),w(De=>De.filter(pt=>pt.toastId!==p.id)),setTimeout(()=>{D(p)},G6)},[p,D,w,Ze]);_e.useEffect(()=>{if(p.promise&&Ae==="loading"||p.duration===1/0||p.type==="loading")return;let De;return C||v||z&&Or?(()=>{if(ut.current<ze.current){let pt=new Date().getTime()-ze.current;se.current=se.current-pt}ut.current=new Date().getTime()})():se.current!==1/0&&(ze.current=new Date().getTime(),De=setTimeout(()=>{var pt;(pt=p.onAutoClose)==null||pt.call(p,p),Yn()},se.current)),()=>clearTimeout(De)},[C,v,p,Ae,z,Or,Yn]),_e.useEffect(()=>{p.delete&&Yn()},[Yn,p.delete]);function oa(){var De,pt,Nt;return F!=null&&F.loading?_e.createElement("div",{className:vs(q==null?void 0:q.loader,(De=p==null?void 0:p.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":Ae==="loading"},F.loading):Z?_e.createElement("div",{className:vs(q==null?void 0:q.loader,(pt=p==null?void 0:p.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Ae==="loading"},Z):_e.createElement(E6,{className:vs(q==null?void 0:q.loader,(Nt=p==null?void 0:p.classNames)==null?void 0:Nt.loader),visible:Ae==="loading"})}return _e.createElement("li",{tabIndex:0,ref:we,className:vs(P,Xe,q==null?void 0:q.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[Ae],(n=p==null?void 0:p.classNames)==null?void 0:n[Ae]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:E,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":U,"data-promise":!!p.promise,"data-swiped":ue,"data-removed":re,"data-visible":ve,"data-y-position":Ge,"data-x-position":dn,"data-index":_,"data-front":je,"data-swiping":pe,"data-dismissible":et,"data-type":Ae,"data-invert":Zr,"data-swipe-out":ye,"data-swipe-direction":J,"data-expanded":!!(C||B&&U),style:{"--index":_,"--toasts-before":_,"--z-index":N.length-_,"--offset":`${re?xe:Ze.current}px`,"--initial-height":B?"auto":`${fe}px`,...A,...p.style},onDragEnd:()=>{ee(!1),X(null),it.current=null},onPointerDown:De=>{cr||!et||(ie.current=new Date,ce(Ze.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(ee(!0),it.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,pt,Nt,xn;if(ye||!et)return;it.current=null;let qt=Number(((De=we.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fs=Number(((pt=we.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wi=new Date().getTime()-((Nt=ie.current)==null?void 0:Nt.getTime()),Lr=G==="x"?qt:Fs,$s=Math.abs(Lr)/wi;if(Math.abs(Lr)>=Z6||$s>.11){ce(Ze.current),(xn=p.onDismiss)==null||xn.call(p,p),K(G==="x"?qt>0?"right":"left":Fs>0?"down":"up"),Yn(),Ce(!0),be(!1);return}ee(!1),X(null)},onPointerMove:De=>{var pt,Nt,xn,qt;if(!it.current||!et||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;let Fs=De.clientY-it.current.y,wi=De.clientX-it.current.x,Lr=(Nt=e.swipeDirections)!=null?Nt:K6(H);!G&&(Math.abs(wi)>1||Math.abs(Fs)>1)&&X(Math.abs(wi)>Math.abs(Fs)?"x":"y");let $s={x:0,y:0};G==="y"?(Lr.includes("top")||Lr.includes("bottom"))&&(Lr.includes("top")&&Fs<0||Lr.includes("bottom")&&Fs>0)&&($s.y=Fs):G==="x"&&(Lr.includes("left")||Lr.includes("right"))&&(Lr.includes("left")&&wi<0||Lr.includes("right")&&wi>0)&&($s.x=wi),(Math.abs($s.x)>0||Math.abs($s.y)>0)&&be(!0),(xn=we.current)==null||xn.style.setProperty("--swipe-amount-x",`${$s.x}px`),(qt=we.current)==null||qt.style.setProperty("--swipe-amount-y",`${$s.y}px`)}},Vt&&!p.jsx?_e.createElement("button",{"aria-label":$,"data-disabled":cr,"data-close-button":!0,onClick:cr||!et?()=>{}:()=>{var De;Yn(),(De=p.onDismiss)==null||De.call(p,p)},className:vs(q==null?void 0:q.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=F==null?void 0:F.close)!=null?a:L6):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:_e.createElement(_e.Fragment,null,Ae||p.icon||p.promise?_e.createElement("div",{"data-icon":"",className:vs(q==null?void 0:q.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||oa():null,p.type!=="loading"?p.icon||(F==null?void 0:F[Ae])||k6(Ae):null):null,_e.createElement("div",{"data-content":"",className:vs(q==null?void 0:q.content,(c=p==null?void 0:p.classNames)==null?void 0:c.content)},_e.createElement("div",{"data-title":"",className:vs(q==null?void 0:q.title,(d=p==null?void 0:p.classNames)==null?void 0:d.title)},typeof p.title=="function"?p.title():p.title),p.description?_e.createElement("div",{"data-description":"",className:vs(T,zt,q==null?void 0:q.description,(h=p==null?void 0:p.classNames)==null?void 0:h.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&Vh(p.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:De=>{var pt,Nt;Vh(p.cancel)&&et&&((Nt=(pt=p.cancel).onClick)==null||Nt.call(pt,De),Yn())},className:vs(q==null?void 0:q.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&Vh(p.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:De=>{var pt,Nt;Vh(p.action)&&((Nt=(pt=p.action).onClick)==null||Nt.call(pt,De),!De.defaultPrevented&&Yn())},className:vs(q==null?void 0:q.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function h1(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function X6(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",c=a?q6:U6;function d(h){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${o}-${h}`]=c:n[`${o}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):d(c)}),n}var Q6=j.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:c,offset:d,mobileOffset:h,theme:f="light",richColors:m,duration:u,style:p,visibleToasts:x=V6,toastOptions:v,dir:w=h1(),gap:b=W6,loadingIcon:y,icons:_,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:C}=e,[D,E]=_e.useState([]),R=_e.useMemo(()=>Array.from(new Set([s].concat(D.filter(z=>z.position).map(z=>z.position)))),[D,s]),[A,k]=_e.useState([]),[O,P]=_e.useState(!1),[T,M]=_e.useState(!1),[H,W]=_e.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=_e.useRef(null),B=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=_e.useRef(null),F=_e.useRef(!1),$=_e.useCallback(z=>{E(G=>{var X;return(X=G.find(J=>J.id===z.id))!=null&&X.delete||_r.dismiss(z.id),G.filter(({id:J})=>J!==z.id)})},[]);return _e.useEffect(()=>_r.subscribe(z=>{if(z.dismiss){E(G=>G.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{VC.flushSync(()=>{E(G=>{let X=G.findIndex(J=>J.id===z.id);return X!==-1?[...G.slice(0,X),{...G[X],...z},...G.slice(X+1)]:[z,...G]})})})}),[]),_e.useEffect(()=>{if(f!=="system"){W(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:G})=>{W(G?"dark":"light")})}catch{z.addListener(({matches:X})=>{try{W(X?"dark":"light")}catch(J){console.error(J)}})}},[f]),_e.useEffect(()=>{D.length<=1&&P(!1)},[D]),_e.useEffect(()=>{let z=G=>{var X,J;i.every(K=>G[K]||G.code===K)&&(P(!0),(X=Z.current)==null||X.focus()),G.code==="Escape"&&(document.activeElement===Z.current||(J=Z.current)!=null&&J.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),_e.useEffect(()=>{if(Z.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,F.current=!1)}},[Z.current]),_e.createElement("section",{ref:t,"aria-label":`${N} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((z,G)=>{var X;let[J,K]=z.split("-");return D.length?_e.createElement("ol",{key:z,dir:w==="auto"?h1():w,tabIndex:-1,ref:Z,className:c,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":J,"data-lifted":O&&D.length>1&&!a,"data-x-position":K,style:{"--front-toast-height":`${((X=A[0])==null?void 0:X.height)||0}px`,"--width":`${H6}px`,"--gap":`${b}px`,...p,...X6(d,h)},onBlur:U=>{F.current&&!U.currentTarget.contains(U.relatedTarget)&&(F.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||F.current||(F.current=!0,q.current=U.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{T||P(!1)},onDragEnd:()=>P(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},D.filter(U=>!U.position&&G===0||U.position===z).map((U,te)=>{var re,le;return _e.createElement(Y6,{key:U.id,icons:_,index:te,toast:U,defaultRichColors:m,duration:(re=v==null?void 0:v.duration)!=null?re:u,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(le=v==null?void 0:v.closeButton)!=null?le:o,interacting:T,position:z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:$,toasts:D.filter(pe=>pe.position==U.position),heights:A.filter(pe=>pe.position==U.position),setHeights:k,expandByDefault:a,gap:b,loadingIcon:y,expanded:O,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const J6=({...e})=>{const{theme:t="system"}=S6();return r.jsx(Q6,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var eF=a0[" useId ".trim().toString()]||(()=>{}),tF=0;function As(e){const[t,n]=j.useState(eF());return Sn(()=>{e||n(s=>s??String(tF++))},[e]),e||(t?`radix-${t}`:"")}const nF=["top","right","bottom","left"],Ha=Math.min,Ir=Math.max,Jf=Math.round,Uh=Math.floor,ii=e=>({x:e,y:e}),rF={left:"right",right:"left",bottom:"top",top:"bottom"},sF={start:"end",end:"start"};function Ix(e,t,n){return Ir(e,Ha(t,n))}function Wi(e,t){return typeof e=="function"?e(t):e}function Zi(e){return e.split("-")[0]}function Rc(e){return e.split("-")[1]}function ob(e){return e==="x"?"y":"x"}function lb(e){return e==="y"?"height":"width"}const iF=new Set(["top","bottom"]);function ti(e){return iF.has(Zi(e))?"y":"x"}function cb(e){return ob(ti(e))}function aF(e,t,n){n===void 0&&(n=!1);const s=Rc(e),i=cb(e),a=lb(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=em(o)),[o,em(o)]}function oF(e){const t=em(e);return[Dx(e),t,Dx(t)]}function Dx(e){return e.replace(/start|end/g,t=>sF[t])}const f1=["left","right"],m1=["right","left"],lF=["top","bottom"],cF=["bottom","top"];function dF(e,t,n){switch(e){case"top":case"bottom":return n?t?m1:f1:t?f1:m1;case"left":case"right":return t?lF:cF;default:return[]}}function uF(e,t,n,s){const i=Rc(e);let a=dF(Zi(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Dx)))),a}function em(e){return e.replace(/left|right|bottom|top/g,t=>rF[t])}function hF(e){return{top:0,right:0,bottom:0,left:0,...e}}function FE(e){return typeof e!="number"?hF(e):{top:e,right:e,bottom:e,left:e}}function tm(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function p1(e,t,n){let{reference:s,floating:i}=e;const a=ti(t),o=cb(t),c=lb(o),d=Zi(t),h=a==="y",f=s.x+s.width/2-i.width/2,m=s.y+s.height/2-i.height/2,u=s[c]/2-i[c]/2;let p;switch(d){case"top":p={x:f,y:s.y-i.height};break;case"bottom":p={x:f,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:m};break;case"left":p={x:s.x-i.width,y:m};break;default:p={x:s.x,y:s.y}}switch(Rc(t)){case"start":p[o]-=u*(n&&h?-1:1);break;case"end":p[o]+=u*(n&&h?-1:1);break}return p}const fF=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:m}=p1(h,s,d),u=s,p={},x=0;for(let v=0;v<c.length;v++){const{name:w,fn:b}=c[v],{x:y,y:_,data:N,reset:C}=await b({x:f,y:m,initialPlacement:s,placement:u,strategy:i,middlewareData:p,rects:h,platform:o,elements:{reference:e,floating:t}});f=y??f,m=_??m,p={...p,[w]:{...p[w],...N}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(u=C.placement),C.rects&&(h=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:f,y:m}=p1(h,u,d)),v=-1)}return{x:f,y:m,placement:u,strategy:i,middlewareData:p}};async function xu(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:u=!1,padding:p=0}=Wi(t,e),x=FE(p),w=c[u?m==="floating"?"reference":"floating":m],b=tm(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:d})),y=m==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),N=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},C=tm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:_,strategy:d}):y);return{top:(b.top-C.top+x.top)/N.y,bottom:(C.bottom-b.bottom+x.bottom)/N.y,left:(b.left-C.left+x.left)/N.x,right:(C.right-b.right+x.right)/N.x}}const mF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=t,{element:h,padding:f=0}=Wi(e,t)||{};if(h==null)return{};const m=FE(f),u={x:n,y:s},p=cb(i),x=lb(p),v=await o.getDimensions(h),w=p==="y",b=w?"top":"left",y=w?"bottom":"right",_=w?"clientHeight":"clientWidth",N=a.reference[x]+a.reference[p]-u[p]-a.floating[x],C=u[p]-a.reference[p],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let E=D?D[_]:0;(!E||!await(o.isElement==null?void 0:o.isElement(D)))&&(E=c.floating[_]||a.floating[x]);const R=N/2-C/2,A=E/2-v[x]/2-1,k=Ha(m[b],A),O=Ha(m[y],A),P=k,T=E-v[x]-O,M=E/2-v[x]/2+R,H=Ix(P,M,T),W=!d.arrow&&Rc(i)!=null&&M!==H&&a.reference[x]/2-(M<P?k:O)-v[x]/2<0,Z=W?M<P?M-P:M-T:0;return{[p]:u[p]+Z,data:{[p]:H,centerOffset:M-H-Z,...W&&{alignmentOffset:Z}},reset:W}}}),pF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...w}=Wi(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=Zi(i),y=ti(c),_=Zi(c)===c,N=await(d.isRTL==null?void 0:d.isRTL(h.floating)),C=u||(_||!v?[em(c)]:oF(c)),D=x!=="none";!u&&D&&C.push(...uF(c,v,x,N));const E=[c,...C],R=await xu(t,w),A=[];let k=((s=a.flip)==null?void 0:s.overflows)||[];if(f&&A.push(R[b]),m){const M=aF(i,o,N);A.push(R[M[0]],R[M[1]])}if(k=[...k,{placement:i,overflows:A}],!A.every(M=>M<=0)){var O,P;const M=(((O=a.flip)==null?void 0:O.index)||0)+1,H=E[M];if(H&&(!(m==="alignment"?y!==ti(H):!1)||k.every(B=>B.overflows[0]>0&&ti(B.placement)===y)))return{data:{index:M,overflows:k},reset:{placement:H}};let W=(P=k.filter(Z=>Z.overflows[0]<=0).sort((Z,B)=>Z.overflows[1]-B.overflows[1])[0])==null?void 0:P.placement;if(!W)switch(p){case"bestFit":{var T;const Z=(T=k.filter(B=>{if(D){const q=ti(B.placement);return q===y||q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(q=>q>0).reduce((q,F)=>q+F,0)]).sort((B,q)=>B[1]-q[1])[0])==null?void 0:T[0];Z&&(W=Z);break}case"initialPlacement":W=c;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function g1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function v1(e){return nF.some(t=>e[t]>=0)}const gF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=Wi(e,t);switch(s){case"referenceHidden":{const a=await xu(t,{...i,elementContext:"reference"}),o=g1(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:v1(o)}}}case"escaped":{const a=await xu(t,{...i,altBoundary:!0}),o=g1(a,n.floating);return{data:{escapedOffsets:o,escaped:v1(o)}}}default:return{}}}}},$E=new Set(["left","top"]);async function vF(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=Zi(n),c=Rc(n),d=ti(n)==="y",h=$E.has(o)?-1:1,f=a&&d?-1:1,m=Wi(t,e);let{mainAxis:u,crossAxis:p,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(p=c==="end"?x*-1:x),d?{x:p*f,y:u*h}:{x:u*h,y:p*f}}const xF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:c}=t,d=await vF(t,e);return o===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},yF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:w=>{let{x:b,y}=w;return{x:b,y}}},...d}=Wi(e,t),h={x:n,y:s},f=await xu(t,d),m=ti(Zi(i)),u=ob(m);let p=h[u],x=h[m];if(a){const w=u==="y"?"top":"left",b=u==="y"?"bottom":"right",y=p+f[w],_=p-f[b];p=Ix(y,p,_)}if(o){const w=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=x+f[w],_=x-f[b];x=Ix(y,x,_)}const v=c.fn({...t,[u]:p,[m]:x});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[u]:a,[m]:o}}}}}},bF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Wi(e,t),f={x:n,y:s},m=ti(i),u=ob(m);let p=f[u],x=f[m];const v=Wi(c,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const _=u==="y"?"height":"width",N=a.reference[u]-a.floating[_]+w.mainAxis,C=a.reference[u]+a.reference[_]-w.mainAxis;p<N?p=N:p>C&&(p=C)}if(h){var b,y;const _=u==="y"?"width":"height",N=$E.has(Zi(i)),C=a.reference[m]-a.floating[_]+(N&&((b=o.offset)==null?void 0:b[m])||0)+(N?0:w.crossAxis),D=a.reference[m]+a.reference[_]+(N?0:((y=o.offset)==null?void 0:y[m])||0)-(N?w.crossAxis:0);x<C?x=C:x>D&&(x=D)}return{[u]:p,[m]:x}}}},wF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:c}=t,{apply:d=()=>{},...h}=Wi(e,t),f=await xu(t,h),m=Zi(i),u=Rc(i),p=ti(i)==="y",{width:x,height:v}=a.floating;let w,b;m==="top"||m==="bottom"?(w=m,b=u===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=m,w=u==="end"?"top":"bottom");const y=v-f.top-f.bottom,_=x-f.left-f.right,N=Ha(v-f[w],y),C=Ha(x-f[b],_),D=!t.middlewareData.shift;let E=N,R=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=_),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(E=y),D&&!u){const k=Ir(f.left,0),O=Ir(f.right,0),P=Ir(f.top,0),T=Ir(f.bottom,0);p?R=x-2*(k!==0||O!==0?k+O:Ir(f.left,f.right)):E=v-2*(P!==0||T!==0?P+T:Ir(f.top,f.bottom))}await d({...t,availableWidth:R,availableHeight:E});const A=await o.getDimensions(c.floating);return x!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function sp(){return typeof window<"u"}function Mc(e){return BE(e)?(e.nodeName||"").toLowerCase():"#document"}function Vr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xi(e){var t;return(t=(BE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BE(e){return sp()?e instanceof Node||e instanceof Vr(e).Node:!1}function Ms(e){return sp()?e instanceof Element||e instanceof Vr(e).Element:!1}function gi(e){return sp()?e instanceof HTMLElement||e instanceof Vr(e).HTMLElement:!1}function x1(e){return!sp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vr(e).ShadowRoot}const jF=new Set(["inline","contents"]);function Gu(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Is(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!jF.has(i)}const _F=new Set(["table","td","th"]);function NF(e){return _F.has(Mc(e))}const SF=[":popover-open",":modal"];function ip(e){return SF.some(t=>{try{return e.matches(t)}catch{return!1}})}const kF=["transform","translate","scale","rotate","perspective"],CF=["transform","translate","scale","rotate","perspective","filter"],EF=["paint","layout","strict","content"];function db(e){const t=ub(),n=Ms(e)?Is(e):e;return kF.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||CF.some(s=>(n.willChange||"").includes(s))||EF.some(s=>(n.contain||"").includes(s))}function PF(e){let t=Wa(e);for(;gi(t)&&!mc(t);){if(db(t))return t;if(ip(t))return null;t=Wa(t)}return null}function ub(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TF=new Set(["html","body","#document"]);function mc(e){return TF.has(Mc(e))}function Is(e){return Vr(e).getComputedStyle(e)}function ap(e){return Ms(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wa(e){if(Mc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||x1(e)&&e.host||xi(e);return x1(t)?t.host:t}function zE(e){const t=Wa(e);return mc(t)?e.ownerDocument?e.ownerDocument.body:e.body:gi(t)&&Gu(t)?t:zE(t)}function yu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=zE(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=Vr(i);if(a){const c=Fx(o);return t.concat(o,o.visualViewport||[],Gu(i)?i:[],c&&n?yu(c):[])}return t.concat(i,yu(i,[],n))}function Fx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function VE(e){const t=Is(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=gi(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,c=Jf(n)!==a||Jf(s)!==o;return c&&(n=a,s=o),{width:n,height:s,$:c}}function hb(e){return Ms(e)?e:e.contextElement}function Gl(e){const t=hb(e);if(!gi(t))return ii(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=VE(t);let o=(a?Jf(n.width):n.width)/s,c=(a?Jf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const AF=ii(0);function UE(e){const t=Vr(e);return!ub()||!t.visualViewport?AF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vr(e)?!1:t}function Ho(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=hb(e);let o=ii(1);t&&(s?Ms(s)&&(o=Gl(s)):o=Gl(e));const c=OF(a,n,s)?UE(a):ii(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(a){const u=Vr(a),p=s&&Ms(s)?Vr(s):s;let x=u,v=Fx(x);for(;v&&s&&p!==x;){const w=Gl(v),b=v.getBoundingClientRect(),y=Is(v),_=b.left+(v.clientLeft+parseFloat(y.paddingLeft))*w.x,N=b.top+(v.clientTop+parseFloat(y.paddingTop))*w.y;d*=w.x,h*=w.y,f*=w.x,m*=w.y,d+=_,h+=N,x=Vr(v),v=Fx(x)}}return tm({width:f,height:m,x:d,y:h})}function fb(e,t){const n=ap(e).scrollLeft;return t?t.left+n:Ho(xi(e)).left+n}function qE(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:fb(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function LF(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=xi(s),c=t?ip(t.floating):!1;if(s===o||c&&a)return n;let d={scrollLeft:0,scrollTop:0},h=ii(1);const f=ii(0),m=gi(s);if((m||!m&&!a)&&((Mc(s)!=="body"||Gu(o))&&(d=ap(s)),gi(s))){const p=Ho(s);h=Gl(s),f.x=p.x+s.clientLeft,f.y=p.y+s.clientTop}const u=o&&!m&&!a?qE(o,d,!0):ii(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+f.x+u.x,y:n.y*h.y-d.scrollTop*h.y+f.y+u.y}}function RF(e){return Array.from(e.getClientRects())}function MF(e){const t=xi(e),n=ap(e),s=e.ownerDocument.body,i=Ir(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Ir(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+fb(e);const c=-n.scrollTop;return Is(s).direction==="rtl"&&(o+=Ir(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:c}}function IF(e,t){const n=Vr(e),s=xi(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const h=ub();(!h||h&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:o,x:c,y:d}}const DF=new Set(["absolute","fixed"]);function FF(e,t){const n=Ho(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=gi(e)?Gl(e):ii(1),o=e.clientWidth*a.x,c=e.clientHeight*a.y,d=i*a.x,h=s*a.y;return{width:o,height:c,x:d,y:h}}function y1(e,t,n){let s;if(t==="viewport")s=IF(e,n);else if(t==="document")s=MF(xi(e));else if(Ms(t))s=FF(t,n);else{const i=UE(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return tm(s)}function HE(e,t){const n=Wa(e);return n===t||!Ms(n)||mc(n)?!1:Is(n).position==="fixed"||HE(n,t)}function $F(e,t){const n=t.get(e);if(n)return n;let s=yu(e,[],!1).filter(c=>Ms(c)&&Mc(c)!=="body"),i=null;const a=Is(e).position==="fixed";let o=a?Wa(e):e;for(;Ms(o)&&!mc(o);){const c=Is(o),d=db(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&DF.has(i.position)||Gu(o)&&!d&&HE(e,o))?s=s.filter(f=>f!==o):i=c,o=Wa(o)}return t.set(e,s),s}function BF(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?ip(t)?[]:$F(t,this._c):[].concat(n),s],c=o[0],d=o.reduce((h,f)=>{const m=y1(t,f,i);return h.top=Ir(m.top,h.top),h.right=Ha(m.right,h.right),h.bottom=Ha(m.bottom,h.bottom),h.left=Ir(m.left,h.left),h},y1(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function zF(e){const{width:t,height:n}=VE(e);return{width:t,height:n}}function VF(e,t,n){const s=gi(t),i=xi(t),a=n==="fixed",o=Ho(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=ii(0);function h(){d.x=fb(i)}if(s||!s&&!a)if((Mc(t)!=="body"||Gu(i))&&(c=ap(t)),s){const p=Ho(t,!0,a,t);d.x=p.x+t.clientLeft,d.y=p.y+t.clientTop}else i&&h();a&&!s&&i&&h();const f=i&&!s&&!a?qE(i,c):ii(0),m=o.left+c.scrollLeft-d.x-f.x,u=o.top+c.scrollTop-d.y-f.y;return{x:m,y:u,width:o.width,height:o.height}}function tv(e){return Is(e).position==="static"}function b1(e,t){if(!gi(e)||Is(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xi(e)===n&&(n=n.ownerDocument.body),n}function WE(e,t){const n=Vr(e);if(ip(e))return n;if(!gi(e)){let i=Wa(e);for(;i&&!mc(i);){if(Ms(i)&&!tv(i))return i;i=Wa(i)}return n}let s=b1(e,t);for(;s&&NF(s)&&tv(s);)s=b1(s,t);return s&&mc(s)&&tv(s)&&!db(s)?n:s||PF(e)||n}const UF=async function(e){const t=this.getOffsetParent||WE,n=this.getDimensions,s=await n(e.floating);return{reference:VF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function qF(e){return Is(e).direction==="rtl"}const HF={convertOffsetParentRelativeRectToViewportRelativeRect:LF,getDocumentElement:xi,getClippingRect:BF,getOffsetParent:WE,getElementRects:UF,getClientRects:RF,getDimensions:zF,getScale:Gl,isElement:Ms,isRTL:qF};function ZE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WF(e,t){let n=null,s;const i=xi(e);function a(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=e.getBoundingClientRect(),{left:f,top:m,width:u,height:p}=h;if(c||t(),!u||!p)return;const x=Uh(m),v=Uh(i.clientWidth-(f+u)),w=Uh(i.clientHeight-(m+p)),b=Uh(f),_={rootMargin:-x+"px "+-v+"px "+-w+"px "+-b+"px",threshold:Ir(0,Ha(1,d))||1};let N=!0;function C(D){const E=D[0].intersectionRatio;if(E!==d){if(!N)return o();E?o(!1,E):s=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!ZE(h,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(C,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,_)}n.observe(e)}return o(!0),a}function ZF(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=hb(e),f=i||a?[...h?yu(h):[],...yu(t)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const m=h&&c?WF(h,n):null;let u=-1,p=null;o&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===h&&p&&(p.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),n()}),h&&!d&&p.observe(h),p.observe(t));let x,v=d?Ho(e):null;d&&w();function w(){const b=Ho(e);v&&!ZE(v,b)&&n(),v=b,x=requestAnimationFrame(w)}return n(),()=>{var b;f.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),m==null||m(),(b=p)==null||b.disconnect(),p=null,d&&cancelAnimationFrame(x)}}const GF=xF,KF=yF,YF=pF,XF=wF,QF=gF,w1=mF,JF=bF,e8=(e,t,n)=>{const s=new Map,i={platform:HF,...n},a={...i.platform,_c:s};return fF(e,t,{...i,platform:a})};var t8=typeof document<"u",n8=function(){},gf=t8?j.useLayoutEffect:n8;function nm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!nm(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!nm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function GE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function j1(e,t){const n=GE(e);return Math.round(t*n)/n}function nv(e){const t=j.useRef(e);return gf(()=>{t.current=e}),t}function r8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[f,m]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,p]=j.useState(s);nm(u,s)||p(s);const[x,v]=j.useState(null),[w,b]=j.useState(null),y=j.useCallback(B=>{B!==D.current&&(D.current=B,v(B))},[]),_=j.useCallback(B=>{B!==E.current&&(E.current=B,b(B))},[]),N=a||x,C=o||w,D=j.useRef(null),E=j.useRef(null),R=j.useRef(f),A=d!=null,k=nv(d),O=nv(i),P=nv(h),T=j.useCallback(()=>{if(!D.current||!E.current)return;const B={placement:t,strategy:n,middleware:u};O.current&&(B.platform=O.current),e8(D.current,E.current,B).then(q=>{const F={...q,isPositioned:P.current!==!1};M.current&&!nm(R.current,F)&&(R.current=F,eo.flushSync(()=>{m(F)}))})},[u,t,n,O,P]);gf(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(B=>({...B,isPositioned:!1})))},[h]);const M=j.useRef(!1);gf(()=>(M.current=!0,()=>{M.current=!1}),[]),gf(()=>{if(N&&(D.current=N),C&&(E.current=C),N&&C){if(k.current)return k.current(N,C,T);T()}},[N,C,T,k,A]);const H=j.useMemo(()=>({reference:D,floating:E,setReference:y,setFloating:_}),[y,_]),W=j.useMemo(()=>({reference:N,floating:C}),[N,C]),Z=j.useMemo(()=>{const B={position:n,left:0,top:0};if(!W.floating)return B;const q=j1(W.floating,f.x),F=j1(W.floating,f.y);return c?{...B,transform:"translate("+q+"px, "+F+"px)",...GE(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:F}},[n,c,W.floating,f.x,f.y]);return j.useMemo(()=>({...f,update:T,refs:H,elements:W,floatingStyles:Z}),[f,T,H,W,Z])}const s8=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?w1({element:s.current,padding:i}).fn(n):{}:s?w1({element:s,padding:i}).fn(n):{}}}},i8=(e,t)=>({...GF(e),options:[e,t]}),a8=(e,t)=>({...KF(e),options:[e,t]}),o8=(e,t)=>({...JF(e),options:[e,t]}),l8=(e,t)=>({...YF(e),options:[e,t]}),c8=(e,t)=>({...XF(e),options:[e,t]}),d8=(e,t)=>({...QF(e),options:[e,t]}),u8=(e,t)=>({...s8(e),options:[e,t]});var h8="Arrow",KE=j.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(We.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});KE.displayName=h8;var f8=KE;function op(e){const[t,n]=j.useState(void 0);return Sn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=e.offsetWidth,c=e.offsetHeight;n({width:o,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var mb="Popper",[YE,Ic]=lr(mb),[m8,XE]=YE(mb),QE=e=>{const{__scopePopper:t,children:n}=e,[s,i]=j.useState(null);return r.jsx(m8,{scope:t,anchor:s,onAnchorChange:i,children:n})};QE.displayName=mb;var JE="PopperAnchor",eP=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=XE(JE,n),o=j.useRef(null),c=dt(t,o);return j.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(We.div,{...i,ref:c})});eP.displayName=JE;var pb="PopperContent",[p8,g8]=YE(pb),tP=j.forwardRef((e,t)=>{var U,te,re,le,pe,ee;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:u=!1,updatePositionStrategy:p="optimized",onPlaced:x,...v}=e,w=XE(pb,n),[b,y]=j.useState(null),_=dt(t,ye=>y(ye)),[N,C]=j.useState(null),D=op(N),E=(D==null?void 0:D.width)??0,R=(D==null?void 0:D.height)??0,A=s+(a!=="center"?"-"+a:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(h)?h:[h],P=O.length>0,T={padding:k,boundary:O.filter(x8),altBoundary:P},{refs:M,floatingStyles:H,placement:W,isPositioned:Z,middlewareData:B}=r8({strategy:"fixed",placement:A,whileElementsMounted:(...ye)=>ZF(...ye,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[i8({mainAxis:i+R,alignmentAxis:o}),d&&a8({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?o8():void 0,...T}),d&&l8({...T}),c8({...T,apply:({elements:ye,rects:Ce,availableWidth:ue,availableHeight:be})=>{const{width:xe,height:ce}=Ce.reference,fe=ye.floating.style;fe.setProperty("--radix-popper-available-width",`${ue}px`),fe.setProperty("--radix-popper-available-height",`${be}px`),fe.setProperty("--radix-popper-anchor-width",`${xe}px`),fe.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),N&&u8({element:N,padding:c}),y8({arrowWidth:E,arrowHeight:R}),u&&d8({strategy:"referenceHidden",...T})]}),[q,F]=sP(W),$=pn(x);Sn(()=>{Z&&($==null||$())},[Z,$]);const z=(U=B.arrow)==null?void 0:U.x,G=(te=B.arrow)==null?void 0:te.y,X=((re=B.arrow)==null?void 0:re.centerOffset)!==0,[J,K]=j.useState();return Sn(()=>{b&&K(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Z?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(le=B.transformOrigin)==null?void 0:le.x,(pe=B.transformOrigin)==null?void 0:pe.y].join(" "),...((ee=B.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(p8,{scope:n,placedSide:q,onArrowChange:C,arrowX:z,arrowY:G,shouldHideArrow:X,children:r.jsx(We.div,{"data-side":q,"data-align":F,...v,ref:_,style:{...v.style,animation:Z?void 0:"none"}})})})});tP.displayName=pb;var nP="PopperArrow",v8={top:"bottom",right:"left",bottom:"top",left:"right"},rP=j.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=g8(nP,s),o=v8[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(f8,{...i,ref:n,style:{...i.style,display:"block"}})})});rP.displayName=nP;function x8(e){return e!==null}var y8=e=>({name:"transformOrigin",options:e,fn(t){var w,b,y;const{placement:n,rects:s,middlewareData:i}=t,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[h,f]=sP(n),m={start:"0%",center:"50%",end:"100%"}[f],u=(((b=i.arrow)==null?void 0:b.x)??0)+c/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+d/2;let x="",v="";return h==="bottom"?(x=o?m:`${u}px`,v=`${-d}px`):h==="top"?(x=o?m:`${u}px`,v=`${s.floating.height+d}px`):h==="right"?(x=`${-d}px`,v=o?m:`${p}px`):h==="left"&&(x=`${s.floating.width+d}px`,v=o?m:`${p}px`),{data:{x,y:v}}}});function sP(e){const[t,n="center"]=e.split("-");return[t,n]}var gb=QE,vb=eP,xb=tP,yb=rP,[lp,Tre]=lr("Tooltip",[Ic]),cp=Ic(),iP="TooltipProvider",b8=700,$x="tooltip.open",[w8,bb]=lp(iP),aP=e=>{const{__scopeTooltip:t,delayDuration:n=b8,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=j.useRef(!0),c=j.useRef(!1),d=j.useRef(0);return j.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),r.jsx(w8,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:j.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:a})};aP.displayName=iP;var bu="Tooltip",[j8,dp]=lp(bu),oP=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:c}=e,d=bb(bu,e.__scopeTooltip),h=cp(t),[f,m]=j.useState(null),u=As(),p=j.useRef(0),x=o??d.disableHoverableContent,v=c??d.delayDuration,w=j.useRef(!1),[b,y]=Rs({prop:s,defaultProp:i??!1,onChange:E=>{E?(d.onOpen(),document.dispatchEvent(new CustomEvent($x))):d.onClose(),a==null||a(E)},caller:bu}),_=j.useMemo(()=>b?w.current?"delayed-open":"instant-open":"closed",[b]),N=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,y(!0)},[y]),C=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),D=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,y(!0),p.current=0},v)},[v,y]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),r.jsx(gb,{...h,children:r.jsx(j8,{scope:t,contentId:u,open:b,stateAttribute:_,trigger:f,onTriggerChange:m,onTriggerEnter:j.useCallback(()=>{d.isOpenDelayedRef.current?D():N()},[d.isOpenDelayedRef,D,N]),onTriggerLeave:j.useCallback(()=>{x?C():(window.clearTimeout(p.current),p.current=0)},[C,x]),onOpen:N,onClose:C,disableHoverableContent:x,children:n})})};oP.displayName=bu;var Bx="TooltipTrigger",lP=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=dp(Bx,n),a=bb(Bx,n),o=cp(n),c=j.useRef(null),d=dt(t,c,i.onTriggerChange),h=j.useRef(!1),f=j.useRef(!1),m=j.useCallback(()=>h.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(vb,{asChild:!0,...o,children:r.jsx(We.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:d,onPointerMove:Le(e.onPointerMove,u=>{u.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:Le(e.onBlur,i.onClose),onClick:Le(e.onClick,i.onClose)})})});lP.displayName=Bx;var _8="TooltipPortal",[Are,N8]=lp(_8,{forceMount:void 0}),pc="TooltipContent",cP=j.forwardRef((e,t)=>{const n=N8(pc,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=dp(pc,e.__scopeTooltip);return r.jsx(Kn,{present:s||o.open,children:o.disableHoverableContent?r.jsx(dP,{side:i,...a,ref:t}):r.jsx(S8,{side:i,...a,ref:t})})}),S8=j.forwardRef((e,t)=>{const n=dp(pc,e.__scopeTooltip),s=bb(pc,e.__scopeTooltip),i=j.useRef(null),a=dt(t,i),[o,c]=j.useState(null),{trigger:d,onClose:h}=n,f=i.current,{onPointerInTransitChange:m}=s,u=j.useCallback(()=>{c(null),m(!1)},[m]),p=j.useCallback((x,v)=>{const w=x.currentTarget,b={x:x.clientX,y:x.clientY},y=T8(b,w.getBoundingClientRect()),_=A8(b,y),N=O8(v.getBoundingClientRect()),C=R8([..._,...N]);c(C),m(!0)},[m]);return j.useEffect(()=>()=>u(),[u]),j.useEffect(()=>{if(d&&f){const x=w=>p(w,f),v=w=>p(w,d);return d.addEventListener("pointerleave",x),f.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",v)}}},[d,f,p,u]),j.useEffect(()=>{if(o){const x=v=>{const w=v.target,b={x:v.clientX,y:v.clientY},y=(d==null?void 0:d.contains(w))||(f==null?void 0:f.contains(w)),_=!L8(b,o);y?u():_&&(u(),h())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,f,o,h,u]),r.jsx(dP,{...e,ref:a})}),[k8,C8]=lp(bu,{isInside:!1}),E8=LI("TooltipContent"),dP=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=e,d=dp(pc,n),h=cp(n),{onClose:f}=d;return j.useEffect(()=>(document.addEventListener($x,f),()=>document.removeEventListener($x,f)),[f]),j.useEffect(()=>{if(d.trigger){const m=u=>{const p=u.target;p!=null&&p.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),r.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:r.jsxs(xb,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(E8,{children:s}),r.jsx(k8,{scope:n,isInside:!0,children:r.jsx(tD,{id:d.contentId,role:"tooltip",children:i||s})})]})})});cP.displayName=pc;var uP="TooltipArrow",P8=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=cp(n);return C8(uP,n).isInside?null:r.jsx(yb,{...i,...s,ref:t})});P8.displayName=uP;function T8(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function A8(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function O8(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function L8(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],d=t[o],h=c.x,f=c.y,m=d.x,u=d.y;f>s!=u>s&&n<(m-h)*(s-f)/(u-f)+h&&(i=!i)}return i}function R8(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),M8(t)}function M8(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var I8=aP,D8=oP,F8=lP,hP=cP;const $8=I8,_1=D8,N1=F8,zx=j.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(hP,{ref:s,sideOffset:t,className:Ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));zx.displayName=hP.displayName;var up=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hp=typeof window>"u"||"Deno"in globalThis;function ws(){}function B8(e,t){return typeof e=="function"?e(t):e}function z8(e){return typeof e=="number"&&e>=0&&e!==1/0}function V8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vx(e,t){return typeof e=="function"?e(t):e}function U8(e,t){return typeof e=="function"?e(t):e}function S1(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:c}=e;if(o){if(s){if(t.queryHash!==wb(o,t.options))return!1}else if(!ju(t.queryKey,o))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||a&&!a(t))}function k1(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(wu(t.options.mutationKey)!==wu(a))return!1}else if(!ju(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function wb(e,t){return((t==null?void 0:t.queryKeyHashFn)||wu)(e)}function wu(e){return JSON.stringify(e,(t,n)=>Ux(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function ju(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ju(e[n],t[n])):!1}function fP(e,t){if(e===t)return e;const n=C1(e)&&C1(t);if(n||Ux(e)&&Ux(t)){const s=n?e:Object.keys(e),i=s.length,a=n?t:Object.keys(t),o=a.length,c=n?[]:{},d=new Set(s);let h=0;for(let f=0;f<o;f++){const m=n?f:a[f];(!n&&d.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(c[m]=void 0,h++):(c[m]=fP(e[m],t[m]),c[m]===e[m]&&e[m]!==void 0&&h++)}return i===o&&h===i?e:c}return t}function C1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ux(e){if(!E1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!E1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function E1(e){return Object.prototype.toString.call(e)==="[object Object]"}function q8(e){return new Promise(t=>{setTimeout(t,e)})}function H8(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?fP(e,t):t}function W8(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function Z8(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var jb=Symbol();function mP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===jb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ko,wa,Ql,j2,G8=(j2=class extends up{constructor(){super();Tt(this,ko);Tt(this,wa);Tt(this,Ql);ht(this,Ql,t=>{if(!hp&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Se(this,wa)||this.setEventListener(Se(this,Ql))}onUnsubscribe(){var t;this.hasListeners()||((t=Se(this,wa))==null||t.call(this),ht(this,wa,void 0))}setEventListener(t){var n;ht(this,Ql,t),(n=Se(this,wa))==null||n.call(this),ht(this,wa,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Se(this,ko)!==t&&(ht(this,ko,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Se(this,ko)=="boolean"?Se(this,ko):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ko=new WeakMap,wa=new WeakMap,Ql=new WeakMap,j2),pP=new G8,Jl,ja,ec,_2,K8=(_2=class extends up{constructor(){super();Tt(this,Jl,!0);Tt(this,ja);Tt(this,ec);ht(this,ec,t=>{if(!hp&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){Se(this,ja)||this.setEventListener(Se(this,ec))}onUnsubscribe(){var t;this.hasListeners()||((t=Se(this,ja))==null||t.call(this),ht(this,ja,void 0))}setEventListener(t){var n;ht(this,ec,t),(n=Se(this,ja))==null||n.call(this),ht(this,ja,t(this.setOnline.bind(this)))}setOnline(t){Se(this,Jl)!==t&&(ht(this,Jl,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Se(this,Jl)}},Jl=new WeakMap,ja=new WeakMap,ec=new WeakMap,_2),rm=new K8;function Y8(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}function X8(e){return Math.min(1e3*2**e,3e4)}function gP(e){return(e??"online")==="online"?rm.isOnline():!0}var vP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rv(e){return e instanceof vP}function xP(e){let t=!1,n=0,s=!1,i;const a=Y8(),o=v=>{var w;s||(u(new vP(v)),(w=e.abort)==null||w.call(e))},c=()=>{t=!0},d=()=>{t=!1},h=()=>pP.isFocused()&&(e.networkMode==="always"||rm.isOnline())&&e.canRun(),f=()=>gP(e.networkMode)&&e.canRun(),m=v=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,v),i==null||i(),a.resolve(v))},u=v=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,v),i==null||i(),a.reject(v))},p=()=>new Promise(v=>{var w;i=b=>{(s||h())&&v(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;i=void 0,s||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(s)return;let v;const w=n===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(m).catch(b=>{var D;if(s)return;const y=e.retry??(hp?0:3),_=e.retryDelay??X8,N=typeof _=="function"?_(n,b):_,C=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(t||!C){u(b);return}n++,(D=e.onFail)==null||D.call(e,n,b),q8(N).then(()=>h()?void 0:p()).then(()=>{t?u(b):x()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?x():p().then(x),a)}}var Q8=e=>setTimeout(e,0);function J8(){let e=[],t=0,n=c=>{c()},s=c=>{c()},i=Q8;const a=c=>{t?e.push(c):i(()=>{n(c)})},o=()=>{const c=e;e=[],c.length&&i(()=>{s(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||o()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{i=c}}}var mr=J8(),Co,N2,yP=(N2=class{constructor(){Tt(this,Co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),z8(this.gcTime)&&ht(this,Co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hp?1/0:5*60*1e3))}clearGcTimeout(){Se(this,Co)&&(clearTimeout(Se(this,Co)),ht(this,Co,void 0))}},Co=new WeakMap,N2),tc,Eo,es,Po,er,Mu,To,js,Pi,S2,e$=(S2=class extends yP{constructor(t){super();Tt(this,js);Tt(this,tc);Tt(this,Eo);Tt(this,es);Tt(this,Po);Tt(this,er);Tt(this,Mu);Tt(this,To);ht(this,To,!1),ht(this,Mu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ht(this,Po,t.client),ht(this,es,Se(this,Po).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ht(this,tc,n$(this.options)),this.state=t.state??Se(this,tc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Se(this,er))==null?void 0:t.promise}setOptions(t){this.options={...Se(this,Mu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,es).remove(this)}setData(t,n){const s=H8(this.state.data,t,this.options);return Xn(this,js,Pi).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Xn(this,js,Pi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=Se(this,er))==null?void 0:s.promise;return(i=Se(this,er))==null||i.cancel(t),n?n.then(ws).catch(ws):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,tc))}isActive(){return this.observers.some(t=>U8(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Vx(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!V8(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Se(this,er))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Se(this,er))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Se(this,es).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Se(this,er)&&(Se(this,To)?Se(this,er).cancel({revert:!0}):Se(this,er).cancelRetry()),this.scheduleGc()),Se(this,es).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xn(this,js,Pi).call(this,{type:"invalidate"})}fetch(t,n){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Se(this,er))return Se(this,er).continueRetry(),Se(this,er).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(p=>p.options.queryFn);u&&this.setOptions(u.options)}const s=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ht(this,To,!0),s.signal)})},a=()=>{const u=mP(this.options,n),x=(()=>{const v={client:Se(this,Po),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return ht(this,To,!1),this.options.persister?this.options.persister(u,x,this):u(x)},c=(()=>{const u={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Se(this,Po),state:this.state,fetchFn:a};return i(u),u})();(h=this.options.behavior)==null||h.onFetch(c,this),ht(this,Eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Xn(this,js,Pi).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=u=>{var p,x,v,w;rv(u)&&u.silent||Xn(this,js,Pi).call(this,{type:"error",error:u}),rv(u)||((x=(p=Se(this,es).config).onError)==null||x.call(p,u,this),(w=(v=Se(this,es).config).onSettled)==null||w.call(v,this.state.data,u,this)),this.scheduleGc()};return ht(this,er,xP({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:u=>{var p,x,v,w;if(u===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(b){d(b);return}(x=(p=Se(this,es).config).onSuccess)==null||x.call(p,u,this),(w=(v=Se(this,es).config).onSettled)==null||w.call(v,u,this.state.error,this),this.scheduleGc()},onError:d,onFail:(u,p)=>{Xn(this,js,Pi).call(this,{type:"failed",failureCount:u,error:p})},onPause:()=>{Xn(this,js,Pi).call(this,{type:"pause"})},onContinue:()=>{Xn(this,js,Pi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Se(this,er).start()}},tc=new WeakMap,Eo=new WeakMap,es=new WeakMap,Po=new WeakMap,er=new WeakMap,Mu=new WeakMap,To=new WeakMap,js=new WeakSet,Pi=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...t$(s.data,this.options),fetchMeta:t.meta??null};case"success":return ht(this,Eo,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return rv(i)&&i.revert&&Se(this,Eo)?{...Se(this,Eo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),mr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Se(this,es).notify({query:this,type:"updated",action:t})})},S2);function t$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function n$(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gs,k2,r$=(k2=class extends up{constructor(t={}){super();Tt(this,Gs);this.config=t,ht(this,Gs,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??wb(i,n);let o=this.get(a);return o||(o=new e$({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Se(this,Gs).has(t.queryHash)||(Se(this,Gs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Se(this,Gs).get(t.queryHash);n&&(t.destroy(),n===t&&Se(this,Gs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Se(this,Gs).get(t)}getAll(){return[...Se(this,Gs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>S1(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>S1(t,s)):n}notify(t){mr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){mr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gs=new WeakMap,k2),Ks,ur,Ao,Ys,fa,C2,s$=(C2=class extends yP{constructor(t){super();Tt(this,Ys);Tt(this,Ks);Tt(this,ur);Tt(this,Ao);this.mutationId=t.mutationId,ht(this,ur,t.mutationCache),ht(this,Ks,[]),this.state=t.state||i$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Se(this,Ks).includes(t)||(Se(this,Ks).push(t),this.clearGcTimeout(),Se(this,ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ht(this,Ks,Se(this,Ks).filter(n=>n!==t)),this.scheduleGc(),Se(this,ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Se(this,Ks).length||(this.state.status==="pending"?this.scheduleGc():Se(this,ur).remove(this))}continue(){var t;return((t=Se(this,Ao))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,c,d,h,f,m,u,p,x,v,w,b,y,_,N,C,D,E,R;const n=()=>{Xn(this,Ys,fa).call(this,{type:"continue"})};ht(this,Ao,xP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{Xn(this,Ys,fa).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{Xn(this,Ys,fa).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,ur).canRun(this)}));const s=this.state.status==="pending",i=!Se(this,Ao).canStart();try{if(s)n();else{Xn(this,Ys,fa).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=Se(this,ur).config).onMutate)==null?void 0:o.call(a,t,this));const k=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t));k!==this.state.context&&Xn(this,Ys,fa).call(this,{type:"pending",context:k,variables:t,isPaused:i})}const A=await Se(this,Ao).start();return await((f=(h=Se(this,ur).config).onSuccess)==null?void 0:f.call(h,A,t,this.state.context,this)),await((u=(m=this.options).onSuccess)==null?void 0:u.call(m,A,t,this.state.context)),await((x=(p=Se(this,ur).config).onSettled)==null?void 0:x.call(p,A,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,A,null,t,this.state.context)),Xn(this,Ys,fa).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(b=Se(this,ur).config).onError)==null?void 0:y.call(b,A,t,this.state.context,this)),await((N=(_=this.options).onError)==null?void 0:N.call(_,A,t,this.state.context)),await((D=(C=Se(this,ur).config).onSettled)==null?void 0:D.call(C,void 0,A,this.state.variables,this.state.context,this)),await((R=(E=this.options).onSettled)==null?void 0:R.call(E,void 0,A,t,this.state.context)),A}finally{Xn(this,Ys,fa).call(this,{type:"error",error:A})}}finally{Se(this,ur).runNext(this)}}},Ks=new WeakMap,ur=new WeakMap,Ao=new WeakMap,Ys=new WeakSet,fa=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mr.batch(()=>{Se(this,Ks).forEach(s=>{s.onMutationUpdate(t)}),Se(this,ur).notify({mutation:this,type:"updated",action:t})})},C2);function i$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Oi,_s,Iu,E2,a$=(E2=class extends up{constructor(t={}){super();Tt(this,Oi);Tt(this,_s);Tt(this,Iu);this.config=t,ht(this,Oi,new Set),ht(this,_s,new Map),ht(this,Iu,0)}build(t,n,s){const i=new s$({mutationCache:this,mutationId:++jh(this,Iu)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){Se(this,Oi).add(t);const n=qh(t);if(typeof n=="string"){const s=Se(this,_s).get(n);s?s.push(t):Se(this,_s).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Se(this,Oi).delete(t)){const n=qh(t);if(typeof n=="string"){const s=Se(this,_s).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&Se(this,_s).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=qh(t);if(typeof n=="string"){const s=Se(this,_s).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=qh(t);if(typeof n=="string"){const i=(s=Se(this,_s).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mr.batch(()=>{Se(this,Oi).forEach(t=>{this.notify({type:"removed",mutation:t})}),Se(this,Oi).clear(),Se(this,_s).clear()})}getAll(){return Array.from(Se(this,Oi))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>k1(n,s))}findAll(t={}){return this.getAll().filter(n=>k1(t,n))}notify(t){mr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return mr.batch(()=>Promise.all(t.map(n=>n.continue().catch(ws))))}},Oi=new WeakMap,_s=new WeakMap,Iu=new WeakMap,E2);function qh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function P1(e){return{onFetch:(t,n)=>{var f,m,u,p,x;const s=t.options,i=(u=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:u.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let v=!1;const w=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=mP(t.options,t.fetchOptions),y=async(_,N,C)=>{if(v)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:N,direction:C?"backward":"forward",meta:t.options.meta};return w(O),O})(),R=await b(E),{maxPages:A}=t.options,k=C?Z8:W8;return{pages:k(_.pages,R,A),pageParams:k(_.pageParams,N,A)}};if(i&&a.length){const _=i==="backward",N=_?o$:T1,C={pages:a,pageParams:o},D=N(s,C);c=await y(C,D,_)}else{const _=e??a.length;do{const N=d===0?o[0]??s.initialPageParam:T1(s,c);if(d>0&&N==null)break;c=await y(c,N),d++}while(d<_)}return c};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function T1(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function o$(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var un,_a,Na,nc,rc,Sa,sc,ic,P2,l$=(P2=class{constructor(e={}){Tt(this,un);Tt(this,_a);Tt(this,Na);Tt(this,nc);Tt(this,rc);Tt(this,Sa);Tt(this,sc);Tt(this,ic);ht(this,un,e.queryCache||new r$),ht(this,_a,e.mutationCache||new a$),ht(this,Na,e.defaultOptions||{}),ht(this,nc,new Map),ht(this,rc,new Map),ht(this,Sa,0)}mount(){jh(this,Sa)._++,Se(this,Sa)===1&&(ht(this,sc,pP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Se(this,un).onFocus())})),ht(this,ic,rm.subscribe(async e=>{e&&(await this.resumePausedMutations(),Se(this,un).onOnline())})))}unmount(){var e,t;jh(this,Sa)._--,Se(this,Sa)===0&&((e=Se(this,sc))==null||e.call(this),ht(this,sc,void 0),(t=Se(this,ic))==null||t.call(this),ht(this,ic,void 0))}isFetching(e){return Se(this,un).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Se(this,_a).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Se(this,un).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Se(this,un).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Vx(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Se(this,un).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=Se(this,un).get(s.queryHash),a=i==null?void 0:i.state.data,o=B8(t,a);if(o!==void 0)return Se(this,un).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return mr.batch(()=>Se(this,un).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Se(this,un).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Se(this,un);mr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Se(this,un);return mr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=mr.batch(()=>Se(this,un).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(ws).catch(ws)}invalidateQueries(e,t={}){return mr.batch(()=>(Se(this,un).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=mr.batch(()=>Se(this,un).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ws)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ws)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Se(this,un).build(this,t);return n.isStaleByTime(Vx(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ws).catch(ws)}fetchInfiniteQuery(e){return e.behavior=P1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ws).catch(ws)}ensureInfiniteQueryData(e){return e.behavior=P1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rm.isOnline()?Se(this,_a).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,un)}getMutationCache(){return Se(this,_a)}getDefaultOptions(){return Se(this,Na)}setDefaultOptions(e){ht(this,Na,e)}setQueryDefaults(e,t){Se(this,nc).set(wu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Se(this,nc).values()],n={};return t.forEach(s=>{ju(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){Se(this,rc).set(wu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Se(this,rc).values()],n={};return t.forEach(s=>{ju(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Se(this,Na).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Se(this,Na).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Se(this,un).clear(),Se(this,_a).clear()}},un=new WeakMap,_a=new WeakMap,Na=new WeakMap,nc=new WeakMap,rc=new WeakMap,Sa=new WeakMap,sc=new WeakMap,ic=new WeakMap,P2),c$=j.createContext(void 0),d$=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(c$.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_u.apply(this,arguments)}var Ea;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ea||(Ea={}));const A1="popstate";function u$(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:c}=s.location;return qx("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:wP(i)}return f$(t,n,null,e)}function Dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h$(){return Math.random().toString(36).substr(2,8)}function O1(e,t){return{usr:e.state,key:e.key,idx:t}}function qx(e,t,n,s){return n===void 0&&(n=null),_u({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Dc(t):t,{state:n,key:t&&t.key||s||h$()})}function wP(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Dc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function f$(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,c=Ea.Pop,d=null,h=f();h==null&&(h=0,o.replaceState(_u({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function m(){c=Ea.Pop;let w=f(),b=w==null?null:w-h;h=w,d&&d({action:c,location:v.location,delta:b})}function u(w,b){c=Ea.Push;let y=qx(v.location,w,b);h=f()+1;let _=O1(y,h),N=v.createHref(y);try{o.pushState(_,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(N)}a&&d&&d({action:c,location:v.location,delta:1})}function p(w,b){c=Ea.Replace;let y=qx(v.location,w,b);h=f();let _=O1(y,h),N=v.createHref(y);o.replaceState(_,"",N),a&&d&&d({action:c,location:v.location,delta:0})}function x(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:wP(w);return y=y.replace(/ $/,"%20"),Dn(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let v={get action(){return c},get location(){return e(i,o)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(A1,m),d=w,()=>{i.removeEventListener(A1,m),d=null}},createHref(w){return t(i,w)},createURL:x,encodeLocation(w){let b=x(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:u,replace:p,go(w){return o.go(w)}};return v}var L1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(L1||(L1={}));function m$(e,t,n){return n===void 0&&(n="/"),p$(e,t,n,!1)}function p$(e,t,n,s){let i=typeof t=="string"?Dc(t):t,a=NP(i.pathname||"/",n);if(a==null)return null;let o=jP(e);g$(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=C$(a);c=S$(o[d],h,s)}return c}function jP(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Dn(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let h=Mo([s,d.relativePath]),f=n.concat(d);a.children&&a.children.length>0&&(Dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),jP(a.children,t,f,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:_$(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let d of _P(a.path))i(a,o,d)}),t}function _P(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=_P(s.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function g$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:N$(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const v$=/^:[\w-]+$/,x$=3,y$=2,b$=1,w$=10,j$=-2,R1=e=>e==="*";function _$(e,t){let n=e.split("/"),s=n.length;return n.some(R1)&&(s+=j$),t&&(s+=y$),n.filter(i=>!R1(i)).reduce((i,a)=>i+(v$.test(a)?x$:a===""?b$:w$),s)}function N$(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function S$(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let c=0;c<s.length;++c){let d=s[c],h=c===s.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=M1({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),u=d.route;if(!m&&h&&n&&!s[s.length-1].route.index&&(m=M1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Mo([a,m.pathname]),pathnameBase:L$(Mo([a,m.pathnameBase])),route:u}),m.pathnameBase!=="/"&&(a=Mo([a,m.pathnameBase]))}return o}function M1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=k$(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((h,f,m)=>{let{paramName:u,isOptional:p}=f;if(u==="*"){let v=c[m]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[m];return p&&!x?h[u]=void 0:h[u]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:e}}function k$(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),bP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function C$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function NP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function E$(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Dc(e):e;return{pathname:n?n.startsWith("/")?n:P$(n,t):t,search:R$(s),hash:M$(i)}}function P$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sv(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function A$(e,t){let n=T$(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function O$(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Dc(e):(i=_u({},e),Dn(!i.pathname||!i.pathname.includes("?"),sv("?","pathname","search",i)),Dn(!i.pathname||!i.pathname.includes("#"),sv("#","pathname","hash",i)),Dn(!i.search||!i.search.includes("#"),sv("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let m=t.length-1;if(!s&&o.startsWith("..")){let u=o.split("/");for(;u[0]==="..";)u.shift(),m-=1;i.pathname=u.join("/")}c=m>=0?t[m]:"/"}let d=E$(i,c),h=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}const Mo=e=>e.join("/").replace(/\/\/+/g,"/"),L$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,M$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function I$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const SP=["post","put","patch","delete"];new Set(SP);const D$=["get",...SP];new Set(D$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nu.apply(this,arguments)}const _b=j.createContext(null),F$=j.createContext(null),fp=j.createContext(null),mp=j.createContext(null),el=j.createContext({outlet:null,matches:[],isDataRoute:!1}),kP=j.createContext(null);function pp(){return j.useContext(mp)!=null}function ra(){return pp()||Dn(!1),j.useContext(mp).location}function CP(e){j.useContext(fp).static||j.useLayoutEffect(e)}function nt(){let{isDataRoute:e}=j.useContext(el);return e?X$():$$()}function $$(){pp()||Dn(!1);let e=j.useContext(_b),{basename:t,future:n,navigator:s}=j.useContext(fp),{matches:i}=j.useContext(el),{pathname:a}=ra(),o=JSON.stringify(A$(i,n.v7_relativeSplatPath)),c=j.useRef(!1);return CP(()=>{c.current=!0}),j.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){s.go(h);return}let m=O$(h,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Mo([t,m.pathname])),(f.replace?s.replace:s.push)(m,f.state,f)},[t,s,o,a,e])}function gp(){let{matches:e}=j.useContext(el),t=e[e.length-1];return t?t.params:{}}function B$(e,t){return z$(e,t)}function z$(e,t,n,s){pp()||Dn(!1);let{navigator:i}=j.useContext(fp),{matches:a}=j.useContext(el),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let h=ra(),f;if(t){var m;let w=typeof t=="string"?Dc(t):t;d==="/"||(m=w.pathname)!=null&&m.startsWith(d)||Dn(!1),f=w}else f=h;let u=f.pathname||"/",p=u;if(d!=="/"){let w=d.replace(/^\//,"").split("/");p="/"+u.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=m$(e,{pathname:p}),v=W$(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Mo([d,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Mo([d,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,s);return t&&v?j.createElement(mp.Provider,{value:{location:Nu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ea.Pop}},v):v}function V$(){let e=Y$(),t=I$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,null)}const U$=j.createElement(V$,null);class q$ extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(el.Provider,{value:this.props.routeContext},j.createElement(kP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H$(e){let{routeContext:t,match:n,children:s}=e,i=j.useContext(_b);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(el.Provider,{value:t},s)}function W$(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let f=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);f>=0||Dn(!1),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,h=-1;if(n&&s&&s.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:u,errors:p}=n,x=m.route.loader&&u[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||x){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,u)=>{let p,x=!1,v=null,w=null;n&&(p=c&&m.route.id?c[m.route.id]:void 0,v=m.route.errorElement||U$,d&&(h<0&&u===0?(x=!0,w=null):h===u&&(x=!0,w=m.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,u+1)),y=()=>{let _;return p?_=v:x?_=w:m.route.Component?_=j.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,j.createElement(H$,{match:m,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||u===0)?j.createElement(q$,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var EP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EP||{}),sm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sm||{});function Z$(e){let t=j.useContext(_b);return t||Dn(!1),t}function G$(e){let t=j.useContext(F$);return t||Dn(!1),t}function K$(e){let t=j.useContext(el);return t||Dn(!1),t}function PP(e){let t=K$(),n=t.matches[t.matches.length-1];return n.route.id||Dn(!1),n.route.id}function Y$(){var e;let t=j.useContext(kP),n=G$(sm.UseRouteError),s=PP(sm.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function X$(){let{router:e}=Z$(EP.UseNavigateStable),t=PP(sm.UseNavigateStable),n=j.useRef(!1);return CP(()=>{n.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Nu({fromRouteId:t},a)))},[e,t])}function Q$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ye(e){Dn(!1)}function J$(e){let{basename:t="/",children:n=null,location:s,navigationType:i=Ea.Pop,navigator:a,static:o=!1,future:c}=e;pp()&&Dn(!1);let d=t.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:d,navigator:a,static:o,future:Nu({v7_relativeSplatPath:!1},c)}),[d,c,a,o]);typeof s=="string"&&(s=Dc(s));let{pathname:f="/",search:m="",hash:u="",state:p=null,key:x="default"}=s,v=j.useMemo(()=>{let w=NP(f,d);return w==null?null:{location:{pathname:w,search:m,hash:u,state:p,key:x},navigationType:i}},[d,f,m,u,p,x,i]);return v==null?null:j.createElement(fp.Provider,{value:h},j.createElement(mp.Provider,{children:n,value:v}))}function eB(e){let{children:t,location:n}=e;return B$(Hx(t),n)}new Promise(()=>{});function Hx(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(s,i)=>{if(!j.isValidElement(s))return;let a=[...t,i];if(s.type===j.Fragment){n.push.apply(n,Hx(s.props.children,a));return}s.type!==Ye&&Dn(!1),!s.props.index||!s.props.children||Dn(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Hx(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function tB(e,t){let n=Wx(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const nB="6";try{window.__reactRouterVersion=nB}catch{}const rB="startTransition",I1=a0[rB];function sB(e){let{basename:t,children:n,future:s,window:i}=e,a=j.useRef();a.current==null&&(a.current=u$({window:i,v5Compat:!0}));let o=a.current,[c,d]=j.useState({action:o.action,location:o.location}),{v7_startTransition:h}=s||{},f=j.useCallback(m=>{h&&I1?I1(()=>d(m)):d(m)},[d,h]);return j.useLayoutEffect(()=>o.listen(f),[o,f]),j.useEffect(()=>Q$(s),[s]),j.createElement(J$,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:s})}var D1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(D1||(D1={}));var F1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(F1||(F1={}));function Nb(e){let t=j.useRef(Wx(e)),n=j.useRef(!1),s=ra(),i=j.useMemo(()=>tB(s.search,n.current?null:t.current),[s.search]),a=nt(),o=j.useCallback((c,d)=>{const h=Wx(typeof c=="function"?c(i):c);n.current=!0,a("?"+h,d)},[a,i]);return[i,o]}const iB="modulepreload",aB=function(e){return"/"+e},$1={},Je=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=aB(d),d in $1)return;$1[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":iB,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((u,p)=>{m.addEventListener("load",u),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var gc;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(gc||(gc={}));class Kl extends Error{constructor(t,n,s){super(t),this.message=t,this.code=n,this.data=s}}const oB=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},lB=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},s=n.Plugins=n.Plugins||{},i=()=>t!==null?t.name:oB(e),a=()=>i()!=="web",o=m=>{const u=h.get(m);return!!(u!=null&&u.platforms.has(i())||c(m))},c=m=>{var u;return(u=n.PluginHeaders)===null||u===void 0?void 0:u.find(p=>p.name===m)},d=m=>e.console.error(m),h=new Map,f=(m,u={})=>{const p=h.get(m);if(p)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),p.proxy;const x=i(),v=c(m);let w;const b=async()=>(!w&&x in u?w=typeof u[x]=="function"?w=await u[x]():w=u[x]:t!==null&&!w&&"web"in u&&(w=typeof u.web=="function"?w=await u.web():w=u.web),w),y=(R,A)=>{var k,O;if(v){const P=v==null?void 0:v.methods.find(T=>A===T.name);if(P)return P.rtype==="promise"?T=>n.nativePromise(m,A.toString(),T):(T,M)=>n.nativeCallback(m,A.toString(),T,M);if(R)return(k=R[A])===null||k===void 0?void 0:k.bind(R)}else{if(R)return(O=R[A])===null||O===void 0?void 0:O.bind(R);throw new Kl(`"${m}" plugin is not implemented on ${x}`,gc.Unimplemented)}},_=R=>{let A;const k=(...O)=>{const P=b().then(T=>{const M=y(T,R);if(M){const H=M(...O);return A=H==null?void 0:H.remove,H}else throw new Kl(`"${m}.${R}()" is not implemented on ${x}`,gc.Unimplemented)});return R==="addListener"&&(P.remove=async()=>A()),P};return k.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(k,"name",{value:R,writable:!1,configurable:!1}),k},N=_("addListener"),C=_("removeListener"),D=(R,A)=>{const k=N({eventName:R},A),O=async()=>{const T=await k;C({eventName:R,callbackId:T},A)},P=new Promise(T=>k.then(()=>T({remove:O})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await O()},P},E=new Proxy({},{get(R,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?D:N;case"removeListener":return C;default:return _(A)}}});return s[m]=E,h.set(m,{name:m,proxy:E,platforms:new Set([...Object.keys(u),...v?[x]:[]])}),E};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=i,n.handleError=d,n.isNativePlatform=a,n.isPluginAvailable=o,n.registerPlugin=f,n.Exception=Kl,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},cB=e=>e.Capacitor=lB(e),vt=cB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}),no=vt.registerPlugin;class Sb{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let s=!1;this.listeners[t]||(this.listeners[t]=[],s=!0),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),s&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,s){const i=this.listeners[t];if(!i){if(s){let a=this.retainedEventArguments[t];a||(a=[]),a.push(n),this.retainedEventArguments[t]=a}return}i.forEach(a=>a(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(t="not implemented"){return new vt.Exception(t,gc.Unimplemented)}unavailable(t="not available"){return new vt.Exception(t,gc.Unavailable)}async removeListener(t,n){const s=this.listeners[t];if(!s)return;const i=s.indexOf(n);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(s=>{this.notifyListeners(t,s)}))}}const B1=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),z1=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class dB extends Sb{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(s=>{if(s.length<=0)return;let[i,a]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=z1(i).trim(),a=z1(a).trim(),n[i]=a}),n}async setCookie(t){try{const n=B1(t.key),s=B1(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${s||""}${i}; path=${a}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}no("CapacitorCookies",{web:()=>new dB});const uB=async e=>new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{const i=s.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},s.onerror=i=>n(i),s.readAsDataURL(e)}),hB=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,a,o)=>(i[a]=e[t[o]],i),{})},fB=(e,t=!0)=>e?Object.entries(e).reduce((s,i)=>{const[a,o]=i;let c,d;return Array.isArray(o)?(d="",o.forEach(h=>{c=t?encodeURIComponent(h):h,d+=`${a}=${c}&`}),d.slice(0,-1)):(c=t?encodeURIComponent(o):o,d=`${a}=${c}`),`${s}&${d}`},"").substr(1):null,mB=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),i=hB(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,c]of Object.entries(e.data||{}))a.set(o,c);n.body=a.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((c,d)=>{a.append(d,c)});else for(const c of Object.keys(e.data))a.append(c,e.data[c]);n.body=a;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(i.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class pB extends Sb{async request(t){const n=mB(t,t.webFetchExtra),s=fB(t.params,t.shouldEncodeUrlParams),i=s?`${t.url}?${s}`:t.url,a=await fetch(i,n),o=a.headers.get("content-type")||"";let{responseType:c="text"}=a.ok?t:{};o.includes("application/json")&&(c="json");let d,h;switch(c){case"arraybuffer":case"blob":h=await a.blob(),d=await uB(h);break;case"json":d=await a.json();break;case"document":case"text":default:d=await a.text()}const f={};return a.headers.forEach((m,u)=>{f[u]=m}),{data:d,headers:f,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}no("CapacitorHttp",{web:()=>new pB});function gB(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return new Proxy({},{get(s,i){return(a,o,c)=>{const d=e.Capacitor.Plugins[n];if(d===void 0){c(new Error(`Capacitor plugin ${n} not found`));return}if(typeof d[i]!="function"){c(new Error(`Method ${i} not found in Capacitor plugin ${n}`));return}(async()=>{try{const h=await d[i](a);o(h)}catch(h){c(h)}})()}}})}})}function vB(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return e.cordova.plugins[n]}})}function xB(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?gB(window):window.cordova!==void 0&&vB(window))}const iv=no("Geolocation",{web:()=>Je(()=>import("./web-BB-MpNe6.js"),[]).then(e=>new e.GeolocationWeb)});xB();var Ol;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Ol||(Ol={}));var qd;(function(e){e.Rear="REAR",e.Front="FRONT"})(qd||(qd={}));var V1;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(V1||(V1={}));class yB extends Sb{async getPhoto(t){return new Promise(async(n,s)=>{if(t.webUseInput||t.source===Ol.Photos)this.fileInputExperience(t,n,s);else if(t.source===Ol.Prompt){let i=document.querySelector("pwa-action-sheet");i||(i=document.createElement("pwa-action-sheet"),document.body.appendChild(i)),i.header=t.promptLabelHeader||"Photo",i.cancelable=!1,i.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],i.addEventListener("onSelection",async a=>{a.detail===0?this.fileInputExperience(t,n,s):this.cameraExperience(t,n,s)})}else this.cameraExperience(t,n,s)})}async pickImages(t){return new Promise(async(n,s)=>{this.multipleFileInputExperience(n,s)})}async cameraExperience(t,n,s){if(customElements.get("pwa-camera-modal")){const i=document.createElement("pwa-camera-modal");i.facingMode=t.direction===qd.Front?"user":"environment",document.body.appendChild(i);try{await i.componentOnReady(),i.addEventListener("onPhoto",async a=>{const o=a.detail;o===null?s(new Kl("User cancelled photos app")):o instanceof Error?s(o):n(await this._getCameraPhoto(o,t)),i.dismiss(),document.body.removeChild(i)}),i.present()}catch{this.fileInputExperience(t,n,s)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,n,s)}fileInputExperience(t,n,s){let i=document.querySelector("#_capacitor-camera-input");const a=()=>{var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",o=>{const c=i.files[0];let d="jpeg";if(c.type==="image/png"?d="png":c.type==="image/gif"&&(d="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const h=new FileReader;h.addEventListener("load",()=>{if(t.resultType==="dataUrl")n({dataUrl:h.result,format:d});else if(t.resultType==="base64"){const f=h.result.split(",")[1];n({base64String:f,format:d})}a()}),h.readAsDataURL(c)}else n({webPath:URL.createObjectURL(c),format:d}),a()}),i.addEventListener("cancel",o=>{s(new Kl("User cancelled photos app")),a()})),i.accept="image/*",i.capture=!0,t.source===Ol.Photos||t.source===Ol.Prompt?i.removeAttribute("capture"):t.direction===qd.Front?i.capture="user":t.direction===qd.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(t,n){let s=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var a;(a=s.parentNode)===null||a===void 0||a.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input-multiple",s.type="file",s.hidden=!0,s.multiple=!0,document.body.appendChild(s),s.addEventListener("change",a=>{const o=[];for(let c=0;c<s.files.length;c++){const d=s.files[c];let h="jpeg";d.type==="image/png"?h="png":d.type==="image/gif"&&(h="gif"),o.push({webPath:URL.createObjectURL(d),format:h})}t({photos:o}),i()}),s.addEventListener("cancel",a=>{n(new Kl("User cancelled photos app")),i()})),s.accept="image/*",s.click()}_getCameraPhoto(t,n){return new Promise((s,i)=>{const a=new FileReader,o=t.type.split("/")[1];n.resultType==="uri"?s({webPath:URL.createObjectURL(t),format:o,saved:!1}):(a.readAsDataURL(t),a.onloadend=()=>{const c=a.result;n.resultType==="dataUrl"?s({dataUrl:c,format:o,saved:!1}):s({base64String:c.split(",")[1],format:o,saved:!1})},a.onerror=c=>{i(c)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const bB=no("Camera",{web:()=>new yB}),wB=no("Device",{web:()=>Je(()=>import("./web-CkEOQoSR.js"),[]).then(e=>new e.DeviceWeb)});class jB{static async requestAllPermissions(){if(!vt.isNativePlatform()){console.log("Running in web, skipping native permissions");return}try{await this.requestLocationPermission(),await this.requestCameraPermission(),console.log("Microphone permissions handled through camera plugin")}catch(t){console.error("Error requesting permissions:",t)}}static async requestLocationPermission(){try{const t=await iv.requestPermissions();return console.log("Location permissions:",t),t}catch(t){throw console.error("Location permission error:",t),t}}static async requestCameraPermission(){try{const t=await bB.requestPermissions();return console.log("Camera permissions:",t),t}catch(t){throw console.error("Camera permission error:",t),t}}static async checkLocationPermission(){try{return(await iv.checkPermissions()).location==="granted"}catch(t){return console.error("Check location permission error:",t),!1}}static async getCurrentLocation(){try{return await this.checkLocationPermission()||await this.requestLocationPermission(),await iv.getCurrentPosition()}catch(t){throw console.error("Get location error:",t),t}}static async getDeviceInfo(){try{const t=await wB.getInfo();return console.log("Device info:",t),t}catch(t){return console.error("Device info error:",t),null}}}class _B{constructor(){qs(this,"location",null);qs(this,"intervalId",null);qs(this,"listeners",[]);this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("userLocation");if(t)try{const n=JSON.parse(t),s=localStorage.getItem("userLocationTimestamp");s&&Date.now()-parseInt(s)<10*60*1e3&&(this.location=n)}catch(n){console.error("Error loading location from storage:",n)}}saveToStorage(){this.location&&(localStorage.setItem("userLocation",JSON.stringify(this.location)),localStorage.setItem("userLocationTimestamp",Date.now().toString()))}updateLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.location={latitude:t.coords.latitude,longitude:t.coords.longitude},this.saveToStorage(),this.notifyListeners()},t=>console.error("Location error:",t),{enableHighAccuracy:!1,timeout:1e4,maximumAge:18e4})}notifyListeners(){this.listeners.forEach(t=>t(this.location))}startTracking(){this.updateLocation(),this.intervalId||(this.intervalId=setInterval(()=>{this.updateLocation()},3*60*1e3))}stopTracking(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}getLocation(){return this.location}subscribe(t){return this.listeners.push(t),t(this.location),()=>{this.listeners=this.listeners.filter(n=>n!==t)}}}const xt=new _B,Vn=no("Preferences",{web:()=>Je(()=>import("./web-BmDb_1H8.js"),[]).then(e=>new e.PreferencesWeb)}),Ore=Object.freeze(Object.defineProperty({__proto__:null,Preferences:Vn},Symbol.toStringTag,{value:"Module"}));class NB{constructor(){qs(this,"isNative",vt.isNativePlatform())}async setAuth(t,n){this.isNative?(await Vn.set({key:"auth_token",value:t}),await Vn.set({key:"auth_user",value:JSON.stringify(n)}),await Vn.set({key:"last_activity",value:Date.now().toString()})):(localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(n)),localStorage.setItem("lastActivity",Date.now().toString()))}async getToken(){return this.isNative?(await Vn.get({key:"auth_token"})).value:localStorage.getItem("token")}async getUser(){if(this.isNative){const t=await Vn.get({key:"auth_user"});return t.value?JSON.parse(t.value):null}else{const t=localStorage.getItem("user");return t?JSON.parse(t):null}}async isAuthenticated(){const t=await this.getToken(),n=await this.getUser();return!!(t&&n)}async updateActivity(){this.isNative?await Vn.set({key:"last_activity",value:Date.now().toString()}):localStorage.setItem("lastActivity",Date.now().toString())}async getLastActivity(){if(this.isNative){const t=await Vn.get({key:"last_activity"});return t.value?parseInt(t.value):null}else{const t=localStorage.getItem("lastActivity");return t?parseInt(t):null}}async clearAuth(){console.log(" clearAuth() called - Stack trace:"),console.trace(),this.isNative?(console.log(" Clearing native storage (Capacitor Preferences)"),await Vn.remove({key:"auth_token"}),await Vn.remove({key:"auth_user"}),await Vn.remove({key:"last_activity"}),await Vn.remove({key:"cart"}),await Vn.remove({key:"wishlist"})):(console.log(" Clearing web storage (localStorage)"),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("lastActivity"),localStorage.removeItem("cart"),localStorage.removeItem("wishlist"),localStorage.removeItem("userLocation"),localStorage.removeItem("userLocationTimestamp")),console.log(" Auth cleared successfully")}async setCart(t){this.isNative?await Vn.set({key:"cart",value:JSON.stringify(t)}):localStorage.setItem("cart",JSON.stringify(t))}async getCart(){if(this.isNative){const t=await Vn.get({key:"cart"});return t.value?JSON.parse(t.value):[]}else{const t=localStorage.getItem("cart");return t?JSON.parse(t):[]}}async setWishlist(t){this.isNative?await Vn.set({key:"wishlist",value:JSON.stringify(t)}):localStorage.setItem("wishlist",JSON.stringify(t))}async getWishlist(){if(this.isNative){const t=await Vn.get({key:"wishlist"});return t.value?JSON.parse(t.value):[]}else{const t=localStorage.getItem("wishlist");return t?JSON.parse(t):[]}}async isSessionValid(){const t=await this.getLastActivity();if(!t)return!1;const n=this.isNative?7*24*60*60*1e3:24*60*60*1e3;return Date.now()-t<=n}async autoLogin(){const t=await this.getToken(),n=await this.getUser();if(t&&n&&n.user_type==="vendor"){if(await this.isSessionValid())return await this.updateActivity(),console.log(" Auto-login successful for vendor:",n.username),!0;console.log(" Session expired, clearing auth"),await this.clearAuth()}return!1}async keepAlive(){await this.isAuthenticated()&&await this.updateActivity()}}const Pe=new NB,Su=Object.freeze(Object.defineProperty({__proto__:null,authService:Pe},Symbol.toStringTag,{value:"Module"})),SB={user:null,cart:[],wishlist:[],searchQuery:"",isLoading:!1,error:null};function kB(e,t){switch(t.type){case"SET_USER":return{...e,user:t.payload};case"ADD_TO_CART":return e.cart.find(s=>s.id===t.payload.id)?{...e,cart:e.cart.map(s=>s.id===t.payload.id?{...s,quantity:s.quantity+1}:s)}:{...e,cart:[...e.cart,{...t.payload,quantity:1}]};case"REMOVE_FROM_CART":return{...e,cart:e.cart.filter(n=>n.id!==t.payload)};case"UPDATE_CART_QUANTITY":return{...e,cart:e.cart.map(n=>n.id===t.payload.id?{...n,quantity:Math.max(0,t.payload.quantity)}:n).filter(n=>n.quantity>0)};case"CLEAR_CART":return{...e,cart:[]};case"ADD_TO_WISHLIST":return e.wishlist.find(s=>s.id===t.payload.id)?e:{...e,wishlist:[...e.wishlist,t.payload]};case"REMOVE_FROM_WISHLIST":return{...e,wishlist:e.wishlist.filter(n=>n.id!==t.payload)};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"LOAD_FROM_STORAGE":return e;default:return e}}const TP=j.createContext(void 0);function CB({children:e}){const[t,n]=j.useReducer(kB,SB);j.useEffect(()=>{(async()=>{try{const[x,v,w,b]=await Promise.all([Pe.getCart(),Pe.getWishlist(),Pe.getUser(),Pe.isAuthenticated()]);b&&w&&(await Pe.isSessionValid()||await Pe.clearAuth()),t.cart=x,t.wishlist=v,n({type:"SET_LOADING",payload:!1})}catch(x){console.error("Failed to load stored data:",x)}})()},[]),j.useEffect(()=>{(async()=>{try{await Promise.all([Pe.setCart(t.cart),Pe.setWishlist(t.wishlist)]),t.user&&await Pe.updateActivity()}catch(x){console.error("Failed to save data:",x)}})()},[t.cart,t.wishlist,t.user]);const u={state:t,dispatch:n,addToCart:p=>{n({type:"ADD_TO_CART",payload:p})},removeFromCart:p=>{n({type:"REMOVE_FROM_CART",payload:p})},updateCartQuantity:(p,x)=>{n({type:"UPDATE_CART_QUANTITY",payload:{id:p,quantity:x}})},clearCart:()=>{n({type:"CLEAR_CART"})},addToWishlist:p=>{n({type:"ADD_TO_WISHLIST",payload:p})},removeFromWishlist:p=>{n({type:"REMOVE_FROM_WISHLIST",payload:p})},setSearchQuery:p=>{n({type:"SET_SEARCH_QUERY",payload:p})},login:async(p,x)=>{try{await Pe.setAuth(x,p),n({type:"SET_USER",payload:p}),xt.startTracking()}catch(v){console.error("Failed to save login data:",v)}},logout:async()=>{try{await Pe.clearAuth(),n({type:"SET_USER",payload:null}),xt.stopTracking()}catch(p){console.error("Failed to clear auth data:",p)}}};return r.jsx(TP.Provider,{value:u,children:e})}function sa(){const e=j.useContext(TP);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e}const EB=()=>{const{state:e,dispatch:t}=sa(),n=j.useCallback(async()=>{e.user&&await Pe.updateActivity()},[e.user]),s=j.useCallback(async()=>{e.user&&await Promise.all([Pe.setCart(e.cart),Pe.setWishlist(e.wishlist),Pe.updateActivity()])},[e.user,e.cart,e.wishlist]);return j.useCallback(async()=>{},[t]),j.useEffect(()=>{},[]),j.useEffect(()=>{},[]),j.useEffect(()=>{const i=()=>{s().catch(console.error)};return window.addEventListener("beforeunload",i),()=>window.removeEventListener("beforeunload",i)},[s]),{extendSession:n,saveState:s}},PB=()=>window.location.protocol==="capacitor:"||window.location.protocol==="ionic:"||window.navigator.userAgent.includes("Capacitor"),TB=()=>"https://ezeyway.com",U1=["http://localhost:8000","http://10.0.2.2:8000","http://192.168.1.100:8000"],AB=()=>"wss://ezeyway.com",Ur={BASE_URL:TB(),WS_BASE_URL:AB()};console.log("API Config Debug:",{isMobile:PB(),protocol:window.location.protocol,userAgent:window.navigator.userAgent,baseUrl:Ur.BASE_URL,wsUrl:Ur.WS_BASE_URL});const AP=(e="")=>`${Ur.BASE_URL}${e.startsWith("/")?e:`/${e}`}`,tt=`${Ur.BASE_URL}/`,xd=AP("/api");class OB{async getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Token ${await Pe.getToken()}`,"ngrok-skip-browser-warning":"true"}}async getCart(){if(!await Pe.getToken())throw new Error("User not authenticated");const n=await fetch(`${xd}/cart/`,{headers:await this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch cart");return n.json()}async addToCart(t,n=1){const s=await fetch(`${xd}/cart/add/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({product_id:t,quantity:n})});if(!s.ok)throw new Error("Failed to add item to cart");return(await s.json()).cart}async updateCartItem(t,n){const s=await fetch(`${xd}/cart/items/${t}/update/`,{method:"PUT",headers:await this.getAuthHeaders(),body:JSON.stringify({quantity:n})});if(!s.ok)throw new Error("Failed to update cart item");return(await s.json()).cart}async removeFromCart(t){const n=await fetch(`${xd}/cart/items/${t}/remove/`,{method:"DELETE",headers:await this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to remove item from cart");return(await n.json()).cart}async clearCart(){if(!(await fetch(`${xd}/cart/clear/`,{method:"DELETE",headers:await this.getAuthHeaders()})).ok)throw new Error("Failed to clear cart")}}const yd=new OB,OP=j.createContext(void 0),LB=({children:e})=>{const[t,n]=j.useState(null),[s,i]=j.useState(!1),{toast:a}=cn(),o=async()=>{try{if(!await Pe.getToken())return;i(!0);const u=await yd.getCart();n(u)}catch(m){m.message.includes("not authenticated")||console.error("Failed to fetch cart:",m)}finally{i(!1)}},c=async(m,u=1)=>{try{if(!await Pe.getToken()){a({title:"Login Required",description:"Please login to add items to cart",variant:"destructive"});return}const x=await yd.addToCart(m,u);n(x),a({title:"Success",description:"Item added to cart"})}catch{a({title:"Error",description:"Failed to add item to cart",variant:"destructive"})}},d=async(m,u)=>{try{const p=await yd.updateCartItem(m,u);n(p)}catch{a({title:"Error",description:"Failed to update item quantity",variant:"destructive"})}},h=async m=>{try{const u=await yd.removeFromCart(m);n(u),a({title:"Success",description:"Item removed from cart"})}catch{a({title:"Error",description:"Failed to remove item",variant:"destructive"})}},f=async()=>{try{await yd.clearCart(),n({...t,items:[],total_items:0,subtotal:0}),a({title:"Success",description:"Cart cleared"})}catch{a({title:"Error",description:"Failed to clear cart",variant:"destructive"})}};return j.useEffect(()=>{(async()=>{await Pe.getToken()&&o()})()},[]),r.jsx(OP.Provider,{value:{cart:t,loading:s,addToCart:c,updateCartItem:d,removeFromCart:h,clearCart:f,fetchCart:o},children:e})},us=()=>{const e=j.useContext(OP);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},RB=({children:e})=>{const{dispatch:t}=sa(),[n,s]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{await Pe.isAuthenticated()&&(await Pe.isSessionValid()||await Pe.clearAuth())}catch(a){console.error("Auth initialization failed:",a)}finally{s(!0)}})()},[t]),n?r.jsx(r.Fragment,{children:e}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})},Za="/assets/ezeywaylogo.png";function q1(){const e=nt();return j.useEffect(()=>{(async()=>{try{const{simplePersistentAuth:n}=await Je(async()=>{const{simplePersistentAuth:c}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:c}},[]);if(await n.isVendorLoggedIn()){console.log(" Vendor already logged in, redirecting to dashboard"),e("/vendor/dashboard");return}const{authService:i}=await Je(async()=>{const{authService:c}=await Promise.resolve().then(()=>Su);return{authService:c}},void 0),a=await i.isAuthenticated(),o=await i.getUser();if(a&&o&&o.user_type==="customer"){console.log(" Customer already logged in, redirecting to home"),e("/home");return}console.log(" No authentication found, redirecting to login"),e("/login")}catch(n){console.error("Error checking authentication:",n),e("/login")}})()},[e]),r.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:Za,alt:"ezeyway",className:"w-32 h-32 mx-auto animate-pulse object-contain"}),r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"flex justify-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})}const MB=qu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"gradient-primary text-primary-foreground font-semibold shadow-brand hover:scale-105 transition-bounce",accent:"gradient-accent text-accent-foreground font-semibold shadow-brand hover:scale-105 transition-bounce",premium:"bg-primary-dark text-primary-foreground border border-primary-light/20 shadow-lg hover:bg-primary hover:shadow-brand transition-smooth"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=j.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?AI:"button";return r.jsx(o,{className:Ve(MB({variant:t,size:n,className:e})),ref:a,...i})});ne.displayName="Button";const me=j.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));me.displayName="Input";const kb=async(e=!0,t=!1)=>{const n={"ngrok-skip-browser-warning":"true","x-ngrok-skip-browser-warning":"true"};if(t||(n["Content-Type"]="application/json"),e){const s=await Pe.getToken();s&&(n.Authorization=`Token ${s}`)}return n},Fe=async(e,t={},n=!0)=>{var o,c,d,h;const s=`${Ur.BASE_URL}${e.startsWith("/")?e:`/${e}`}`,i=t.body instanceof FormData,a={headers:await kb(n,i),...t};if(console.log(" API Request:",e,"Auth:",n),e.includes("switch-role")||e.includes("switch")){console.log(" SWITCH ROLE REQUEST DETECTED!"),console.log(" Full URL:",s),console.log(" Include Auth:",n),console.log(" Request Headers:",JSON.stringify(a.headers,null,2));const{authService:f}=await Je(async()=>{const{authService:x}=await Promise.resolve().then(()=>Su);return{authService:x}},void 0),m=await f.getToken();console.log(" Token from authService:",m?`${m.substring(0,10)}...`:"NO TOKEN");const u=typeof localStorage<"u"?localStorage.getItem("token"):"NO LOCALSTORAGE";console.log(" localStorage token:",u?`${u.substring(0,10)}...`:"NO TOKEN IN LOCALSTORAGE");const p=((o=a.headers)==null?void 0:o.Authorization)||((c=a.headers)==null?void 0:c.authorization);console.log(" Authorization header:",p?`${p.substring(0,15)}...`:"NO AUTH HEADER")}t.headers&&(a.headers={...a.headers,...t.headers},i&&a.headers["Content-Type"]&&delete a.headers["Content-Type"]);try{const f=await fetch(s,a),m=f.clone(),u=f.headers.get("content-type");if(u&&u.includes("application/json"))try{const p=await f.json();return{response:m,data:p}}catch(p){return console.warn("Failed to parse JSON response:",p),{response:m,data:null}}else return console.warn("API returned non-JSON response:",f.status,f.statusText),{response:m,data:null}}catch(f){if(console.error("API request failed:",f),s.includes("ngrok-free.app")&&((d=f.message)!=null&&d.includes("Unable to resolve host")||(h=f.message)!=null&&h.includes("UnknownHostException"))){console.log("Ngrok failed, trying fallback URLs...");for(let m=1;m<U1.length;m++){const p=`${U1[m]}${e.startsWith("/")?e:`/${e}`}`;try{console.log(`Trying fallback URL: ${p}`);const x=await fetch(p,{...a,headers:{...a.headers,"ngrok-skip-browser-warning":void 0,"x-ngrok-skip-browser-warning":void 0}}),v=x.clone(),w=x.headers.get("content-type");if(w&&w.includes("application/json"))try{const b=await x.json();return console.log(`Fallback URL ${p} succeeded`),{response:v,data:b}}catch{return console.log(`Fallback URL ${p} succeeded (non-JSON)`),{response:v,data:null}}else return console.log(`Fallback URL ${p} succeeded (non-JSON)`),{response:v,data:null}}catch(x){console.error(`Fallback URL ${p} failed:`,x);continue}}}throw f}},Os=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:Fe,createApiHeaders:kb},Symbol.toStringTag,{value:"Module"}));function LP({currentType:e}){const t=nt(),n=ra(),s=()=>{t(e==="customer"?"/vendor/login":"/login",{state:n.state})};return r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-xl text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 transition-all shadow-lg border border-white/20",children:e==="customer"?r.jsxs(r.Fragment,{children:[r.jsx(Sr,{className:"h-4 w-4"}),"Vendor Login"]}):r.jsxs(r.Fragment,{children:[r.jsx(Es,{className:"h-4 w-4"}),"Customer Login"]})})})}function IB(){const e=nt(),t=ra(),{login:n}=sa(),[s,i]=j.useState("password"),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(!1),[p,x]=j.useState(!1),[v,w]=j.useState(!1),[b,y]=j.useState("");j.useEffect(()=>{(async()=>{try{await Pe.isAuthenticated()&&(await Pe.isSessionValid()||await Pe.clearAuth())}catch(R){console.error("Session check failed:",R)}})()},[]);const _=async()=>{var E,R;w(!0),y("");try{await Pe.clearAuth();const{response:A,data:k}=await Fe("/login/",{method:"POST",body:JSON.stringify({username:a,password:c})},!1);if(!A.ok)throw new Error((k==null?void 0:k.error)||"Login failed");if(k.user&&k.token){const O={...k.user,available_roles:k.available_roles||["customer"],user_type:k.user.user_type||"customer"};await n(O,k.token);const P=((R=(E=t.state)==null?void 0:E.from)==null?void 0:R.pathname)||"/home";e(P,{replace:!0})}else throw new Error("Invalid login response")}catch(A){y(A.message)}finally{w(!1)}},N=async()=>{w(!0),y("");try{const{response:E,data:R}=await Fe("/send-otp/",{method:"POST",body:JSON.stringify({email:a})},!1);if(!E.ok)throw new Error((R==null?void 0:R.error)||"Failed to send OTP");x(!0),y("OTP sent successfully")}catch(E){y(E.message)}finally{w(!1)}},C=async()=>{var E,R;w(!0),y("");try{const{response:A,data:k}=await Fe("/verify-otp/",{method:"POST",body:JSON.stringify({email:a,otp:h})},!1);if(!A.ok)throw new Error((k==null?void 0:k.error)||"OTP verification failed");if(k.user&&k.token){const P={...k.user,available_roles:k.available_roles||["customer"],user_type:k.user.user_type||"customer"};await n(P,k.token)}const O=((R=(E=t.state)==null?void 0:E.from)==null?void 0:R.pathname)||"/home";e(O,{replace:!0})}catch(A){y(A.message)}finally{w(!1)}},D=()=>{e("/signup")};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4 relative",children:[r.jsx(LP,{currentType:"customer"}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx("div",{className:"w-full max-w-80 mx-auto px-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"text-center",children:r.jsx("img",{src:Za,alt:"ezeyway",className:"w-16 h-16 mx-auto mb-6"})}),r.jsx("div",{className:"text-center mb-4",children:r.jsx("span",{className:"text-sm font-medium text-gray-700 bg-blue-50 px-3 py-1 rounded-full",children:"Customer Login"})}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>i("password"),className:`pb-2 text-sm font-medium transition-colors ${s==="password"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Password"}),r.jsx("button",{onClick:()=>i("otp"),className:`pb-2 text-sm font-medium transition-colors ${s==="otp"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"OTP"})]})}),s==="password"&&r.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[r.jsx(me,{type:"text",value:a,onChange:E=>o(E.target.value),placeholder:"Phone Number or Email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),r.jsxs("div",{className:"relative",children:[r.jsx(me,{type:m?"text":"password",value:c,onChange:E=>d(E.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),r.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):r.jsxs(r.Fragment,{children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),b&&r.jsx("p",{className:"text-red-600 text-center",children:b}),r.jsx(ne,{onClick:_,disabled:!a||!c||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Logging in...":"Login"})]}),s==="otp"&&r.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[r.jsx(me,{type:"text",value:a,onChange:E=>o(E.target.value),placeholder:"Enter your phone number or email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),b&&r.jsx("p",{className:"text-red-600 text-center",children:b}),p?r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(me,{type:"text",value:h,onChange:E=>f(E.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),r.jsx(ne,{onClick:C,disabled:h.length!==6||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Verifying...":"Verify & Login"}),r.jsx("button",{onClick:N,disabled:v,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}):r.jsx(ne,{onClick:N,disabled:!a||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Sending...":"Send OTP"})]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:D,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Don't have an account? Sign up"})})]})})})]})}const DB=qu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:e,variant:t,...n}){return r.jsx("div",{className:Ve(DB({variant:t}),e),...n})}let av=null;const FB=async()=>{if(!av){const{notificationService:e}=await Je(async()=>{const{notificationService:t}=await Promise.resolve().then(()=>RP);return{notificationService:t}},void 0);av=e}return av};class $B{async getConversations(){try{const{response:t,data:n}=await Fe("/api/messaging/conversations/");return t.ok?Array.isArray(n)?n:(n==null?void 0:n.results)||[]:[]}catch{return[]}}async getMessages(t){try{const{response:n,data:s}=await Fe(`/api/messaging/conversations/${t}/messages/`);return n.ok?(console.log("Messages API response:",s),Array.isArray(s)?s:(s==null?void 0:s.results)||[]):(console.error(`Messages API error: ${n.status}`),[])}catch(n){return console.error("Messages API error:",n),[]}}async sendMessage(t){try{const n=new FormData;t.conversation_id&&n.append("conversation_id",t.conversation_id.toString()),t.recipient_id&&n.append("recipient_id",t.recipient_id.toString()),n.append("message_type",t.message_type),t.content&&n.append("content",t.content),t.file&&n.append("file",t.file);const{response:s,data:i}=await Fe("/api/messaging/messages/send/",{method:"POST",body:n});if(!s.ok)throw console.error(`Message send failed: ${s.status}`),new Error(`HTTP ${s.status}`);return console.log("Message sent successfully:",i),i}catch{console.warn("Backend not available, simulating message send");const s=await Pe.getUser();return{message:{id:Date.now(),sender:{id:(s==null?void 0:s.id)||0,username:(s==null?void 0:s.username)||"You"},message_type:t.message_type,content:t.content,status:"sent",is_pinned:!1,created_at:new Date().toISOString(),is_read:!1}}}}async handleIncomingMessage(t,n){try{(await FB()).showBrowserNotification(`New message from ${n}`,{body:t.content||"New message received",tag:`message-${t.id}`,requireInteraction:!1,data:{actionUrl:"/vendor/messages"}}),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("newMessage",{detail:{message:t,senderName:n}}))}catch(s){console.error("Failed to handle incoming message notification:",s)}}async getOrCreateConversation(t){try{const{response:n,data:s}=await Fe(`/api/messaging/conversations/user/${t}/`);if(!n.ok)throw new Error(`HTTP ${n.status}`);return s||this.createMockConversation(t)}catch{return console.warn("Backend not available, creating mock conversation"),this.createMockConversation(t)}}createMockConversation(t){return{id:t,participants:[],last_message:void 0,unread_count:0,other_participant:{id:t,username:t===1?"EzzeYway Support":`User ${t}`,profile_picture:void 0}}}}const $r=new $B;typeof window<"u"&&window.addEventListener("message",async e=>{var t,n;if(((t=e.data)==null?void 0:t.type)==="new_message"){const{message:s}=e.data;await $r.handleIncomingMessage(s,((n=s.sender)==null?void 0:n.username)||"Unknown")}});class BB{constructor(){qs(this,"audio",null);qs(this,"isInitialized",!1)}async initialize(){if(!this.isInitialized){if(this.audio=null,"serviceWorker"in navigator&&!vt.isNativePlatform())try{const t=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registered successfully"),navigator.serviceWorker.addEventListener("message",n=>{n.data&&n.data.type==="SHOW_ORDER_MODAL"&&window.dispatchEvent(new CustomEvent("showOrderModal",{detail:n.data.data}))}),document.addEventListener("visibilitychange",()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"VISIBILITY_CHANGE",hidden:document.hidden})}),"sync"in window.ServiceWorkerRegistration.prototype&&t.sync.register("background-sync-orders")}catch(t){console.error("Service Worker registration failed:",t)}!vt.isNativePlatform()&&"Notification"in window&&(Notification.permission==="default"?await Notification.requestPermission()==="granted"?(console.log("Notification permission granted"),this.showTestNotification()):console.warn("Notification permission denied"):Notification.permission==="granted"&&console.log("Notification permission already granted")),console.log("Notification service initialized for:",vt.isNativePlatform()?"mobile":"web"),this.isInitialized=!0}}async initializeMobileNotifications(){try{if(vt.isNativePlatform()){const{LocalNotifications:t}=await Je(async()=>{const{LocalNotifications:a}=await import("./index-BuQRg3al.js");return{LocalNotifications:a}},[]),{PushNotifications:n}=await Je(async()=>{const{PushNotifications:a}=await Promise.resolve().then(()=>H4);return{PushNotifications:a}},void 0),{Haptics:s,ImpactStyle:i}=await Je(async()=>{const{Haptics:a,ImpactStyle:o}=await import("./index-W_cHiRhT.js");return{Haptics:a,ImpactStyle:o}},[]);await t.requestPermissions(),await n.requestPermissions(),await n.register(),n.addListener("pushNotificationReceived",async a=>{console.log("Push notification received:",a),await this.handleMobileOrderNotification(a.data)}),n.addListener("pushNotificationActionPerformed",async a=>{console.log("Push notification tapped:",a);const o=a.notification.data;(o==null?void 0:o.type)==="order"&&(await s.impact({style:i.Heavy}),this.openOrderModal(o))}),t.addListener("localNotificationActionPerformed",async a=>{console.log("Local notification tapped:",a);const o=a.notification.extra;(o==null?void 0:o.type)==="order"&&(await s.impact({style:i.Heavy}),this.openOrderModal(o))})}}catch(t){console.error("Failed to initialize mobile notifications:",t)}}async playNotificationSound(){this.createBeepSound()}createBeepSound(){try{const t=new(window.AudioContext||window.webkitAudioContext);this.playBeep(t,800,.3,.4),setTimeout(()=>this.playBeep(t,1e3,.3,.4),400),setTimeout(()=>this.playBeep(t,1200,.4,.5),800)}catch(t){console.warn("Web Audio API not supported:",t)}}playBeep(t,n,s,i){const a=t.createOscillator(),o=t.createGain();a.connect(o),o.connect(t.destination),a.frequency.value=n,a.type="square",o.gain.setValueAtTime(i,t.currentTime),o.gain.exponentialRampToValueAtTime(.01,t.currentTime+s),a.start(t.currentTime),a.stop(t.currentTime+s)}async showTestNotification(){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const t=new Notification("Notifications Enabled!",{body:"You will now receive order notifications even when the app is in the background.",icon:"/favicon.ico",badge:"/favicon.ico",tag:"test-notification",requireInteraction:!1});setTimeout(()=>t.close(),3e3)}}async showOrderNotification(t,n,s){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const i=new Notification(" New Order Received!",{body:`Order #${t} - ${n}
Tap to view and respond`,icon:"/favicon.ico",tag:`order-${s}`,requireInteraction:!0});i.onclick=()=>{window.focus(),this.openOrderModal({orderId:s,orderNumber:t,amount:n}),i.close()},setTimeout(()=>i.close(),15e3)}vt.isNativePlatform()&&("vibrate"in navigator&&navigator.vibrate([300,100,300,100,500]),this.openOrderModal({orderId:s,orderNumber:t,amount:n}))}async showBrowserNotification(t,n,s,i){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const a=new Notification(t,{body:n,icon:"/favicon.ico",badge:"/favicon.ico",tag:`message-${s}`,requireInteraction:!0,data:{conversationId:s,userType:i}});a.onclick=()=>{window.focus(),this.navigateToConversation(s,i),a.close()},setTimeout(()=>a.close(),1e4)}}async showMobileOrderNotification(t,n,s){if(vt.isNativePlatform())try{const{LocalNotifications:i}=await Je(async()=>{const{LocalNotifications:c}=await import("./index-BuQRg3al.js");return{LocalNotifications:c}},[]),{Haptics:a,ImpactStyle:o}=await Je(async()=>{const{Haptics:c,ImpactStyle:d}=await import("./index-W_cHiRhT.js");return{Haptics:c,ImpactStyle:d}},[]);await a.impact({style:o.Heavy}),await i.schedule({notifications:[{title:" New Order Received!",body:`Order #${t} - ${n}
Tap to accept/reject`,id:Date.now(),sound:"default",smallIcon:"ic_stat_icon_config_sample",iconColor:"#FF6B35",actionTypeId:"OPEN_ORDER",extra:{type:"order",orderId:s,orderNumber:t,amount:n,autoOpen:!0}}]})}catch(i){console.error("Failed to show mobile order notification:",i)}}async showMobileNotification(t,n,s,i){if(vt.isNativePlatform())try{const{LocalNotifications:a}=await Je(async()=>{const{LocalNotifications:o}=await import("./index-BuQRg3al.js");return{LocalNotifications:o}},[]);await a.schedule({notifications:[{title:t,body:n,id:Date.now(),schedule:{at:new Date(Date.now()+1e3)},sound:"default",attachments:[],actionTypeId:"OPEN_MESSAGE",extra:{conversationId:s,userType:i}}]})}catch(a){console.error("Failed to show mobile notification:",a)}}openOrderModal(t){if(window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t})),vt.isNativePlatform()){const n=window.location.pathname;!n.includes("/vendor/home")&&!n.includes("/vendor/dashboard")&&(window.location.href="/vendor/home")}}async handleMobileOrderNotification(t){try{const{Haptics:n,ImpactStyle:s}=await Je(async()=>{const{Haptics:i,ImpactStyle:a}=await import("./index-W_cHiRhT.js");return{Haptics:i,ImpactStyle:a}},[]);await n.impact({style:s.Heavy}),await this.playNotificationSound(),this.openOrderModal(t)}catch(n){console.error("Error handling mobile order notification:",n)}}navigateToConversation(t,n){const i={vendor:`/vendor/messages/${t}`,customer:`/messages/${t}`,superadmin:`/accounts/superadmin/messages/${t}/`}[n];i&&(window.location.href=i)}async notifyNewMessage(t,n,s,i){await this.initialize();const a=`New message from ${t}`,o=n.length>50?n.substring(0,50)+"...":n;await this.playNotificationSound(),await this.showBrowserNotification(a,o,s,i),await this.showMobileNotification(a,o,s,i)}async requestPermissions(){return await this.initialize(),!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"}async requestPermission(){return this.requestPermissions()}async getNotifications(){return[]}async getUnreadCount(){return 0}async markAsRead(t){console.log("Marking notification as read:",t)}async markAllAsRead(){console.log("Marking all notifications as read")}async showBrowserNotificationCompat(t,n){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const s=new Notification(t,{body:n.body,icon:"/favicon.ico",tag:n.tag,requireInteraction:n.requireInteraction,data:n.data});s.onclick=()=>{var i;window.focus(),(i=n.data)!=null&&i.actionUrl&&(window.location.href=n.data.actionUrl),s.close()},setTimeout(()=>s.close(),1e4)}}}const Gt=new BB,RP=Object.freeze(Object.defineProperty({__proto__:null,notificationService:Gt},Symbol.toStringTag,{value:"Module"}));function zB(){const[e,t]=j.useState([]),[n,s]=j.useState(0),[i,a]=j.useState(!1),o=async()=>{try{a(!0);const[h,f]=await Promise.all([Gt.getNotifications(),Gt.getUnreadCount()]);t(h),s(f)}catch(h){console.error("Failed to load notifications:",h)}finally{a(!1)}},c=async h=>{try{await Gt.markAsRead(h),s(f=>Math.max(0,f-1)),t(f=>f.map(m=>m.id===h?{...m,read:!0}:m))}catch(f){console.error("Failed to mark notification as read:",f)}},d=async()=>{try{await Gt.markAllAsRead(),s(0),t(h=>h.map(f=>({...f,read:!0})))}catch(h){console.error("Failed to mark all notifications as read:",h)}};return j.useEffect(()=>{o();const h=setInterval(o,1e4);return()=>clearInterval(h)},[]),j.useEffect(()=>{Gt.requestPermission()},[]),{notifications:e,unreadCount:n,isLoading:i,markAsRead:c,markAllAsRead:d,refreshNotifications:o}}var VB=j.createContext(void 0);function Fc(e){const t=j.useContext(VB);return e||t||"ltr"}var ov=0;function Cb(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H1()),document.body.insertAdjacentElement("beforeend",e[1]??H1()),ov++,()=>{ov===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ov--}},[])}function H1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lv="focusScope.autoFocusOnMount",cv="focusScope.autoFocusOnUnmount",W1={bubbles:!1,cancelable:!0},UB="FocusScope",vp=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[c,d]=j.useState(null),h=pn(i),f=pn(a),m=j.useRef(null),u=dt(t,v=>d(v)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(s){let v=function(_){if(p.paused||!c)return;const N=_.target;c.contains(N)?m.current=N:ma(m.current,{select:!0})},w=function(_){if(p.paused||!c)return;const N=_.relatedTarget;N!==null&&(c.contains(N)||ma(m.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&ma(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),y.disconnect()}}},[s,c,p.paused]),j.useEffect(()=>{if(c){G1.add(p);const v=document.activeElement;if(!c.contains(v)){const b=new CustomEvent(lv,W1);c.addEventListener(lv,h),c.dispatchEvent(b),b.defaultPrevented||(qB(KB(MP(c)),{select:!0}),document.activeElement===v&&ma(c))}return()=>{c.removeEventListener(lv,h),setTimeout(()=>{const b=new CustomEvent(cv,W1);c.addEventListener(cv,f),c.dispatchEvent(b),b.defaultPrevented||ma(v??document.body,{select:!0}),c.removeEventListener(cv,f),G1.remove(p)},0)}}},[c,h,f,p]);const x=j.useCallback(v=>{if(!n&&!s||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(w&&b){const y=v.currentTarget,[_,N]=HB(y);_&&N?!v.shiftKey&&b===N?(v.preventDefault(),n&&ma(_,{select:!0})):v.shiftKey&&b===_&&(v.preventDefault(),n&&ma(N,{select:!0})):b===y&&v.preventDefault()}},[n,s,p.paused]);return r.jsx(We.div,{tabIndex:-1,...o,ref:u,onKeyDown:x})});vp.displayName=UB;function qB(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(ma(s,{select:t}),document.activeElement!==n)return}function HB(e){const t=MP(e),n=Z1(t,e),s=Z1(t.reverse(),e);return[n,s]}function MP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Z1(e,t){for(const n of e)if(!WB(n,{upTo:t}))return n}function WB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZB(e){return e instanceof HTMLInputElement&&"select"in e}function ma(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZB(e)&&t&&e.select()}}var G1=GB();function GB(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=K1(e,t),e.unshift(t)},remove(t){var n;e=K1(e,t),(n=e[0])==null||n.resume()}}}function K1(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function KB(e){return e.filter(t=>t.tagName!=="A")}var dv="rovingFocusGroup.onEntryFocus",YB={bubbles:!1,cancelable:!0},Ku="RovingFocusGroup",[Zx,IP,XB]=Jm(Ku),[QB,$c]=lr(Ku,[XB]),[JB,ez]=QB(Ku),DP=j.forwardRef((e,t)=>r.jsx(Zx.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Zx.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(tz,{...e,ref:t})})}));DP.displayName=Ku;var tz=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...m}=e,u=j.useRef(null),p=dt(t,u),x=Fc(a),[v,w]=Rs({prop:o,defaultProp:c??null,onChange:d,caller:Ku}),[b,y]=j.useState(!1),_=pn(h),N=IP(n),C=j.useRef(!1),[D,E]=j.useState(0);return j.useEffect(()=>{const R=u.current;if(R)return R.addEventListener(dv,_),()=>R.removeEventListener(dv,_)},[_]),r.jsx(JB,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:j.useCallback(R=>w(R),[w]),onItemShiftTab:j.useCallback(()=>y(!0),[]),onFocusableItemAdd:j.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:j.useCallback(()=>E(R=>R-1),[]),children:r.jsx(We.div,{tabIndex:b||D===0?-1:0,"data-orientation":s,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{C.current=!0}),onFocus:Le(e.onFocus,R=>{const A=!C.current;if(R.target===R.currentTarget&&A&&!b){const k=new CustomEvent(dv,YB);if(R.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=N().filter(W=>W.focusable),P=O.find(W=>W.active),T=O.find(W=>W.id===v),H=[P,T,...O].filter(Boolean).map(W=>W.ref.current);BP(H,f)}}C.current=!1}),onBlur:Le(e.onBlur,()=>y(!1))})})}),FP="RovingFocusGroupItem",$P=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...c}=e,d=As(),h=a||d,f=ez(FP,n),m=f.currentTabStopId===h,u=IP(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:v}=f;return j.useEffect(()=>{if(s)return p(),()=>x()},[s,p,x]),r.jsx(Zx.ItemSlot,{scope:n,id:h,focusable:s,active:i,children:r.jsx(We.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:Le(e.onMouseDown,w=>{s?f.onItemFocus(h):w.preventDefault()}),onFocus:Le(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:Le(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=sz(w,f.orientation,f.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=u().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const N=_.indexOf(w.currentTarget);_=f.loop?iz(_,N+1):_.slice(N+1)}setTimeout(()=>BP(_))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:v!=null}):o})})});$P.displayName=FP;var nz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sz(e,t,n){const s=rz(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return nz[s]}function BP(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function iz(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Eb=DP,Pb=$P,az=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ml=new WeakMap,Hh=new WeakMap,Wh={},uv=0,zP=function(e){return e&&(e.host||zP(e.parentNode))},oz=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=zP(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lz=function(e,t,n,s){var i=oz(t,Array.isArray(e)?e:[e]);Wh[n]||(Wh[n]=new WeakMap);var a=Wh[n],o=[],c=new Set,d=new Set(i),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};i.forEach(h);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(u){if(c.has(u))f(u);else try{var p=u.getAttribute(s),x=p!==null&&p!=="false",v=(ml.get(u)||0)+1,w=(a.get(u)||0)+1;ml.set(u,v),a.set(u,w),o.push(u),v===1&&x&&Hh.set(u,!0),w===1&&u.setAttribute(n,"true"),x||u.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",u,b)}})};return f(t),c.clear(),uv++,function(){o.forEach(function(m){var u=ml.get(m)-1,p=a.get(m)-1;ml.set(m,u),a.set(m,p),u||(Hh.has(m)||m.removeAttribute(s),Hh.delete(m)),p||m.removeAttribute(n)}),uv--,uv||(ml=new WeakMap,ml=new WeakMap,Hh=new WeakMap,Wh={})}},Tb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=az(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),lz(s,i,n,"aria-hidden")):function(){return null}},Js=function(){return Js=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Js.apply(this,arguments)};function VP(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function cz(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var vf="right-scroll-bar-position",xf="width-before-scroll-bar",dz="with-scroll-bars-hidden",uz="--removed-body-scroll-bar-size";function hv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hz(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var fz=typeof window<"u"?j.useLayoutEffect:j.useEffect,Y1=new WeakMap;function mz(e,t){var n=hz(null,function(s){return e.forEach(function(i){return hv(i,s)})});return fz(function(){var s=Y1.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(c){a.has(c)||hv(c,null)}),a.forEach(function(c){i.has(c)||hv(c,o)})}Y1.set(n,e)},[e]),n}function pz(e){return e}function gz(e,t){t===void 0&&(t=pz);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var d=function(){var f=o;o=[],f.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(f){o.push(f),h()},filter:function(f){return o=o.filter(f),n}}}};return i}function vz(e){e===void 0&&(e={});var t=gz(null);return t.options=Js({async:!0,ssr:!1},e),t}var UP=function(e){var t=e.sideCar,n=VP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return j.createElement(s,Js({},n))};UP.isSideCarExport=!0;function xz(e,t){return e.useMedium(t),UP}var qP=vz(),fv=function(){},xp=j.forwardRef(function(e,t){var n=j.useRef(null),s=j.useState({onScrollCapture:fv,onWheelCapture:fv,onTouchMoveCapture:fv}),i=s[0],a=s[1],o=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,f=e.enabled,m=e.shards,u=e.sideCar,p=e.noRelative,x=e.noIsolation,v=e.inert,w=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,_=e.gapMode,N=VP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=u,D=mz([n,t]),E=Js(Js({},N),i);return j.createElement(j.Fragment,null,f&&j.createElement(C,{sideCar:qP,removeScrollBar:h,shards:m,noRelative:p,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:_}),o?j.cloneElement(j.Children.only(c),Js(Js({},E),{ref:D})):j.createElement(y,Js({},E,{className:d,ref:D}),c))});xp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xp.classNames={fullWidth:xf,zeroRight:vf};var yz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yz();return t&&e.setAttribute("nonce",t),e}function wz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _z=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bz())&&(wz(t,n),jz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Nz=function(){var e=_z();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},HP=function(){var e=Nz(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},Sz={left:0,top:0,right:0,gap:0},mv=function(e){return parseInt(e||"",10)||0},kz=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[mv(n),mv(s),mv(i)]},Cz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Sz;var t=kz(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Ez=HP(),Yl="data-scroll-locked",Pz=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dz,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(Yl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vf,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(xf,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Yl,`] {
    `).concat(uz,": ").concat(c,`px;
  }
`)},X1=function(){var e=parseInt(document.body.getAttribute(Yl)||"0",10);return isFinite(e)?e:0},Tz=function(){j.useEffect(function(){return document.body.setAttribute(Yl,(X1()+1).toString()),function(){var e=X1()-1;e<=0?document.body.removeAttribute(Yl):document.body.setAttribute(Yl,e.toString())}},[])},Az=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;Tz();var a=j.useMemo(function(){return Cz(i)},[i]);return j.createElement(Ez,{styles:Pz(a,!t,i,n?"":"!important")})},Gx=!1;if(typeof window<"u")try{var Zh=Object.defineProperty({},"passive",{get:function(){return Gx=!0,!0}});window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{Gx=!1}var pl=Gx?{passive:!1}:!1,Oz=function(e){return e.tagName==="TEXTAREA"},WP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Oz(e)&&n[t]==="visible")},Lz=function(e){return WP(e,"overflowY")},Rz=function(e){return WP(e,"overflowX")},Q1=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=ZP(e,s);if(i){var a=GP(e,s),o=a[1],c=a[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Mz=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Iz=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},ZP=function(e,t){return e==="v"?Lz(t):Rz(t)},GP=function(e,t){return e==="v"?Mz(t):Iz(t)},Dz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Fz=function(e,t,n,s,i){var a=Dz(e,window.getComputedStyle(t).direction),o=a*s,c=n.target,d=t.contains(c),h=!1,f=o>0,m=0,u=0;do{if(!c)break;var p=GP(e,c),x=p[0],v=p[1],w=p[2],b=v-w-a*x;(x||b)&&ZP(e,c)&&(m+=b,u+=x);var y=c.parentNode;c=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(f&&(Math.abs(m)<1||!i)||!f&&(Math.abs(u)<1||!i))&&(h=!0),h},Gh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},J1=function(e){return[e.deltaX,e.deltaY]},eN=function(e){return e&&"current"in e?e.current:e},$z=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zz=0,gl=[];function Vz(e){var t=j.useRef([]),n=j.useRef([0,0]),s=j.useRef(),i=j.useState(zz++)[0],a=j.useState(HP)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=cz([e.lockRef.current],(e.shards||[]).map(eN),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=j.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=Gh(v),y=n.current,_="deltaX"in v?v.deltaX:y[0]-b[0],N="deltaY"in v?v.deltaY:y[1]-b[1],C,D=v.target,E=Math.abs(_)>Math.abs(N)?"h":"v";if("touches"in v&&E==="h"&&D.type==="range")return!1;var R=Q1(E,D);if(!R)return!0;if(R?C=E:(C=E==="v"?"h":"v",R=Q1(E,D)),!R)return!1;if(!s.current&&"changedTouches"in v&&(_||N)&&(s.current=C),!C)return!0;var A=s.current||C;return Fz(A,w,v,A==="h"?_:N,!0)},[]),d=j.useCallback(function(v){var w=v;if(!(!gl.length||gl[gl.length-1]!==a)){var b="deltaY"in w?J1(w):Gh(w),y=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&$z(C.delta,b)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var _=(o.current.shards||[]).map(eN).filter(Boolean).filter(function(C){return C.contains(w.target)}),N=_.length>0?c(w,_[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),h=j.useCallback(function(v,w,b,y){var _={name:v,delta:w,target:b,should:y,shadowParent:Uz(b)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(N){return N!==_})},1)},[]),f=j.useCallback(function(v){n.current=Gh(v),s.current=void 0},[]),m=j.useCallback(function(v){h(v.type,J1(v),v.target,c(v,e.lockRef.current))},[]),u=j.useCallback(function(v){h(v.type,Gh(v),v.target,c(v,e.lockRef.current))},[]);j.useEffect(function(){return gl.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:u}),document.addEventListener("wheel",d,pl),document.addEventListener("touchmove",d,pl),document.addEventListener("touchstart",f,pl),function(){gl=gl.filter(function(v){return v!==a}),document.removeEventListener("wheel",d,pl),document.removeEventListener("touchmove",d,pl),document.removeEventListener("touchstart",f,pl)}},[]);var p=e.removeScrollBar,x=e.inert;return j.createElement(j.Fragment,null,x?j.createElement(a,{styles:Bz(i)}):null,p?j.createElement(Az,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Uz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qz=xz(qP,Vz);var yp=j.forwardRef(function(e,t){return j.createElement(xp,Js({},e,{ref:t,sideCar:qz}))});yp.classNames=xp.classNames;var Kx=["Enter"," "],Hz=["ArrowDown","PageUp","Home"],KP=["ArrowUp","PageDown","End"],Wz=[...Hz,...KP],Zz={ltr:[...Kx,"ArrowRight"],rtl:[...Kx,"ArrowLeft"]},Gz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yu="Menu",[ku,Kz,Yz]=Jm(Yu),[tl,YP]=lr(Yu,[Yz,Ic,$c]),bp=Ic(),XP=$c(),[Xz,nl]=tl(Yu),[Qz,Xu]=tl(Yu),QP=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,c=bp(t),[d,h]=j.useState(null),f=j.useRef(!1),m=pn(a),u=Fc(i);return j.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(gb,{...c,children:r.jsx(Xz,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:h,children:r.jsx(Qz,{scope:t,onClose:j.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:u,modal:o,children:s})})})};QP.displayName=Yu;var Jz="MenuAnchor",Ab=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=bp(n);return r.jsx(vb,{...i,...s,ref:t})});Ab.displayName=Jz;var Ob="MenuPortal",[eV,JP]=tl(Ob,{forceMount:void 0}),eT=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=nl(Ob,t);return r.jsx(eV,{scope:t,forceMount:n,children:r.jsx(Kn,{present:n||a.open,children:r.jsx(Vu,{asChild:!0,container:i,children:s})})})};eT.displayName=Ob;var as="MenuContent",[tV,Lb]=tl(as),tT=j.forwardRef((e,t)=>{const n=JP(as,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=nl(as,e.__scopeMenu),o=Xu(as,e.__scopeMenu);return r.jsx(ku.Provider,{scope:e.__scopeMenu,children:r.jsx(Kn,{present:s||a.open,children:r.jsx(ku.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(nV,{...i,ref:t}):r.jsx(rV,{...i,ref:t})})})})}),nV=j.forwardRef((e,t)=>{const n=nl(as,e.__scopeMenu),s=j.useRef(null),i=dt(t,s);return j.useEffect(()=>{const a=s.current;if(a)return Tb(a)},[]),r.jsx(Rb,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),rV=j.forwardRef((e,t)=>{const n=nl(as,e.__scopeMenu);return r.jsx(Rb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),sV=qo("MenuContent.ScrollLock"),Rb=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:u,onDismiss:p,disableOutsideScroll:x,...v}=e,w=nl(as,n),b=Xu(as,n),y=bp(n),_=XP(n),N=Kz(n),[C,D]=j.useState(null),E=j.useRef(null),R=dt(t,E,w.onContentChange),A=j.useRef(0),k=j.useRef(""),O=j.useRef(0),P=j.useRef(null),T=j.useRef("right"),M=j.useRef(0),H=x?yp:j.Fragment,W=x?{as:sV,allowPinchZoom:!0}:void 0,Z=q=>{var U,te;const F=k.current+q,$=N().filter(re=>!re.disabled),z=document.activeElement,G=(U=$.find(re=>re.ref.current===z))==null?void 0:U.textValue,X=$.map(re=>re.textValue),J=gV(X,F,G),K=(te=$.find(re=>re.textValue===J))==null?void 0:te.ref.current;(function re(le){k.current=le,window.clearTimeout(A.current),le!==""&&(A.current=window.setTimeout(()=>re(""),1e3))})(F),K&&setTimeout(()=>K.focus())};j.useEffect(()=>()=>window.clearTimeout(A.current),[]),Cb();const B=j.useCallback(q=>{var $,z;return T.current===(($=P.current)==null?void 0:$.side)&&xV(q,(z=P.current)==null?void 0:z.area)},[]);return r.jsx(tV,{scope:n,searchRef:k,onItemEnter:j.useCallback(q=>{B(q)&&q.preventDefault()},[B]),onItemLeave:j.useCallback(q=>{var F;B(q)||((F=E.current)==null||F.focus(),D(null))},[B]),onTriggerLeave:j.useCallback(q=>{B(q)&&q.preventDefault()},[B]),pointerGraceTimerRef:O,onPointerGraceIntentChange:j.useCallback(q=>{P.current=q},[]),children:r.jsx(H,{...W,children:r.jsx(vp,{asChild:!0,trapped:i,onMountAutoFocus:Le(a,q=>{var F;q.preventDefault(),(F=E.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:u,onDismiss:p,children:r.jsx(Eb,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:D,onEntryFocus:Le(d,q=>{b.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(xb,{role:"menu","aria-orientation":"vertical","data-state":vT(w.open),"data-radix-menu-content":"",dir:b.dir,...y,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:Le(v.onKeyDown,q=>{const $=q.target.closest("[data-radix-menu-content]")===q.currentTarget,z=q.ctrlKey||q.altKey||q.metaKey,G=q.key.length===1;$&&(q.key==="Tab"&&q.preventDefault(),!z&&G&&Z(q.key));const X=E.current;if(q.target!==X||!Wz.includes(q.key))return;q.preventDefault();const K=N().filter(U=>!U.disabled).map(U=>U.ref.current);KP.includes(q.key)&&K.reverse(),mV(K)}),onBlur:Le(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(A.current),k.current="")}),onPointerMove:Le(e.onPointerMove,Cu(q=>{const F=q.target,$=M.current!==q.clientX;if(q.currentTarget.contains(F)&&$){const z=q.clientX>M.current?"right":"left";T.current=z,M.current=q.clientX}}))})})})})})})});tT.displayName=as;var iV="MenuGroup",Mb=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(We.div,{role:"group",...s,ref:t})});Mb.displayName=iV;var aV="MenuLabel",nT=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(We.div,{...s,ref:t})});nT.displayName=aV;var im="MenuItem",tN="menu.itemSelect",wp=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=j.useRef(null),o=Xu(im,e.__scopeMenu),c=Lb(im,e.__scopeMenu),d=dt(t,a),h=j.useRef(!1),f=()=>{const m=a.current;if(!n&&m){const u=new CustomEvent(tN,{bubbles:!0,cancelable:!0});m.addEventListener(tN,p=>s==null?void 0:s(p),{once:!0}),X0(m,u),u.defaultPrevented?h.current=!1:o.onClose()}};return r.jsx(rT,{...i,ref:d,disabled:n,onClick:Le(e.onClick,f),onPointerDown:m=>{var u;(u=e.onPointerDown)==null||u.call(e,m),h.current=!0},onPointerUp:Le(e.onPointerUp,m=>{var u;h.current||(u=m.currentTarget)==null||u.click()}),onKeyDown:Le(e.onKeyDown,m=>{const u=c.searchRef.current!=="";n||u&&m.key===" "||Kx.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});wp.displayName=im;var rT=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=Lb(im,n),c=XP(n),d=j.useRef(null),h=dt(t,d),[f,m]=j.useState(!1),[u,p]=j.useState("");return j.useEffect(()=>{const x=d.current;x&&p((x.textContent??"").trim())},[a.children]),r.jsx(ku.ItemSlot,{scope:n,disabled:s,textValue:i??u,children:r.jsx(Pb,{asChild:!0,...c,focusable:!s,children:r.jsx(We.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:h,onPointerMove:Le(e.onPointerMove,Cu(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(e.onPointerLeave,Cu(x=>o.onItemLeave(x))),onFocus:Le(e.onFocus,()=>m(!0)),onBlur:Le(e.onBlur,()=>m(!1))})})})}),oV="MenuCheckboxItem",sT=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(cT,{scope:e.__scopeMenu,checked:n,children:r.jsx(wp,{role:"menuitemcheckbox","aria-checked":am(n)?"mixed":n,...i,ref:t,"data-state":Db(n),onSelect:Le(i.onSelect,()=>s==null?void 0:s(am(n)?!0:!n),{checkForDefaultPrevented:!1})})})});sT.displayName=oV;var iT="MenuRadioGroup",[lV,cV]=tl(iT,{value:void 0,onValueChange:()=>{}}),aT=j.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=pn(s);return r.jsx(lV,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(Mb,{...i,ref:t})})});aT.displayName=iT;var oT="MenuRadioItem",lT=j.forwardRef((e,t)=>{const{value:n,...s}=e,i=cV(oT,e.__scopeMenu),a=n===i.value;return r.jsx(cT,{scope:e.__scopeMenu,checked:a,children:r.jsx(wp,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":Db(a),onSelect:Le(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});lT.displayName=oT;var Ib="MenuItemIndicator",[cT,dV]=tl(Ib,{checked:!1}),dT=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=dV(Ib,n);return r.jsx(Kn,{present:s||am(a.checked)||a.checked===!0,children:r.jsx(We.span,{...i,ref:t,"data-state":Db(a.checked)})})});dT.displayName=Ib;var uV="MenuSeparator",uT=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});uT.displayName=uV;var hV="MenuArrow",hT=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=bp(n);return r.jsx(yb,{...i,...s,ref:t})});hT.displayName=hV;var fV="MenuSub",[Lre,fT]=tl(fV),Td="MenuSubTrigger",mT=j.forwardRef((e,t)=>{const n=nl(Td,e.__scopeMenu),s=Xu(Td,e.__scopeMenu),i=fT(Td,e.__scopeMenu),a=Lb(Td,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:e.__scopeMenu},f=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>f,[f]),j.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),r.jsx(Ab,{asChild:!0,...h,children:r.jsx(rT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":vT(n.open),...e,ref:Qm(t,i.onTriggerChange),onClick:m=>{var u;(u=e.onClick)==null||u.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Le(e.onPointerMove,Cu(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Le(e.onPointerLeave,Cu(m=>{var p,x;f();const u=(p=n.content)==null?void 0:p.getBoundingClientRect();if(u){const v=(x=n.content)==null?void 0:x.dataset.side,w=v==="right",b=w?-5:5,y=u[w?"left":"right"],_=u[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+b,y:m.clientY},{x:y,y:u.top},{x:_,y:u.top},{x:_,y:u.bottom},{x:y,y:u.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Le(e.onKeyDown,m=>{var p;const u=a.searchRef.current!=="";e.disabled||u&&m.key===" "||Zz[s.dir].includes(m.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),m.preventDefault())})})})});mT.displayName=Td;var pT="MenuSubContent",gT=j.forwardRef((e,t)=>{const n=JP(as,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=nl(as,e.__scopeMenu),o=Xu(as,e.__scopeMenu),c=fT(pT,e.__scopeMenu),d=j.useRef(null),h=dt(t,d);return r.jsx(ku.Provider,{scope:e.__scopeMenu,children:r.jsx(Kn,{present:s||a.open,children:r.jsx(ku.Slot,{scope:e.__scopeMenu,children:r.jsx(Rb,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Le(e.onFocusOutside,f=>{f.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Le(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Le(e.onKeyDown,f=>{var p;const m=f.currentTarget.contains(f.target),u=Gz[o.dir].includes(f.key);m&&u&&(a.onOpenChange(!1),(p=c.trigger)==null||p.focus(),f.preventDefault())})})})})})});gT.displayName=pT;function vT(e){return e?"open":"closed"}function am(e){return e==="indeterminate"}function Db(e){return am(e)?"indeterminate":e?"checked":"unchecked"}function mV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function pV(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function gV(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=pV(e,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function vV(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],d=t[o],h=c.x,f=c.y,m=d.x,u=d.y;f>s!=u>s&&n<(m-h)*(s-f)/(u-f)+h&&(i=!i)}return i}function xV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return vV(n,t)}function Cu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var yV=QP,bV=Ab,wV=eT,jV=tT,_V=Mb,NV=nT,SV=wp,kV=sT,CV=aT,EV=lT,PV=dT,TV=uT,AV=hT,OV=mT,LV=gT,jp="DropdownMenu",[RV,Rre]=lr(jp,[YP]),br=YP(),[MV,xT]=RV(jp),yT=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=br(t),h=j.useRef(null),[f,m]=Rs({prop:i,defaultProp:a??!1,onChange:o,caller:jp});return r.jsx(MV,{scope:t,triggerId:As(),triggerRef:h,contentId:As(),open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(u=>!u),[m]),modal:c,children:r.jsx(yV,{...d,open:f,onOpenChange:m,dir:s,modal:c,children:n})})};yT.displayName=jp;var bT="DropdownMenuTrigger",wT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=xT(bT,n),o=br(n);return r.jsx(bV,{asChild:!0,...o,children:r.jsx(We.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Qm(t,a.triggerRef),onPointerDown:Le(e.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Le(e.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});wT.displayName=bT;var IV="DropdownMenuPortal",jT=e=>{const{__scopeDropdownMenu:t,...n}=e,s=br(t);return r.jsx(wV,{...s,...n})};jT.displayName=IV;var _T="DropdownMenuContent",NT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=xT(_T,n),a=br(n),o=j.useRef(!1);return r.jsx(jV,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:Le(e.onCloseAutoFocus,c=>{var d;o.current||(d=i.triggerRef.current)==null||d.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Le(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NT.displayName=_T;var DV="DropdownMenuGroup",FV=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(_V,{...i,...s,ref:t})});FV.displayName=DV;var $V="DropdownMenuLabel",ST=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(NV,{...i,...s,ref:t})});ST.displayName=$V;var BV="DropdownMenuItem",kT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(SV,{...i,...s,ref:t})});kT.displayName=BV;var zV="DropdownMenuCheckboxItem",CT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(kV,{...i,...s,ref:t})});CT.displayName=zV;var VV="DropdownMenuRadioGroup",UV=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(CV,{...i,...s,ref:t})});UV.displayName=VV;var qV="DropdownMenuRadioItem",ET=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(EV,{...i,...s,ref:t})});ET.displayName=qV;var HV="DropdownMenuItemIndicator",PT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(PV,{...i,...s,ref:t})});PT.displayName=HV;var WV="DropdownMenuSeparator",TT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(TV,{...i,...s,ref:t})});TT.displayName=WV;var ZV="DropdownMenuArrow",GV=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(AV,{...i,...s,ref:t})});GV.displayName=ZV;var KV="DropdownMenuSubTrigger",AT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(OV,{...i,...s,ref:t})});AT.displayName=KV;var YV="DropdownMenuSubContent",OT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=br(n);return r.jsx(LV,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OT.displayName=YV;var XV=yT,QV=wT,JV=jT,LT=NT,RT=ST,MT=kT,IT=CT,DT=ET,FT=PT,$T=TT,BT=AT,zT=OT;const vc=XV,xc=QV,e9=j.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(BT,{ref:i,className:Ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(fc,{className:"ml-auto h-4 w-4"})]}));e9.displayName=BT.displayName;const t9=j.forwardRef(({className:e,...t},n)=>r.jsx(zT,{ref:n,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));t9.displayName=zT.displayName;const Wo=j.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(JV,{children:r.jsx(LT,{ref:s,sideOffset:t,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Wo.displayName=LT.displayName;const po=j.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(MT,{ref:s,className:Ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));po.displayName=MT.displayName;const n9=j.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(IT,{ref:i,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(FT,{children:r.jsx(np,{className:"h-4 w-4"})})}),t]}));n9.displayName=IT.displayName;const r9=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(DT,{ref:s,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(FT,{children:r.jsx(jE,{className:"h-2 w-2 fill-current"})})}),t]}));r9.displayName=DT.displayName;const s9=j.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(RT,{ref:s,className:Ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));s9.displayName=RT.displayName;const i9=j.forwardRef(({className:e,...t},n)=>r.jsx($T,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));i9.displayName=$T.displayName;var VT={exports:{}},UT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=j;function a9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o9=typeof Object.is=="function"?Object.is:a9,l9=yc.useState,c9=yc.useEffect,d9=yc.useLayoutEffect,u9=yc.useDebugValue;function h9(e,t){var n=t(),s=l9({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return d9(function(){i.value=n,i.getSnapshot=t,pv(i)&&a({inst:i})},[e,n,t]),c9(function(){return pv(i)&&a({inst:i}),e(function(){pv(i)&&a({inst:i})})},[e]),u9(n),n}function pv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o9(e,n)}catch{return!0}}function f9(e,t){return t()}var m9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f9:h9;UT.useSyncExternalStore=yc.useSyncExternalStore!==void 0?yc.useSyncExternalStore:m9;VT.exports=UT;var p9=VT.exports;function g9(){return p9.useSyncExternalStore(v9,()=>!0,()=>!1)}function v9(){return()=>{}}var Fb="Avatar",[x9,Mre]=lr(Fb),[y9,qT]=x9(Fb),HT=j.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=j.useState("idle");return r.jsx(y9,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(We.span,{...s,ref:t})})});HT.displayName=Fb;var WT="AvatarImage",ZT=j.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=qT(WT,n),c=b9(s,a),d=pn(h=>{i(h),o.onImageLoadingStatusChange(h)});return Sn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?r.jsx(We.img,{...a,ref:t,src:s}):null});ZT.displayName=WT;var GT="AvatarFallback",KT=j.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=qT(GT,n),[o,c]=j.useState(s===void 0);return j.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(We.span,{...i,ref:t}):null});KT.displayName=GT;function nN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function b9(e,{referrerPolicy:t,crossOrigin:n}){const s=g9(),i=j.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,c]=j.useState(()=>nN(a,e));return Sn(()=>{c(nN(a,e))},[a,e]),Sn(()=>{const d=m=>()=>{c(m)};if(!a)return;const h=d("loaded"),f=d("error");return a.addEventListener("load",h),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",h),a.removeEventListener("error",f)}},[a,n,t]),o}var YT=HT,XT=ZT,QT=KT;const Gi=j.forwardRef(({className:e,...t},n)=>r.jsx(YT,{ref:n,className:Ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Gi.displayName=YT.displayName;const Ki=j.forwardRef(({className:e,...t},n)=>r.jsx(XT,{ref:n,className:Ve("aspect-square h-full w-full",e),...t}));Ki.displayName=XT.displayName;const Yi=j.forwardRef(({className:e,...t},n)=>r.jsx(QT,{ref:n,className:Ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Yi.displayName=QT.displayName;function w9(){const e=nt(),[t,n]=j.useState({city:"Getting location...",area:"Please wait"}),[s,i]=j.useState([]),[a,o]=j.useState(0),{notifications:c,unreadCount:d,markAsRead:h,markAllAsRead:f}=zB();j.useEffect(()=>{const x=async()=>{if(await Pe.isAuthenticated()){m();const w=setInterval(m,5e3);return()=>clearInterval(w)}};p(),x()},[]);const m=async()=>{try{const x=await $r.getConversations(),v=Array.isArray(x)?x:(x==null?void 0:x.results)||[];s.length>0&&v.forEach(b=>{var _,N;const y=s.find(C=>C.id===b.id);y&&b.unread_count>y.unread_count&&u(`New message from ${(_=b.other_participant)==null?void 0:_.username}`,((N=b.last_message)==null?void 0:N.content)||"New message received")}),i(v);const w=v.reduce((b,y)=>b+(y.unread_count||0),0);o(w)}catch(x){console.error("Failed to load conversations:",x)}},u=(x,v)=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(x,{body:v,icon:"/favicon.ico"})},p=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async x=>{const{latitude:v,longitude:w}=x.coords;try{const y=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${v}&lon=${w}&addressdetails=1`)).json();if(y.address){const _=y.address.road||y.address.neighbourhood,N=y.address.neighbourhood||y.address.suburb||y.address.city||y.address.town||y.address.village||y.address.county;n({city:_||N||"Unknown City",area:`${y.address.neighbourhood||y.address.suburb||y.address.city||y.address.town||y.address.state||""}${y.address.city_district?`, ${y.address.city_district}`:""}`})}else n({city:"Location found",area:`${v.toFixed(4)}, ${w.toFixed(4)}`})}catch{n({city:"Location unavailable",area:"Service error"})}},x=>{n({city:"Location denied",area:"Enable location access"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}):n({city:"Location not supported",area:"Browser not compatible"})};return r.jsxs("div",{className:"sticky top-0 z-50 flex items-center justify-between px-3 py-2 bg-card/95 backdrop-blur-sm border-b border-border/30 min-h-[60px]",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:Za,alt:"Ezeyway",className:"h-20 w-20 object-contain"})}),r.jsxs("div",{className:"flex items-center gap-1.5 cursor-pointer text-center",onClick:p,children:[r.jsx(Bt,{className:"h-3 w-3 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-foreground",children:t.city}),r.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.area})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(vc,{children:[r.jsx(xc,{asChild:!0,children:r.jsxs("button",{className:"p-1.5 hover:bg-muted rounded-lg transition-smooth relative",children:[r.jsx(Hl,{className:"h-5 w-5 text-foreground"}),a>0&&r.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-white font-bold",children:a>9?"9+":a})})]})}),r.jsxs(Wo,{align:"end",className:"w-80",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h4",{className:"font-semibold",children:"Messages"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/messages"),className:"text-xs",children:"View all"})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:s.length===0?r.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No messages"}):s.slice(0,5).map(x=>{var v,w,b,y,_,N;return r.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${x.unread_count>0?"bg-blue-50/50":""}`,onClick:()=>e("/messages"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gi,{className:"h-8 w-8",children:[r.jsx(Ki,{src:(v=x.other_participant)==null?void 0:v.profile_picture}),r.jsx(Yi,{children:(b=(w=x.other_participant)==null?void 0:w.username)==null?void 0:b.charAt(0)})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:(y=x.other_participant)==null?void 0:y.username}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((_=x.last_message)==null?void 0:_.content)||((N=x.last_message)==null?void 0:N.file_name)||"No messages"})]}),x.unread_count>0&&r.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-white font-bold",children:x.unread_count})})]})},x.id)})})]})]}),r.jsxs(vc,{children:[r.jsx(xc,{asChild:!0,children:r.jsxs("button",{className:"relative p-1.5 hover:bg-muted rounded-lg transition-smooth",children:[r.jsx(nr,{className:"h-5 w-5 text-foreground"}),d>0&&r.jsx(Me,{className:"absolute -top-0.5 -right-0.5 h-4 w-4 rounded-full p-0 text-[10px] flex items-center justify-center min-w-[16px] bg-destructive text-destructive-foreground",children:d>9?"9+":d})]})}),r.jsxs(Wo,{align:"end",className:"w-80",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h4",{className:"font-semibold",children:"Notifications"}),r.jsxs("div",{className:"flex gap-2",children:[d>0&&r.jsx(ne,{variant:"ghost",size:"sm",onClick:f,className:"text-xs",children:"Mark all read"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/notifications"),className:"text-xs",children:"View all"})]})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:c.length===0?r.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):c.slice(0,5).map(x=>r.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${x.read?"":"bg-blue-50/50"}`,onClick:()=>{h(x.id),x.action_url&&e(x.action_url)},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${x.read?"bg-transparent":"bg-blue-500"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`text-sm font-medium ${x.read?"text-gray-700":"text-gray-900"}`,children:x.title}),r.jsx("p",{className:`text-sm ${x.read?"text-gray-600":"text-gray-700"}`,children:x.message}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(x.created_at).toLocaleString()})]}),r.jsx(Me,{variant:"outline",className:`text-xs ${x.type==="order"?"border-green-200 text-green-700":x.type==="payment"?"border-blue-200 text-blue-700":x.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:x.type})]})},x.id))})]})]})]})]})}const j9=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function _9(){const[e,t]=j.useState(""),[n,s]=j.useState([]),[i,a]=j.useState(!1),[o,c]=j.useState(!1),d=nt();cn();const h=j.useRef(null),f=j.useRef(null);j.useEffect(()=>{const b=y=>{h.current&&!h.current.contains(y.target)&&f.current&&!f.current.contains(y.target)&&a(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),j.useEffect(()=>{e.trim().length>1?m(e.trim()):(s([]),a(!1))},[e]);const m=async b=>{c(!0);try{const y=await Pe.getToken(),_=y?{Authorization:`Token ${y}`}:{},N=xt.getLocation(),C=new URLSearchParams({search:b,page_size:"5"});N&&(C.append("latitude",N.latitude.toString()),C.append("longitude",N.longitude.toString()));const E=await(await fetch(`${tt}api/search/products/?${C}`,{headers:_})).json(),R=u(E.results||[]);s(R),a(!0)}catch(y){console.error("Search error:",y)}finally{c(!1)}},u=b=>{const y=xt.getLocation();return b.map(_=>{var D,E;const N=((D=_.images)==null?void 0:D.find(R=>R.is_primary))||((E=_.images)==null?void 0:E[0]);let C="N/A";return y&&_.vendor_latitude&&_.vendor_longitude&&(C=`${j9(y.latitude,y.longitude,_.vendor_latitude,_.vendor_longitude).toFixed(1)} km`),{id:_.id,name:_.name,vendor:_.vendor_name||"Unknown Vendor",price:`${_.price}`,image:(N==null?void 0:N.image_url)||"/placeholder-product.jpg",distance:C,category:_.category}})},p=b=>{b.preventDefault(),e.trim()&&(d(`/search?q=${encodeURIComponent(e.trim())}`),a(!1))},x=b=>{t(b.target.value)},v=b=>{d(`/product/${b}`),a(!1),t("")},w=()=>{e.trim()&&(d(`/search?q=${encodeURIComponent(e.trim())}`),a(!1))};return r.jsxs("div",{className:"px-3 py-2 bg-background relative",children:[r.jsx("form",{onSubmit:p,className:"flex gap-2",children:r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ro,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx("input",{ref:f,type:"text",placeholder:"Search products, vendors...",value:e,onChange:x,className:"w-full pl-9 pr-3 py-2.5 bg-muted/50 border border-border/50 rounded-lg text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-smooth"})]})}),i&&r.jsx("div",{ref:h,className:"absolute top-full left-3 right-3 mt-1 bg-white border border-border rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:o?r.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Searching..."}):n.length>0?r.jsxs(r.Fragment,{children:[n.map(b=>r.jsxs("div",{onClick:()=>v(b.id),className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer border-b border-border/50 last:border-b-0",children:[r.jsx("img",{src:b.image,alt:b.name,className:"w-10 h-10 object-cover rounded",onError:y=>{y.target.src="/placeholder-product.jpg"}}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-sm truncate",children:b.name}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:b.vendor}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs font-medium text-primary",children:b.price}),r.jsx("span",{className:"text-xs text-muted-foreground",children:b.distance})]})]})]},b.id)),r.jsx("div",{className:"p-3 border-t border-border",children:r.jsxs("button",{onClick:w,className:"w-full text-center text-sm text-primary hover:text-primary/80 font-medium",children:['View all results for "',e,'"']})})]}):e.trim().length>1?r.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:['No results found for "',e,'"']}):null})]})}const $b=j.createContext({});function rl(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bb=typeof window<"u",zb=Bb?j.useLayoutEffect:j.useEffect,_p=j.createContext(null);function Vb(e,t){e.indexOf(t)===-1&&e.push(t)}function Ub(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function N9([...e],t,n){const s=t<0?e.length+t:t;if(s>=0&&s<e.length){const i=n<0?e.length+n:n,[a]=e.splice(t,1);e.splice(i,0,a)}return e}const Xi=(e,t,n)=>n>t?t:n<e?e:n;let om=()=>{};const Qi={},JT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function eA(e){return typeof e=="object"&&e!==null}const tA=e=>/^0[^.\s]+$/u.test(e);function qb(e){let t;return()=>(t===void 0&&(t=e()),t)}const os=e=>e,S9=(e,t)=>n=>t(e(n)),Qu=(...e)=>e.reduce(S9),Eu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Hb{constructor(){this.subscriptions=[]}add(t){return Vb(this.subscriptions,t),()=>Ub(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ai=e=>e*1e3,oi=e=>e/1e3;function nA(e,t){return t?e*(1e3/t):0}const rA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,k9=1e-7,C9=12;function E9(e,t,n,s,i){let a,o,c=0;do o=t+(n-t)/2,a=rA(o,s,i)-e,a>0?n=o:t=o;while(Math.abs(a)>k9&&++c<C9);return o}function Ju(e,t,n,s){if(e===t&&n===s)return os;const i=a=>E9(a,0,1,e,n);return a=>a===0||a===1?a:rA(i(a),t,s)}const sA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iA=e=>t=>1-e(1-t),aA=Ju(.33,1.53,.69,.99),Wb=iA(aA),oA=sA(Wb),lA=e=>(e*=2)<1?.5*Wb(e):.5*(2-Math.pow(2,-10*(e-1))),Zb=e=>1-Math.sin(Math.acos(e)),cA=iA(Zb),dA=sA(Zb),P9=Ju(.42,0,1,1),T9=Ju(0,0,.58,1),uA=Ju(.42,0,.58,1),A9=e=>Array.isArray(e)&&typeof e[0]!="number",hA=e=>Array.isArray(e)&&typeof e[0]=="number",rN={linear:os,easeIn:P9,easeInOut:uA,easeOut:T9,circIn:Zb,circInOut:dA,circOut:cA,backIn:Wb,backInOut:oA,backOut:aA,anticipate:lA},O9=e=>typeof e=="string",sN=e=>{if(hA(e)){om(e.length===4);const[t,n,s,i]=e;return Ju(t,n,s,i)}else if(O9(e))return om(rN[e]!==void 0),rN[e];return e},Kh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],iN={value:null,addProjectionMetrics:null};function L9(e,t){let n=new Set,s=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function h(m){o.has(m)&&(f.schedule(m),e()),d++,m(c)}const f={schedule:(m,u=!1,p=!1)=>{const v=p&&i?n:s;return u&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{s.delete(m),o.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(h),t&&iN.value&&iN.value.frameloop[t].push(d),d=0,n.clear(),i=!1,a&&(a=!1,f.process(m))}};return f}const R9=40;function fA(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Kh.reduce((_,N)=>(_[N]=L9(a,t?N:void 0),_),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:f,update:m,preRender:u,render:p,postRender:x}=o,v=()=>{const _=Qi.useManualTiming?i.timestamp:performance.now();n=!1,Qi.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(_-i.timestamp,R9),1)),i.timestamp=_,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),f.process(i),m.process(i),u.process(i),p.process(i),x.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(v))},w=()=>{n=!0,s=!0,i.isProcessing||e(v)};return{schedule:Kh.reduce((_,N)=>{const C=o[N];return _[N]=(D,E=!1,R=!1)=>(n||w(),C.schedule(D,E,R)),_},{}),cancel:_=>{for(let N=0;N<Kh.length;N++)o[Kh[N]].cancel(_)},state:i,steps:o}}const{schedule:Yt,cancel:Ji,state:qn,steps:gv}=fA(typeof requestAnimationFrame<"u"?requestAnimationFrame:os,!0);let yf;function M9(){yf=void 0}const Cr={now:()=>(yf===void 0&&Cr.set(qn.isProcessing||Qi.useManualTiming?qn.timestamp:performance.now()),yf),set:e=>{yf=e,queueMicrotask(M9)}},mA=e=>t=>typeof t=="string"&&t.startsWith(e),Gb=mA("--"),I9=mA("var(--"),Kb=e=>I9(e)?D9.test(e.split("/*")[0].trim()):!1,D9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pu={...Bc,transform:e=>Xi(0,1,e)},Yh={...Bc,default:1},Hd=e=>Math.round(e*1e5)/1e5,Yb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F9(e){return e==null}const $9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xb=(e,t)=>n=>!!(typeof n=="string"&&$9.test(n)&&n.startsWith(e)||t&&!F9(n)&&Object.prototype.hasOwnProperty.call(n,t)),pA=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,c]=s.match(Yb);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},B9=e=>Xi(0,255,e),vv={...Bc,transform:e=>Math.round(B9(e))},jo={test:Xb("rgb","red"),parse:pA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+vv.transform(e)+", "+vv.transform(t)+", "+vv.transform(n)+", "+Hd(Pu.transform(s))+")"};function z9(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Yx={test:Xb("#"),parse:z9,transform:jo.transform},eh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pa=eh("deg"),li=eh("%"),st=eh("px"),V9=eh("vh"),U9=eh("vw"),aN={...li,parse:e=>li.parse(e)/100,transform:e=>li.transform(e*100)},Ll={test:Xb("hsl","hue"),parse:pA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+li.transform(Hd(t))+", "+li.transform(Hd(n))+", "+Hd(Pu.transform(s))+")"},Pn={test:e=>jo.test(e)||Yx.test(e)||Ll.test(e),parse:e=>jo.test(e)?jo.parse(e):Ll.test(e)?Ll.parse(e):Yx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?jo.transform(e):Ll.transform(e),getAnimatableNone:e=>{const t=Pn.parse(e);return t.alpha=0,Pn.transform(t)}},q9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function H9(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Yb))==null?void 0:t.length)||0)+(((n=e.match(q9))==null?void 0:n.length)||0)>0}const gA="number",vA="color",W9="var",Z9="var(",oN="${}",G9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const c=t.replace(G9,d=>(Pn.test(d)?(s.color.push(a),i.push(vA),n.push(Pn.parse(d))):d.startsWith(Z9)?(s.var.push(a),i.push(W9),n.push(d)):(s.number.push(a),i.push(gA),n.push(parseFloat(d))),++a,oN)).split(oN);return{values:n,split:c,indexes:s,types:i}}function xA(e){return Tu(e).values}function yA(e){const{split:t,types:n}=Tu(e),s=t.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],i[o]!==void 0){const c=n[o];c===gA?a+=Hd(i[o]):c===vA?a+=Pn.transform(i[o]):a+=i[o]}return a}}const K9=e=>typeof e=="number"?0:Pn.test(e)?Pn.getAnimatableNone(e):e;function Y9(e){const t=xA(e);return yA(e)(t.map(K9))}const Ga={test:H9,parse:xA,createTransformer:yA,getAnimatableNone:Y9};function xv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function X9({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;i=xv(d,c,e+1/3),a=xv(d,c,e),o=xv(d,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function lm(e,t){return n=>n>0?t:e}const Jt=(e,t,n)=>e+(t-e)*n,yv=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Q9=[Yx,jo,Ll],J9=e=>Q9.find(t=>t.test(e));function lN(e){const t=J9(e);if(!t)return!1;let n=t.parse(e);return t===Ll&&(n=X9(n)),n}const cN=(e,t)=>{const n=lN(e),s=lN(t);if(!n||!s)return lm(e,t);const i={...n};return a=>(i.red=yv(n.red,s.red,a),i.green=yv(n.green,s.green,a),i.blue=yv(n.blue,s.blue,a),i.alpha=Jt(n.alpha,s.alpha,a),jo.transform(i))},Xx=new Set(["none","hidden"]);function e7(e,t){return Xx.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function t7(e,t){return n=>Jt(e,t,n)}function Qb(e){return typeof e=="number"?t7:typeof e=="string"?Kb(e)?lm:Pn.test(e)?cN:s7:Array.isArray(e)?bA:typeof e=="object"?Pn.test(e)?cN:n7:lm}function bA(e,t){const n=[...e],s=n.length,i=e.map((a,o)=>Qb(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function n7(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Qb(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function r7(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],c=e.values[o]??0;n[i]=c,s[a]++}return n}const s7=(e,t)=>{const n=Ga.createTransformer(t),s=Tu(e),i=Tu(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Xx.has(e)&&!i.values.length||Xx.has(t)&&!s.values.length?e7(e,t):Qu(bA(r7(s,i),i.values),n):lm(e,t)};function wA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Jt(e,t,n):Qb(e)(e,t)}const i7=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Yt.update(t,n),stop:()=>Ji(t),now:()=>qn.isProcessing?qn.timestamp:Cr.now()}},jA=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},cm=2e4;function Jb(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<cm;)t+=n,s=e.next(t);return t>=cm?1/0:t}function a7(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Jb(s),cm);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:oi(i)}}const o7=5;function _A(e,t,n){const s=Math.max(t-o7,0);return nA(n-e(s),t-s)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bv=.001;function l7({duration:e=hn.duration,bounce:t=hn.bounce,velocity:n=hn.velocity,mass:s=hn.mass}){let i,a,o=1-t;o=Xi(hn.minDamping,hn.maxDamping,o),e=Xi(hn.minDuration,hn.maxDuration,oi(e)),o<1?(i=h=>{const f=h*o,m=f*e,u=f-n,p=Qx(h,o),x=Math.exp(-m);return bv-u/p*x},a=h=>{const m=h*o*e,u=m*n+n,p=Math.pow(o,2)*Math.pow(h,2)*e,x=Math.exp(-m),v=Qx(Math.pow(h,2),o);return(-i(h)+bv>0?-1:1)*((u-p)*x)/v}):(i=h=>{const f=Math.exp(-h*e),m=(h-n)*e+1;return-bv+f*m},a=h=>{const f=Math.exp(-h*e),m=(n-h)*(e*e);return f*m});const c=5/e,d=d7(i,a,c);if(e=ai(e),isNaN(d))return{stiffness:hn.stiffness,damping:hn.damping,duration:e};{const h=Math.pow(d,2)*s;return{stiffness:h,damping:o*2*Math.sqrt(s*h),duration:e}}}const c7=12;function d7(e,t,n){let s=n;for(let i=1;i<c7;i++)s=s-e(s)/t(s);return s}function Qx(e,t){return e*Math.sqrt(1-t*t)}const u7=["duration","bounce"],h7=["stiffness","damping","mass"];function dN(e,t){return t.some(n=>e[n]!==void 0)}function f7(e){let t={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...e};if(!dN(e,h7)&&dN(e,u7))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Xi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:hn.mass,stiffness:i,damping:a}}else{const n=l7(e);t={...t,...n,mass:hn.mass},t.isResolvedFromDuration=!0}return t}function dm(e=hn.visualDuration,t=hn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:f,duration:m,velocity:u,isResolvedFromDuration:p}=f7({...n,velocity:-oi(n.velocity||0)}),x=u||0,v=h/(2*Math.sqrt(d*f)),w=o-a,b=oi(Math.sqrt(d/f)),y=Math.abs(w)<5;s||(s=y?hn.restSpeed.granular:hn.restSpeed.default),i||(i=y?hn.restDelta.granular:hn.restDelta.default);let _;if(v<1){const C=Qx(b,v);_=D=>{const E=Math.exp(-v*b*D);return o-E*((x+v*b*w)/C*Math.sin(C*D)+w*Math.cos(C*D))}}else if(v===1)_=C=>o-Math.exp(-b*C)*(w+(x+b*w)*C);else{const C=b*Math.sqrt(v*v-1);_=D=>{const E=Math.exp(-v*b*D),R=Math.min(C*D,300);return o-E*((x+v*b*w)*Math.sinh(R)+C*w*Math.cosh(R))/C}}const N={calculatedDuration:p&&m||null,next:C=>{const D=_(C);if(p)c.done=C>=m;else{let E=C===0?x:0;v<1&&(E=C===0?ai(x):_A(_,C,D));const R=Math.abs(E)<=s,A=Math.abs(o-D)<=i;c.done=R&&A}return c.value=c.done?o:D,c},toString:()=>{const C=Math.min(Jb(N),cm),D=jA(E=>N.next(C*E).value,C,30);return C+"ms "+D},toTransition:()=>{}};return N}dm.applyToOptions=e=>{const t=a7(e,100,dm);return e.ease=t.ease,e.duration=ai(t.duration),e.type="keyframes",e};function Jx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:f}){const m=e[0],u={done:!1,value:m},p=R=>c!==void 0&&R<c||d!==void 0&&R>d,x=R=>c===void 0?d:d===void 0||Math.abs(c-R)<Math.abs(d-R)?c:d;let v=n*t;const w=m+v,b=o===void 0?w:o(w);b!==w&&(v=b-m);const y=R=>-v*Math.exp(-R/s),_=R=>b+y(R),N=R=>{const A=y(R),k=_(R);u.done=Math.abs(A)<=h,u.value=u.done?b:k};let C,D;const E=R=>{p(u.value)&&(C=R,D=dm({keyframes:[u.value,x(u.value)],velocity:_A(_,R,u.value),damping:i,stiffness:a,restDelta:h,restSpeed:f}))};return E(0),{calculatedDuration:null,next:R=>{let A=!1;return!D&&C===void 0&&(A=!0,N(R),E(R)),C!==void 0&&R>=C?D.next(R-C):(!A&&N(R),u)}}}function m7(e,t,n){const s=[],i=n||Qi.mix||wA,a=e.length-1;for(let o=0;o<a;o++){let c=i(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||os:t;c=Qu(d,c)}s.push(c)}return s}function NA(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(om(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=m7(t,s,i),d=c.length,h=f=>{if(o&&f<e[0])return t[0];let m=0;if(d>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const u=Eu(e[m],e[m+1],f);return c[m](u)};return n?f=>h(Xi(e[0],e[a-1],f)):h}function p7(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Eu(0,t,s);e.push(Jt(n,1,i))}}function g7(e){const t=[0];return p7(t,e.length-1),t}function v7(e,t){return e.map(n=>n*t)}function x7(e,t){return e.map(()=>t||uA).splice(0,e.length-1)}function Wd({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=A9(s)?s.map(sN):sN(s),a={done:!1,value:t[0]},o=v7(n&&n.length===t.length?n:g7(t),e),c=NA(o,t,{ease:Array.isArray(i)?i:x7(t,i)});return{calculatedDuration:e,next:d=>(a.value=c(d),a.done=d>=e,a)}}const y7=e=>e!==null;function ew(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(y7),c=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!c||s===void 0?a[c]:s}const b7={decay:Jx,inertia:Jx,tween:Wd,keyframes:Wd,spring:dm};function SA(e){typeof e.type=="string"&&(e.type=b7[e.type])}class tw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const w7=e=>e/100;class nw extends tw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Cr.now()&&this.tick(Cr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;SA(t);const{type:n=Wd,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:c}=t;const d=n||Wd;d!==Wd&&typeof c[0]!="number"&&(this.mixKeyframes=Qu(w7,wA(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Jb(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:u,repeatDelay:p,type:x,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-h*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,N=s;if(m){const R=Math.min(this.currentTime,i)/c;let A=Math.floor(R),k=R%1;!k&&R>=1&&(k=1),k===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(u==="reverse"?(k=1-k,p&&(k-=p/c)):u==="mirror"&&(N=o)),_=Xi(0,1,k)*c}const C=y?{done:!1,value:f[0]}:N.next(_);a&&(C.value=a(C.value));let{done:D}=C;!y&&d!==null&&(D=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return E&&x!==Jx&&(C.value=ew(f,this.options,w,this.speed)),v&&v(C.value),E&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return oi(this.calculatedDuration)}get time(){return oi(this.currentTime)}set time(t){var n;t=ai(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Cr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=oi(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=i7,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function j7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _o=e=>e*180/Math.PI,ey=e=>{const t=_o(Math.atan2(e[1],e[0]));return ty(t)},_7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ey,rotateZ:ey,skewX:e=>_o(Math.atan(e[1])),skewY:e=>_o(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ty=e=>(e=e%360,e<0&&(e+=360),e),uN=ey,hN=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fN=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),N7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hN,scaleY:fN,scale:e=>(hN(e)+fN(e))/2,rotateX:e=>ty(_o(Math.atan2(e[6],e[5]))),rotateY:e=>ty(_o(Math.atan2(-e[2],e[0]))),rotateZ:uN,rotate:uN,skewX:e=>_o(Math.atan(e[4])),skewY:e=>_o(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ny(e){return e.includes("scale")?1:0}function ry(e,t){if(!e||e==="none")return ny(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=N7,i=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=_7,i=c}if(!i)return ny(t);const a=s[t],o=i[1].split(",").map(k7);return typeof a=="function"?a(o):o[a]}const S7=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ry(n,t)};function k7(e){return parseFloat(e.trim())}const zc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vc=new Set(zc),mN=e=>e===Bc||e===st,C7=new Set(["x","y","z"]),E7=zc.filter(e=>!C7.has(e));function P7(e){const t=[];return E7.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Io={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ry(t,"x"),y:(e,{transform:t})=>ry(t,"y")};Io.translateX=Io.x;Io.translateY=Io.y;const Do=new Set;let sy=!1,iy=!1,ay=!1;function kA(){if(iy){const e=Array.from(Do).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=P7(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var c;(c=s.getValue(a))==null||c.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}iy=!1,sy=!1,Do.forEach(e=>e.complete(ay)),Do.clear()}function CA(){Do.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(iy=!0)})}function T7(){ay=!0,CA(),kA(),ay=!1}class rw{constructor(t,n,s,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Do.add(this),sy||(sy=!0,Yt.read(CA),Yt.resolveKeyframes(kA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const c=s.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}j7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Do.delete(this)}cancel(){this.state==="scheduled"&&(Do.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const A7=e=>e.startsWith("--");function O7(e,t,n){A7(t)?e.style.setProperty(t,n):e.style[t]=n}const L7=qb(()=>window.ScrollTimeline!==void 0),R7={};function M7(e,t){const n=qb(e);return()=>R7[t]??n()}const EA=M7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ad=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,pN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ad([0,.65,.55,1]),circOut:Ad([.55,0,1,.45]),backIn:Ad([.31,.01,.66,-.59]),backOut:Ad([.33,1.53,.69,.99])};function PA(e,t){if(e)return typeof e=="function"?EA()?jA(e,t):"ease-out":hA(e)?Ad(e):Array.isArray(e)?e.map(n=>PA(n,t)||pN.easeOut):pN[e]}function I7(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const f={[t]:n};d&&(f.offset=d);const m=PA(c,i);Array.isArray(m)&&(f.easing=m);const u={delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(u.pseudoElement=h),e.animate(f,u)}function TA(e){return typeof e=="function"&&"applyToOptions"in e}function D7({type:e,...t}){return TA(e)&&EA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class F7 extends tw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,om(typeof t.type!="string");const h=D7(t);this.animation=I7(n,s,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=ew(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):O7(n,s,f),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return oi(Number(t))}get time(){return oi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ai(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&L7()?(this.animation.timeline=t,os):n(this)}}const AA={anticipate:lA,backInOut:oA,circInOut:dA};function $7(e){return e in AA}function B7(e){typeof e.ease=="string"&&$7(e.ease)&&(e.ease=AA[e.ease])}const gN=10;class z7 extends F7{constructor(t){B7(t),SA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new nw({...o,autoplay:!1}),d=ai(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-gN).value,c.sample(d).value,gN),c.stop()}}const vN=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ga.test(e)||e==="0")&&!e.startsWith("url("));function V7(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function U7(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=vN(i,t),c=vN(a,t);return!o||!c?!1:V7(e)||(n==="spring"||TA(n))&&s}function oy(e){e.duration=0,e.type}const q7=new Set(["opacity","clipPath","filter","transform"]),H7=qb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function W7(e){var f;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return H7()&&n&&q7.has(n)&&(n!=="transform"||!h)&&!d&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}const Z7=40;class G7 extends tw{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:f,...m}){var x;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Cr.now();const u={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:f,...m},p=(f==null?void 0:f.KeyframeResolver)||rw;this.keyframeResolver=new p(c,(v,w,b)=>this.onKeyframesResolved(v,w,u,!b),d,h,f),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:f}=s;this.resolvedAt=Cr.now(),U7(t,a,o,c)||((Qi.instantAnimations||!d)&&(f==null||f(ew(t,s,n))),t[0]=t[t.length-1],oy(s),s.repeat=0);const u={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Z7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},p=!h&&W7(u)?new z7({...u,element:u.motionValue.owner.current}):new nw(u);p.finished.then(()=>this.notifyFinished()).catch(os),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),T7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const K7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y7(e){const t=K7.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function OA(e,t,n=1){const[s,i]=Y7(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return JT(o)?parseFloat(o):o}return Kb(i)?OA(i,t,n+1):i}function sw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const LA=new Set(["width","height","top","left","right","bottom",...zc]),X7={test:e=>e==="auto",parse:e=>e},RA=e=>t=>t.test(e),MA=[Bc,st,li,pa,U9,V9,X7],xN=e=>MA.find(RA(e));function Q7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tA(e):!0}const J7=new Set(["brightness","contrast","saturate","opacity"]);function eU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Yb)||[];if(!s)return e;const i=n.replace(s,"");let a=J7.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const tU=/\b([a-z-]*)\(.*?\)/gu,ly={...Ga,getAnimatableNone:e=>{const t=e.match(tU);return t?t.map(eU).join(" "):e}},yN={...Bc,transform:Math.round},nU={rotate:pa,rotateX:pa,rotateY:pa,rotateZ:pa,scale:Yh,scaleX:Yh,scaleY:Yh,scaleZ:Yh,skew:pa,skewX:pa,skewY:pa,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:Pu,originX:aN,originY:aN,originZ:st},iw={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st,...nU,zIndex:yN,fillOpacity:Pu,strokeOpacity:Pu,numOctaves:yN},rU={...iw,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:ly,WebkitFilter:ly},IA=e=>rU[e];function DA(e,t){let n=IA(e);return n!==ly&&(n=Ga),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sU=new Set(["auto","none","0"]);function iU(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!sU.has(a)&&Tu(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=DA(n,i)}class aU extends rw{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Kb(h))){const f=OA(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!LA.has(s)||t.length!==2)return;const[i,a]=t,o=xN(i),c=xN(a);if(o!==c)if(mN(o)&&mN(c))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Io[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||Q7(t[i]))&&s.push(i);s.length&&iU(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Io[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Io[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function oU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const FA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function $A(e){return eA(e)&&"offsetHeight"in e}const bN=30,lU=e=>!isNaN(parseFloat(e)),Zd={current:void 0};class cU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const i=Cr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Cr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Hb);const s=this.events[t].add(n);return t==="change"?()=>{s(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Zd.current&&Zd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bN);return nA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zo(e,t){return new cU(e,t)}const{schedule:aw,cancel:Ire}=fA(queueMicrotask,!1),xs={x:!1,y:!1};function BA(){return xs.x||xs.y}function dU(e){return e==="x"||e==="y"?xs[e]?null:(xs[e]=!0,()=>{xs[e]=!1}):xs.x||xs.y?null:(xs.x=xs.y=!0,()=>{xs.x=xs.y=!1})}function zA(e,t){const n=oU(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function wN(e){return!(e.pointerType==="touch"||BA())}function uU(e,t,n={}){const[s,i,a]=zA(e,n),o=c=>{if(!wN(c))return;const{target:d}=c,h=t(d,c);if(typeof h!="function"||!d)return;const f=m=>{wN(m)&&(h(m),d.removeEventListener("pointerleave",f))};d.addEventListener("pointerleave",f,i)};return s.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const VA=(e,t)=>t?e===t?!0:VA(e,t.parentElement):!1,ow=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fU(e){return hU.has(e.tagName)||e.tabIndex!==-1}const bf=new WeakSet;function jN(e){return t=>{t.key==="Enter"&&e(t)}}function wv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mU=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=jN(()=>{if(bf.has(n))return;wv(n,"down");const i=jN(()=>{wv(n,"up")}),a=()=>wv(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function _N(e){return ow(e)&&!BA()}function pU(e,t,n={}){const[s,i,a]=zA(e,n),o=c=>{const d=c.currentTarget;if(!_N(c))return;bf.add(d);const h=t(d,c),f=(p,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",u),bf.has(d)&&bf.delete(d),_N(p)&&typeof h=="function"&&h(p,{success:x})},m=p=>{f(p,d===window||d===document||n.useGlobalTarget||VA(d,p.target))},u=p=>{f(p,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",u,i)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),$A(c)&&(c.addEventListener("focus",h=>mU(h,i)),!fU(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function UA(e){return eA(e)&&"ownerSVGElement"in e}function gU(e){return UA(e)&&e.tagName==="svg"}function vU(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],i=e[1+n],a=e[2+n],o=e[3+n],c=NA(i,a,o);return t?c(s):c}const Hn=e=>!!(e&&e.getVelocity),xU=[...MA,Pn,Ga],yU=e=>xU.find(RA(e)),Np=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class bU extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=$A(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wU({children:e,isPresent:t,anchorX:n,root:s}){const i=j.useId(),a=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(Np);return j.useInsertionEffect(()=>{const{width:d,height:h,top:f,left:m,right:u}=o.current;if(t||!a.current||!d||!h)return;const p=n==="left"?`left: ${m}`:`right: ${u}`;a.current.dataset.motionPopId=i;const x=document.createElement("style");c&&(x.nonce=c);const v=s??document.head;return v.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(x)&&v.removeChild(x)}},[t]),r.jsx(bU,{isPresent:t,childRef:a,sizeRef:o,children:j.cloneElement(e,{ref:a})})}const jU=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=rl(_U),f=j.useId();let m=!0,u=j.useMemo(()=>(m=!1,{id:f,initial:t,isPresent:n,custom:i,onExitComplete:p=>{h.set(p,!0);for(const x of h.values())if(!x)return;s&&s()},register:p=>(h.set(p,!1),()=>h.delete(p))}),[n,h,s]);return a&&m&&(u={...u}),j.useMemo(()=>{h.forEach((p,x)=>h.set(x,!1))},[n]),j.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),o==="popLayout"&&(e=r.jsx(wU,{isPresent:n,anchorX:c,root:d,children:e})),r.jsx(_p.Provider,{value:u,children:e})};function _U(){return new Map}function qA(e=!0){const t=j.useContext(_p);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=j.useId();j.useEffect(()=>{if(e)return i(a)},[e]);const o=j.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const Xh=e=>e.key||"";function NN(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const SN=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,f]=qA(o),m=j.useMemo(()=>NN(e),[e]),u=o&&!h?[]:m.map(Xh),p=j.useRef(!0),x=j.useRef(m),v=rl(()=>new Map),[w,b]=j.useState(m),[y,_]=j.useState(m);zb(()=>{p.current=!1,x.current=m;for(let D=0;D<y.length;D++){const E=Xh(y[D]);u.includes(E)?v.delete(E):v.get(E)!==!0&&v.set(E,!1)}},[y,u.length,u.join("-")]);const N=[];if(m!==w){let D=[...m];for(let E=0;E<y.length;E++){const R=y[E],A=Xh(R);u.includes(A)||(D.splice(E,0,R),N.push(R))}return a==="wait"&&N.length&&(D=N),_(NN(D)),b(m),null}const{forceRender:C}=j.useContext($b);return r.jsx(r.Fragment,{children:y.map(D=>{const E=Xh(D),R=o&&!h?!1:m===y||u.includes(E),A=()=>{if(v.has(E))v.set(E,!0);else return;let k=!0;v.forEach(O=>{O||(k=!1)}),k&&(C==null||C(),_(x.current),o&&(f==null||f()),s&&s())};return r.jsx(jU,{isPresent:R,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:R?void 0:A,anchorX:c,children:D},E)})})},HA=j.createContext({strict:!1}),kN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bc={};for(const e in kN)bc[e]={isEnabled:t=>kN[e].some(n=>!!t[n])};function NU(e){for(const t in e)bc[t]={...bc[t],...e[t]}}const SU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function um(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SU.has(e)}let WA=e=>!um(e);function kU(e){typeof e=="function"&&(WA=t=>t.startsWith("on")?!um(t):e(t))}try{kU(require("@emotion/is-prop-valid").default)}catch{}function CU(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(WA(i)||n===!0&&um(i)||!t&&!um(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const Sp=j.createContext({});function kp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Au(e){return typeof e=="string"||Array.isArray(e)}const lw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cw=["initial",...lw];function Cp(e){return kp(e.animate)||cw.some(t=>Au(e[t]))}function ZA(e){return!!(Cp(e)||e.variants)}function EU(e,t){if(Cp(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Au(n)?n:void 0,animate:Au(s)?s:void 0}}return e.inherit!==!1?t:{}}function PU(e){const{initial:t,animate:n}=EU(e,j.useContext(Sp));return j.useMemo(()=>({initial:t,animate:n}),[CN(t),CN(n)])}function CN(e){return Array.isArray(e)?e.join(" "):e}const Ou={};function TU(e){for(const t in e)Ou[t]=e[t],Gb(t)&&(Ou[t].isCSSVariable=!0)}function GA(e,{layout:t,layoutId:n}){return Vc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ou[e]||e==="opacity")}const AU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OU=zc.length;function LU(e,t,n){let s="",i=!0;for(let a=0;a<OU;a++){const o=zc[a],c=e[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=FA(c,iw[o]);if(!d){i=!1;const f=AU[o]||o;s+=`${f}(${h}) `}n&&(t[o]=h)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function dw(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let o=!1,c=!1;for(const d in t){const h=t[d];if(Vc.has(d)){o=!0;continue}else if(Gb(d)){i[d]=h;continue}else{const f=FA(h,iw[d]);d.startsWith("origin")?(c=!0,a[d]=f):s[d]=f}}if(t.transform||(o||n?s.transform=LU(t,e.transform,n):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;s.transformOrigin=`${d} ${h} ${f}`}}const uw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KA(e,t,n){for(const s in t)!Hn(t[s])&&!GA(s,n)&&(e[s]=t[s])}function RU({transformTemplate:e},t){return j.useMemo(()=>{const n=uw();return dw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function MU(e,t){const n=e.style||{},s={};return KA(s,n,e),Object.assign(s,RU(e,t)),s}function IU(e,t){const n={},s=MU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const DU={offset:"stroke-dashoffset",array:"stroke-dasharray"},FU={offset:"strokeDashoffset",array:"strokeDasharray"};function $U(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?DU:FU;e[a.offset]=st.transform(-s);const o=st.transform(t),c=st.transform(n);e[a.array]=`${o} ${c}`}function YA(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,h,f){if(dw(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:u}=e;m.transform&&(u.transform=m.transform,delete m.transform),(u.transform||m.transformOrigin)&&(u.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),u.transform&&(u.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),i!==void 0&&$U(m,i,a,o,!1)}const XA=()=>({...uw(),attrs:{}}),QA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BU(e,t,n,s){const i=j.useMemo(()=>{const a=XA();return YA(a,t,QA(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};KA(a,e.style,e),i.style={...a,...i.style}}return i}const zU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hw(e){return typeof e!="string"||e.includes("-")?!1:!!(zU.indexOf(e)>-1||/[A-Z]/u.test(e))}function VU(e,t,n,{latestValues:s},i,a=!1){const c=(hw(e)?BU:IU)(t,s,i,e),d=CU(t,typeof e=="string",a),h=e!==j.Fragment?{...d,...c,ref:n}:{},{children:f}=t,m=j.useMemo(()=>Hn(f)?f.get():f,[f]);return j.createElement(e,{...h,children:m})}function EN(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function fw(e,t,n,s){if(typeof t=="function"){const[i,a]=EN(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=EN(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function wf(e){return Hn(e)?e.get():e}function UU({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:qU(n,s,i,e),renderState:t()}}function qU(e,t,n,s){const i={},a=s(e,{});for(const u in a)i[u]=wf(a[u]);let{initial:o,animate:c}=e;const d=Cp(e),h=ZA(e);t&&h&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?c:o;if(m&&typeof m!="boolean"&&!kp(m)){const u=Array.isArray(m)?m:[m];for(let p=0;p<u.length;p++){const x=fw(e,u[p]);if(x){const{transitionEnd:v,transition:w,...b}=x;for(const y in b){let _=b[y];if(Array.isArray(_)){const N=f?_.length-1:0;_=_[N]}_!==null&&(i[y]=_)}for(const y in v)i[y]=v[y]}}}return i}const JA=e=>(t,n)=>{const s=j.useContext(Sp),i=j.useContext(_p),a=()=>UU(e,t,s,i);return n?a():rl(a)};function mw(e,t,n){var a;const{style:s}=e,i={};for(const o in s)(Hn(s[o])||t.style&&Hn(t.style[o])||GA(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const HU=JA({scrapeMotionValuesFromProps:mw,createRenderState:uw});function eO(e,t,n){const s=mw(e,t,n);for(const i in e)if(Hn(e[i])||Hn(t[i])){const a=zc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}const WU=JA({scrapeMotionValuesFromProps:eO,createRenderState:XA}),ZU=Symbol.for("motionComponentSymbol");function Rl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function GU(e,t,n){return j.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Rl(n)&&(n.current=s))},[t])}const pw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KU="framerAppearId",tO="data-"+pw(KU),nO=j.createContext({});function YU(e,t,n,s,i){var v,w;const{visualElement:a}=j.useContext(Sp),o=j.useContext(HA),c=j.useContext(_p),d=j.useContext(Np).reducedMotion,h=j.useRef(null);s=s||o.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=j.useContext(nO);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&XU(h.current,n,i,m);const u=j.useRef(!1);j.useInsertionEffect(()=>{f&&u.current&&f.update(n,c)});const p=n[tO],x=j.useRef(!!p&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,p))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,p)));return zb(()=>{f&&(u.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),x.current=!1),f.enteringChildren=void 0)}),f}function XU(e,t,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:rO(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&Rl(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:d,layoutRoot:h})}function rO(e){if(e)return e.options.allowProjection!==!1?e.projection:rO(e.parent)}function jv(e,{forwardMotionProps:t=!1}={},n,s){n&&NU(n);const i=hw(e)?WU:HU;function a(c,d){let h;const f={...j.useContext(Np),...c,layoutId:QU(c)},{isStatic:m}=f,u=PU(c),p=i(c,m);if(!m&&Bb){JU();const x=eq(f);h=x.MeasureLayout,u.visualElement=YU(e,p,f,s,x.ProjectionNode)}return r.jsxs(Sp.Provider,{value:u,children:[h&&u.visualElement?r.jsx(h,{visualElement:u.visualElement,...f}):null,VU(e,c,GU(p,u.visualElement,d),p,m,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=j.forwardRef(a);return o[ZU]=e,o}function QU({layoutId:e}){const t=j.useContext($b).id;return t&&e!==void 0?t+"-"+e:e}function JU(e,t){j.useContext(HA).strict}function eq(e){const{drag:t,layout:n}=bc;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function tq(e,t){if(typeof Proxy>"u")return jv;const n=new Map,s=(a,o)=>jv(a,o,e,t),i=(a,o)=>s(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,jv(o,void 0,e,t)),n.get(o))})}function sO({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function nq({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function rq(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function _v(e){return e===void 0||e===1}function cy({scale:e,scaleX:t,scaleY:n}){return!_v(e)||!_v(t)||!_v(n)}function go(e){return cy(e)||iO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iO(e){return PN(e.x)||PN(e.y)}function PN(e){return e&&e!=="0%"}function hm(e,t,n){const s=e-n,i=t*s;return n+i}function TN(e,t,n,s,i){return i!==void 0&&(e=hm(e,i,s)),hm(e,n,s)+t}function dy(e,t=0,n=1,s,i){e.min=TN(e.min,t,n,s,i),e.max=TN(e.max,t,n,s,i)}function aO(e,{x:t,y:n}){dy(e.x,t.translate,t.scale,t.originPoint),dy(e.y,n.translate,n.scale,n.originPoint)}const AN=.999999999999,ON=1.0000000000001;function sq(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Il(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,aO(e,o)),s&&go(a.latestValues)&&Il(e,a.latestValues))}t.x<ON&&t.x>AN&&(t.x=1),t.y<ON&&t.y>AN&&(t.y=1)}function Ml(e,t){e.min=e.min+t,e.max=e.max+t}function LN(e,t,n,s,i=.5){const a=Jt(e.min,e.max,i);dy(e,t,n,a,s)}function Il(e,t){LN(e.x,t.x,t.scaleX,t.scale,t.originX),LN(e.y,t.y,t.scaleY,t.scale,t.originY)}function oO(e,t){return sO(rq(e.getBoundingClientRect(),t))}function iq(e,t,n){const s=oO(e,n),{scroll:i}=t;return i&&(Ml(s.x,i.offset.x),Ml(s.y,i.offset.y)),s}const RN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:RN(),y:RN()}),MN=()=>({min:0,max:0}),bn=()=>({x:MN(),y:MN()}),uy={current:null},lO={current:!1};function aq(){if(lO.current=!0,!!Bb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uy.current=e.matches;e.addEventListener("change",t),t()}else uy.current=!1}const oq=new WeakMap;function lq(e,t,n){for(const s in t){const i=t[s],a=n[s];if(Hn(i))e.addValue(s,i);else if(Hn(a))e.addValue(s,Zo(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,Zo(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const IN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cq{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const u=Cr.now();this.renderScheduledAt<u&&(this.renderScheduledAt=u,Yt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Cp(n),this.isVariantNode=ZA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const u in m){const p=m[u];d[u]!==void 0&&Hn(p)&&p.set(d[u])}}mount(t){var n;this.current=t,oq.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),lO.current||aq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uy.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ji(this.notifyUpdate),Ji(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Vc.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bc){const n=bc[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<IN.length;s++){const i=IN[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=lq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Zo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(JT(s)||tA(s))?s=parseFloat(s):!yU(s)&&Ga.test(n)&&(s=DA(t,n)),this.setBaseTarget(t,Hn(s)?s.get():s)),Hn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=fw(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Hn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Hb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){aw.render(this.render)}}class cO extends cq{constructor(){super(...arguments),this.KeyframeResolver=aU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Hn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dO(e,{style:t,vars:n},s,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function dq(e){return window.getComputedStyle(e)}class uq extends cO{constructor(){super(...arguments),this.type="html",this.renderInstance=dO}readValueFromInstance(t,n){var s;if(Vc.has(n))return(s=this.projection)!=null&&s.isProjecting?ny(n):S7(t,n);{const i=dq(t),a=(Gb(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return oO(t,n)}build(t,n,s){dw(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return mw(t,n,s)}}const uO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hq(e,t,n,s){dO(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(uO.has(i)?i:pw(i),t.attrs[i])}class fq extends cO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vc.has(n)){const s=IA(n);return s&&s.default||0}return n=uO.has(n)?n:pw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return eO(t,n,s)}build(t,n,s){YA(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){hq(t,n,s,i)}mount(t){this.isSVGTag=QA(t.tagName),super.mount(t)}}const mq=(e,t)=>hw(e)?new fq(t):new uq(t,{allowProjection:e!==j.Fragment});function Xl(e,t,n){const s=e.getProps();return fw(s,t,n!==void 0?n:s.custom,e)}const hy=e=>Array.isArray(e);function pq(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zo(n))}function gq(e){return hy(e)?e[e.length-1]||0:e}function vq(e,t){const n=Xl(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const c=gq(a[o]);pq(e,o,c)}}function xq(e){return!!(Hn(e)&&e.add)}function fy(e,t){const n=e.getValue("willChange");if(xq(n))return n.add(t);if(!n&&Qi.WillChange){const s=new Qi.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function hO(e){return e.props[tO]}const yq=e=>e!==null;function bq(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(yq),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const wq={type:"spring",stiffness:500,damping:25,restSpeed:10},jq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_q={type:"keyframes",duration:.8},Nq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sq=(e,{keyframes:t})=>t.length>2?_q:Vc.has(e)?e.startsWith("scale")?jq(t[1]):wq:Nq;function kq({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...f}){return!!Object.keys(f).length}const gw=(e,t,n,s={},i,a)=>o=>{const c=sw(s,e)||{},d=c.delay||s.delay||0;let{elapsed:h=0}=s;h=h-ai(d);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:u=>{t.set(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:i};kq(c)||Object.assign(f,Sq(e,f)),f.duration&&(f.duration=ai(f.duration)),f.repeatDelay&&(f.repeatDelay=ai(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(oy(f),f.delay===0&&(m=!0)),(Qi.instantAnimations||Qi.skipAnimations)&&(m=!0,oy(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!a&&t.get()!==void 0){const u=bq(f.keyframes,c);if(u!==void 0){Yt.update(()=>{f.onUpdate(u),f.onComplete()});return}}return c.isSync?new nw(f):new G7(f)};function Cq({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function fO(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;s&&(a=s);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const m=e.getValue(f,e.latestValues[f]??null),u=c[f];if(u===void 0||h&&Cq(h,f))continue;const p={delay:n,...sw(a||{},f)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(u)&&u===x&&!p.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const b=hO(e);if(b){const y=window.MotionHandoffAnimation(b,f,Yt);y!==null&&(p.startTime=y,v=!0)}}fy(e,f),m.start(gw(f,m,u,e.shouldReduceMotion&&LA.has(f)?{type:!1}:p,e,v));const w=m.animation;w&&d.push(w)}return o&&Promise.all(d).then(()=>{Yt.update(()=>{o&&vq(e,o)})}),d}function mO(e,t,n,s=0,i=1){const a=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(t),o=e.size,c=(o-1)*s;return typeof n=="function"?n(a,o):i===1?a*s:c-a*s}function my(e,t,n={}){var d;const s=Xl(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(fO(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:u}=i;return Eq(e,t,h,f,m,u,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,f]=c==="beforeChildren"?[a,o]:[o,a];return h().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function Eq(e,t,n=0,s=0,i=0,a=1,o){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(my(d,t,{...o,delay:n+(typeof s=="function"?0:s)+mO(e.variantChildren,d,s,i,a)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function Pq(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>my(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=my(e,t,n);else{const i=typeof t=="function"?Xl(e,t,n.custom):t;s=Promise.all(fO(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function pO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Tq=cw.length;function gO(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gO(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Tq;n++){const s=cw[n],i=e.props[s];(Au(i)||i===!1)&&(t[s]=i)}return t}const Aq=[...lw].reverse(),Oq=lw.length;function Lq(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Pq(e,n,s)))}function Rq(e){let t=Lq(e),n=DN(),s=!0;const i=d=>(h,f)=>{var u;const m=Xl(e,f,d==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);if(m){const{transition:p,transitionEnd:x,...v}=m;h={...h,...v,...x}}return h};function a(d){t=d(e)}function o(d){const{props:h}=e,f=gO(e.parent)||{},m=[],u=new Set;let p={},x=1/0;for(let w=0;w<Oq;w++){const b=Aq[w],y=n[b],_=h[b]!==void 0?h[b]:f[b],N=Au(_),C=b===d?y.isActive:null;C===!1&&(x=w);let D=_===f[b]&&_!==h[b]&&N;if(D&&s&&e.manuallyAnimateOnMount&&(D=!1),y.protectedKeys={...p},!y.isActive&&C===null||!_&&!y.prevProp||kp(_)||typeof _=="boolean")continue;const E=Mq(y.prevProp,_);let R=E||b===d&&y.isActive&&!D&&N||w>x&&N,A=!1;const k=Array.isArray(_)?_:[_];let O=k.reduce(i(b),{});C===!1&&(O={});const{prevResolvedValues:P={}}=y,T={...P,...O},M=Z=>{R=!0,u.has(Z)&&(A=!0,u.delete(Z)),y.needsAnimating[Z]=!0;const B=e.getValue(Z);B&&(B.liveStyle=!1)};for(const Z in T){const B=O[Z],q=P[Z];if(p.hasOwnProperty(Z))continue;let F=!1;hy(B)&&hy(q)?F=!pO(B,q):F=B!==q,F?B!=null?M(Z):u.add(Z):B!==void 0&&u.has(Z)?M(Z):y.protectedKeys[Z]=!0}y.prevProp=_,y.prevResolvedValues=O,y.isActive&&(p={...p,...O}),s&&e.blockInitialAnimation&&(R=!1);const H=D&&E;R&&(!H||A)&&m.push(...k.map(Z=>{const B={type:b};if(typeof Z=="string"&&s&&!H&&e.manuallyAnimateOnMount&&e.parent){const{parent:q}=e,F=Xl(q,Z);if(q.enteringChildren&&F){const{delayChildren:$}=F.transition||{};B.delay=mO(q.enteringChildren,e,$)}}return{animation:Z,options:B}}))}if(u.size){const w={};if(typeof h.initial!="boolean"){const b=Xl(e,Array.isArray(h.initial)?h.initial[0]:h.initial);b&&b.transition&&(w.transition=b.transition)}u.forEach(b=>{const y=e.getBaseTarget(b),_=e.getValue(b);_&&(_.liveStyle=!0),w[b]=y??null}),m.push({animation:w})}let v=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(m):Promise.resolve()}function c(d,h){var m;if(n[d].isActive===h)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(u=>{var p;return(p=u.animationState)==null?void 0:p.setActive(d,h)}),n[d].isActive=h;const f=o(d);for(const u in n)n[u].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=DN(),s=!0}}}function Mq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pO(t,e):!1}function ho(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DN(){return{animate:ho(!0),whileInView:ho(),whileHover:ho(),whileTap:ho(),whileDrag:ho(),whileFocus:ho(),exit:ho()}}class ro{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Iq extends ro{constructor(t){super(t),t.animationState||(t.animationState=Rq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Dq=0;class Fq extends ro{constructor(){super(...arguments),this.id=Dq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $q={animation:{Feature:Iq},exit:{Feature:Fq}};function Lu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function th(e){return{point:{x:e.pageX,y:e.pageY}}}const Bq=e=>t=>ow(t)&&e(t,th(t));function Gd(e,t,n,s){return Lu(e,t,Bq(n),s)}const vO=1e-4,zq=1-vO,Vq=1+vO,xO=.01,Uq=0-xO,qq=0+xO;function pr(e){return e.max-e.min}function Hq(e,t,n){return Math.abs(e-t)<=n}function FN(e,t,n,s=.5){e.origin=s,e.originPoint=Jt(t.min,t.max,e.origin),e.scale=pr(n)/pr(t),e.translate=Jt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=zq&&e.scale<=Vq||isNaN(e.scale))&&(e.scale=1),(e.translate>=Uq&&e.translate<=qq||isNaN(e.translate))&&(e.translate=0)}function Kd(e,t,n,s){FN(e.x,t.x,n.x,s?s.originX:void 0),FN(e.y,t.y,n.y,s?s.originY:void 0)}function $N(e,t,n){e.min=n.min+t.min,e.max=e.min+pr(t)}function Wq(e,t,n){$N(e.x,t.x,n.x),$N(e.y,t.y,n.y)}function BN(e,t,n){e.min=t.min-n.min,e.max=e.min+pr(t)}function Yd(e,t,n){BN(e.x,t.x,n.x),BN(e.y,t.y,n.y)}function Jr(e){return[e("x"),e("y")]}const yO=({current:e})=>e?e.ownerDocument.defaultView:null,zN=(e,t)=>Math.abs(e-t);function Zq(e,t){const n=zN(e.x,t.x),s=zN(e.y,t.y);return Math.sqrt(n**2+s**2)}class bO{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Sv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=Zq(u.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:v}=u,{timestamp:w}=qn;this.history.push({...v,timestamp:w});const{onStart:b,onMove:y}=this.handlers;p||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,p)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Nv(p,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(u,p)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Sv(u.type==="pointercancel"?this.lastMoveEventInfo:Nv(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(u,b),v&&v(u,b)},!ow(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const c=th(t),d=Nv(c,this.transformPagePoint),{point:h}=d,{timestamp:f}=qn;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,Sv(d,this.history)),this.removeListeners=Qu(Gd(this.contextWindow,"pointermove",this.handlePointerMove),Gd(this.contextWindow,"pointerup",this.handlePointerUp),Gd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ji(this.updatePoint)}}function Nv(e,t){return t?{point:t(e.point)}:e}function VN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sv({point:e},t){return{point:e,delta:VN(e,wO(t)),offset:VN(e,Gq(t)),velocity:Kq(t,.1)}}function Gq(e){return e[0]}function wO(e){return e[e.length-1]}function Kq(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=wO(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>ai(t)));)n--;if(!s)return{x:0,y:0};const a=oi(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yq(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Jt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Jt(n,e,s.max):Math.min(e,n)),e}function UN(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Xq(e,{top:t,left:n,bottom:s,right:i}){return{x:UN(e.x,n,i),y:UN(e.y,t,s)}}function qN(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Qq(e,t){return{x:qN(e.x,t.x),y:qN(e.y,t.y)}}function Jq(e,t){let n=.5;const s=pr(e),i=pr(t);return i>s?n=Eu(t.min,t.max-s,e.min):s>i&&(n=Eu(e.min,e.max-i,t.min)),Xi(0,1,n)}function eH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const py=.35;function tH(e=py){return e===!1?e=0:e===!0&&(e=py),{x:HN(e,"left","right"),y:HN(e,"top","bottom")}}function HN(e,t,n){return{min:WN(e,t),max:WN(e,n)}}function WN(e,t){return typeof e=="number"?e:e[t]||0}const nH=new WeakMap;class rH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(th(m).point)},o=(m,u)=>{const{drag:p,dragPropagation:x,onDragStart:v}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dU(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=u,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jr(b=>{let y=this.getAxisMotionValue(b).get()||0;if(li.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const N=_.layout.layoutBox[b];N&&(y=pr(N)*(parseFloat(y)/100))}}this.originPoint[b]=y}),v&&Yt.postRender(()=>v(m,u)),fy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=u;if(x&&this.currentDirection===null){this.currentDirection=sH(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),w&&w(m,u)},d=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u,this.stop(m,u),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Jr(m=>{var u;return this.getAnimationState(m)==="paused"&&((u=this.getAxisMotionValue(m).animation)==null?void 0:u.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new bO(t,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:yO(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Yt.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Qh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=Yq(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Rl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Xq(s.layoutBox,t):this.constraints=!1,this.elastic=tH(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=eH(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Rl(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=iq(s,i.root,this.visualElement.getTransformPagePoint());let o=Qq(i.layout.layoutBox,a);if(n){const c=n(nq(o));this.hasMutatedConstraints=!!c,c&&(o=sO(c))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Jr(f=>{if(!Qh(f,n,this.currentDirection))return;let m=d&&d[f]||{};o&&(m={min:0,max:0});const u=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:s?t[f]:0,bounceStiffness:u,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return fy(this.visualElement,t),s.start(gw(t,s,0,n,this.visualElement,!1))}stopAnimation(){Jr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Jr(n=>{const{drag:s}=this.getProps();if(!Qh(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(t[n]-Jt(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Rl(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=Jq({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Jr(o=>{if(!Qh(o,t,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(Jt(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;nH.set(this.visualElement,this);const t=this.visualElement.current,n=Gd(t,"pointerdown",d=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Rl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yt.read(s);const o=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Jr(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=d[f].translate,m.set(m.get()+d[f].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=py,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Qh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function sH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class iH extends ro{constructor(t){super(t),this.removeGroupControls=os,this.removeListeners=os,this.controls=new rH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||os}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZN=e=>(t,n)=>{e&&Yt.postRender(()=>e(t,n))};class aH extends ro{constructor(){super(...arguments),this.removePointerDownListener=os}onPointerDown(t){this.session=new bO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:ZN(t),onStart:ZN(n),onMove:s,onEnd:(a,o)=>{delete this.session,i&&Yt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Gd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=GN(e,t.target.x),s=GN(e,t.target.y);return`${n}% ${s}%`}},oH={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Ga.parse(e);if(i.length>5)return s;const a=Ga.createTransformer(e),o=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;i[0+o]/=c,i[1+o]/=d;const h=Jt(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let kv=!1;class lH extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;TU(cH),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),kv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,kv=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Yt.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),aw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;kv=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jO(e){const[t,n]=qA(),s=j.useContext($b);return r.jsx(lH,{...e,layoutGroup:s,switchLayoutGroup:j.useContext(nO),isPresent:t,safeToRemove:n})}const cH={borderRadius:{...bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bd,borderTopRightRadius:bd,borderBottomLeftRadius:bd,borderBottomRightRadius:bd,boxShadow:oH};function dH(e,t,n){const s=Hn(e)?e:Zo(e);return s.start(gw("",s,t,n)),s.animation}const uH=(e,t)=>e.depth-t.depth;class hH{constructor(){this.children=[],this.isDirty=!1}add(t){Vb(this.children,t),this.isDirty=!0}remove(t){Ub(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uH),this.isDirty=!1,this.children.forEach(t)}}function fH(e,t){const n=Cr.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Ji(s),e(a-t))};return Yt.setup(s,!0),()=>Ji(s)}const _O=["TopLeft","TopRight","BottomLeft","BottomRight"],mH=_O.length,KN=e=>typeof e=="string"?parseFloat(e):e,YN=e=>typeof e=="number"||st.test(e);function pH(e,t,n,s,i,a){i?(e.opacity=Jt(0,n.opacity??1,gH(s)),e.opacityExit=Jt(t.opacity??1,0,vH(s))):a&&(e.opacity=Jt(t.opacity??1,n.opacity??1,s));for(let o=0;o<mH;o++){const c=`border${_O[o]}Radius`;let d=XN(t,c),h=XN(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||YN(d)===YN(h)?(e[c]=Math.max(Jt(KN(d),KN(h),s),0),(li.test(h)||li.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=Jt(t.rotate||0,n.rotate||0,s))}function XN(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gH=NO(0,.5,cA),vH=NO(.5,.95,os);function NO(e,t,n){return s=>s<e?0:s>t?1:n(Eu(e,t,s))}function QN(e,t){e.min=t.min,e.max=t.max}function Xr(e,t){QN(e.x,t.x),QN(e.y,t.y)}function JN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function eS(e,t,n,s,i){return e-=t,e=hm(e,1/n,s),i!==void 0&&(e=hm(e,1/i,s)),e}function xH(e,t=0,n=1,s=.5,i,a=e,o=e){if(li.test(t)&&(t=parseFloat(t),t=Jt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=Jt(a.min,a.max,s);e===a&&(c-=t),e.min=eS(e.min,t,n,c,i),e.max=eS(e.max,t,n,c,i)}function tS(e,t,[n,s,i],a,o){xH(e,t[n],t[s],t[i],t.scale,a,o)}const yH=["x","scaleX","originX"],bH=["y","scaleY","originY"];function nS(e,t,n,s){tS(e.x,t,yH,n?n.x:void 0,s?s.x:void 0),tS(e.y,t,bH,n?n.y:void 0,s?s.y:void 0)}function rS(e){return e.translate===0&&e.scale===1}function SO(e){return rS(e.x)&&rS(e.y)}function sS(e,t){return e.min===t.min&&e.max===t.max}function wH(e,t){return sS(e.x,t.x)&&sS(e.y,t.y)}function iS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kO(e,t){return iS(e.x,t.x)&&iS(e.y,t.y)}function aS(e){return pr(e.x)/pr(e.y)}function oS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jH{constructor(){this.members=[]}add(t){Vb(this.members,t),t.scheduleRender()}remove(t){if(Ub(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _H(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:u,skewX:p,skewY:x}=n;h&&(s=`perspective(${h}px) ${s}`),f&&(s+=`rotate(${f}deg) `),m&&(s+=`rotateX(${m}deg) `),u&&(s+=`rotateY(${u}deg) `),p&&(s+=`skewX(${p}deg) `),x&&(s+=`skewY(${x}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(s+=`scale(${c}, ${d})`),s||"none"}const Cv=["","X","Y","Z"],NH=1e3;let SH=0;function Ev(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function CO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=hO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Yt,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&CO(s)}function EO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},c=t==null?void 0:t()){this.id=SH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EH),this.nodes.forEach(OH),this.nodes.forEach(LH),this.nodes.forEach(PH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new hH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hb),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UA(o)&&!gU(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let f,m=0;const u=()=>this.root.updateBlockedByResize=!1;Yt.read(()=>{m=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,f&&f(),f=fH(u,250),jf.hasAnimatedSinceResize&&(jf.hasAnimatedSinceResize=!1,this.nodes.forEach(dS)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:u,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||FH,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=h.getProps(),b=!this.targetLayout||!kO(this.targetLayout,p),y=!m&&u;if(this.options.layoutRoot||this.resumeFrom||y||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...sw(x,"layout"),onPlay:v,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(f,y)}else m||dS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AH),this.nodes.forEach(kH),this.nodes.forEach(CH)):this.nodes.forEach(cS),this.clearAllSnapshots();const c=Cr.now();qn.delta=Xi(0,1e3/60,c-qn.timestamp),qn.timestamp=c,qn.isProcessing=!0,gv.update.process(qn),gv.preRender.process(qn),gv.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TH),this.sharedNodes.forEach(MH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pr(this.snapshot.measuredBox.x)&&!pr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!SO(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||go(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),$H(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return bn();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(BH))){const{scroll:f}=this.root;f&&(Ml(c.x,f.offset.x),Ml(c.y,f.offset.y))}return c}removeElementScroll(o){var d;const c=bn();if(Xr(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:u}=f;f!==this.root&&m&&u.layoutScroll&&(m.wasRoot&&Xr(c,o),Ml(c.x,m.offset.x),Ml(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const d=bn();Xr(d,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Il(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),go(f.latestValues)&&Il(d,f.latestValues)}return go(this.latestValues)&&Il(d,this.latestValues),d}removeTransform(o){const c=bn();Xr(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!go(h.latestValues))continue;cy(h.latestValues)&&h.updateSnapshot();const f=bn(),m=h.measurePageBox();Xr(f,m),nS(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return go(this.latestValues)&&nS(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),Yd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xr(this.target,this.layout.layoutBox),aO(this.target,this.targetDelta)):Xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),Yd(this.relativeTargetOrigin,this.target,p.target),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cy(this.parent.latestValues)||iO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Xr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,u=this.treeScale.y;sq(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=bn());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JN(this.prevProjectionDelta.x,this.projectionDelta.x),JN(this.prevProjectionDelta.y,this.projectionDelta.y)),Kd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==u||!oS(this.projectionDelta.x,this.prevProjectionDelta.x)||!oS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},f={...this.latestValues},m=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const u=bn(),p=d?d.source:void 0,x=this.layout?this.layout.source:void 0,v=p!==x,w=this.getStack(),b=!w||w.members.length<=1,y=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(DH));this.animationProgress=0;let _;this.mixTargetDelta=N=>{const C=N/1e3;uS(m.x,o.x,C),uS(m.y,o.y,C),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yd(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IH(this.relativeTarget,this.relativeTargetOrigin,u,C),_&&wH(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=bn()),Xr(_,this.relativeTarget)),v&&(this.animationValues=f,pH(f,h,this.latestValues,C,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{jf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zo(0)),this.currentAnimation=dH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:f}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&PO(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||bn();const m=pr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+m;const u=pr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+u}Xr(c,d),Il(c,f),Kd(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jH),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Ev("z",o,h,this.animationValues);for(let f=0;f<Cv.length;f++)Ev(`rotate${Cv[f]}`,o,h,this.animationValues),Ev(`skew${Cv[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=wf(c==null?void 0:c.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=wf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=_H(this.projectionDeltaWithTransform,this.treeScale,f);d&&(m=d(f,m)),o.transform=m;const{x:u,y:p}=this.projectionDelta;o.transformOrigin=`${u.origin*100}% ${p.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Ou){if(f[x]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:b}=Ou[x],y=m==="none"?f[x]:v(f[x],h);if(w){const _=w.length;for(let N=0;N<_;N++)o[w[N]]=y}else b?this.options.visualElement.renderState.vars[x]=y:o[x]=y}this.options.layoutId&&(o.pointerEvents=h===this?wf(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(lS),this.root.sharedNodes.clear()}}}function kH(e){e.updateLayout()}function CH(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Jr(m=>{const u=o?t.measuredBox[m]:t.layoutBox[m],p=pr(u);u.min=s[m].min,u.max=u.min+p}):PO(a,t.layoutBox,s)&&Jr(m=>{const u=o?t.measuredBox[m]:t.layoutBox[m],p=pr(s[m]);u.max=u.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const c=Dl();Kd(c,s,t.layoutBox);const d=Dl();o?Kd(d,e.applyTransform(i,!0),t.measuredBox):Kd(d,s,t.layoutBox);const h=!SO(c);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:u,layout:p}=m;if(u&&p){const x=bn();Yd(x,t.layoutBox,u.layoutBox);const v=bn();Yd(v,s,p.layoutBox),kO(x,v)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function EH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function PH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function TH(e){e.clearSnapshot()}function lS(e){e.clearMeasurements()}function cS(e){e.isLayoutDirty=!1}function AH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function OH(e){e.resolveTargetDelta()}function LH(e){e.calcProjection()}function RH(e){e.resetSkewAndRotation()}function MH(e){e.removeLeadSnapshot()}function uS(e,t,n){e.translate=Jt(t.translate,0,n),e.scale=Jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hS(e,t,n,s){e.min=Jt(t.min,n.min,s),e.max=Jt(t.max,n.max,s)}function IH(e,t,n,s){hS(e.x,t.x,n.x,s),hS(e.y,t.y,n.y,s)}function DH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const FH={duration:.45,ease:[.4,0,.1,1]},fS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),mS=fS("applewebkit/")&&!fS("chrome/")?Math.round:os;function pS(e){e.min=mS(e.min),e.max=mS(e.max)}function $H(e){pS(e.x),pS(e.y)}function PO(e,t,n){return e==="position"||e==="preserve-aspect"&&!Hq(aS(t),aS(n),.2)}function BH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const zH=EO({attachResizeListener:(e,t)=>Lu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pv={current:void 0},TO=EO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pv.current){const e=new zH({});e.mount(window),e.setOptions({layoutScroll:!0}),Pv.current=e}return Pv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),VH={pan:{Feature:aH},drag:{Feature:iH,ProjectionNode:TO,MeasureLayout:jO}};function gS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&Yt.postRender(()=>a(t,th(t)))}class UH extends ro{mount(){const{current:t}=this.node;t&&(this.unmount=uU(t,(n,s)=>(gS(this.node,s,"Start"),i=>gS(this.node,i,"End"))))}unmount(){}}class qH extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&Yt.postRender(()=>a(t,th(t)))}class HH extends ro{mount(){const{current:t}=this.node;t&&(this.unmount=pU(t,(n,s)=>(vS(this.node,s,"Start"),(i,{success:a})=>vS(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gy=new WeakMap,Tv=new WeakMap,WH=e=>{const t=gy.get(e.target);t&&t(e)},ZH=e=>{e.forEach(WH)};function GH({root:e,...t}){const n=e||document;Tv.has(n)||Tv.set(n,{});const s=Tv.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(ZH,{root:e,...t})),s[i]}function KH(e,t,n){const s=GH(t);return gy.set(e,n),s.observe(e),()=>{gy.delete(e),s.unobserve(e)}}const YH={some:0,all:1};class XH extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:YH[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),u=h?f:m;u&&u(d)};return KH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(QH(t,n))&&this.startObserver()}unmount(){}}function QH({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const JH={inView:{Feature:XH},tap:{Feature:HH},focus:{Feature:qH},hover:{Feature:UH}},eW={layout:{ProjectionNode:TO,MeasureLayout:jO}},tW={...$q,...JH,...VH,...eW},Bi=tq(tW,mq);function AO(e){const t=rl(()=>Zo(e)),{isStatic:n}=j.useContext(Np);if(n){const[,s]=j.useState(e);j.useEffect(()=>t.on("change",s),[])}return t}function OO(e,t){const n=AO(t()),s=()=>n.set(t());return s(),zb(()=>{const i=()=>Yt.preRender(s,!1,!0),a=e.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Ji(s)}}),n}function nW(e){Zd.current=[],e();const t=OO(Zd.current,e);return Zd.current=void 0,t}function rW(e,t,n,s){if(typeof e=="function")return nW(e);const i=typeof t=="function"?t:vU(t,n,s);return Array.isArray(e)?xS(e,i):xS([e],([a])=>i(a))}function xS(e,t){const n=rl(()=>[]);return OO(e,()=>{n.length=0;const s=e.length;for(let i=0;i<s;i++)n[i]=e[i].get();return t(n)})}const LO=j.createContext(null);function sW(e,t,n,s){if(!s)return e;const i=e.findIndex(f=>f.value===t);if(i===-1)return e;const a=s>0?1:-1,o=e[i+a];if(!o)return e;const c=e[i],d=o.layout,h=Jt(d.min,d.max,.5);return a===1&&c.layout.max+n>h||a===-1&&c.layout.min+n<h?N9(e,i,i+a):e}function iW({children:e,as:t="ul",axis:n="y",onReorder:s,values:i,...a},o){const c=rl(()=>Bi[t]),d=[],h=j.useRef(!1),f={axis:n,registerItem:(m,u)=>{const p=d.findIndex(x=>m===x.value);p!==-1?d[p].layout=u[n]:d.push({value:m,layout:u[n]}),d.sort(lW)},updateOrder:(m,u,p)=>{if(h.current)return;const x=sW(d,m,u,p);d!==x&&(h.current=!0,s(x.map(oW).filter(v=>i.indexOf(v)!==-1)))}};return j.useEffect(()=>{h.current=!1}),r.jsx(c,{...a,ref:o,ignoreStrict:!0,children:r.jsx(LO.Provider,{value:f,children:e})})}const aW=j.forwardRef(iW);function oW(e){return e.value}function lW(e,t){return e.layout.min-t.layout.min}function yS(e,t=0){return Hn(e)?e:AO(t)}function cW({children:e,style:t={},value:n,as:s="li",onDrag:i,layout:a=!0,...o},c){const d=rl(()=>Bi[s]),h=j.useContext(LO),f={x:yS(t.x),y:yS(t.y)},m=rW([f.x,f.y],([v,w])=>v||w?1:"unset"),{axis:u,registerItem:p,updateOrder:x}=h;return r.jsx(d,{drag:u,...o,dragSnapToOrigin:!0,style:{...t,x:f.x,y:f.y,zIndex:m},layout:a,onDrag:(v,w)=>{const{velocity:b}=w;b[u]&&x(n,f[u].get(),b[u]),i&&i(v,w)},onLayoutMeasure:v=>p(n,v),ref:c,ignoreStrict:!0,children:e})}const dW=j.forwardRef(cW),uW=[{id:1,name:"Electronics",icon:""},{id:2,name:"Fashion",icon:""},{id:3,name:"Food",icon:""},{id:4,name:"Home",icon:""},{id:5,name:"Books",icon:""},{id:6,name:"Sports",icon:""},{id:7,name:"Beauty",icon:""},{id:8,name:"Toys",icon:""},{id:9,name:"Jewelry",icon:""},{id:10,name:"Furniture",icon:""},{id:11,name:"Automotive",icon:""},{id:12,name:"Health & Wellness",icon:""},{id:13,name:"Pet Supplies",icon:""},{id:14,name:"Stationery",icon:""},{id:15,name:"Garden & Outdoor",icon:""},{id:16,name:"Kids & Baby",icon:""},{id:17,name:"Appliances",icon:""},{id:18,name:"Hardware",icon:""},{id:19,name:"Crafts & Hobbies",icon:""},{id:20,name:"Travel & Luggage",icon:""}];function hW(){const[e,t]=j.useState(uW),n=nt();return r.jsx("div",{className:"px-2 py-2 bg-gray-50",children:r.jsx(aW,{axis:"x",values:e,onReorder:t,className:"flex gap-3 overflow-x-auto snap-x snap-mandatory overscroll-x-contain",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map(s=>r.jsx(dW,{value:s,className:"flex-none w-16",children:r.jsxs(Bi.button,{className:"w-full p-1 rounded-xl font-medium text-center transition-all duration-300 bg-white text-gray-800 hover:bg-gray-100 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-400",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onClick:()=>n(`/category/${encodeURIComponent(s.name)}`),children:[r.jsx("div",{className:"text-lg mb-1",children:s.icon}),r.jsx("div",{className:"text-xs font-semibold leading-tight",children:s.name})]})},s.id))})})}const fW="/assets/banner-grocery.jpg",mW="/assets/banner-electronics.jpg",pW="/assets/banner-food.jpg",gW=[{id:1,image:fW,title:"Fresh Groceries",subtitle:"Same day delivery"},{id:2,image:mW,title:"Electronics & Gadgets",subtitle:"Best prices guaranteed"},{id:3,image:pW,title:"Traditional Food",subtitle:"Authentic Nepali cuisine"}];function vW(){const[e,t]=j.useState(0),[n,s]=j.useState(!1),[i,a]=j.useState(0),[o,c]=j.useState(0),[d,h]=j.useState([]),[f,m]=j.useState(!0),u=j.useRef(null),p=d.length>0?d.map(_=>({id:_.id,image:_.image_url,title:_.title,subtitle:_.description||"",link_url:_.link_url})):gW,x=_=>{s(!0),a(_.touches[0].clientX),c(_.touches[0].clientX)},v=_=>{n&&c(_.touches[0].clientX)},w=()=>{if(!n)return;const _=i-o;Math.abs(_)>50&&(_>0?t(C=>(C+1)%p.length):t(C=>(C-1+p.length)%p.length)),s(!1),c(0)},b=_=>{_.link_url&&window.open(_.link_url,"_blank")};j.useEffect(()=>{(async()=>{try{console.log("Fetching sliders for customer...");const{apiRequest:N}=await Je(async()=>{const{apiRequest:E}=await Promise.resolve().then(()=>Os);return{apiRequest:E}},void 0),{response:C,data:D}=await N("/api/sliders/?user_type=customer");C.ok&&D&&D.sliders?(console.log("Customer sliders fetched successfully:",D.sliders),h(D.sliders)):(console.log("No sliders found or API error, using fallback banners"),h([]))}catch(N){console.error("Error fetching sliders:",N),h([])}finally{m(!1)}})()},[]);const y=()=>{var _;if(n){const N=o-i,C=100,D=N/(((_=u.current)==null?void 0:_.offsetWidth)||1)*100,E=Math.max(-C,Math.min(C,D));return`translateX(calc(-${e*100}% + ${E}px))`}return`translateX(-${e*100}%)`};return f?r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-brand h-48 bg-gray-100 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx(or,{className:"h-5 w-5 animate-spin"}),r.jsx("span",{children:"Loading banners..."})]})})}):r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-brand",children:[r.jsx("div",{ref:u,className:"flex transition-transform duration-700 ease-in-out",style:{transform:y()},onTouchStart:x,onTouchMove:v,onTouchEnd:w,children:p.map(_=>r.jsxs("div",{className:`w-full flex-shrink-0 relative ${_.link_url?"cursor-pointer":""}`,onClick:()=>b(_),children:[r.jsx("img",{src:_.image,alt:_.title,className:"w-full h-48 object-cover",onError:N=>{N.target.style.display="none",N.target.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent flex items-center",children:r.jsxs("div",{className:"py-6 pl-4 pr-2 text-white",children:[r.jsx("h3",{className:"text-xl font-bold mb-1",children:_.title}),_.subtitle&&r.jsx("p",{className:"text-sm opacity-90",children:_.subtitle})]})})]},_.id))}),p.length>1&&r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:p.map((_,N)=>r.jsx("button",{onClick:()=>t(N),className:`w-2 h-2 rounded-full transition-colors ${N===e?"bg-white":"bg-white/50"}`},N))})]})})}const xW=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function yW(e){const t=Math.floor(e),n=e%1>=.5,s=5-t-(n?1:0);return r.jsxs(r.Fragment,{children:[Array.from({length:t}).map((i,a)=>r.jsx(vn,{className:"h-2.5 w-2.5 fill-yellow-400 text-yellow-400"},`full-${a}`)),n&&r.jsx(vn,{className:"h-2.5 w-2.5 fill-yellow-400 text-yellow-400",style:{clipPath:"inset(0 50% 0 0)"}},"half"),Array.from({length:s}).map((i,a)=>r.jsx(vn,{className:"h-2.5 w-2.5 stroke-yellow-400 text-transparent"},`empty-${a}`))]})}function bW(){const e=nt(),[t,n]=j.useState([]),[s,i]=j.useState(!0),[a,o]=j.useState(xt.getLocation());j.useEffect(()=>{const f=xt.subscribe(o);return c(),f},[]),j.useEffect(()=>{a&&c()},[a]);const c=async()=>{try{i(!0);const f=await Pe.getToken(),m=f?{Authorization:`Token ${f}`,"ngrok-skip-browser-warning":"true"}:{"ngrok-skip-browser-warning":"true"},u=xt.getLocation(),p=new URLSearchParams({page_size:"20"});u&&(p.append("latitude",u.latitude.toString()),p.append("longitude",u.longitude.toString()));const v=await(await fetch(`${tt}api/search/products/?${p}`,{headers:m})).json(),w=d(v.results||[]);n(w)}catch(f){console.error("Error fetching trending items:",f)}finally{i(!1)}},d=f=>{const m=xt.getLocation();let u=f.map(p=>{var b,y;const x=((b=p.images)==null?void 0:b.find(_=>_.is_primary))||((y=p.images)==null?void 0:y[0]);let v="N/A",w=1/0;return m&&p.vendor_latitude&&p.vendor_longitude&&(w=xW(m.latitude,m.longitude,p.vendor_latitude,p.vendor_longitude),v=`${w.toFixed(1)} km`),{id:p.id,name:p.name,vendor:p.vendor_name||"Unknown Vendor",distance:v,distanceValue:w,rating:4.5,price:`${p.price}`,priceValue:parseFloat(p.price),image:(x==null?void 0:x.image_url)||"/placeholder-product.jpg",inStock:p.quantity>0,category:p.category}});return u.sort((p,x)=>x.rating-p.rating),u.slice(0,6)},h=f=>{e(`/product/${f}`)};return s?r.jsxs("section",{className:"px-4 sm:px-6 md:px-8 mb-6 lg:mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground tracking-tight",children:"Trending Now "}),r.jsx(ne,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/trending-items"),children:"View All"})]}),r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(or,{className:"h-8 w-8 animate-spin"})})]}):r.jsxs("section",{className:"px-4 sm:px-6 md:px-8 mb-6 lg:mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground tracking-tight",children:"Trending Now "}),r.jsx(ne,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/trending-items"),children:"View All"})]}),r.jsx("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto custom-scrollbar pb-3 snap-x snap-mandatory md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:overflow-visible md:gap-4 md:pb-0",children:t.map((f,m)=>r.jsxs(Bi.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,delay:m*.08,ease:"easeOut"},whileHover:{scale:1.03,boxShadow:"0 12px 24px rgba(0,0,0,0.15)"},whileTap:{scale:.97},className:"relative min-w-[120px] sm:min-w-[140px] bg-gradient-to-br from-card/90 to-card rounded-xl p-3 shadow-lg border border-border/20 hover:shadow-xl hover:border-primary/40 transition-all duration-300 cursor-pointer group snap-start md:min-w-0",onClick:()=>h(f.id),"aria-label":`View ${f.name} from ${f.vendor}`,children:[r.jsxs(_1,{children:[r.jsx(N1,{asChild:!0,children:r.jsx("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-full p-1 shadow-md group-hover:animate-bounce",children:r.jsx(AD,{className:"h-3 w-3"})})}),r.jsx(zx,{side:"top",className:"text-xs",children:"Hot Item!"})]}),r.jsx("div",{className:"aspect-square mb-2 overflow-hidden rounded-md",children:r.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out",onError:u=>{u.target.src="/placeholder-product.jpg"}})}),r.jsx("h3",{className:"font-semibold text-xs mb-1 text-foreground line-clamp-1",children:f.name}),r.jsx("p",{className:"text-xs text-muted-foreground mb-1 truncate",children:f.vendor}),r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("div",{className:"flex gap-0.5",children:yW(f.rating)}),r.jsxs(_1,{children:[r.jsx(N1,{asChild:!0,children:r.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{className:"text-xs",children:f.distance})]})}),r.jsx(zx,{side:"bottom",className:"text-xs",children:"Distance from you"})]})]}),r.jsx("p",{className:"font-bold text-primary text-sm",children:f.price})]},f.id))})]})}const wW=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function jW(){const e=nt(),{addToCart:t}=us(),{toast:n}=cn(),[s,i]=j.useState([]),[a,o]=j.useState(!0),[c,d]=j.useState(xt.getLocation());j.useEffect(()=>{const p=xt.subscribe(d);return h(),p},[]),j.useEffect(()=>{c&&h()},[c]);const h=async()=>{try{o(!0);const p=await Pe.getToken(),x=p?{Authorization:`Token ${p}`,"ngrok-skip-browser-warning":"true"}:{"ngrok-skip-browser-warning":"true"},v=xt.getLocation(),w=new URLSearchParams({page_size:"20"});v&&(w.append("latitude",v.latitude.toString()),w.append("longitude",v.longitude.toString()));const y=await(await fetch(`${tt}api/search/products/?${w}`,{headers:x})).json(),_=f(y.results||[]);i(_)}catch(p){console.error("Error fetching featured products:",p)}finally{o(!1)}},f=p=>{const x=xt.getLocation();let w=p.filter(b=>b.featured===!0).map(b=>{var C,D;const y=((C=b.images)==null?void 0:C.find(E=>E.is_primary))||((D=b.images)==null?void 0:D[0]);let _="N/A",N=1/0;return x&&b.vendor_latitude&&b.vendor_longitude&&(N=wW(x.latitude,x.longitude,b.vendor_latitude,b.vendor_longitude),_=`${N.toFixed(1)} km`),{id:b.id,name:b.name,vendor:b.vendor_name||"Unknown Vendor",distance:_,distanceValue:N,rating:4.5,price:`${b.price}`,priceValue:parseFloat(b.price),image:(y==null?void 0:y.image_url)||"/placeholder-product.jpg",inStock:b.quantity>0,category:b.category,featured:b.featured}});return w.sort((b,y)=>y.rating-b.rating),w.slice(0,6)},m=p=>{e(`/product/${p}`)},u=p=>{t(p.id,1),n({title:"Added to Cart",description:`${p.name} added to your cart`}),e("/cart")};return a?r.jsxs("section",{className:"px-4 py-3 mb-8 bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h2",{className:"text-xl md:text-2xl font-semibold tracking-tight text-black",children:"Featured Products"})}),r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(or,{className:"h-8 w-8 animate-spin"})})]}):r.jsxs("section",{className:"px-4 py-3 mb-8 bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl md:text-2xl font-semibold tracking-tight text-black",children:"Featured Products"}),r.jsx(ne,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/featured-items"),children:"View All"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 md:gap-4",children:s.map((p,x)=>r.jsxs(Bi.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:x*.1,duration:.3},whileHover:{scale:1.02,rotate:.5},className:"relative rounded-lg bg-white border border-gray-200 hover:border-[#856043] shadow-sm hover:shadow-md hover:bg-gray-50 transition-all duration-300 overflow-hidden group cursor-pointer",onClick:()=>m(p.id),children:[r.jsx(Bi.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:x*.1+.2,duration:.2},className:"absolute top-2 left-2 bg-emerald-600 text-white text-xs px-2 py-0.5 rounded-full font-semibold shadow-sm",children:"Featured"}),r.jsx("div",{className:"aspect-square overflow-hidden",children:r.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:v=>{v.target.src="/placeholder-product.jpg"}})}),r.jsxs("div",{className:"p-3 h-40 min-h-[10rem] flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-xs md:text-sm text-gray-800 mb-1 line-clamp-2 leading-tight",children:p.name}),r.jsx("p",{className:"text-xs text-gray-600 mb-1 truncate",children:p.vendor})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx("span",{className:"font-medium text-sm text-[#856043]",children:p.price})}),r.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[Array.from({length:5}).map((v,w)=>r.jsx("span",{className:`text-xs ${w<Math.floor(p.rating)?"text-amber-400":"text-gray-300"}`,children:""},w)),r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:p.rating.toFixed(1)})]}),r.jsx("div",{className:"flex justify-center",children:p.inStock?r.jsxs(ne,{variant:"outline",className:"w-full text-xs py-1.5 shadow-sm h-7",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},onMouseOver:v=>{v.currentTarget.style.backgroundColor="#856043",v.currentTarget.style.color="#ffffff"},onMouseOut:v=>{v.currentTarget.style.backgroundColor="transparent",v.currentTarget.style.color="#856043"},onClick:v=>{v.stopPropagation(),u(p)},children:[r.jsx(rr,{className:"h-3 w-3 mr-1"})," Buy"]}):r.jsx(ne,{disabled:!0,className:"w-full bg-gray-200 text-gray-500 cursor-not-allowed text-xs py-1.5 shadow-sm h-7",children:"Out of Stock"})})]})]})]},p.id))}),s.length===0&&!a&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No featured products"}),r.jsx("p",{className:"text-muted-foreground",children:"Featured products will appear here when available"})]})]})}const _W=e=>[{icon:rb,label:"Home",id:"home",path:"/home"},{icon:Ot,label:"Product",id:"search",path:"/search"},{icon:rr,label:"Cart",id:"cart",path:"/cart",badge:e>0?e:void 0},{icon:CD,label:"Orders",id:"orders",path:"/orders"},{icon:Es,label:"Profile",id:"profile",path:"/profile"}];function Ar(){const[e,t]=j.useState("home"),n=nt(),s=ra(),{cart:i}=us(),a=_W((i==null?void 0:i.total_items)||0);j.useEffect(()=>{const c=s.pathname,d=a.find(h=>h.path===c);d&&t(d.id)},[s.pathname]);const o=(c,d)=>{t(c),n(d)};return r.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200/50 z-50 shadow-[0_-2px_8px_rgba(0,0,0,0.05)]",children:[r.jsx("div",{className:"flex justify-around items-center h-20 max-w-lg mx-auto py-2",children:a.map(c=>{const d=e===c.id;return r.jsxs("button",{onClick:()=>o(c.id,c.path),className:`relative flex flex-col items-center justify-center p-4 transition-all duration-300 ease-in-out group ${d?"text-black":"text-gray-500 hover:text-black/80"}`,children:[r.jsxs("div",{className:"relative flex items-center justify-center",children:[r.jsx(c.icon,{className:`h-6 w-6 transition-all duration-300 ease-in-out ${d?"scale-110 drop-shadow-[0_0_6px_rgba(0,0,0,0.2)]":"group-hover:scale-105 group-hover:drop-shadow-[0_0_4px_rgba(0,0,0,0.1)]"}`}),c.badge&&r.jsx("span",{className:"absolute -top-2 -right-3 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold animate-bounce",children:c.badge})]}),r.jsx("span",{className:"text-xs font-semibold tracking-wide mt-1.5 font-sans",children:c.label}),d&&r.jsx("div",{className:"absolute bottom-0 w-10 h-1 bg-black rounded-full shadow-[0_0_6px_rgba(0,0,0,0.3)] animate-scale-in"}),r.jsx("div",{className:`absolute inset-0 rounded-full bg-black/5 transition-all duration-300 ${d?"opacity-10 scale-105":"opacity-0 group-hover:opacity-10 group-hover:scale-100"}`})]},c.id)})}),r.jsx("style",{children:`
        .animate-scale-in {
          animation: scale-in 0.3s ease-in-out;
        }
        @keyframes scale-in {
          from {
            transform: scaleX(0);
          }
          to {
            transform: scaleX(1);
          }
        }
        .animate-bounce {
          animation: bounce 1.8s ease-in-out infinite;
        }
        @keyframes bounce {
          0%, 100% {
            transform: translateY(-20%);
            animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
          }
          50% {
            transform: translateY(0);
            animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
          }
        }
      `})]})}const NW=()=>r.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[r.jsx(w9,{}),r.jsx(_9,{}),r.jsx(hW,{}),r.jsx(vW,{}),r.jsx(bW,{}),r.jsx(jW,{}),r.jsx(Ar,{})]}),ir=e=>{if(!e)return"/placeholder-product.jpg";if(e.includes("ngrok-free.app")){const s=new URL(e);return s.searchParams.set("ngrok-skip-browser-warning","true"),s.toString()}if(e.startsWith("/media/")||e.startsWith("media/")){const s=`${Ur.BASE_URL}${e.startsWith("/")?e:`/${e}`}`,i=new URL(s);return i.searchParams.set("ngrok-skip-browser-warning","true"),i.toString()}if(e.startsWith("http"))return e;const t=`${Ur.BASE_URL}/media/${e}`,n=new URL(t);return n.searchParams.set("ngrok-skip-browser-warning","true"),n.toString()};function SW(){var k,O,P;const e=nt(),{id:t}=gp(),{addToCart:n}=us(),{toast:s}=cn(),[i,a]=j.useState(1),[o,c]=j.useState(!1),[d,h]=j.useState(!1),[f,m]=j.useState(null),[u,p]=j.useState(!0),[x,v]=j.useState(""),[w,b]=j.useState(0);j.useEffect(()=>{t&&y()},[t]);const y=async()=>{var T,M;try{p(!0);const H=await fetch(`${tt}api/search/products/?page_size=1000`,{headers:{"ngrok-skip-browser-warning":"true"}});if(!H.ok)throw new Error("Failed to fetch products");const Z=(T=(await H.json()).results)==null?void 0:T.find(q=>q.id===parseInt(t));if(!Z)throw new Error("Product not found");m(Z);const B=await Pe.getToken();if(B)try{const q=await fetch(`${tt}favorites/`,{headers:{Authorization:`Token ${B}`,"ngrok-skip-browser-warning":"true"}});if(q.ok){const $=(M=(await q.json()).results)==null?void 0:M.some(z=>z.product.id===Z.id);c($||!1)}}catch(q){console.log("Could not fetch favorites:",q)}}catch(H){console.error("Error fetching product:",H),v("Failed to load product details")}finally{p(!1)}},_=T=>{a(Math.max(1,i+T))},N=async()=>{if(f){h(!0);try{await n(f.id,i)}catch{}finally{h(!1)}}},C=async()=>{f&&e("/checkout",{state:{directBuy:!0,product:{id:f.id,name:f.name,price:f.price,quantity:i,vendor_name:f.vendor_name,vendor_id:f.vendor_id,images:f.images}}})},D=async()=>{if(!f)return;const T=await Pe.getToken();if(!T){s({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const M=await fetch(`${tt}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${T}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({product_id:f.id})});if(!M.ok)throw new Error("Failed to toggle favorite");const H=await M.json();c(H.is_favorite),s({title:H.is_favorite?"Added to Favorites":"Removed from Favorites",description:H.message})}catch(M){console.error("Error toggling favorite:",M),s({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},E=async()=>{if(!f)return;const T={title:f.name,text:`Check out ${f.name} - ${f.price}`,url:window.location.href};try{navigator.share?await navigator.share(T):(await navigator.clipboard.writeText(window.location.href),s({title:"Link Copied",description:"Product link copied to clipboard"}))}catch(M){console.error("Error sharing:",M),s({title:"Error",description:"Failed to share product",variant:"destructive"})}};if(u)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading product details..."})]})});if(x||!f)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:x||"Product not found"}),r.jsx(ne,{onClick:()=>e(-1),children:"Go Back"})]})});const R=((k=f.images)==null?void 0:k.find(T=>T.is_primary))||((O=f.images)==null?void 0:O[0]),A=((P=f.images)==null?void 0:P[w])||R;return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-md",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"rounded-full hover:bg-gray-100",children:r.jsx(Dt,{className:"h-5 w-5 text-gray-800"})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ne,{variant:"ghost",size:"icon",onClick:D,className:"rounded-full hover:bg-gray-100",children:r.jsx(ds,{className:`h-5 w-5 ${o?"fill-red-500 text-red-500":"text-gray-800"}`})}),r.jsx(ne,{variant:"ghost",size:"icon",onClick:E,className:"rounded-full hover:bg-gray-100",children:r.jsx(DD,{className:"h-5 w-5 text-gray-800"})})]})]})}),r.jsxs("div",{className:"relative bg-white p-4",children:[r.jsx("div",{className:"aspect-square max-w-md mx-auto mb-4 border-t-2 border-b-2 border-gray-100",children:r.jsx("img",{src:ir(A==null?void 0:A.image_url),alt:f.name,className:"w-full h-full object-cover",onError:T=>{T.target.src="/placeholder-product.jpg"}})}),f.images&&f.images.length>1&&r.jsx("div",{className:"border-t border-b border-gray-200 py-3",children:r.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-md mx-auto",children:f.images.slice(0,4).map((T,M)=>r.jsx("button",{onClick:()=>b(M),className:`aspect-square overflow-hidden border-2 transition-all duration-200 ${w===M?"border-blue-500 shadow-md scale-105":"border-gray-300 hover:border-gray-400"}`,children:r.jsx("img",{src:ir(T.image_url),alt:`${f.name} ${M+1}`,className:"w-full h-full object-cover",onError:H=>{H.target.src="/placeholder-product.jpg"}})},T.id))})})]}),r.jsxs("div",{className:"bg-white px-4 py-6 space-y-4 shadow-sm",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:f.name}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-baseline gap-2",children:r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",f.price]})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"4.5"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Me,{variant:"secondary",className:"bg-blue-100 text-blue-800 capitalize",children:f.category}),f.quantity>0?r.jsxs(Me,{variant:"secondary",className:"bg-green-100 text-green-800",children:["In Stock (",f.quantity," available)"]}):r.jsx(Me,{variant:"destructive",children:"Out of Stock"})]})]}),r.jsxs("div",{className:"bg-white px-4 py-6 space-y-2 shadow-sm",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Description"}),r.jsx("div",{className:"text-sm text-gray-600 leading-relaxed",dangerouslySetInnerHTML:{__html:f.description}}),f.short_description&&r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Summary:"})," ",f.short_description]})]}),f.tags&&f.tags.length>0&&r.jsxs("div",{className:"bg-white px-4 py-6 space-y-2 shadow-sm",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:f.tags.map((T,M)=>r.jsx(Me,{variant:"outline",className:"text-xs border-gray-300 text-gray-700",children:T},M))})]}),r.jsx("div",{className:"mx-4 my-4 bg-white shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e(`/vendor/${f.vendor_id}`),children:r.jsxs("div",{className:"p-4 flex items-center gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 flex items-center justify-center text-2xl",children:""}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900",children:f.vendor_name}),r.jsx(pi,{className:"h-4 w-4 text-primary"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),r.jsx("span",{children:"4.8"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(is,{className:"h-3 w-3"}),r.jsx("span",{children:"30-45 mins"})]})]})]})]})}),r.jsxs("div",{className:"bg-white px-4 py-6 flex items-center justify-between shadow-sm",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Quantity"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"outline",size:"icon",onClick:()=>_(-1),className:"h-8 w-8 rounded-full",children:r.jsx(RD,{className:"h-4 w-4"})}),r.jsx("span",{className:"font-semibold text-lg w-8 text-center",children:i}),r.jsx(ne,{variant:"outline",size:"icon",onClick:()=>_(1),className:"h-8 w-8 rounded-full",children:r.jsx(gn,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4",children:r.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[r.jsx(ne,{variant:"outline",className:"flex-1 h-12 rounded-lg text-gray-800 font-semibold",onClick:N,disabled:d||f.quantity===0,children:d?"Adding...":"Add to Cart"}),r.jsx(ne,{className:"flex-1 h-12 rounded-lg bg-green-600 hover:bg-green-700 text-white font-semibold",onClick:C,disabled:d||f.quantity===0,children:d?"Processing...":"Buy Now"})]})})]})}const Ne=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ne.displayName="Card";const ot=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ve("flex flex-col space-y-1.5 p-6",e),...t}));ot.displayName="CardHeader";const lt=j.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));lt.displayName="CardTitle";const kW=j.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Ve("text-sm text-muted-foreground",e),...t}));kW.displayName="CardDescription";const ke=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ve("p-6 pt-0",e),...t}));ke.displayName="CardContent";const CW=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ve("flex items-center p-6 pt-0",e),...t}));CW.displayName="CardFooter";var Ep="Tabs",[EW,Fre]=lr(Ep,[$c]),RO=$c(),[PW,vw]=EW(Ep),MO=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=e,f=Fc(c),[m,u]=Rs({prop:s,onChange:i,defaultProp:a??"",caller:Ep});return r.jsx(PW,{scope:n,baseId:As(),value:m,onValueChange:u,orientation:o,dir:f,activationMode:d,children:r.jsx(We.div,{dir:f,"data-orientation":o,...h,ref:t})})});MO.displayName=Ep;var IO="TabsList",DO=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=vw(IO,n),o=RO(n);return r.jsx(Eb,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(We.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});DO.displayName=IO;var FO="TabsTrigger",$O=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=vw(FO,n),c=RO(n),d=VO(o.baseId,s),h=UO(o.baseId,s),f=s===o.value;return r.jsx(Pb,{asChild:!0,...c,focusable:!i,active:f,children:r.jsx(We.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:Le(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:Le(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:Le(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(s)})})})});$O.displayName=FO;var BO="TabsContent",zO=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,c=vw(BO,n),d=VO(c.baseId,s),h=UO(c.baseId,s),f=s===c.value,m=j.useRef(f);return j.useEffect(()=>{const u=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(u)},[]),r.jsx(Kn,{present:i||f,children:({present:u})=>r.jsx(We.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!u,id:h,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:u&&a})})});zO.displayName=BO;function VO(e,t){return`${e}-trigger-${t}`}function UO(e,t){return`${e}-content-${t}`}var TW=MO,qO=DO,HO=$O,WO=zO;const ia=TW,yi=j.forwardRef(({className:e,...t},n)=>r.jsx(qO,{ref:n,className:Ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));yi.displayName=qO.displayName;const Mt=j.forwardRef(({className:e,...t},n)=>r.jsx(HO,{ref:n,className:Ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Mt.displayName=HO.displayName;const ft=j.forwardRef(({className:e,...t},n)=>r.jsx(WO,{ref:n,className:Ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ft.displayName=WO.displayName;const AW=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function OW(){var N;const e=nt(),{vendorId:t}=gp(),[n,s]=j.useState(!1),[i,a]=j.useState(null),[o,c]=j.useState([]),[d,h]=j.useState(!0),[f,m]=j.useState(null),[u,p]=j.useState(xt.getLocation()),[x,v]=j.useState("N/A"),{toast:w}=cn(),{addToCart:b}=us();j.useEffect(()=>{const C=xt.subscribe(p);return xt.startTracking(),C},[]),j.useEffect(()=>{t&&y()},[t]);const y=async()=>{var C;try{h(!0),m(null);const{response:D,data:E}=await Fe(`/api/vendors/${t}/`);if(!D.ok)throw D.status===404?new Error("Vendor not found"):new Error("Failed to fetch vendor profile");if(!E)throw new Error("No vendor data received");a(E);const R=xt.getLocation();if(R&&E.latitude&&E.longitude){const O=AW(R.latitude,R.longitude,E.latitude,E.longitude);v(`${O.toFixed(1)} km`)}const{response:A,data:k}=await Fe(`/api/search/products/?search=${encodeURIComponent(E.business_name)}`);if(A.ok&&k){const O=((C=k.results)==null?void 0:C.filter(P=>P.vendor_name===E.business_name))||[];c(O)}if(!D.ok)throw D.status===404?new Error("Vendor not found"):new Error("Failed to fetch vendor profile")}catch(D){console.error("Error fetching vendor profile:",D),m(D.message),w({title:"Error",description:"Failed to load vendor profile",variant:"destructive"})}finally{h(!1)}},_=C=>{const D=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],E=[];for(const R of D){const A=`${R}_open`,k=`${R}_close`,O=`${R}_closed`;!C[O]&&C[A]&&C[k]&&E.push(`${R.charAt(0).toUpperCase()+R.slice(1)}: ${C[A]} - ${C[k]}`)}return E.length>0?E.join(", "):"Hours not specified"};return d?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading vendor profile..."})]})}):f||!i?r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:r.jsxs("div",{className:"flex items-center justify-between p-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("h1",{className:"font-semibold",children:"Vendor Not Found"}),r.jsx("div",{className:"w-10"})]})}),r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Sr,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Vendor Not Found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"The vendor you're looking for doesn't exist or is not available."}),r.jsx(ne,{onClick:()=>e("/search"),children:"Browse Vendors"})]})})]}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:r.jsxs("div",{className:"flex items-center justify-between p-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("h1",{className:"font-semibold truncate",children:i.business_name}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>s(!n),className:"p-2",children:r.jsx(ds,{className:`h-5 w-5 ${n?"fill-red-500 text-red-500":""}`})})]})}),r.jsx("div",{className:"p-4 bg-gradient-subtle",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:(N=i.user_info)!=null&&N.profile_picture?r.jsx("img",{src:ir(i.user_info.profile_picture),alt:i.business_name,className:"w-full h-full object-cover",onError:C=>{C.target.src="/placeholder-vendor.jpg"}}):r.jsx(Sr,{className:"h-8 w-8 text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h2",{className:"text-lg font-bold",children:i.business_name}),i.is_approved&&r.jsx(pi,{className:"h-5 w-5 text-green-500"}),r.jsx(Me,{variant:i.is_active?"default":"destructive",className:"text-xs",children:i.is_active?"Open":"Closed"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"font-medium",children:"4.5"}),r.jsx("span",{children:"(Reviews coming soon)"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bt,{className:"h-4 w-4"}),r.jsx("span",{children:x})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:i.categories&&i.categories.map((C,D)=>r.jsx(Me,{variant:"secondary",className:"text-xs",children:C},D))})]})]})}),r.jsx("div",{className:"px-4 py-3 bg-card border-b border-border/50",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx(is,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery"}),r.jsx("p",{className:"text-sm font-medium",children:i.estimated_delivery_time||"30-45 mins"})]}),r.jsxs("div",{children:[r.jsx(Sr,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Min Order"}),r.jsxs("p",{className:"text-sm font-medium",children:["",i.min_order_amount||"0"]})]}),r.jsxs("div",{children:[r.jsx(Bt,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Type"}),r.jsx("p",{className:"text-sm font-medium capitalize",children:i.business_type})]})]})}),r.jsxs("div",{className:"px-4 py-3 flex gap-3",children:[r.jsxs(ne,{variant:"brand",className:"flex-1 h-10",onClick:()=>e(`/messages?vendor=${i.user}`),children:[r.jsx(Hl,{className:"h-4 w-4 mr-2"}),"Message"]}),r.jsxs(ne,{variant:"outline",className:"flex-1 h-10",onClick:()=>{if(i.latitude&&i.longitude&&u){const C=`https://www.google.com/maps/dir/${u.latitude},${u.longitude}/${i.latitude},${i.longitude}`;window.open(C,"_blank")}else if(i.latitude&&i.longitude){const C=`https://www.google.com/maps/place/${i.latitude},${i.longitude}`;window.open(C,"_blank")}},children:[r.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View in Map"]})]}),r.jsx("div",{className:"flex-1",children:r.jsxs(ia,{defaultValue:"products",className:"w-full",children:[r.jsxs(yi,{className:"grid w-full grid-cols-3 mx-4",children:[r.jsx(Mt,{value:"products",children:"Products"}),r.jsx(Mt,{value:"about",children:"About"}),r.jsx(Mt,{value:"reviews",children:"Reviews"})]}),r.jsx(ft,{value:"products",className:"p-4 space-y-3",children:o.length>0?r.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(C=>{var E,R;const D=((E=C.images)==null?void 0:E.find(A=>A.is_primary))||((R=C.images)==null?void 0:R[0]);return r.jsx(Ne,{className:"p-3 cursor-pointer hover:shadow-md transition-smooth",onClick:()=>e(`/product/${C.id}`),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"aspect-square mb-2 bg-gray-100 rounded-lg overflow-hidden",children:r.jsx("img",{src:ir(D==null?void 0:D.image_url),alt:C.name,className:"w-full h-full object-cover",onError:A=>{A.target.src="/placeholder-product.jpg"}})}),r.jsx("h3",{className:"font-medium text-sm mb-1 line-clamp-2",children:C.name}),r.jsxs("p",{className:"font-semibold text-primary text-sm mb-2",children:["",C.price]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 h-7 text-xs",disabled:C.quantity===0,onClick:A=>{A.stopPropagation(),b(C.id,1)},children:r.jsx(rr,{className:"h-3 w-3"})}),r.jsxs(ne,{size:"sm",className:"flex-1 h-7 text-xs bg-green-600 hover:bg-green-700",disabled:C.quantity===0,onClick:A=>{A.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:C.id,name:C.name,price:C.price,quantity:1,vendor_name:C.vendor_name,images:C.images}}})},children:[r.jsx(gn,{className:"h-3 w-3"}),"Buy"]})]})]})},C.id)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsx("h3",{className:"font-semibold mb-2",children:"No Products Available"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:"This vendor hasn't added any products yet."})]})}),r.jsxs(ft,{value:"about",className:"p-4 space-y-4",children:[i.description&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),r.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.description})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Business Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sr,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:"Owner:"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:i.owner_name})]}),i.business_email&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:"Email:"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:i.business_email})]}),i.business_phone&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:"Phone:"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:i.business_phone})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Location"}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Bt,{className:"h-4 w-4 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:i.business_address}),i.location_address&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.location_address}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.city,", ",i.state," - ",i.pincode]})]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Operating Hours"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_(i)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Services"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.home_delivery&&r.jsx(Me,{variant:"secondary",children:"Home Delivery"}),i.pickup_service&&r.jsx(Me,{variant:"secondary",children:"Pickup Service"}),i.online_ordering&&r.jsx(Me,{variant:"secondary",children:"Online Ordering"}),i.bulk_orders&&r.jsx(Me,{variant:"secondary",children:"Bulk Orders"}),i.subscription_service&&r.jsx(Me,{variant:"secondary",children:"Subscription"}),i.loyalty_program&&r.jsx(Me,{variant:"secondary",children:"Loyalty Program"})]})]})]}),r.jsx(ft,{value:"reviews",className:"p-4",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(vn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"Reviews coming soon"})]})})]})})]})}function LW(){const e=nt();return j.useEffect(()=>{const t=setTimeout(()=>{e("/login")},3e3);return()=>clearTimeout(t)},[e]),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-700 via-emerald-600 to-blue-600 flex flex-col items-center justify-center px-6 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute w-64 h-64 bg-indigo-400/20 rounded-full blur-3xl animate-float top-10 left-10"}),r.jsx("div",{className:"absolute w-80 h-80 bg-emerald-400/20 rounded-full blur-3xl animate-float-delayed bottom-20 right-20"})]}),r.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl w-full max-w-sm rounded-2xl p-10 text-center shadow-2xl border border-white/15 animate-in fade-in zoom-in-95 duration-1000",children:[r.jsx("div",{className:"relative w-28 h-28 bg-gradient-to-r from-indigo-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-6 shadow-xl transform transition-all duration-700 hover:scale-110 hover:rotate-3",children:r.jsx("span",{className:"text-6xl drop-shadow-lg animate-pulse-subtle",children:""})}),r.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-100 to-emerald-100 tracking-tight mb-3",children:"KathSnap"}),r.jsx("p",{className:"text-white/90 text-lg font-medium tracking-wide leading-relaxed",children:"Swift Shopping, Delivered to Your Door"})]}),r.jsxs("div",{className:"absolute bottom-16 flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 border-4 border-t-transparent border-white/95 rounded-full animate-spin mb-4 shadow-lg"}),r.jsx("p",{className:"text-white/85 text-sm font-medium tracking-wide animate-pulse-subtle",children:"Preparing Your Shopping Journey..."})]}),r.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0) translateX(0); }
          50% { transform: translateY(-20px) translateX(10px); }
        }
        @keyframes float-delayed {
          0%, 100% { transform: translateY(0) translateX(0); }
          50% { transform: translateY(20px) translateX(-10px); }
        }
        @keyframes pulse-subtle {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.03); opacity: 0.9; }
        }
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        .animate-float-delayed {
          animation: float-delayed 6s ease-in-out infinite;
        }
        .animate-pulse-subtle {
          animation: pulse-subtle 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
      `})]})}function Pp(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Tp="Checkbox",[RW,$re]=lr(Tp),[MW,xw]=RW(Tp);function IW(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:h,value:f="on",internal_do_not_use_render:m}=e,[u,p]=Rs({prop:n,defaultProp:i??!1,onChange:d,caller:Tp}),[x,v]=j.useState(null),[w,b]=j.useState(null),y=j.useRef(!1),_=x?!!o||!!x.closest("form"):!0,N={checked:u,disabled:a,setChecked:p,control:x,setControl:v,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:y,required:h,defaultChecked:Da(i)?!1:i,isFormControl:_,bubbleInput:w,setBubbleInput:b};return r.jsx(MW,{scope:t,...N,children:DW(m)?m(N):s})}var ZO="CheckboxTrigger",GO=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:c,checked:d,required:h,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:u,isFormControl:p,bubbleInput:x}=xw(ZO,e),v=dt(i,f),w=j.useRef(d);return j.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const y=()=>m(w.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[a,m]),r.jsx(We.button,{type:"button",role:"checkbox","aria-checked":Da(d)?"mixed":d,"aria-required":h,"data-state":JO(d),"data-disabled":c?"":void 0,disabled:c,value:o,...s,ref:v,onKeyDown:Le(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Le(n,b=>{m(y=>Da(y)?!0:!y),x&&p&&(u.current=b.isPropagationStopped(),u.current||b.stopPropagation())})})});GO.displayName=ZO;var yw=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:h,form:f,...m}=e;return r.jsx(IW,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:s,form:f,value:d,internal_do_not_use_render:({isFormControl:u})=>r.jsxs(r.Fragment,{children:[r.jsx(GO,{...m,ref:t,__scopeCheckbox:n}),u&&r.jsx(QO,{__scopeCheckbox:n})]})})});yw.displayName=Tp;var KO="CheckboxIndicator",YO=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=xw(KO,n);return r.jsx(Kn,{present:s||Da(a.checked)||a.checked===!0,children:r.jsx(We.span,{"data-state":JO(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});YO.displayName=KO;var XO="CheckboxBubbleInput",QO=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:h,value:f,form:m,bubbleInput:u,setBubbleInput:p}=xw(XO,e),x=dt(n,p),v=Pp(a),w=op(s);j.useEffect(()=>{const y=u;if(!y)return;const _=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(_,"checked").set,D=!i.current;if(v!==a&&C){const E=new Event("click",{bubbles:D});y.indeterminate=Da(a),C.call(y,Da(a)?!1:a),y.dispatchEvent(E)}},[u,v,a,i]);const b=j.useRef(Da(a)?!1:a);return r.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:d,name:h,value:f,form:m,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});QO.displayName=XO;function DW(e){return typeof e=="function"}function Da(e){return e==="indeterminate"}function JO(e){return Da(e)?"indeterminate":e?"checked":"unchecked"}const vy=j.forwardRef(({className:e,...t},n)=>r.jsx(yw,{ref:n,className:Ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(YO,{className:Ve("flex items-center justify-center text-current"),children:r.jsx(np,{className:"h-4 w-4"})})}));vy.displayName=yw.displayName;const FW=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3},bS=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0),{addToCart:i}=us(),a=nt();j.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await Pe.getToken(),d={"ngrok-skip-browser-warning":"true",...c?{Authorization:`Token ${c}`}:{}},h=xt.getLocation(),f=new URLSearchParams({page_size:"6"});h&&(f.append("latitude",h.latitude.toString()),f.append("longitude",h.longitude.toString()));const p=((await(await fetch(`${tt}api/search/products/?${f}`,{headers:d})).json()).results||[]).map(x=>{var b,y;const v=((b=x.images)==null?void 0:b.find(_=>_.is_primary))||((y=x.images)==null?void 0:y[0]);let w="N/A";return h&&x.vendor_latitude&&x.vendor_longitude&&(w=`${FW(h.latitude,h.longitude,x.vendor_latitude,x.vendor_longitude).toFixed(1)} km`),{id:x.id,name:x.name,vendor:x.vendor_name||"Unknown Vendor",price:x.price,image:(v==null?void 0:v.image_url)||"/placeholder-product.jpg",distance:w,inStock:x.quantity>0}});t(p)}catch(c){console.error("Failed to fetch products:",c)}finally{s(!1)}};return n?r.jsx("div",{className:"grid grid-cols-2 gap-2 px-2",children:[...Array(6)].map((c,d)=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden animate-pulse",children:[r.jsx("div",{className:"h-24 bg-gray-200"}),r.jsxs("div",{className:"p-2 space-y-2",children:[r.jsx("div",{className:"h-3 bg-gray-200 rounded"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},d))}):r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3 px-2",children:"Products Near You"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 px-2",children:e.map(c=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-[#856043]/30 overflow-hidden shadow-sm",children:[r.jsx("div",{className:"relative h-24 overflow-hidden bg-gray-100 cursor-pointer",onClick:()=>a(`/product/${c.id}`),children:r.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:d=>{d.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),r.jsxs("div",{className:"p-2 space-y-1",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-900 line-clamp-2 leading-tight",children:c.name}),r.jsx("p",{className:"text-[10px] text-gray-500",children:c.vendor}),r.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[r.jsx(Bt,{className:"h-2 w-2"}),r.jsx("span",{children:c.distance})]}),r.jsxs("p",{className:"text-xs font-bold text-[#856043]",children:["",c.price]}),r.jsxs(ne,{variant:"outline",size:"sm",className:"w-full border-[#856043] text-[#856043] hover:bg-[#856043] hover:text-white rounded-md text-[10px] py-1",disabled:!c.inStock,onClick:()=>i(c.id,1),children:[r.jsx(rr,{className:"w-2 h-2 mr-1"}),"Add to Cart"]})]})]},c.id))})]})};function $W(){const{toast:e}=cn(),{cart:t,loading:n,updateCartItem:s,removeFromCart:i}=us();j.useState("");const[a,o]=j.useState(0),[c,d]=j.useState([]),h=nt(),f=[];j.useEffect(()=>{t!=null&&t.items&&d([])},[t]);const m=(t==null?void 0:t.items)||[],u=m.filter(k=>c.includes(k.id)),p=c.length===m.length&&m.length>0,x=k=>{d(k?m.map(O=>O.id):[])},v=k=>{d(O=>O.includes(k)?O.filter(P=>P!==k):[...O,k])},w=async(k,O)=>{const P=m.find(T=>T.id===k);if(P){const T=P.quantity+O;T>0&&await s(k,T)}},b=async k=>{await i(k)},y=async()=>{if(c.length!==0){for(const k of c)await i(k);d([])}},_=k=>{b(k.id),e({title:"Feature Coming Soon",description:"Save for later feature will be available soon"})},N=k=>{e({title:"Feature Coming Soon",description:"Move to cart feature will be available soon"})},D=u.reduce((k,O)=>k+parseFloat(O.total_price.toString()),0),E=D*.05,R=D*a,A=D+E-R;return n?r.jsx("div",{className:"min-h-screen bg-gray-50 font-sans flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(rr,{className:"mx-auto h-10 w-10 text-[#856043] mb-2 animate-pulse"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading cart..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-sm border-b py-2 px-3",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-2",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[r.jsx(rr,{className:"w-4 h-4 mr-1 text-[#856043]"}),"(",m.length,")"]}),r.jsx(ne,{variant:"outline",className:"border-[#856043] text-[#856043] hover:bg-[#856043]/10 hover:text-[#856043] rounded-md text-xs font-medium py-1 px-2",onClick:()=>h("/search"),children:"Continue Shopping"})]})}),r.jsx("main",{className:"max-w-7xl mx-auto px-3 py-4 pb-52 overflow-y-auto",style:{height:"calc(100vh - 120px)"},children:m.length===0?r.jsxs("div",{children:[r.jsxs("div",{className:"text-center py-6",children:[r.jsx(rr,{className:"mx-auto h-10 w-10 text-[#856043] mb-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Your Cart is Empty"}),r.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Discover products near you"})]}),r.jsx(bS,{})]}):r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vy,{id:"select-all",checked:p,onCheckedChange:x,className:"data-[state=checked]:bg-[#856043] data-[state=checked]:border-[#856043]"}),r.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium text-gray-700 cursor-pointer",children:["Select all (",m.length,")"]})]}),r.jsxs(ne,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs px-3 py-1 rounded-md",onClick:y,disabled:c.length===0,children:[r.jsx(qa,{className:"w-3 h-3 mr-1"}),"Delete (",c.length,")"]})]}),r.jsx("div",{className:"space-y-2",children:r.jsx(SN,{children:m.map((k,O)=>{var P,T;return r.jsxs(Bi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:O*.1},className:"bg-white p-3 flex items-center gap-3 rounded-lg border border-gray-200 shadow-sm hover:bg-gray-50 transition-colors",children:[r.jsx(vy,{checked:c.includes(k.id),onCheckedChange:()=>v(k.id),className:"data-[state=checked]:bg-[#856043] data-[state=checked]:border-[#856043] flex-shrink-0"}),r.jsx("div",{className:"w-12 h-12 flex-shrink-0 overflow-hidden rounded",children:r.jsx("img",{src:((T=(P=k.product.images)==null?void 0:P[0])==null?void 0:T.image_url)||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200",alt:k.product.name,className:"w-full h-full object-cover",onError:M=>{M.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xs font-medium text-gray-900 truncate",children:k.product.name}),r.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:["Sold by ",k.product.vendor_name]}),r.jsx("div",{className:"flex items-center gap-1 mt-1",children:r.jsxs("p",{className:"text-xs font-bold text-[#856043]",children:["",k.product.price]})})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ne,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-gray-600 border-gray-300 hover:border-[#856043] hover:text-[#856043]",onClick:()=>w(k.id,-1),children:"-"}),r.jsx("span",{className:"text-xs min-w-[1rem] text-center",children:k.quantity}),r.jsx(ne,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-gray-600 border-gray-300 hover:border-[#856043] hover:text-[#856043]",onClick:()=>w(k.id,1),children:"+"})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ne,{variant:"ghost",size:"sm",className:"p-1 text-[#856043] hover:text-[#856043]/90 hover:bg-[#856043]/5",onClick:()=>_(k),children:r.jsx(ds,{className:"w-3 h-3"})}),r.jsx(ne,{variant:"ghost",size:"sm",className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>b(k.id),children:r.jsx(qa,{className:"w-3 h-3"})})]})]},k.id)})})}),f.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 px-2",children:"Saved for Later"}),r.jsx(SN,{children:f.map((k,O)=>r.jsxs(Bi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:O*.1},className:"bg-white p-2 flex items-center gap-2 border-b border-gray-300 hover:bg-gray-50",children:[r.jsx("div",{className:"w-12 h-12 flex-shrink-0 overflow-hidden rounded",children:r.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover",onError:P=>{P.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xs font-medium text-gray-900 truncate",children:k.name}),r.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:["Sold by ",k.vendor]}),r.jsx("p",{className:"text-xs font-bold text-[#856043] mt-1",children:k.price})]}),r.jsx(ne,{variant:"outline",size:"sm",className:"border-[#856043] text-[#856043] hover:bg-[#856043]/10 text-[10px] px-2 py-1",onClick:()=>N(),children:"Move to Cart"})]},k.id))})]}),r.jsx("div",{className:"mt-4",children:r.jsx(bS,{})})]})})}),m.length>0&&r.jsx(Bi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"fixed bottom-20 left-0 right-0 bg-white border-t border-gray-300 z-40",style:{maxHeight:"30vh"},children:r.jsx("div",{className:"max-w-7xl mx-auto px-3",children:r.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"30vh"},children:r.jsxs("div",{className:"py-4",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Order Summary"}),r.jsxs("div",{className:"space-y-2 text-xs mb-4",children:[r.jsxs("div",{className:"flex justify-between text-gray-700",children:[r.jsxs("span",{children:["Subtotal (",u.length," items)"]}),r.jsxs("span",{className:"font-medium",children:["",D.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-gray-700",children:[r.jsx("span",{children:"Taxes (5%)"}),r.jsxs("span",{className:"font-medium",children:["",E.toFixed(2)]})]}),r.jsx("hr",{className:"border-gray-300 my-2"}),r.jsxs("div",{className:"flex justify-between font-bold text-sm text-gray-900",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["",A.toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-600 mt-2",children:[r.jsx(Wl,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-semibold",children:"Estimated delivery: 50-60"})]})]}),r.jsx(ne,{size:"lg",className:"w-full rounded-md bg-[#856043] text-white hover:bg-[#856043]/90 py-3 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed mb-2",disabled:u.length===0,onClick:()=>h("/checkout",{state:{selectedItems:u}}),children:"Proceed to Checkout"})]})})})}),r.jsx(Ar,{})]})}const fm=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3},BW=()=>{const e=27.6398805,t=85.3303725,n=27.66424179701499,s=85.3465231243003,i=fm(e,t,n,s);console.log(` Your coordinates test: ${i.toFixed(3)} km (Google shows: 5.1 km)`);const a={lat:40.7128,lon:-74.006},o={lat:34.0522,lon:-118.2437},c=fm(a.lat,a.lon,o.lat,o.lon);console.log(`Test: NYC to LA = ${c.toFixed(2)} km (Google: ~3944 km)`),console.log(` Verify on Google Maps: https://www.google.com/maps/dir/${e},${t}/${n},${s}`)};function zW(){const e=nt(),[t,n]=Nb(),[s,i]=j.useState(t.get("q")||""),[a,o]=j.useState({products:[],vendors:[]}),[c,d]=j.useState("all"),[h,f]=j.useState(!1),[m,u]=j.useState(xt.getLocation()),[p,x]=j.useState({page:1,hasMore:!0}),[v,w]=j.useState(new Set),[b,y]=j.useState(!1),[_,N]=j.useState(""),[C,D]=j.useState([]),{addToCart:E}=us(),{toast:R}=cn(),[A,k]=j.useState([]),O=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const z=xt.subscribe(u);return xt.startTracking(),BW(),P(),B(),z},[]),j.useEffect(()=>{n(s?{q:s}:{}),x({page:1,hasMore:!0}),P(1,s)},[s,n]),j.useEffect(()=>{P(1,s)},[_,C]),j.useEffect(()=>{m&&(console.log(" Location updated, refetching data:",m),P(1,s))},[m]);const P=async(z=1,G="")=>{var X;f(!0);try{const J=await Pe.getToken(),K=J?{Authorization:`Token ${J}`,"ngrok-skip-browser-warning":"true"}:{"ngrok-skip-browser-warning":"true"},U=xt.getLocation();console.log(" Frontend location check:",{userLocation:m,currentLocation:U});const te=new URLSearchParams({page:z.toString(),page_size:"10"});G&&te.append("search",G),U?(te.append("latitude",U.latitude.toString()),te.append("longitude",U.longitude.toString()),console.log(" Sending location to API:",U)):console.log(" No location available for API call");const[re,le]=await Promise.all([fetch(`${tt}api/search/products/?${te}`,{headers:K}),fetch(`${tt}api/search/vendors/?${te}`,{headers:K})]),pe=await re.json(),ee=await le.json(),ye=T(pe.results||[]),Ce=M(ee.results||[]),ue=[...new Set(((X=pe.results)==null?void 0:X.map(be=>be.category).filter(Boolean))||[])];k(ue),o(z===1?{products:ye,vendors:Ce}:be=>({products:[...be.products,...ye],vendors:[...be.vendors,...Ce]})),x({page:z,hasMore:pe.next!==null||ee.next!==null})}catch(J){console.error("Fetch error:",J)}finally{f(!1)}},T=z=>{const G=xt.getLocation();let X=z.map(J=>{var re,le;const K=((re=J.images)==null?void 0:re.find(pe=>pe.is_primary))||((le=J.images)==null?void 0:le[0]);let U="N/A",te=1/0;return G&&J.vendor_latitude&&J.vendor_longitude&&(te=fm(G.latitude,G.longitude,J.vendor_latitude,J.vendor_longitude),U=`${te.toFixed(1)} km`),{id:J.id,name:J.name,vendor:J.vendor_name||"Unknown Vendor",price:`${J.price}`,priceValue:parseFloat(J.price),image:(K==null?void 0:K.image_url)||"/placeholder-product.jpg",rating:4.5,distance:U,distanceValue:te,deliveryTime:"30-45 mins",inStock:J.quantity>0,category:J.category}});return C.length>0&&(X=X.filter(J=>C.includes(J.category))),_==="price_low"?X.sort((J,K)=>J.priceValue-K.priceValue):_==="price_high"?X.sort((J,K)=>K.priceValue-J.priceValue):X.sort((J,K)=>J.distanceValue-K.distanceValue),X},M=z=>{const G=xt.getLocation();return z.map(X=>{var U;let J="N/A",K=1/0;return G&&X.latitude&&X.longitude&&(K=fm(G.latitude,G.longitude,X.latitude,X.longitude),J=`${K.toFixed(1)} km`),{id:X.id,name:X.business_name,image:((U=X.user_info)==null?void 0:U.profile_picture)||"/placeholder-vendor.jpg",rating:4.5,distance:J,distanceValue:K,deliveryTime:"30-45 mins",categories:X.categories||[]}}).sort((X,J)=>X.distanceValue-J.distanceValue)},H=()=>{!h&&p.hasMore&&P(p.page+1,s)},W=z=>{e(`/product/${z}`)},Z=z=>{e(`/vendor/${z.id}`)},B=async()=>{var G;const z=await Pe.getToken();if(z)try{const X=await fetch(`${tt}favorites/`,{headers:{Authorization:`Token ${z}`,"ngrok-skip-browser-warning":"true"}});if(X.ok){const J=await X.json(),K=new Set(((G=J.results)==null?void 0:G.map(U=>U.product.id))||[]);w(K)}}catch(X){console.error("Failed to fetch favorites:",X)}},q=async(z,G)=>{G.stopPropagation();const X=await Pe.getToken();if(!X){R({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const J=await fetch(`${tt}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${X}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({product_id:z})});if(J.ok){const K=await J.json(),U=new Set(v);K.is_favorite?U.add(z):U.delete(z),w(U),R({title:K.is_favorite?"Added to Favorites":"Removed from Favorites",description:K.message})}}catch{R({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},F=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.products.map(z=>r.jsxs(Ne,{className:"overflow-hidden",children:[r.jsxs("div",{className:"cursor-pointer",onClick:()=>W(z.id),children:[r.jsxs("div",{className:"aspect-square relative",children:[r.jsx("img",{src:z.image,alt:z.name,className:"w-full h-full object-cover",onError:G=>{G.target.src="/placeholder-product.jpg"}}),r.jsx(ne,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:G=>q(z.id,G),children:r.jsx(ds,{className:`h-4 w-4 ${v.has(z.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsx(Me,{variant:z.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:z.inStock?"In Stock":"Out of Stock"})]}),r.jsxs(ke,{className:"p-3",children:[r.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:z.name}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:z.vendor}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),r.jsx("span",{children:z.rating})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{children:z.distance})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-bold text-primary text-sm",children:z.price}),r.jsx("span",{className:"text-xs text-muted-foreground",children:z.deliveryTime})]})]})]}),r.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[r.jsxs(ne,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!z.inStock,onClick:G=>{G.stopPropagation(),E(z.id,1)},children:[r.jsx(rr,{className:"h-3 w-3 mr-1"}),"Cart"]}),r.jsxs(ne,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!z.inStock,onClick:G=>{G.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:z.id,name:z.name,price:z.price.replace("",""),quantity:1,vendor_name:z.vendor,images:[{image_url:z.image}]}}})},children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},z.id))}),p.hasMore&&r.jsx("div",{className:"text-center py-4",children:r.jsxs(ne,{onClick:H,disabled:h,variant:"outline",children:[h?r.jsx(or,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]}),$=()=>r.jsx("div",{className:"space-y-3",children:a.vendors.map(z=>r.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>Z(z),children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("img",{src:z.image,alt:z.name,className:"w-16 h-16 object-cover rounded-full",onError:G=>{G.target.src="/placeholder-vendor.jpg"}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-base mb-1",children:z.name}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),r.jsx("span",{children:z.rating})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{children:z.distance})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(is,{className:"h-3 w-3"}),r.jsx("span",{children:z.deliveryTime})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:z.categories.map((G,X)=>r.jsx(Me,{variant:"secondary",className:"text-xs",children:G},X))})]})]})})},z.id))});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:r.jsxs("div",{className:"flex items-center gap-3 p-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(me,{placeholder:"Search products, vendors...",value:s,onChange:z=>i(z.target.value),className:"pl-10 pr-4 py-2"})]}),r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>y(!0),children:r.jsx(to,{className:"h-5 w-5"})})]})}),r.jsx("div",{className:"px-4 py-3 border-b border-border/50",children:r.jsx("div",{className:"flex gap-2",children:[{id:"all",label:"All"},{id:"products",label:"Products"},{id:"vendors",label:"Vendors"}].map(z=>r.jsx(ne,{variant:c===z.id?"default":"ghost",size:"sm",onClick:()=>d(z.id),className:"flex-1",children:z.label},z.id))})}),r.jsxs("div",{className:"p-4 pb-20",children:[s&&r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[c==="all"&&`Found ${a.products.length} products and ${a.vendors.length} vendors`,c==="products"&&`Found ${a.products.length} products`,c==="vendors"&&`Found ${a.vendors.length} vendors`,s&&" for ",r.jsxs("span",{className:"font-medium",children:['"',s,'"']})]}),(c==="all"||c==="products")&&a.products.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Products"}),F()]}),(c==="all"||c==="vendors")&&a.vendors.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Vendors"}),$()]}),s&&a.products.length===0&&a.vendors.length===0&&!h&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ro,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No results found"}),r.jsx("p",{className:"text-muted-foreground",children:"Try searching for products or vendors with different keywords"})]}),!s&&!h&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ro,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search for anything"}),r.jsx("p",{className:"text-muted-foreground",children:"Find products, vendors, and more in your area"})]}),h&&a.products.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),b&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>y(!1),children:r.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:z=>z.stopPropagation(),children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:""})]})}),r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),r.jsx("div",{className:"space-y-2",children:O.map(z=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"sort",value:z.value,checked:_===z.value,onChange:G=>N(G.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:z.label})]},z.value))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Categories"}),r.jsx("div",{className:"space-y-2",children:A.map(z=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:C.includes(z),onChange:G=>{G.target.checked?D([...C,z]):D(C.filter(X=>X!==z))},className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:z})]},z))})]}),r.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{N(""),D([])},children:"Clear All Filters"})]})]})}),r.jsx(Ar,{})]})}const wS=Ur.BASE_URL;class VW{async getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Token ${await Pe.getToken()}`,"ngrok-skip-browser-warning":"true"}}async getFavorites(){try{const t=await fetch(`${wS}/favorites/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch favorites");const n=await t.json();return n.results||n}catch(t){throw console.error("Error fetching favorites:",t),t}}async toggleFavorite(t){try{const n=await fetch(`${wS}/favorites/toggle/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({product_id:t})});if(!n.ok)throw new Error("Failed to toggle favorite");return await n.json()}catch(n){throw console.error("Error toggling favorite:",n),n}}}const jS=new VW,UW=()=>{const e=nt();sa();const{addToCart:t}=us(),{toast:n}=cn(),[s,i]=j.useState([]),[a,o]=j.useState(!0),[c,d]=j.useState([]),[h,f]=j.useState(xt.getLocation());j.useEffect(()=>(u(),xt.subscribe(f)),[]),j.useEffect(()=>{s.length>0&&p()},[s,h]);const m=(D,E,R,A)=>{const O=B=>B*(Math.PI/180),P=O(R-D),T=O(A-E),M=O(D),H=O(R),W=Math.sin(P/2)*Math.sin(P/2)+Math.cos(M)*Math.cos(H)*Math.sin(T/2)*Math.sin(T/2);return 6371*(2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W)))},u=async()=>{if(!await Pe.getToken()){o(!1);return}try{const E=await jS.getFavorites();i(E)}catch(E){console.error("Error fetching favorites:",E),n({title:"Error",description:"Failed to load favorites",variant:"destructive"})}finally{o(!1)}},p=async()=>{try{const D=[...new Set(s.map(T=>T.product.category).filter(Boolean))];if(D.length===0)return;const E=await Pe.getToken(),R=E?{Authorization:`Token ${E}`}:{},A=new URLSearchParams({page_size:"12"});h&&(A.append("latitude",h.latitude.toString()),A.append("longitude",h.longitude.toString()));const P=((await(await fetch(`http://localhost:8000/api/search/products/?${A}`,{headers:R})).json()).results||[]).filter(T=>D.includes(T.category)).map(T=>{var Z,B;const M=((Z=T.images)==null?void 0:Z.find(q=>q.is_primary))||((B=T.images)==null?void 0:B[0]);let H="N/A",W=1/0;return h&&T.vendor_latitude&&T.vendor_longitude&&(W=m(h.latitude,h.longitude,T.vendor_latitude,T.vendor_longitude),H=`${W.toFixed(1)} km`),{id:T.id,name:T.name,vendor:T.vendor_name||"Unknown Vendor",price:T.price,image:(M==null?void 0:M.image_url)||"/placeholder-product.jpg",distance:H,distanceValue:W,inStock:T.quantity>0,category:T.category}}).sort((T,M)=>T.distanceValue-M.distanceValue).slice(0,8);d(P)}catch(D){console.error("Error fetching related products:",D)}},x=async D=>{try{await jS.toggleFavorite(D),i(E=>E.filter(R=>R.product.id!==D)),n({title:"Removed from Wishlist",description:"Item has been removed from your wishlist"})}catch{n({title:"Error",description:"Failed to remove from wishlist",variant:"destructive"})}},v=async(D,E)=>{E==null||E.stopPropagation();try{await t(D.product.id,1),n({title:"Added to Cart",description:`${D.product.name} has been added to your cart`})}catch{n({title:"Error",description:"Failed to add to cart",variant:"destructive"})}},w=async(D,E)=>{E==null||E.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:D.product.id,name:D.product.name,price:D.product.price,quantity:1,vendor_name:D.product.vendor_name,vendor_id:D.product.vendor_id,images:D.product.images}}})},b=D=>{e(`/product/${D}`)},[y,_]=j.useState(!1),[N,C]=j.useState(!0);return j.useEffect(()=>{(async()=>{const E=await Pe.getToken();_(!!E),C(!1)})()},[]),N?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):y?r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:r.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(Dt,{className:"h-6 w-6 text-gray-700"})}),r.jsx("div",{}),r.jsxs("span",{className:"bg-red-100 text-red-800 text-sm font-medium px-3 py-1 rounded-full",children:[s.length," items"]})]})}),r.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[a?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):s.length>0?r.jsx("div",{className:"space-y-4",children:s.map(D=>{var E,R;return r.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl border p-4 flex items-center transition-all duration-300 cursor-pointer hover:bg-gray-50",onClick:()=>b(D.product.id),children:[r.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden bg-gray-100",children:r.jsx("img",{src:((R=(E=D.product.images)==null?void 0:E[0])==null?void 0:R.image_url)||"/placeholder-product.jpg",alt:D.product.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"ml-6 flex-1",children:[r.jsx("h3",{className:"font-semibold text-xl text-gray-900 truncate",children:D.product.name}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:D.product.vendor_name}),r.jsxs("p",{className:"font-bold text-2xl text-emerald-600 mt-1",children:["",parseFloat(D.product.price).toFixed(2)]}),r.jsx("div",{className:"flex items-center mt-2",children:D.product.quantity>0?r.jsx("span",{className:"text-green-600 text-sm font-medium bg-green-50 px-2 py-1 rounded-full",children:"In Stock"}):r.jsx("span",{className:"text-red-600 text-sm font-medium bg-red-50 px-2 py-1 rounded-full",children:"Out of Stock"})})]}),r.jsxs("div",{className:"flex flex-col justify-between items-end space-y-2",children:[r.jsx(ne,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),x(D.product.id)},className:"text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-full",children:r.jsx(qa,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ne,{size:"sm",disabled:D.product.quantity<=0,onClick:A=>v(D,A),className:"bg-emerald-600 hover:bg-emerald-700 text-white rounded-full disabled:bg-gray-300 disabled:text-gray-500",children:r.jsx(rr,{className:"h-3 w-3 mr-1"})}),r.jsxs(ne,{size:"sm",disabled:D.product.quantity<=0,onClick:A=>w(D,A),className:"bg-orange-600 hover:bg-orange-700 text-white rounded-full disabled:bg-gray-300 disabled:text-gray-500",children:[r.jsx($D,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]})]},D.id)})}):r.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg border",children:[r.jsx(ds,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your wishlist is empty"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Start adding items you love!"}),r.jsx(ne,{className:"bg-emerald-600 hover:bg-emerald-700 text-white rounded-full px-6 py-2",onClick:()=>e("/"),children:"Browse Products"})]}),c.length>0&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Products Near You"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.map(D=>r.jsx(Ne,{className:"p-3 cursor-pointer hover:shadow-md transition-smooth",onClick:()=>e(`/product/${D.id}`),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"aspect-square mb-2 bg-gray-100 rounded-lg overflow-hidden",children:r.jsx("img",{src:D.image,alt:D.name,className:"w-full h-full object-cover",onError:E=>{E.target.src="/placeholder-product.jpg"}})}),r.jsx("h3",{className:"font-medium text-sm mb-1 line-clamp-2",children:D.name}),r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:D.vendor}),r.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500 mb-2",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{children:D.distance})]}),r.jsxs("p",{className:"font-semibold text-emerald-600 text-sm mb-2",children:["",D.price]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 h-7 text-xs",disabled:!D.inStock,onClick:E=>{E.stopPropagation(),t(D.id,1)},children:r.jsx(rr,{className:"h-3 w-3"})}),r.jsxs(ne,{size:"sm",className:"flex-1 h-7 text-xs bg-green-600 hover:bg-green-700",disabled:!D.inStock,onClick:E=>{E.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:D.id,name:D.name,price:D.price,quantity:1,vendor_name:D.vendor,images:[{image_url:D.image}]}}})},children:[r.jsx(gn,{className:"h-3 w-3"}),"Buy"]})]})]})},D.id))})]})]}),r.jsx(Ar,{})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ds,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Please Login"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"You need to login to view your wishlist"}),r.jsx(ne,{onClick:()=>e("/login"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Login"})]})})};function eL(){var a,o,c;const{state:e,login:t}=sa(),n=nt();console.log(" RoleSwitcher rendered, user:",e.user),console.log(" Available roles:",(a=e.user)==null?void 0:a.available_roles),console.log(" Current user_type:",(o=e.user)==null?void 0:o.user_type);const s=async d=>{var h;console.log(" handleRoleSwitch called with role:",d);try{console.log(" Attempting role switch to:",d),console.log(" Current user:",e.user),console.log(" Current user_type:",(h=e.user)==null?void 0:h.user_type);const{response:f,data:m}=await Fe("/switch-role/",{method:"POST",body:JSON.stringify({role:d})});if(console.log(" Switch role response:",f.status,m),f.ok){console.log(" Role switch successful");const u={...e.user,user_type:d};if(await t(u,""),d==="customer")console.log(" Navigating to customer home"),n("/home");else{console.log(" Navigating to vendor dashboard");try{const p=await Fe("/vendor/status/");p.response.ok&&p.data.profile_exists&&p.data.is_approved?n("/vendor/dashboard"):n("/vendor/onboarding")}catch{n("/vendor/onboarding")}}}else console.error(" Role switch failed:",m)}catch(f){console.error(" Role switch error:",f)}};if(!((c=e.user)!=null&&c.available_roles)||e.user.available_roles.length<=1)return null;const i=e.user.available_roles.find(d=>d!==e.user.user_type);return r.jsxs("button",{onClick:()=>s(i),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:["Switch to ",i==="customer"?"Customer":"Vendor"]})}const qW=[{icon:kE,label:"My Orders",path:"/orders"},{icon:ds,label:"Wishlist",path:"/wishlist"},{icon:Es,label:"Personal Information",path:"/profile-edit"},{icon:pi,label:"Privacy & Security",path:"/privacy"}],HW=()=>{const e=nt(),{logout:t,state:n,login:s}=sa(),[i,a]=j.useState(null),[o,c]=j.useState(!0),[d,h]=j.useState("");j.useEffect(()=>{f()},[]);const f=async()=>{try{const p=await Pe.getToken();if(!p){e("/login");return}const x=await fetch(tt+"profile/",{headers:{Authorization:`Token ${p}`,"ngrok-skip-browser-warning":"true"}});if(!x.ok)throw new Error("Failed to fetch profile");const v=await x.json();if(n.user){const w={...n.user,available_roles:v.available_roles||n.user.available_roles,user_type:v.user_type||n.user.user_type};await s(w,"")}a({email:v.email,avatar:v.profile_picture?v.profile_picture.startsWith("http")?v.profile_picture:`${tt}media/${v.profile_picture}`:"/placeholder-avatar.jpg"})}catch(p){h(p.message),console.error("Error fetching profile:",p)}finally{c(!1)}},m=async()=>{try{const p=await Pe.getToken();p&&await fetch(tt+"logout/",{method:"POST",headers:{Authorization:`Token ${p}`,"ngrok-skip-browser-warning":"true"}})}catch(p){console.error("Logout error:",p)}finally{await t(),e("/login")}},u=async p=>{if(p)try{const x=await Pe.getToken();if(!x)return;const v=new FormData;v.append("profile_picture",p);const w=await fetch(tt+"profile/upload-picture/",{method:"POST",headers:{Authorization:`Token ${x}`,"ngrok-skip-browser-warning":"true"},body:v});if(w.ok){const b=await w.json();a(y=>({...y,avatar:b.profile_picture}))}}catch(x){console.error("Profile image upload error:",x)}};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):d||!i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:d||"Failed to load profile"}),r.jsx(ne,{onClick:()=>e("/login"),children:"Go to Login"})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsxs("div",{className:"flex flex-col items-center pt-6 pb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden mb-3 cursor-pointer hover:bg-gray-300 transition-colors",onClick:()=>{const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=x=>{var w;const v=(w=x.target.files)==null?void 0:w[0];v&&u(v)},p.click()},children:i.avatar&&i.avatar!=="/placeholder-avatar.jpg"?r.jsx("img",{src:i.avatar,alt:"Profile",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-semibold text-lg",children:i.email?i.email.charAt(0).toUpperCase():"U"})}),r.jsx(ne,{size:"sm",className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=x=>{var w;const v=(w=x.target.files)==null?void 0:w[0];v&&u(v)},p.click()},children:r.jsx($i,{className:"h-3 w-3"})})]}),r.jsx("p",{className:"text-gray-800 text-base font-medium",children:i.email}),r.jsx("div",{className:"mt-3",children:r.jsx(eL,{})})]})}),r.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[r.jsxs(Ne,{children:[r.jsx(ot,{className:"pb-3",children:r.jsx(lt,{className:"text-base",children:"Account"})}),r.jsx(ke,{className:"space-y-1",children:qW.map((p,x)=>{const v=p.icon;return r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>e(p.path),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:r.jsx(v,{className:"h-4 w-4 text-primary"})}),r.jsx("span",{className:"font-medium text-sm",children:p.label})]}),r.jsx("div",{className:"text-gray-400",children:""})]},x)})})]}),r.jsxs(ne,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:m,children:[r.jsx(sb,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium text-base",children:"Logout"})]})]}),r.jsx(Ar,{})]})};var WW="Label",tL=j.forwardRef((e,t)=>r.jsx(We.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tL.displayName=WW;var nL=tL;const ZW=qu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=j.forwardRef(({className:e,...t},n)=>r.jsx(nL,{ref:n,className:Ve(ZW(),e),...t}));de.displayName=nL.displayName;const Zn=j.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Zn.displayName="Textarea";const GW=()=>{const e=nt(),{toast:t}=cn(),[n,s]=j.useState(!1),[i,a]=j.useState(!0),[o,c]=j.useState(!1),[d,h]=j.useState({username:"",email:"",phone_number:"",address:"",date_of_birth:"",profile_picture:null});j.useEffect(()=>{f()},[]);const f=async()=>{try{const x=await Pe.getToken();if(!x){e("/login");return}const v=await fetch(tt+"profile/",{headers:{Authorization:`Token ${x}`,"ngrok-skip-browser-warning":"true"}});if(!v.ok)throw new Error("Failed to fetch profile");const w=await v.json();h({username:w.username||"",email:w.email||"",phone_number:w.phone_number||"",address:w.address||"",date_of_birth:w.date_of_birth||"",profile_picture:w.profile_picture?w.profile_picture.startsWith("http")?w.profile_picture:`${tt}media/${w.profile_picture}`:null})}catch(x){console.error("Error fetching profile:",x),t({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{a(!1)}},m=async()=>{c(!0);try{const x=await Pe.getToken();if(!x)return;if((await fetch(tt+"profile/update/",{method:"PUT",headers:{Authorization:`Token ${x}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({username:d.username,phone_number:d.phone_number,address:d.address,date_of_birth:d.date_of_birth||null})})).ok)s(!1),t({title:"Success",description:"Profile updated successfully!"});else throw new Error("Failed to update profile")}catch(x){console.error("Error saving profile:",x),t({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{c(!1)}},u=async x=>{if(x)try{const v=await Pe.getToken();if(!v)return;const w=new FormData;w.append("profile_picture",x);const b=await fetch(tt+"profile/upload-picture/",{method:"POST",headers:{Authorization:`Token ${v}`,"ngrok-skip-browser-warning":"true"},body:w});if(b.ok){const y=await b.json();h(_=>({..._,profile_picture:y.profile_picture})),t({title:"Success",description:"Profile picture updated successfully!"})}else throw new Error("Failed to upload image")}catch(v){console.error("Profile image upload error:",v),t({title:"Error",description:"Failed to upload profile picture",variant:"destructive"})}},p=(x,v)=>{h(w=>({...w,[x]:v}))};return i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-30",children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-lg font-semibold",children:"Personal Information"})]}),r.jsx(ne,{onClick:()=>n?m():s(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",disabled:o,children:n?r.jsxs(r.Fragment,{children:[r.jsx(Oc,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save"]}):r.jsxs(r.Fragment,{children:[r.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),r.jsx("div",{className:"p-4 pb-20",children:r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsxs(lt,{className:"flex items-center gap-2",children:[r.jsx(Es,{className:"h-5 w-5"}),"Profile Information"]})}),r.jsxs(ke,{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden ${n?"cursor-pointer hover:bg-gray-200":""}`,onClick:n?()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.onchange=v=>{var b;const w=(b=v.target.files)==null?void 0:b[0];w&&u(w)},x.click()}:void 0,children:d.profile_picture?r.jsx("img",{src:d.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-semibold text-2xl",children:d.username?d.username.charAt(0).toUpperCase():"U"})}),n&&r.jsx(ne,{size:"sm",className:"absolute -bottom-1 -right-1 w-8 h-8 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.onchange=v=>{var b;const w=(b=v.target.files)==null?void 0:b[0];w&&u(w)},x.click()},children:r.jsx($i,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n?"Click to change profile picture":"Profile Picture"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"username",children:"Username"}),r.jsx(me,{id:"username",value:d.username,onChange:x=>p("username",x.target.value),disabled:!n,className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"email",children:"Email"}),r.jsx(me,{id:"email",type:"email",value:d.email,disabled:!0,className:"mt-1 bg-gray-50"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"phone",children:"Phone Number"}),r.jsx(me,{id:"phone",value:d.phone_number,onChange:x=>p("phone_number",x.target.value),disabled:!n,className:"mt-1",placeholder:"Enter your phone number"})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"address",children:"Address"}),r.jsx(Zn,{id:"address",value:d.address,onChange:x=>p("address",x.target.value),disabled:!n,className:"mt-1",placeholder:"Enter your address",rows:3})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"dob",children:"Date of Birth"}),r.jsx(me,{id:"dob",type:"date",value:d.date_of_birth||"",onChange:x=>p("date_of_birth",x.target.value||null),disabled:!n,className:"mt-1"})]})]})]})]})}),r.jsx(Ar,{})]})},KW=()=>{const e=nt(),{toast:t}=cn(),[n,s]=j.useState(!0),[i,a]=j.useState(""),[o,c]=j.useState(!1),[d,h]=j.useState(""),[f,m]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const x=await Pe.getToken();if(!x){e("/login");return}const v=await fetch(tt+"profile/",{headers:{Authorization:`Token ${x}`,"ngrok-skip-browser-warning":"true"}});if(!v.ok)throw new Error("Failed to fetch profile");const w=await v.json(),b=(w==null?void 0:w.plain_password)||"";a(b)}catch(x){console.error(x)}})()},[]);const u=async()=>{if(!d){t({title:"Error",description:"New password is required",variant:"destructive"});return}m(!0);try{const p=await Pe.getToken();if(!p){t({title:"Error",description:"You are not authenticated. Please log in.",variant:"destructive"}),e("/login");return}const x=await fetch(tt+"change-password/simple/",{method:"POST",headers:{Authorization:`Token ${p}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({new_password:d})});if(!x.ok){const w=await x.json();throw new Error(w.error||"Failed to change password")}const v=await x.json();await Pe.setAuth(v.token,await Pe.getUser()),t({title:"Success",description:"Password changed successfully"}),a(d),h(""),c(!1)}catch(p){t({title:"Error",description:p instanceof Error?p.message:"Failed to change password",variant:"destructive"})}finally{m(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center gap-3 p-4",children:[r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("h1",{className:"font-semibold text-lg",children:"Privacy & Security"})]})}),r.jsx("div",{className:"p-4 space-y-6 pb-20",children:r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(pi,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"font-semibold",children:"Password"})]}),o?r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{children:"New Password"}),r.jsx(me,{type:"text",value:d,onChange:p=>h(p.target.value),placeholder:"Enter new password"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ne,{onClick:u,disabled:f,children:f?"Saving...":"Save"}),r.jsx(ne,{variant:"outline",onClick:()=>{c(!1),h("")},disabled:f,children:"Cancel"})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{children:"Your Password"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(me,{type:n?"text":"password",value:i,disabled:!0,className:"bg-gray-100"}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>s(!n),children:n?r.jsx(nb,{className:"h-4 w-4"}):r.jsx(An,{className:"h-4 w-4"})})]}),r.jsx(ne,{onClick:()=>c(!0),disabled:f,children:"Change Password"})]})]})}),r.jsx(Ar,{})]})};function YW(){const e=nt(),[t,n]=j.useState(1),[s,i]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,x]=j.useState(""),[v,w]=j.useState(!1),[b,y]=j.useState(!1),[_,N]=j.useState(""),C=async()=>{var k,O,P;if(h!==m){N("Passwords do not match");return}y(!0),N("");try{const T=await fetch(tt+"register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,email:c,password:h,user_type:"customer",phone_number:a})}),M=await T.json();if(!T.ok){const H=((k=M.username)==null?void 0:k[0])||((O=M.email)==null?void 0:O[0])||M.message||((P=Object.values(M)[0])==null?void 0:P[0])||"Registration failed";throw new Error(H)}n(2)}catch(T){N(T.message)}finally{y(!1)}},D=k=>{x(k),k.length===6&&E(k)},E=async k=>{y(!0),N("");try{const O=await fetch(tt+"verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,otp:k})}),P=await O.json();if(!O.ok)throw new Error(P.error||"Verification failed");localStorage.setItem("token",P.token),e("/home")}catch(O){N(O.message)}finally{y(!1)}},R=async()=>{y(!0),N("");try{const k=await fetch(tt+"send-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})}),O=await k.json();if(!k.ok)throw new Error(O.error||"Failed to resend OTP");N("OTP resent successfully")}catch(k){N(k.message)}finally{y(!1)}},A=()=>{e("/login")};return r.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"w-full max-w-80 mx-auto px-4",children:[t===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:Za,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Signup"})]}),r.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[r.jsx(me,{type:"text",value:s,onChange:k=>i(k.target.value),placeholder:"Full Name",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),r.jsx(me,{type:"tel",value:a,onChange:k=>o(k.target.value),placeholder:"Phone Number",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),r.jsx(me,{type:"email",value:c,onChange:k=>d(k.target.value),placeholder:"Email Address",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),r.jsxs("div",{className:"relative",children:[r.jsx(me,{type:v?"text":"password",value:h,onChange:k=>f(k.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),r.jsx("button",{type:"button",onClick:()=>w(!v),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):r.jsxs(r.Fragment,{children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),r.jsx(me,{type:"password",value:m,onChange:k=>u(k.target.value),placeholder:"Confirm Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),_&&r.jsx("p",{className:"text-red-600 text-center",children:_}),r.jsx(ne,{onClick:C,disabled:!s||!a||!c||!h||!m||h!==m||b,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:b?"Creating Account...":"Sign Up"})]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Already have an account? Login"})})]}),t===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:Za,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verify Email"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Code sent to ",c]})]}),r.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[r.jsx(me,{type:"text",value:p,onChange:k=>D(k.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-widest w-80"}),b&&r.jsx("div",{className:"text-center text-blue-600",children:"Verifying..."}),_&&r.jsx("p",{className:"text-red-600 text-center",children:_}),r.jsx("button",{onClick:()=>n(1),className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Change details"}),r.jsx("button",{onClick:R,disabled:b,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend code"})]})]})]})})})}function XW(){const e=nt(),[t,n]=j.useState(""),s=o=>{o.preventDefault(),e("/login")},i=()=>{e("/login")},a=()=>{console.log("Resend link clicked")};return r.jsx("div",{className:"min-h-screen flex items-end justify-center bg-cover bg-center bg-no-repeat p-4 pb-12",style:{backgroundImage:"url(/images/forgot.png)"},children:r.jsxs("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-lg p-4",style:{backgroundColor:"#856043"},children:[r.jsx("h2",{className:"text-xl font-bold text-white text-center mb-5",children:"Forgot Password"}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"email",className:"text-white font-medium",children:"Email or Phone Number"}),r.jsx(me,{id:"email",type:"text",value:t,onChange:o=>n(o.target.value),placeholder:"Enter your email or phone",className:"mt-1 w-full rounded-md border-gray-300 focus:border-white focus:ring-white text-gray-900"})]}),r.jsx(ne,{onClick:s,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Submit"}),r.jsx(ne,{onClick:a,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Resend Link"}),r.jsx(ne,{onClick:i,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Back to Login"})]})]})})}var bw="Radio",[QW,rL]=lr(bw),[JW,eZ]=QW(bw),sL=j.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:i=!1,required:a,disabled:o,value:c="on",onCheck:d,form:h,...f}=e,[m,u]=j.useState(null),p=dt(t,w=>u(w)),x=j.useRef(!1),v=m?h||!!m.closest("form"):!0;return r.jsxs(JW,{scope:n,checked:i,disabled:o,children:[r.jsx(We.button,{type:"button",role:"radio","aria-checked":i,"data-state":lL(i),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:p,onClick:Le(e.onClick,w=>{i||d==null||d(),v&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),v&&r.jsx(oL,{control:m,bubbles:!x.current,name:s,value:c,checked:i,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});sL.displayName=bw;var iL="RadioIndicator",aL=j.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...i}=e,a=eZ(iL,n);return r.jsx(Kn,{present:s||a.checked,children:r.jsx(We.span,{"data-state":lL(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});aL.displayName=iL;var tZ="RadioBubbleInput",oL=j.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=j.useRef(null),c=dt(o,a),d=Pp(n),h=op(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&p){const x=new Event("click",{bubbles:s});p.call(f,n),f.dispatchEvent(x)}},[d,n,s]),r.jsx(We.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oL.displayName=tZ;function lL(e){return e?"checked":"unchecked"}var nZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ap="RadioGroup",[rZ,Bre]=lr(Ap,[$c,rL]),cL=$c(),dL=rL(),[sZ,iZ]=rZ(Ap),uL=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:i,value:a,required:o=!1,disabled:c=!1,orientation:d,dir:h,loop:f=!0,onValueChange:m,...u}=e,p=cL(n),x=Fc(h),[v,w]=Rs({prop:a,defaultProp:i??null,onChange:m,caller:Ap});return r.jsx(sZ,{scope:n,name:s,required:o,disabled:c,value:v,onValueChange:w,children:r.jsx(Eb,{asChild:!0,...p,orientation:d,dir:x,loop:f,children:r.jsx(We.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:x,...u,ref:t})})})});uL.displayName=Ap;var hL="RadioGroupItem",fL=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...i}=e,a=iZ(hL,n),o=a.disabled||s,c=cL(n),d=dL(n),h=j.useRef(null),f=dt(t,h),m=a.value===i.value,u=j.useRef(!1);return j.useEffect(()=>{const p=v=>{nZ.includes(v.key)&&(u.current=!0)},x=()=>u.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),r.jsx(Pb,{asChild:!0,...c,focusable:!o,active:m,children:r.jsx(sL,{disabled:o,required:a.required,checked:m,...d,...i,name:a.name,ref:f,onCheck:()=>a.onValueChange(i.value),onKeyDown:Le(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Le(i.onFocus,()=>{var p;u.current&&((p=h.current)==null||p.click())})})})});fL.displayName=hL;var aZ="RadioGroupIndicator",mL=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,i=dL(n);return r.jsx(aL,{...i,...s,ref:t})});mL.displayName=aZ;var pL=uL,gL=fL,oZ=mL;const vL=j.forwardRef(({className:e,...t},n)=>r.jsx(pL,{className:Ve("grid gap-2",e),...t,ref:n}));vL.displayName=pL.displayName;const xy=j.forwardRef(({className:e,...t},n)=>r.jsx(gL,{ref:n,className:Ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(oZ,{className:"flex items-center justify-center",children:r.jsx(jE,{className:"h-2.5 w-2.5 fill-current text-current"})})}));xy.displayName=gL.displayName;var lZ="Separator",_S="horizontal",cZ=["horizontal","vertical"],xL=j.forwardRef((e,t)=>{const{decorative:n,orientation:s=_S,...i}=e,a=dZ(s)?s:_S,c=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(We.div,{"data-orientation":a,...c,...i,ref:t})});xL.displayName=lZ;function dZ(e){return cZ.includes(e)}var yL=xL;const ci=j.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(yL,{ref:i,decorative:n,orientation:t,className:Ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));ci.displayName=yL.displayName;function uZ(e,t){const n=j.useRef(t);j.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function hZ(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const fZ=1;function mZ(e){return Object.freeze({__version:fZ,map:e})}function bL(e,t){return Object.freeze({...e,...t})}const wL=j.createContext(null),jL=wL.Provider;function ww(){const e=j.useContext(wL);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function _L(e){function t(n,s){const{instance:i,context:a}=e(n).current;return j.useImperativeHandle(s,()=>i),n.children==null?null:_e.createElement(jL,{value:a},n.children)}return j.forwardRef(t)}function pZ(e){function t(n,s){const{instance:i}=e(n).current;return j.useImperativeHandle(s,()=>i),null}return j.forwardRef(t)}function NL(e,t){const n=j.useRef();j.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function jw(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var yy={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,s){s(t)})(mi,function(n){var s="1.9.4";function i(l){var g,S,I,V;for(S=1,I=arguments.length;S<I;S++){V=arguments[S];for(g in V)l[g]=V[g]}return l}var a=Object.create||function(){function l(){}return function(g){return l.prototype=g,new l}}();function o(l,g){var S=Array.prototype.slice;if(l.bind)return l.bind.apply(l,S.call(arguments,1));var I=S.call(arguments,2);return function(){return l.apply(g,I.length?I.concat(S.call(arguments)):arguments)}}var c=0;function d(l){return"_leaflet_id"in l||(l._leaflet_id=++c),l._leaflet_id}function h(l,g,S){var I,V,Y,ae;return ae=function(){I=!1,V&&(Y.apply(S,V),V=!1)},Y=function(){I?V=arguments:(l.apply(S,arguments),setTimeout(ae,g),I=!0)},Y}function f(l,g,S){var I=g[1],V=g[0],Y=I-V;return l===I&&S?l:((l-V)%Y+Y)%Y+V}function m(){return!1}function u(l,g){if(g===!1)return l;var S=Math.pow(10,g===void 0?6:g);return Math.round(l*S)/S}function p(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function x(l){return p(l).split(/\s+/)}function v(l,g){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?a(l.options):{});for(var S in g)l.options[S]=g[S];return l.options}function w(l,g,S){var I=[];for(var V in l)I.push(encodeURIComponent(S?V.toUpperCase():V)+"="+encodeURIComponent(l[V]));return(!g||g.indexOf("?")===-1?"?":"&")+I.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function y(l,g){return l.replace(b,function(S,I){var V=g[I];if(V===void 0)throw new Error("No value provided for variable "+S);return typeof V=="function"&&(V=V(g)),V})}var _=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function N(l,g){for(var S=0;S<l.length;S++)if(l[S]===g)return S;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var E=0;function R(l){var g=+new Date,S=Math.max(0,16-(g-E));return E=g+S,window.setTimeout(l,S)}var A=window.requestAnimationFrame||D("RequestAnimationFrame")||R,k=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function O(l,g,S){if(S&&A===R)l.call(g);else return A.call(window,o(l,g))}function P(l){l&&k.call(window,l)}var T={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:d,throttle:h,wrapNum:f,falseFn:m,formatNum:u,trim:p,splitWords:x,setOptions:v,getParamString:w,template:y,isArray:_,indexOf:N,emptyImageUrl:C,requestFn:A,cancelFn:k,requestAnimFrame:O,cancelAnimFrame:P};function M(){}M.extend=function(l){var g=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=g.__super__=this.prototype,I=a(S);I.constructor=g,g.prototype=I;for(var V in this)Object.prototype.hasOwnProperty.call(this,V)&&V!=="prototype"&&V!=="__super__"&&(g[V]=this[V]);return l.statics&&i(g,l.statics),l.includes&&(H(l.includes),i.apply(null,[I].concat(l.includes))),i(I,l),delete I.statics,delete I.includes,I.options&&(I.options=S.options?a(S.options):{},i(I.options,l.options)),I._initHooks=[],I.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var Y=0,ae=I._initHooks.length;Y<ae;Y++)I._initHooks[Y].call(this)}},g},M.include=function(l){var g=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=g,this.mergeOptions(l.options)),this},M.mergeOptions=function(l){return i(this.prototype.options,l),this},M.addInitHook=function(l){var g=Array.prototype.slice.call(arguments,1),S=typeof l=="function"?l:function(){this[l].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function H(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=_(l)?l:[l];for(var g=0;g<l.length;g++)l[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(l,g,S){if(typeof l=="object")for(var I in l)this._on(I,l[I],g);else{l=x(l);for(var V=0,Y=l.length;V<Y;V++)this._on(l[V],g,S)}return this},off:function(l,g,S){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var I in l)this._off(I,l[I],g);else{l=x(l);for(var V=arguments.length===1,Y=0,ae=l.length;Y<ae;Y++)V?this._off(l[Y]):this._off(l[Y],g,S)}return this},_on:function(l,g,S,I){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(l,g,S)===!1){S===this&&(S=void 0);var V={fn:g,ctx:S};I&&(V.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(V)}},_off:function(l,g,S){var I,V,Y;if(this._events&&(I=this._events[l],!!I)){if(arguments.length===1){if(this._firingCount)for(V=0,Y=I.length;V<Y;V++)I[V].fn=m;delete this._events[l];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var ae=this._listens(l,g,S);if(ae!==!1){var he=I[ae];this._firingCount&&(he.fn=m,this._events[l]=I=I.slice()),I.splice(ae,1)}}},fire:function(l,g,S){if(!this.listens(l,S))return this;var I=i({},g,{type:l,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var V=this._events[l];if(V){this._firingCount=this._firingCount+1||1;for(var Y=0,ae=V.length;Y<ae;Y++){var he=V[Y],ge=he.fn;he.once&&this.off(l,ge,he.ctx),ge.call(he.ctx||this,I)}this._firingCount--}}return S&&this._propagateEvent(I),this},listens:function(l,g,S,I){typeof l!="string"&&console.warn('"string" type argument expected');var V=g;typeof g!="function"&&(I=!!g,V=void 0,S=void 0);var Y=this._events&&this._events[l];if(Y&&Y.length&&this._listens(l,V,S)!==!1)return!0;if(I){for(var ae in this._eventParents)if(this._eventParents[ae].listens(l,g,S,I))return!0}return!1},_listens:function(l,g,S){if(!this._events)return!1;var I=this._events[l]||[];if(!g)return!!I.length;S===this&&(S=void 0);for(var V=0,Y=I.length;V<Y;V++)if(I[V].fn===g&&I[V].ctx===S)return V;return!1},once:function(l,g,S){if(typeof l=="object")for(var I in l)this._on(I,l[I],g,!0);else{l=x(l);for(var V=0,Y=l.length;V<Y;V++)this._on(l[V],g,S,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[d(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[d(l)],this},_propagateEvent:function(l){for(var g in this._eventParents)this._eventParents[g].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var Z=M.extend(W);function B(l,g,S){this.x=S?Math.round(l):l,this.y=S?Math.round(g):g}var q=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(l){return this.clone()._add(F(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(F(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new B(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new B(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(l){l=F(l);var g=l.x-this.x,S=l.y-this.y;return Math.sqrt(g*g+S*S)},equals:function(l){return l=F(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=F(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}};function F(l,g,S){return l instanceof B?l:_(l)?new B(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new B(l.x,l.y):new B(l,g,S)}function $(l,g){if(l)for(var S=g?[l,g]:l,I=0,V=S.length;I<V;I++)this.extend(S[I])}$.prototype={extend:function(l){var g,S;if(!l)return this;if(l instanceof B||typeof l[0]=="number"||"x"in l)g=S=F(l);else if(l=z(l),g=l.min,S=l.max,!g||!S)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=S.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(l){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var g,S;return typeof l[0]=="number"||l instanceof B?l=F(l):l=z(l),l instanceof $?(g=l.min,S=l.max):g=S=l,g.x>=this.min.x&&S.x<=this.max.x&&g.y>=this.min.y&&S.y<=this.max.y},intersects:function(l){l=z(l);var g=this.min,S=this.max,I=l.min,V=l.max,Y=V.x>=g.x&&I.x<=S.x,ae=V.y>=g.y&&I.y<=S.y;return Y&&ae},overlaps:function(l){l=z(l);var g=this.min,S=this.max,I=l.min,V=l.max,Y=V.x>g.x&&I.x<S.x,ae=V.y>g.y&&I.y<S.y;return Y&&ae},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var g=this.min,S=this.max,I=Math.abs(g.x-S.x)*l,V=Math.abs(g.y-S.y)*l;return z(F(g.x-I,g.y-V),F(S.x+I,S.y+V))},equals:function(l){return l?(l=z(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function z(l,g){return!l||l instanceof $?l:new $(l,g)}function G(l,g){if(l)for(var S=g?[l,g]:l,I=0,V=S.length;I<V;I++)this.extend(S[I])}G.prototype={extend:function(l){var g=this._southWest,S=this._northEast,I,V;if(l instanceof J)I=l,V=l;else if(l instanceof G){if(I=l._southWest,V=l._northEast,!I||!V)return this}else return l?this.extend(K(l)||X(l)):this;return!g&&!S?(this._southWest=new J(I.lat,I.lng),this._northEast=new J(V.lat,V.lng)):(g.lat=Math.min(I.lat,g.lat),g.lng=Math.min(I.lng,g.lng),S.lat=Math.max(V.lat,S.lat),S.lng=Math.max(V.lng,S.lng)),this},pad:function(l){var g=this._southWest,S=this._northEast,I=Math.abs(g.lat-S.lat)*l,V=Math.abs(g.lng-S.lng)*l;return new G(new J(g.lat-I,g.lng-V),new J(S.lat+I,S.lng+V))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof J||"lat"in l?l=K(l):l=X(l);var g=this._southWest,S=this._northEast,I,V;return l instanceof G?(I=l.getSouthWest(),V=l.getNorthEast()):I=V=l,I.lat>=g.lat&&V.lat<=S.lat&&I.lng>=g.lng&&V.lng<=S.lng},intersects:function(l){l=X(l);var g=this._southWest,S=this._northEast,I=l.getSouthWest(),V=l.getNorthEast(),Y=V.lat>=g.lat&&I.lat<=S.lat,ae=V.lng>=g.lng&&I.lng<=S.lng;return Y&&ae},overlaps:function(l){l=X(l);var g=this._southWest,S=this._northEast,I=l.getSouthWest(),V=l.getNorthEast(),Y=V.lat>g.lat&&I.lat<S.lat,ae=V.lng>g.lng&&I.lng<S.lng;return Y&&ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,g){return l?(l=X(l),this._southWest.equals(l.getSouthWest(),g)&&this._northEast.equals(l.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(l,g){return l instanceof G?l:new G(l,g)}function J(l,g,S){if(isNaN(l)||isNaN(g))throw new Error("Invalid LatLng object: ("+l+", "+g+")");this.lat=+l,this.lng=+g,S!==void 0&&(this.alt=+S)}J.prototype={equals:function(l,g){if(!l)return!1;l=K(l);var S=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return S<=(g===void 0?1e-9:g)},toString:function(l){return"LatLng("+u(this.lat,l)+", "+u(this.lng,l)+")"},distanceTo:function(l){return te.distance(this,K(l))},wrap:function(){return te.wrapLatLng(this)},toBounds:function(l){var g=180*l/40075017,S=g/Math.cos(Math.PI/180*this.lat);return X([this.lat-g,this.lng-S],[this.lat+g,this.lng+S])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function K(l,g,S){return l instanceof J?l:_(l)&&typeof l[0]!="object"?l.length===3?new J(l[0],l[1],l[2]):l.length===2?new J(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new J(l.lat,"lng"in l?l.lng:l.lon,l.alt):g===void 0?null:new J(l,g,S)}var U={latLngToPoint:function(l,g){var S=this.projection.project(l),I=this.scale(g);return this.transformation._transform(S,I)},pointToLatLng:function(l,g){var S=this.scale(g),I=this.transformation.untransform(l,S);return this.projection.unproject(I)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var g=this.projection.bounds,S=this.scale(l),I=this.transformation.transform(g.min,S),V=this.transformation.transform(g.max,S);return new $(I,V)},infinite:!1,wrapLatLng:function(l){var g=this.wrapLng?f(l.lng,this.wrapLng,!0):l.lng,S=this.wrapLat?f(l.lat,this.wrapLat,!0):l.lat,I=l.alt;return new J(S,g,I)},wrapLatLngBounds:function(l){var g=l.getCenter(),S=this.wrapLatLng(g),I=g.lat-S.lat,V=g.lng-S.lng;if(I===0&&V===0)return l;var Y=l.getSouthWest(),ae=l.getNorthEast(),he=new J(Y.lat-I,Y.lng-V),ge=new J(ae.lat-I,ae.lng-V);return new G(he,ge)}},te=i({},U,{wrapLng:[-180,180],R:6371e3,distance:function(l,g){var S=Math.PI/180,I=l.lat*S,V=g.lat*S,Y=Math.sin((g.lat-l.lat)*S/2),ae=Math.sin((g.lng-l.lng)*S/2),he=Y*Y+Math.cos(I)*Math.cos(V)*ae*ae,ge=2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he));return this.R*ge}}),re=6378137,le={R:re,MAX_LATITUDE:85.0511287798,project:function(l){var g=Math.PI/180,S=this.MAX_LATITUDE,I=Math.max(Math.min(S,l.lat),-S),V=Math.sin(I*g);return new B(this.R*l.lng*g,this.R*Math.log((1+V)/(1-V))/2)},unproject:function(l){var g=180/Math.PI;return new J((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*g,l.x*g/this.R)},bounds:function(){var l=re*Math.PI;return new $([-l,-l],[l,l])}()};function pe(l,g,S,I){if(_(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=g,this._c=S,this._d=I}pe.prototype={transform:function(l,g){return this._transform(l.clone(),g)},_transform:function(l,g){return g=g||1,l.x=g*(this._a*l.x+this._b),l.y=g*(this._c*l.y+this._d),l},untransform:function(l,g){return g=g||1,new B((l.x/g-this._b)/this._a,(l.y/g-this._d)/this._c)}};function ee(l,g,S,I){return new pe(l,g,S,I)}var ye=i({},te,{code:"EPSG:3857",projection:le,transformation:function(){var l=.5/(Math.PI*le.R);return ee(l,.5,-l,.5)}()}),Ce=i({},ye,{code:"EPSG:900913"});function ue(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function be(l,g){var S="",I,V,Y,ae,he,ge;for(I=0,Y=l.length;I<Y;I++){for(he=l[I],V=0,ae=he.length;V<ae;V++)ge=he[V],S+=(V?"L":"M")+ge.x+" "+ge.y;S+=g?Qe.svg?"z":"x":""}return S||"M0 0"}var xe=document.documentElement.style,ce="ActiveXObject"in window,fe=ce&&!document.addEventListener,Q="msLaunchUri"in navigator&&!("documentMode"in document),se=Bs("webkit"),ie=Bs("android"),we=Bs("android 2")||Bs("android 3"),je=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ve=ie&&Bs("Google")&&je<537&&!("AudioNode"in window),Ae=!!window.opera,et=!Q&&Bs("chrome"),Xe=Bs("gecko")&&!se&&!Ae&&!ce,zt=!et&&Bs("safari"),_t=Bs("phantom"),Vt="OTransition"in xe,oe=navigator.platform.indexOf("Win")===0,ze=ce&&"transition"in xe,Ze="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!we,ut="MozPerspective"in xe,it=!window.L_DISABLE_3D&&(ze||Ze||ut)&&!Vt&&!_t,Ge=typeof orientation<"u"||Bs("mobile"),dn=Ge&&se,Ut=Ge&&Ze,Or=!window.PointerEvent&&window.MSPointerEvent,Zr=!!(window.PointerEvent||Or),cr="ontouchstart"in window||!!window.TouchEvent,Yn=!window.L_NO_TOUCH&&(cr||Zr),oa=Ge&&Ae,De=Ge&&Xe,pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Nt=function(){var l=!1;try{var g=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",m,g),window.removeEventListener("testPassiveEventSupport",m,g)}catch{}return l}(),xn=function(){return!!document.createElement("canvas").getContext}(),qt=!!(document.createElementNS&&ue("svg").createSVGRect),Fs=!!qt&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),wi=!qt&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var g=l.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),Lr=navigator.platform.indexOf("Mac")===0,$s=navigator.platform.indexOf("Linux")===0;function Bs(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Qe={ie:ce,ielt9:fe,edge:Q,webkit:se,android:ie,android23:we,androidStock:ve,opera:Ae,chrome:et,gecko:Xe,safari:zt,phantom:_t,opera12:Vt,win:oe,ie3d:ze,webkit3d:Ze,gecko3d:ut,any3d:it,mobile:Ge,mobileWebkit:dn,mobileWebkit3d:Ut,msPointer:Or,pointer:Zr,touch:Yn,touchNative:cr,mobileOpera:oa,mobileGecko:De,retina:pt,passiveEvents:Nt,canvas:xn,svg:qt,vml:wi,inlineSvg:Fs,mac:Lr,linux:$s},Ww=Qe.msPointer?"MSPointerDown":"pointerdown",Zw=Qe.msPointer?"MSPointerMove":"pointermove",Gw=Qe.msPointer?"MSPointerUp":"pointerup",Kw=Qe.msPointer?"MSPointerCancel":"pointercancel",Qp={touchstart:Ww,touchmove:Zw,touchend:Gw,touchcancel:Kw},Yw={touchstart:X4,touchmove:sh,touchend:sh,touchcancel:sh},sl={},Xw=!1;function W4(l,g,S){return g==="touchstart"&&Y4(),Yw[g]?(S=Yw[g].bind(this,S),l.addEventListener(Qp[g],S,!1),S):(console.warn("wrong event specified:",g),m)}function Z4(l,g,S){if(!Qp[g]){console.warn("wrong event specified:",g);return}l.removeEventListener(Qp[g],S,!1)}function G4(l){sl[l.pointerId]=l}function K4(l){sl[l.pointerId]&&(sl[l.pointerId]=l)}function Qw(l){delete sl[l.pointerId]}function Y4(){Xw||(document.addEventListener(Ww,G4,!0),document.addEventListener(Zw,K4,!0),document.addEventListener(Gw,Qw,!0),document.addEventListener(Kw,Qw,!0),Xw=!0)}function sh(l,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var S in sl)g.touches.push(sl[S]);g.changedTouches=[g],l(g)}}function X4(l,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&zn(g),sh(l,g)}function Q4(l){var g={},S,I;for(I in l)S=l[I],g[I]=S&&S.bind?S.bind(l):S;return l=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var J4=200;function eM(l,g){l.addEventListener("dblclick",g);var S=0,I;function V(Y){if(Y.detail!==1){I=Y.detail;return}if(!(Y.pointerType==="mouse"||Y.sourceCapabilities&&!Y.sourceCapabilities.firesTouchEvents)){var ae=rj(Y);if(!(ae.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ae.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var he=Date.now();he-S<=J4?(I++,I===2&&g(Q4(Y))):I=1,S=he}}}return l.addEventListener("click",V),{dblclick:g,simDblclick:V}}function tM(l,g){l.removeEventListener("dblclick",g.dblclick),l.removeEventListener("click",g.simDblclick)}var Jp=oh(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yc=oh(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jw=Yc==="webkitTransition"||Yc==="OTransition"?Yc+"End":"transitionend";function ej(l){return typeof l=="string"?document.getElementById(l):l}function Xc(l,g){var S=l.style[g]||l.currentStyle&&l.currentStyle[g];if((!S||S==="auto")&&document.defaultView){var I=document.defaultView.getComputedStyle(l,null);S=I?I[g]:null}return S==="auto"?null:S}function Pt(l,g,S){var I=document.createElement(l);return I.className=g||"",S&&S.appendChild(I),I}function nn(l){var g=l.parentNode;g&&g.removeChild(l)}function ih(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function il(l){var g=l.parentNode;g&&g.lastChild!==l&&g.appendChild(l)}function al(l){var g=l.parentNode;g&&g.firstChild!==l&&g.insertBefore(l,g.firstChild)}function eg(l,g){if(l.classList!==void 0)return l.classList.contains(g);var S=ah(l);return S.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(S)}function yt(l,g){if(l.classList!==void 0)for(var S=x(g),I=0,V=S.length;I<V;I++)l.classList.add(S[I]);else if(!eg(l,g)){var Y=ah(l);tg(l,(Y?Y+" ":"")+g)}}function yn(l,g){l.classList!==void 0?l.classList.remove(g):tg(l,p((" "+ah(l)+" ").replace(" "+g+" "," ")))}function tg(l,g){l.className.baseVal===void 0?l.className=g:l.className.baseVal=g}function ah(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Gr(l,g){"opacity"in l.style?l.style.opacity=g:"filter"in l.style&&nM(l,g)}function nM(l,g){var S=!1,I="DXImageTransform.Microsoft.Alpha";try{S=l.filters.item(I)}catch{if(g===1)return}g=Math.round(g*100),S?(S.Enabled=g!==100,S.Opacity=g):l.style.filter+=" progid:"+I+"(opacity="+g+")"}function oh(l){for(var g=document.documentElement.style,S=0;S<l.length;S++)if(l[S]in g)return l[S];return!1}function ao(l,g,S){var I=g||new B(0,0);l.style[Jp]=(Qe.ie3d?"translate("+I.x+"px,"+I.y+"px)":"translate3d("+I.x+"px,"+I.y+"px,0)")+(S?" scale("+S+")":"")}function kn(l,g){l._leaflet_pos=g,Qe.any3d?ao(l,g):(l.style.left=g.x+"px",l.style.top=g.y+"px")}function oo(l){return l._leaflet_pos||new B(0,0)}var Qc,Jc,ng;if("onselectstart"in document)Qc=function(){mt(window,"selectstart",zn)},Jc=function(){Ft(window,"selectstart",zn)};else{var ed=oh(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qc=function(){if(ed){var l=document.documentElement.style;ng=l[ed],l[ed]="none"}},Jc=function(){ed&&(document.documentElement.style[ed]=ng,ng=void 0)}}function rg(){mt(window,"dragstart",zn)}function sg(){Ft(window,"dragstart",zn)}var lh,ig;function ag(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(ch(),lh=l,ig=l.style.outlineStyle,l.style.outlineStyle="none",mt(window,"keydown",ch))}function ch(){lh&&(lh.style.outlineStyle=ig,lh=void 0,ig=void 0,Ft(window,"keydown",ch))}function tj(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function og(l){var g=l.getBoundingClientRect();return{x:g.width/l.offsetWidth||1,y:g.height/l.offsetHeight||1,boundingClientRect:g}}var rM={__proto__:null,TRANSFORM:Jp,TRANSITION:Yc,TRANSITION_END:Jw,get:ej,getStyle:Xc,create:Pt,remove:nn,empty:ih,toFront:il,toBack:al,hasClass:eg,addClass:yt,removeClass:yn,setClass:tg,getClass:ah,setOpacity:Gr,testProp:oh,setTransform:ao,setPosition:kn,getPosition:oo,get disableTextSelection(){return Qc},get enableTextSelection(){return Jc},disableImageDrag:rg,enableImageDrag:sg,preventOutline:ag,restoreOutline:ch,getSizedParentNode:tj,getScale:og};function mt(l,g,S,I){if(g&&typeof g=="object")for(var V in g)cg(l,V,g[V],S);else{g=x(g);for(var Y=0,ae=g.length;Y<ae;Y++)cg(l,g[Y],S,I)}return this}var zs="_leaflet_events";function Ft(l,g,S,I){if(arguments.length===1)nj(l),delete l[zs];else if(g&&typeof g=="object")for(var V in g)dg(l,V,g[V],S);else if(g=x(g),arguments.length===2)nj(l,function(he){return N(g,he)!==-1});else for(var Y=0,ae=g.length;Y<ae;Y++)dg(l,g[Y],S,I);return this}function nj(l,g){for(var S in l[zs]){var I=S.split(/\d/)[0];(!g||g(I))&&dg(l,I,null,null,S)}}var lg={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cg(l,g,S,I){var V=g+d(S)+(I?"_"+d(I):"");if(l[zs]&&l[zs][V])return this;var Y=function(he){return S.call(I||l,he||window.event)},ae=Y;!Qe.touchNative&&Qe.pointer&&g.indexOf("touch")===0?Y=W4(l,g,Y):Qe.touch&&g==="dblclick"?Y=eM(l,Y):"addEventListener"in l?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?l.addEventListener(lg[g]||g,Y,Qe.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(Y=function(he){he=he||window.event,hg(l,he)&&ae(he)},l.addEventListener(lg[g],Y,!1)):l.addEventListener(g,ae,!1):l.attachEvent("on"+g,Y),l[zs]=l[zs]||{},l[zs][V]=Y}function dg(l,g,S,I,V){V=V||g+d(S)+(I?"_"+d(I):"");var Y=l[zs]&&l[zs][V];if(!Y)return this;!Qe.touchNative&&Qe.pointer&&g.indexOf("touch")===0?Z4(l,g,Y):Qe.touch&&g==="dblclick"?tM(l,Y):"removeEventListener"in l?l.removeEventListener(lg[g]||g,Y,!1):l.detachEvent("on"+g,Y),l[zs][V]=null}function lo(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function ug(l){return cg(l,"wheel",lo),this}function td(l){return mt(l,"mousedown touchstart dblclick contextmenu",lo),l._leaflet_disable_click=!0,this}function zn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function co(l){return zn(l),lo(l),this}function rj(l){if(l.composedPath)return l.composedPath();for(var g=[],S=l.target;S;)g.push(S),S=S.parentNode;return g}function sj(l,g){if(!g)return new B(l.clientX,l.clientY);var S=og(g),I=S.boundingClientRect;return new B((l.clientX-I.left)/S.x-g.clientLeft,(l.clientY-I.top)/S.y-g.clientTop)}var sM=Qe.linux&&Qe.chrome?window.devicePixelRatio:Qe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ij(l){return Qe.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/sM:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function hg(l,g){var S=g.relatedTarget;if(!S)return!0;try{for(;S&&S!==l;)S=S.parentNode}catch{return!1}return S!==l}var iM={__proto__:null,on:mt,off:Ft,stopPropagation:lo,disableScrollPropagation:ug,disableClickPropagation:td,preventDefault:zn,stop:co,getPropagationPath:rj,getMousePosition:sj,getWheelDelta:ij,isExternalTarget:hg,addListener:mt,removeListener:Ft},aj=Z.extend({run:function(l,g,S,I){this.stop(),this._el=l,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(I||.5,.2),this._startPos=oo(l),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(l){var g=+new Date-this._startTime,S=this._duration*1e3;g<S?this._runFrame(this._easeOut(g/S),l):(this._runFrame(1),this._complete())},_runFrame:function(l,g){var S=this._startPos.add(this._offset.multiplyBy(l));g&&S._round(),kn(this._el,S),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Ct=Z.extend({options:{crs:ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,g){g=v(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(K(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yc&&Qe.any3d&&!Qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,Jw,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,g,S){if(g=g===void 0?this._zoom:this._limitZoom(g),l=this._limitCenter(K(l),g,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var I=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,g,S.zoom):this._tryAnimatedPan(l,S.pan);if(I)return clearTimeout(this._sizeTimer),this}return this._resetView(l,g,S.pan&&S.pan.noMoveStart),this},setZoom:function(l,g){return this._loaded?this.setView(this.getCenter(),l,{zoom:g}):(this._zoom=l,this)},zoomIn:function(l,g){return l=l||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,g)},zoomOut:function(l,g){return l=l||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,g)},setZoomAround:function(l,g,S){var I=this.getZoomScale(g),V=this.getSize().divideBy(2),Y=l instanceof B?l:this.latLngToContainerPoint(l),ae=Y.subtract(V).multiplyBy(1-1/I),he=this.containerPointToLatLng(V.add(ae));return this.setView(he,g,{zoom:S})},_getBoundsCenterZoom:function(l,g){g=g||{},l=l.getBounds?l.getBounds():X(l);var S=F(g.paddingTopLeft||g.padding||[0,0]),I=F(g.paddingBottomRight||g.padding||[0,0]),V=this.getBoundsZoom(l,!1,S.add(I));if(V=typeof g.maxZoom=="number"?Math.min(g.maxZoom,V):V,V===1/0)return{center:l.getCenter(),zoom:V};var Y=I.subtract(S).divideBy(2),ae=this.project(l.getSouthWest(),V),he=this.project(l.getNorthEast(),V),ge=this.unproject(ae.add(he).divideBy(2).add(Y),V);return{center:ge,zoom:V}},fitBounds:function(l,g){if(l=X(l),!l.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(l,g);return this.setView(S.center,S.zoom,g)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,g){return this.setView(l,this._zoom,{pan:g})},panBy:function(l,g){if(l=F(l).round(),g=g||{},!l.x&&!l.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new aj,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){yt(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,S,g.duration||.25,g.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,g,S){if(S=S||{},S.animate===!1||!Qe.any3d)return this.setView(l,g,S);this._stop();var I=this.project(this.getCenter()),V=this.project(l),Y=this.getSize(),ae=this._zoom;l=K(l),g=g===void 0?ae:g;var he=Math.max(Y.x,Y.y),ge=he*this.getZoomScale(ae,g),Ee=V.distanceTo(I)||1,Be=1.42,rt=Be*Be;function wt(Cn){var wh=Cn?-1:1,ZM=Cn?ge:he,GM=ge*ge-he*he+wh*rt*rt*Ee*Ee,KM=2*ZM*rt*Ee,_g=GM/KM,Bj=Math.sqrt(_g*_g+1)-_g,YM=Bj<1e-9?-18:Math.log(Bj);return YM}function dr(Cn){return(Math.exp(Cn)-Math.exp(-Cn))/2}function Fn(Cn){return(Math.exp(Cn)+Math.exp(-Cn))/2}function Yr(Cn){return dr(Cn)/Fn(Cn)}var wr=wt(0);function hl(Cn){return he*(Fn(wr)/Fn(wr+Be*Cn))}function UM(Cn){return he*(Fn(wr)*Yr(wr+Be*Cn)-dr(wr))/rt}function qM(Cn){return 1-Math.pow(1-Cn,1.5)}var HM=Date.now(),Fj=(wt(1)-wr)/Be,WM=S.duration?1e3*S.duration:1e3*Fj*.8;function $j(){var Cn=(Date.now()-HM)/WM,wh=qM(Cn)*Fj;Cn<=1?(this._flyToFrame=O($j,this),this._move(this.unproject(I.add(V.subtract(I).multiplyBy(UM(wh)/Ee)),ae),this.getScaleZoom(he/hl(wh),ae),{flyTo:!0})):this._move(l,g)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),$j.call(this),this},flyToBounds:function(l,g){var S=this._getBoundsCenterZoom(l,g);return this.flyTo(S.center,S.zoom,g)},setMaxBounds:function(l){return l=X(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var g=this.options.minZoom;return this.options.minZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var g=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,g){this._enforcingBounds=!0;var S=this.getCenter(),I=this._limitCenter(S,this._zoom,X(l));return S.equals(I)||this.panTo(I,g),this._enforcingBounds=!1,this},panInside:function(l,g){g=g||{};var S=F(g.paddingTopLeft||g.padding||[0,0]),I=F(g.paddingBottomRight||g.padding||[0,0]),V=this.project(this.getCenter()),Y=this.project(l),ae=this.getPixelBounds(),he=z([ae.min.add(S),ae.max.subtract(I)]),ge=he.getSize();if(!he.contains(Y)){this._enforcingBounds=!0;var Ee=Y.subtract(he.getCenter()),Be=he.extend(Y).getSize().subtract(ge);V.x+=Ee.x<0?-Be.x:Be.x,V.y+=Ee.y<0?-Be.y:Be.y,this.panTo(this.unproject(V),g),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),I=g.divideBy(2).round(),V=S.divideBy(2).round(),Y=I.subtract(V);return!Y.x&&!Y.y?this:(l.animate&&l.pan?this.panBy(Y):(l.pan&&this._rawPanBy(Y),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),S=o(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,S,l):navigator.geolocation.getCurrentPosition(g,S,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var g=l.code,S=l.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var g=l.coords.latitude,S=l.coords.longitude,I=new J(g,S),V=I.toBounds(l.coords.accuracy*2),Y=this._locateOptions;if(Y.setView){var ae=this.getBoundsZoom(V);this.setView(I,Y.maxZoom?Math.min(ae,Y.maxZoom):ae)}var he={latlng:I,bounds:V,timestamp:l.timestamp};for(var ge in l.coords)typeof l.coords[ge]=="number"&&(he[ge]=l.coords[ge]);this.fire("locationfound",he)}},addHandler:function(l,g){if(!g)return this;var S=this[l]=new g(this);return this._handlers.push(S),this.options[l]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)nn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,g){var S="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),I=Pt("div",S,g||this._mapPane);return l&&(this._panes[l]=I),I},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),g=this.unproject(l.getBottomLeft()),S=this.unproject(l.getTopRight());return new G(g,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,g,S){l=X(l),S=F(S||[0,0]);var I=this.getZoom()||0,V=this.getMinZoom(),Y=this.getMaxZoom(),ae=l.getNorthWest(),he=l.getSouthEast(),ge=this.getSize().subtract(S),Ee=z(this.project(he,I),this.project(ae,I)).getSize(),Be=Qe.any3d?this.options.zoomSnap:1,rt=ge.x/Ee.x,wt=ge.y/Ee.y,dr=g?Math.max(rt,wt):Math.min(rt,wt);return I=this.getScaleZoom(dr,I),Be&&(I=Math.round(I/(Be/100))*(Be/100),I=g?Math.ceil(I/Be)*Be:Math.floor(I/Be)*Be),Math.max(V,Math.min(Y,I))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,g){var S=this._getTopLeftPoint(l,g);return new $(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,g){var S=this.options.crs;return g=g===void 0?this._zoom:g,S.scale(l)/S.scale(g)},getScaleZoom:function(l,g){var S=this.options.crs;g=g===void 0?this._zoom:g;var I=S.zoom(l*S.scale(g));return isNaN(I)?1/0:I},project:function(l,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(K(l),g)},unproject:function(l,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(F(l),g)},layerPointToLatLng:function(l){var g=F(l).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(l){var g=this.project(K(l))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(K(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(X(l))},distance:function(l,g){return this.options.crs.distance(K(l),K(g))},containerPointToLayerPoint:function(l){return F(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return F(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var g=this.containerPointToLayerPoint(F(l));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(l)))},mouseEventToContainerPoint:function(l){return sj(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var g=this._container=ej(l);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Qe.any3d,yt(l,"leaflet-container"+(Qe.touch?" leaflet-touch":"")+(Qe.retina?" leaflet-retina":"")+(Qe.ielt9?" leaflet-oldie":"")+(Qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Xc(l,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kn(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(l.markerPane,"leaflet-zoom-hide"),yt(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,g,S){kn(this._mapPane,new B(0,0));var I=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var V=this._zoom!==g;this._moveStart(V,S)._move(l,g)._moveEnd(V),this.fire("viewreset"),I&&this.fire("load")},_moveStart:function(l,g){return l&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(l,g,S,I){g===void 0&&(g=this._zoom);var V=this._zoom!==g;return this._zoom=g,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),I?S&&S.pinch&&this.fire("zoom",S):((V||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){kn(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[d(this._container)]=this;var g=l?Ft:mt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Qe.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,g){for(var S=[],I,V=g==="mouseout"||g==="mouseover",Y=l.target||l.srcElement,ae=!1;Y;){if(I=this._targets[d(Y)],I&&(g==="click"||g==="preclick")&&this._draggableMoved(I)){ae=!0;break}if(I&&I.listens(g,!0)&&(V&&!hg(Y,l)||(S.push(I),V))||Y===this._container)break;Y=Y.parentNode}return!S.length&&!ae&&!V&&this.listens(g,!0)&&(S=[this]),S},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var g=l.target||l.srcElement;if(!(!this._loaded||g._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(g))){var S=l.type;S==="mousedown"&&ag(g),this._fireDOMEvent(l,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,g,S){if(l.type==="click"){var I=i({},l);I.type="preclick",this._fireDOMEvent(I,I.type,S)}var V=this._findEventTargets(l,g);if(S){for(var Y=[],ae=0;ae<S.length;ae++)S[ae].listens(g,!0)&&Y.push(S[ae]);V=Y.concat(V)}if(V.length){g==="contextmenu"&&zn(l);var he=V[0],ge={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var Ee=he.getLatLng&&(!he._radius||he._radius<=10);ge.containerPoint=Ee?this.latLngToContainerPoint(he.getLatLng()):this.mouseEventToContainerPoint(l),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ee?he.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ae=0;ae<V.length;ae++)if(V[ae].fire(g,ge,!0),ge.originalEvent._stopped||V[ae].options.bubblingMouseEvents===!1&&N(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,g=this._handlers.length;l<g;l++)this._handlers[l].disable()},whenReady:function(l,g){return this._loaded?l.call(g||this,{target:this}):this.on("load",l,g),this},_getMapPanePos:function(){return oo(this._mapPane)||new B(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,g){var S=l&&g!==void 0?this._getNewPixelOrigin(l,g):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,g){var S=this.getSize()._divideBy(2);return this.project(l,g)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,g,S){var I=this._getNewPixelOrigin(S,g);return this.project(l,g)._subtract(I)},_latLngBoundsToNewLayerBounds:function(l,g,S){var I=this._getNewPixelOrigin(S,g);return z([this.project(l.getSouthWest(),g)._subtract(I),this.project(l.getNorthWest(),g)._subtract(I),this.project(l.getSouthEast(),g)._subtract(I),this.project(l.getNorthEast(),g)._subtract(I)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,g,S){if(!S)return l;var I=this.project(l,g),V=this.getSize().divideBy(2),Y=new $(I.subtract(V),I.add(V)),ae=this._getBoundsOffset(Y,S,g);return Math.abs(ae.x)<=1&&Math.abs(ae.y)<=1?l:this.unproject(I.add(ae),g)},_limitOffset:function(l,g){if(!g)return l;var S=this.getPixelBounds(),I=new $(S.min.add(l),S.max.add(l));return l.add(this._getBoundsOffset(I,g))},_getBoundsOffset:function(l,g,S){var I=z(this.project(g.getNorthEast(),S),this.project(g.getSouthWest(),S)),V=I.min.subtract(l.min),Y=I.max.subtract(l.max),ae=this._rebound(V.x,-Y.x),he=this._rebound(V.y,-Y.y);return new B(ae,he)},_rebound:function(l,g){return l+g>0?Math.round(l-g)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(g))},_limitZoom:function(l){var g=this.getMinZoom(),S=this.getMaxZoom(),I=Qe.any3d?this.options.zoomSnap:1;return I&&(l=Math.round(l/I)*I),Math.max(g,Math.min(S,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,g){var S=this._getCenterOffset(l)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,g),!0)},_createAnimProxy:function(){var l=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(g){var S=Jp,I=this._proxy.style[S];ao(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),I===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),g=this.getZoom();ao(this._proxy,this.project(l,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,g,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var I=this.getZoomScale(g),V=this._getCenterOffset(l)._divideBy(1-1/I);return S.animate!==!0&&!this.getSize().contains(V)?!1:(O(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(l,g,!0)},this),!0)},_animateZoom:function(l,g,S,I){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=g,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:g,noUpdate:I}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function aM(l,g){return new Ct(l,g)}var ms=M.extend({options:{position:"topright"},initialize:function(l){v(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var g=this._map;return g&&g.removeControl(this),this.options.position=l,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var g=this._container=this.onAdd(l),S=this.getPosition(),I=l._controlCorners[S];return yt(g,"leaflet-control"),S.indexOf("bottom")!==-1?I.insertBefore(g,I.firstChild):I.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),nd=function(l){return new ms(l)};Ct.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},g="leaflet-",S=this._controlContainer=Pt("div",g+"control-container",this._container);function I(V,Y){var ae=g+V+" "+g+Y;l[V+Y]=Pt("div",ae,S)}I("top","left"),I("top","right"),I("bottom","left"),I("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)nn(this._controlCorners[l]);nn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var oj=ms.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,g,S,I){return S<I?-1:I<S?1:0}},initialize:function(l,g,S){v(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var I in l)this._addLayer(l[I],I);for(I in g)this._addLayer(g[I],I,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return ms.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,g){return this._addLayer(l,g),this._map?this._update():this},addOverlay:function(l,g){return this._addLayer(l,g,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(l));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):yn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",g=this._container=Pt("div",l),S=this.options.collapsed;g.setAttribute("aria-haspopup",!0),td(g),ug(g);var I=this._section=Pt("section",l+"-list");S&&(this._map.on("click",this.collapse,this),mt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var V=this._layersLink=Pt("a",l+"-toggle",g);V.href="#",V.title="Layers",V.setAttribute("role","button"),mt(V,{keydown:function(Y){Y.keyCode===13&&this._expandSafely()},click:function(Y){zn(Y),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Pt("div",l+"-base",I),this._separator=Pt("div",l+"-separator",I),this._overlaysList=Pt("div",l+"-overlays",I),g.appendChild(I)},_getLayer:function(l){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===l)return this._layers[g]},_addLayer:function(l,g,S){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:g,overlay:S}),this.options.sortLayers&&this._layers.sort(o(function(I,V){return this.options.sortFunction(I.layer,V.layer,I.name,V.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ih(this._baseLayersList),ih(this._overlaysList),this._layerControlInputs=[];var l,g,S,I,V=0;for(S=0;S<this._layers.length;S++)I=this._layers[S],this._addItem(I),g=g||I.overlay,l=l||!I.overlay,V+=I.overlay?0:1;return this.options.hideSingleBase&&(l=l&&V>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=g&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var g=this._getLayer(d(l.target)),S=g.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;S&&this._map.fire(S,g)},_createRadioElement:function(l,g){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(g?' checked="checked"':"")+"/>",I=document.createElement("div");return I.innerHTML=S,I.firstChild},_addItem:function(l){var g=document.createElement("label"),S=this._map.hasLayer(l.layer),I;l.overlay?(I=document.createElement("input"),I.type="checkbox",I.className="leaflet-control-layers-selector",I.defaultChecked=S):I=this._createRadioElement("leaflet-base-layers_"+d(this),S),this._layerControlInputs.push(I),I.layerId=d(l.layer),mt(I,"click",this._onInputClick,this);var V=document.createElement("span");V.innerHTML=" "+l.name;var Y=document.createElement("span");g.appendChild(Y),Y.appendChild(I),Y.appendChild(V);var ae=l.overlay?this._overlaysList:this._baseLayersList;return ae.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,g,S,I=[],V=[];this._handlingClick=!0;for(var Y=l.length-1;Y>=0;Y--)g=l[Y],S=this._getLayer(g.layerId).layer,g.checked?I.push(S):g.checked||V.push(S);for(Y=0;Y<V.length;Y++)this._map.hasLayer(V[Y])&&this._map.removeLayer(V[Y]);for(Y=0;Y<I.length;Y++)this._map.hasLayer(I[Y])||this._map.addLayer(I[Y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,g,S,I=this._map.getZoom(),V=l.length-1;V>=0;V--)g=l[V],S=this._getLayer(g.layerId).layer,g.disabled=S.options.minZoom!==void 0&&I<S.options.minZoom||S.options.maxZoom!==void 0&&I>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,mt(l,"click",zn),this.expand();var g=this;setTimeout(function(){Ft(l,"click",zn),g._preventClick=!1})}}),oM=function(l,g,S){return new oj(l,g,S)},fg=ms.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var g="leaflet-control-zoom",S=Pt("div",g+" leaflet-bar"),I=this.options;return this._zoomInButton=this._createButton(I.zoomInText,I.zoomInTitle,g+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(I.zoomOutText,I.zoomOutTitle,g+"-out",S,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,g,S,I,V){var Y=Pt("a",S,I);return Y.innerHTML=l,Y.href="#",Y.title=g,Y.setAttribute("role","button"),Y.setAttribute("aria-label",g),td(Y),mt(Y,"click",co),mt(Y,"click",V,this),mt(Y,"click",this._refocusOnMap,this),Y},_updateDisabled:function(){var l=this._map,g="leaflet-disabled";yn(this._zoomInButton,g),yn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(yt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(yt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fg,this.addControl(this.zoomControl))});var lM=function(l){return new fg(l)},lj=ms.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var g="leaflet-control-scale",S=Pt("div",g),I=this.options;return this._addScales(I,g+"-line",S),l.on(I.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),S},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,g,S){l.metric&&(this._mScale=Pt("div",g,S)),l.imperial&&(this._iScale=Pt("div",g,S))},_update:function(){var l=this._map,g=l.getSize().y/2,S=l.distance(l.containerPointToLatLng([0,g]),l.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(S)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var g=this._getRoundNum(l),S=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,S,g/l)},_updateImperial:function(l){var g=l*3.2808399,S,I,V;g>5280?(S=g/5280,I=this._getRoundNum(S),this._updateScale(this._iScale,I+" mi",I/S)):(V=this._getRoundNum(g),this._updateScale(this._iScale,V+" ft",V/g))},_updateScale:function(l,g,S){l.style.width=Math.round(this.options.maxWidth*S)+"px",l.innerHTML=g},_getRoundNum:function(l){var g=Math.pow(10,(Math.floor(l)+"").length-1),S=l/g;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,g*S}}),cM=function(l){return new lj(l)},dM='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mg=ms.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Qe.inlineSvg?dM+" ":"")+"Leaflet</a>"},initialize:function(l){v(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),td(this._container);for(var g in l._layers)l._layers[g].getAttribution&&this.addAttribution(l._layers[g].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var g in this._attributions)this._attributions[g]&&l.push(g);var S=[];this.options.prefix&&S.push(this.options.prefix),l.length&&S.push(l.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new mg().addTo(this)});var uM=function(l){return new mg(l)};ms.Layers=oj,ms.Zoom=fg,ms.Scale=lj,ms.Attribution=mg,nd.layers=oM,nd.zoom=lM,nd.scale=cM,nd.attribution=uM;var Vs=M.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vs.addTo=function(l,g){return l.addHandler(g,this),this};var hM={Events:W},cj=Qe.touch?"touchstart mousedown":"mousedown",la=Z.extend({options:{clickTolerance:3},initialize:function(l,g,S,I){v(this,I),this._element=l,this._dragStartTarget=g||l,this._preventOutline=S},enable:function(){this._enabled||(mt(this._dragStartTarget,cj,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(la._dragging===this&&this.finishDrag(!0),Ft(this._dragStartTarget,cj,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!eg(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){la._dragging===this&&this.finishDrag();return}if(!(la._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(la._dragging=this,this._preventOutline&&ag(this._element),rg(),Qc(),!this._moving)){this.fire("down");var g=l.touches?l.touches[0]:l,S=tj(this._element);this._startPoint=new B(g.clientX,g.clientY),this._startPos=oo(this._element),this._parentScale=og(S);var I=l.type==="mousedown";mt(document,I?"mousemove":"touchmove",this._onMove,this),mt(document,I?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var g=l.touches&&l.touches.length===1?l.touches[0]:l,S=new B(g.clientX,g.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,zn(l),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),kn(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){yn(document.body,"leaflet-dragging"),this._lastTarget&&(yn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ft(document,"mousemove touchmove",this._onMove,this),Ft(document,"mouseup touchend touchcancel",this._onUp,this),sg(),Jc();var g=this._moved&&this._moving;this._moving=!1,la._dragging=!1,g&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function dj(l,g,S){var I,V=[1,4,2,8],Y,ae,he,ge,Ee,Be,rt,wt;for(Y=0,Be=l.length;Y<Be;Y++)l[Y]._code=uo(l[Y],g);for(he=0;he<4;he++){for(rt=V[he],I=[],Y=0,Be=l.length,ae=Be-1;Y<Be;ae=Y++)ge=l[Y],Ee=l[ae],ge._code&rt?Ee._code&rt||(wt=dh(Ee,ge,rt,g,S),wt._code=uo(wt,g),I.push(wt)):(Ee._code&rt&&(wt=dh(Ee,ge,rt,g,S),wt._code=uo(wt,g),I.push(wt)),I.push(ge));l=I}return l}function uj(l,g){var S,I,V,Y,ae,he,ge,Ee,Be;if(!l||l.length===0)throw new Error("latlngs not passed");Kr(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var rt=K([0,0]),wt=X(l),dr=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());dr<1700&&(rt=pg(l));var Fn=l.length,Yr=[];for(S=0;S<Fn;S++){var wr=K(l[S]);Yr.push(g.project(K([wr.lat-rt.lat,wr.lng-rt.lng])))}for(he=ge=Ee=0,S=0,I=Fn-1;S<Fn;I=S++)V=Yr[S],Y=Yr[I],ae=V.y*Y.x-Y.y*V.x,ge+=(V.x+Y.x)*ae,Ee+=(V.y+Y.y)*ae,he+=ae*3;he===0?Be=Yr[0]:Be=[ge/he,Ee/he];var hl=g.unproject(F(Be));return K([hl.lat+rt.lat,hl.lng+rt.lng])}function pg(l){for(var g=0,S=0,I=0,V=0;V<l.length;V++){var Y=K(l[V]);g+=Y.lat,S+=Y.lng,I++}return K([g/I,S/I])}var fM={__proto__:null,clipPolygon:dj,polygonCenter:uj,centroid:pg};function hj(l,g){if(!g||!l.length)return l.slice();var S=g*g;return l=gM(l,S),l=pM(l,S),l}function fj(l,g,S){return Math.sqrt(rd(l,g,S,!0))}function mM(l,g,S){return rd(l,g,S)}function pM(l,g){var S=l.length,I=typeof Uint8Array<"u"?Uint8Array:Array,V=new I(S);V[0]=V[S-1]=1,gg(l,V,g,0,S-1);var Y,ae=[];for(Y=0;Y<S;Y++)V[Y]&&ae.push(l[Y]);return ae}function gg(l,g,S,I,V){var Y=0,ae,he,ge;for(he=I+1;he<=V-1;he++)ge=rd(l[he],l[I],l[V],!0),ge>Y&&(ae=he,Y=ge);Y>S&&(g[ae]=1,gg(l,g,S,I,ae),gg(l,g,S,ae,V))}function gM(l,g){for(var S=[l[0]],I=1,V=0,Y=l.length;I<Y;I++)vM(l[I],l[V])>g&&(S.push(l[I]),V=I);return V<Y-1&&S.push(l[Y-1]),S}var mj;function pj(l,g,S,I,V){var Y=I?mj:uo(l,S),ae=uo(g,S),he,ge,Ee;for(mj=ae;;){if(!(Y|ae))return[l,g];if(Y&ae)return!1;he=Y||ae,ge=dh(l,g,he,S,V),Ee=uo(ge,S),he===Y?(l=ge,Y=Ee):(g=ge,ae=Ee)}}function dh(l,g,S,I,V){var Y=g.x-l.x,ae=g.y-l.y,he=I.min,ge=I.max,Ee,Be;return S&8?(Ee=l.x+Y*(ge.y-l.y)/ae,Be=ge.y):S&4?(Ee=l.x+Y*(he.y-l.y)/ae,Be=he.y):S&2?(Ee=ge.x,Be=l.y+ae*(ge.x-l.x)/Y):S&1&&(Ee=he.x,Be=l.y+ae*(he.x-l.x)/Y),new B(Ee,Be,V)}function uo(l,g){var S=0;return l.x<g.min.x?S|=1:l.x>g.max.x&&(S|=2),l.y<g.min.y?S|=4:l.y>g.max.y&&(S|=8),S}function vM(l,g){var S=g.x-l.x,I=g.y-l.y;return S*S+I*I}function rd(l,g,S,I){var V=g.x,Y=g.y,ae=S.x-V,he=S.y-Y,ge=ae*ae+he*he,Ee;return ge>0&&(Ee=((l.x-V)*ae+(l.y-Y)*he)/ge,Ee>1?(V=S.x,Y=S.y):Ee>0&&(V+=ae*Ee,Y+=he*Ee)),ae=l.x-V,he=l.y-Y,I?ae*ae+he*he:new B(V,Y)}function Kr(l){return!_(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function gj(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kr(l)}function vj(l,g){var S,I,V,Y,ae,he,ge,Ee;if(!l||l.length===0)throw new Error("latlngs not passed");Kr(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Be=K([0,0]),rt=X(l),wt=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());wt<1700&&(Be=pg(l));var dr=l.length,Fn=[];for(S=0;S<dr;S++){var Yr=K(l[S]);Fn.push(g.project(K([Yr.lat-Be.lat,Yr.lng-Be.lng])))}for(S=0,I=0;S<dr-1;S++)I+=Fn[S].distanceTo(Fn[S+1])/2;if(I===0)Ee=Fn[0];else for(S=0,Y=0;S<dr-1;S++)if(ae=Fn[S],he=Fn[S+1],V=ae.distanceTo(he),Y+=V,Y>I){ge=(Y-I)/V,Ee=[he.x-ge*(he.x-ae.x),he.y-ge*(he.y-ae.y)];break}var wr=g.unproject(F(Ee));return K([wr.lat+Be.lat,wr.lng+Be.lng])}var xM={__proto__:null,simplify:hj,pointToSegmentDistance:fj,closestPointOnSegment:mM,clipSegment:pj,_getEdgeIntersection:dh,_getBitCode:uo,_sqClosestPointOnSegment:rd,isFlat:Kr,_flat:gj,polylineCenter:vj},vg={project:function(l){return new B(l.lng,l.lat)},unproject:function(l){return new J(l.y,l.x)},bounds:new $([-180,-90],[180,90])},xg={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var g=Math.PI/180,S=this.R,I=l.lat*g,V=this.R_MINOR/S,Y=Math.sqrt(1-V*V),ae=Y*Math.sin(I),he=Math.tan(Math.PI/4-I/2)/Math.pow((1-ae)/(1+ae),Y/2);return I=-S*Math.log(Math.max(he,1e-10)),new B(l.lng*g*S,I)},unproject:function(l){for(var g=180/Math.PI,S=this.R,I=this.R_MINOR/S,V=Math.sqrt(1-I*I),Y=Math.exp(-l.y/S),ae=Math.PI/2-2*Math.atan(Y),he=0,ge=.1,Ee;he<15&&Math.abs(ge)>1e-7;he++)Ee=V*Math.sin(ae),Ee=Math.pow((1-Ee)/(1+Ee),V/2),ge=Math.PI/2-2*Math.atan(Y*Ee)-ae,ae+=ge;return new J(ae*g,l.x*g/S)}},yM={__proto__:null,LonLat:vg,Mercator:xg,SphericalMercator:le},bM=i({},te,{code:"EPSG:3395",projection:xg,transformation:function(){var l=.5/(Math.PI*xg.R);return ee(l,.5,-l,.5)}()}),xj=i({},te,{code:"EPSG:4326",projection:vg,transformation:ee(1/180,1,-1/180,.5)}),wM=i({},U,{projection:vg,transformation:ee(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,g){var S=g.lng-l.lng,I=g.lat-l.lat;return Math.sqrt(S*S+I*I)},infinite:!0});U.Earth=te,U.EPSG3395=bM,U.EPSG3857=ye,U.EPSG900913=Ce,U.EPSG4326=xj,U.Simple=wM;var ps=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[d(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[d(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var g=l.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var S=this.getEvents();g.on(S,this),this.once("remove",function(){g.off(S,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(l);return this._layers[g]?this:(this._layers[g]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var g=d(l);return this._layers[g]?(this._loaded&&l.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return d(l)in this._layers},eachLayer:function(l,g){for(var S in this._layers)l.call(g,this._layers[S]);return this},_addLayers:function(l){l=l?_(l)?l:[l]:[];for(var g=0,S=l.length;g<S;g++)this.addLayer(l[g])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[d(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var g=d(l);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,g=-1/0,S=this._getZoomSpan();for(var I in this._zoomBoundLayers){var V=this._zoomBoundLayers[I].options;l=V.minZoom===void 0?l:Math.min(l,V.minZoom),g=V.maxZoom===void 0?g:Math.max(g,V.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=l===1/0?void 0:l,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ol=ps.extend({initialize:function(l,g){v(this,g),this._layers={};var S,I;if(l)for(S=0,I=l.length;S<I;S++)this.addLayer(l[S])},addLayer:function(l){var g=this.getLayerId(l);return this._layers[g]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var g=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(l){var g=typeof l=="number"?l:this.getLayerId(l);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var g=Array.prototype.slice.call(arguments,1),S,I;for(S in this._layers)I=this._layers[S],I[l]&&I[l].apply(I,g);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,g){for(var S in this._layers)l.call(g,this._layers[S]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return d(l)}}),jM=function(l,g){return new ol(l,g)},ji=ol.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),ol.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),ol.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new G;for(var g in this._layers){var S=this._layers[g];l.extend(S.getBounds?S.getBounds():S.getLatLng())}return l}}),_M=function(l,g){return new ji(l,g)},ll=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){v(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,g){var S=this._getIconUrl(l);if(!S){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var I=this._createImg(S,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(I,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),I},_setIconStyles:function(l,g){var S=this.options,I=S[g+"Size"];typeof I=="number"&&(I=[I,I]);var V=F(I),Y=F(g==="shadow"&&S.shadowAnchor||S.iconAnchor||V&&V.divideBy(2,!0));l.className="leaflet-marker-"+g+" "+(S.className||""),Y&&(l.style.marginLeft=-Y.x+"px",l.style.marginTop=-Y.y+"px"),V&&(l.style.width=V.x+"px",l.style.height=V.y+"px")},_createImg:function(l,g){return g=g||document.createElement("img"),g.src=l,g},_getIconUrl:function(l){return Qe.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function NM(l){return new ll(l)}var sd=ll.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof sd.imagePath!="string"&&(sd.imagePath=this._detectIconPath()),(this.options.imagePath||sd.imagePath)+ll.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var g=function(S,I,V){var Y=I.exec(S);return Y&&Y[V]};return l=g(l,/^url\((['"])?(.+)\1\)$/,2),l&&g(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Pt("div","leaflet-default-icon-path",document.body),g=Xc(l,"background-image")||Xc(l,"backgroundImage");if(document.body.removeChild(l),g=this._stripUrl(g),g)return g;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),yj=Vs.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new la(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var g=this._marker,S=g._map,I=this._marker.options.autoPanSpeed,V=this._marker.options.autoPanPadding,Y=oo(g._icon),ae=S.getPixelBounds(),he=S.getPixelOrigin(),ge=z(ae.min._subtract(he).add(V),ae.max._subtract(he).subtract(V));if(!ge.contains(Y)){var Ee=F((Math.max(ge.max.x,Y.x)-ge.max.x)/(ae.max.x-ge.max.x)-(Math.min(ge.min.x,Y.x)-ge.min.x)/(ae.min.x-ge.min.x),(Math.max(ge.max.y,Y.y)-ge.max.y)/(ae.max.y-ge.max.y)-(Math.min(ge.min.y,Y.y)-ge.min.y)/(ae.min.y-ge.min.y)).multiplyBy(I);S.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),kn(g._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=O(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,l)))},_onDrag:function(l){var g=this._marker,S=g._shadow,I=oo(g._icon),V=g._map.layerPointToLatLng(I);S&&kn(S,I),g._latlng=V,l.latlng=V,l.oldLatLng=this._oldLatLng,g.fire("move",l).fire("drag",l)},_onDragEnd:function(l){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),uh=ps.extend({options:{icon:new sd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,g){v(this,g),this._latlng=K(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var g=this._latlng;return this._latlng=K(l),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=l.icon.createIcon(this._icon),I=!1;S!==this._icon&&(this._icon&&this._removeIcon(),I=!0,l.title&&(S.title=l.title),S.tagName==="IMG"&&(S.alt=l.alt||"")),yt(S,g),l.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(S,"focus",this._panOnFocus,this);var V=l.icon.createShadow(this._shadow),Y=!1;V!==this._shadow&&(this._removeShadow(),Y=!0),V&&(yt(V,g),V.alt=""),this._shadow=V,l.opacity<1&&this._updateOpacity(),I&&this.getPane().appendChild(this._icon),this._initInteraction(),V&&Y&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(this._icon,"focus",this._panOnFocus,this),nn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&kn(this._icon,l),this._shadow&&kn(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yj)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yj(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Gr(this._icon,l),this._shadow&&Gr(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var g=this.options.icon.options,S=g.iconSize?F(g.iconSize):F(0,0),I=g.iconAnchor?F(g.iconAnchor):F(0,0);l.panInside(this._latlng,{paddingTopLeft:I,paddingBottomRight:S.subtract(I)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function SM(l,g){return new uh(l,g)}var ca=ps.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return v(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hh=ca.extend({options:{fill:!0,radius:10},initialize:function(l,g){v(this,g),this._latlng=K(l),this._radius=this.options.radius},setLatLng:function(l){var g=this._latlng;return this._latlng=K(l),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var g=l&&l.radius||this._radius;return ca.prototype.setStyle.call(this,l),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,g=this._radiusY||l,S=this._clickTolerance(),I=[l+S,g+S];this._pxBounds=new $(this._point.subtract(I),this._point.add(I))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kM(l,g){return new hh(l,g)}var yg=hh.extend({initialize:function(l,g,S){if(typeof g=="number"&&(g=i({},S,{radius:g})),v(this,g),this._latlng=K(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:ca.prototype.setStyle,_project:function(){var l=this._latlng.lng,g=this._latlng.lat,S=this._map,I=S.options.crs;if(I.distance===te.distance){var V=Math.PI/180,Y=this._mRadius/te.R/V,ae=S.project([g+Y,l]),he=S.project([g-Y,l]),ge=ae.add(he).divideBy(2),Ee=S.unproject(ge).lat,Be=Math.acos((Math.cos(Y*V)-Math.sin(g*V)*Math.sin(Ee*V))/(Math.cos(g*V)*Math.cos(Ee*V)))/V;(isNaN(Be)||Be===0)&&(Be=Y/Math.cos(Math.PI/180*g)),this._point=ge.subtract(S.getPixelOrigin()),this._radius=isNaN(Be)?0:ge.x-S.project([Ee,l-Be]).x,this._radiusY=ge.y-ae.y}else{var rt=I.unproject(I.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(rt).x}this._updateBounds()}});function CM(l,g,S){return new yg(l,g,S)}var _i=ca.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,g){v(this,g),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var g=1/0,S=null,I=rd,V,Y,ae=0,he=this._parts.length;ae<he;ae++)for(var ge=this._parts[ae],Ee=1,Be=ge.length;Ee<Be;Ee++){V=ge[Ee-1],Y=ge[Ee];var rt=I(l,V,Y,!0);rt<g&&(g=rt,S=I(l,V,Y))}return S&&(S.distance=Math.sqrt(g)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vj(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,g){return g=g||this._defaultShape(),l=K(l),g.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new G,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Kr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var g=[],S=Kr(l),I=0,V=l.length;I<V;I++)S?(g[I]=K(l[I]),this._bounds.extend(g[I])):g[I]=this._convertLatLngs(l[I]);return g},_project:function(){var l=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),g=new B(l,l);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(l,g,S){var I=l[0]instanceof J,V=l.length,Y,ae;if(I){for(ae=[],Y=0;Y<V;Y++)ae[Y]=this._map.latLngToLayerPoint(l[Y]),S.extend(ae[Y]);g.push(ae)}else for(Y=0;Y<V;Y++)this._projectLatlngs(l[Y],g,S)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,S,I,V,Y,ae,he,ge;for(S=0,V=0,Y=this._rings.length;S<Y;S++)for(ge=this._rings[S],I=0,ae=ge.length;I<ae-1;I++)he=pj(ge[I],ge[I+1],l,I,!0),he&&(g[V]=g[V]||[],g[V].push(he[0]),(he[1]!==ge[I+1]||I===ae-2)&&(g[V].push(he[1]),V++))}},_simplifyPoints:function(){for(var l=this._parts,g=this.options.smoothFactor,S=0,I=l.length;S<I;S++)l[S]=hj(l[S],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,g){var S,I,V,Y,ae,he,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(S=0,Y=this._parts.length;S<Y;S++)for(he=this._parts[S],I=0,ae=he.length,V=ae-1;I<ae;V=I++)if(!(!g&&I===0)&&fj(l,he[V],he[I])<=ge)return!0;return!1}});function EM(l,g){return new _i(l,g)}_i._flat=gj;var cl=_i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return uj(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var g=_i.prototype._convertLatLngs.call(this,l),S=g.length;return S>=2&&g[0]instanceof J&&g[0].equals(g[S-1])&&g.pop(),g},_setLatLngs:function(l){_i.prototype._setLatLngs.call(this,l),Kr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,g=this.options.weight,S=new B(g,g);if(l=new $(l.min.subtract(S),l.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var I=0,V=this._rings.length,Y;I<V;I++)Y=dj(this._rings[I],l,!0),Y.length&&this._parts.push(Y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var g=!1,S,I,V,Y,ae,he,ge,Ee;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(Y=0,ge=this._parts.length;Y<ge;Y++)for(S=this._parts[Y],ae=0,Ee=S.length,he=Ee-1;ae<Ee;he=ae++)I=S[ae],V=S[he],I.y>l.y!=V.y>l.y&&l.x<(V.x-I.x)*(l.y-I.y)/(V.y-I.y)+I.x&&(g=!g);return g||_i.prototype._containsPoint.call(this,l,!0)}});function PM(l,g){return new cl(l,g)}var Ni=ji.extend({initialize:function(l,g){v(this,g),this._layers={},l&&this.addData(l)},addData:function(l){var g=_(l)?l:l.features,S,I,V;if(g){for(S=0,I=g.length;S<I;S++)V=g[S],(V.geometries||V.geometry||V.features||V.coordinates)&&this.addData(V);return this}var Y=this.options;if(Y.filter&&!Y.filter(l))return this;var ae=fh(l,Y);return ae?(ae.feature=gh(l),ae.defaultOptions=ae.options,this.resetStyle(ae),Y.onEachFeature&&Y.onEachFeature(l,ae),this.addLayer(ae)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(g){this._setLayerStyle(g,l)},this)},_setLayerStyle:function(l,g){l.setStyle&&(typeof g=="function"&&(g=g(l.feature)),l.setStyle(g))}});function fh(l,g){var S=l.type==="Feature"?l.geometry:l,I=S?S.coordinates:null,V=[],Y=g&&g.pointToLayer,ae=g&&g.coordsToLatLng||bg,he,ge,Ee,Be;if(!I&&!S)return null;switch(S.type){case"Point":return he=ae(I),bj(Y,l,he,g);case"MultiPoint":for(Ee=0,Be=I.length;Ee<Be;Ee++)he=ae(I[Ee]),V.push(bj(Y,l,he,g));return new ji(V);case"LineString":case"MultiLineString":return ge=mh(I,S.type==="LineString"?0:1,ae),new _i(ge,g);case"Polygon":case"MultiPolygon":return ge=mh(I,S.type==="Polygon"?1:2,ae),new cl(ge,g);case"GeometryCollection":for(Ee=0,Be=S.geometries.length;Ee<Be;Ee++){var rt=fh({geometry:S.geometries[Ee],type:"Feature",properties:l.properties},g);rt&&V.push(rt)}return new ji(V);case"FeatureCollection":for(Ee=0,Be=S.features.length;Ee<Be;Ee++){var wt=fh(S.features[Ee],g);wt&&V.push(wt)}return new ji(V);default:throw new Error("Invalid GeoJSON object.")}}function bj(l,g,S,I){return l?l(g,S):new uh(S,I&&I.markersInheritOptions&&I)}function bg(l){return new J(l[1],l[0],l[2])}function mh(l,g,S){for(var I=[],V=0,Y=l.length,ae;V<Y;V++)ae=g?mh(l[V],g-1,S):(S||bg)(l[V]),I.push(ae);return I}function wg(l,g){return l=K(l),l.alt!==void 0?[u(l.lng,g),u(l.lat,g),u(l.alt,g)]:[u(l.lng,g),u(l.lat,g)]}function ph(l,g,S,I){for(var V=[],Y=0,ae=l.length;Y<ae;Y++)V.push(g?ph(l[Y],Kr(l[Y])?0:g-1,S,I):wg(l[Y],I));return!g&&S&&V.length>0&&V.push(V[0].slice()),V}function dl(l,g){return l.feature?i({},l.feature,{geometry:g}):gh(g)}function gh(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var jg={toGeoJSON:function(l){return dl(this,{type:"Point",coordinates:wg(this.getLatLng(),l)})}};uh.include(jg),yg.include(jg),hh.include(jg),_i.include({toGeoJSON:function(l){var g=!Kr(this._latlngs),S=ph(this._latlngs,g?1:0,!1,l);return dl(this,{type:(g?"Multi":"")+"LineString",coordinates:S})}}),cl.include({toGeoJSON:function(l){var g=!Kr(this._latlngs),S=g&&!Kr(this._latlngs[0]),I=ph(this._latlngs,S?2:g?1:0,!0,l);return g||(I=[I]),dl(this,{type:(S?"Multi":"")+"Polygon",coordinates:I})}}),ol.include({toMultiPoint:function(l){var g=[];return this.eachLayer(function(S){g.push(S.toGeoJSON(l).geometry.coordinates)}),dl(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(l){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(l);var S=g==="GeometryCollection",I=[];return this.eachLayer(function(V){if(V.toGeoJSON){var Y=V.toGeoJSON(l);if(S)I.push(Y.geometry);else{var ae=gh(Y);ae.type==="FeatureCollection"?I.push.apply(I,ae.features):I.push(ae)}}}),S?dl(this,{geometries:I,type:"GeometryCollection"}):{type:"FeatureCollection",features:I}}});function wj(l,g){return new Ni(l,g)}var TM=wj,vh=ps.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,g,S){this._url=l,this._bounds=X(g),v(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&il(this._image),this},bringToBack:function(){return this._map&&al(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=X(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",g=this._image=l?this._url:Pt("img");if(yt(g,"leaflet-image-layer"),this._zoomAnimated&&yt(g,"leaflet-zoom-animated"),this.options.className&&yt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(l){var g=this._map.getZoomScale(l.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;ao(this._image,S,g)},_reset:function(){var l=this._image,g=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=g.getSize();kn(l,g.min),l.style.width=S.x+"px",l.style.height=S.y+"px"},_updateOpacity:function(){Gr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),AM=function(l,g,S){return new vh(l,g,S)},jj=vh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",g=this._image=l?this._url:Pt("video");if(yt(g,"leaflet-image-layer"),this._zoomAnimated&&yt(g,"leaflet-zoom-animated"),this.options.className&&yt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onloadeddata=o(this.fire,this,"load"),l){for(var S=g.getElementsByTagName("source"),I=[],V=0;V<S.length;V++)I.push(S[V].src);this._url=S.length>0?I:[g.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var Y=0;Y<this._url.length;Y++){var ae=Pt("source");ae.src=this._url[Y],g.appendChild(ae)}}});function OM(l,g,S){return new jj(l,g,S)}var _j=vh.extend({_initImage:function(){var l=this._image=this._url;yt(l,"leaflet-image-layer"),this._zoomAnimated&&yt(l,"leaflet-zoom-animated"),this.options.className&&yt(l,this.options.className),l.onselectstart=m,l.onmousemove=m}});function LM(l,g,S){return new _j(l,g,S)}var Us=ps.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,g){l&&(l instanceof J||_(l))?(this._latlng=K(l),v(this,g)):(v(this,l),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Gr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Gr(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Gr(this._container,0),this._removeTimeout=setTimeout(o(nn,void 0,this._container),200)):nn(this._container),this.options.interactive&&(yn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=K(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&il(this._container),this},bringToBack:function(){return this._map&&al(this._container),this},_prepareOpen:function(l){var g=this._source;if(!g._map)return!1;if(g instanceof ji){g=null;var S=this._source._layers;for(var I in S)if(S[I]._map){g=S[I];break}if(!g)return!1;this._source=g}if(!l)if(g.getCenter)l=g.getCenter();else if(g.getLatLng)l=g.getLatLng();else if(g.getBounds)l=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")l.innerHTML=g;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),g=F(this.options.offset),S=this._getAnchor();this._zoomAnimated?kn(this._container,l.add(S)):g=g.add(l).add(S);var I=this._containerBottom=-g.y,V=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=I+"px",this._container.style.left=V+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(l,g,S,I){var V=g;return V instanceof l||(V=new l(I).setContent(g)),S&&V.setLatLng(S),V}}),ps.include({_initOverlay:function(l,g,S,I){var V=S;return V instanceof l?(v(V,I),V._source=this):(V=g&&!I?g:new l(I,this),V.setContent(S)),V}});var xh=Us.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Us.prototype.openOn.call(this,l)},onAdd:function(l){Us.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ca||this._source.on("preclick",lo))},onRemove:function(l){Us.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ca||this._source.off("preclick",lo))},getEvents:function(){var l=Us.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",g=this._container=Pt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Pt("div",l+"-content-wrapper",g);if(this._contentNode=Pt("div",l+"-content",S),td(g),ug(this._contentNode),mt(g,"contextmenu",lo),this._tipContainer=Pt("div",l+"-tip-container",g),this._tip=Pt("div",l+"-tip",this._tipContainer),this.options.closeButton){var I=this._closeButton=Pt("a",l+"-close-button",g);I.setAttribute("role","button"),I.setAttribute("aria-label","Close popup"),I.href="#close",I.innerHTML='<span aria-hidden="true">&#215;</span>',mt(I,"click",function(V){zn(V),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,g=l.style;g.width="",g.whiteSpace="nowrap";var S=l.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),g.width=S+1+"px",g.whiteSpace="",g.height="";var I=l.offsetHeight,V=this.options.maxHeight,Y="leaflet-popup-scrolled";V&&I>V?(g.height=V+"px",yt(l,Y)):yn(l,Y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),S=this._getAnchor();kn(this._container,g.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,g=parseInt(Xc(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+g,I=this._containerWidth,V=new B(this._containerLeft,-S-this._containerBottom);V._add(oo(this._container));var Y=l.layerPointToContainerPoint(V),ae=F(this.options.autoPanPadding),he=F(this.options.autoPanPaddingTopLeft||ae),ge=F(this.options.autoPanPaddingBottomRight||ae),Ee=l.getSize(),Be=0,rt=0;Y.x+I+ge.x>Ee.x&&(Be=Y.x+I-Ee.x+ge.x),Y.x-Be-he.x<0&&(Be=Y.x-he.x),Y.y+S+ge.y>Ee.y&&(rt=Y.y+S-Ee.y+ge.y),Y.y-rt-he.y<0&&(rt=Y.y-he.y),(Be||rt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Be,rt]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),RM=function(l,g){return new xh(l,g)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(l,g,S){return this._initOverlay(xh,l,g,S).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),ps.include({bindPopup:function(l,g){return this._popup=this._initOverlay(xh,this._popup,l,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof ji||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){co(l);var g=l.layer||l.target;if(this._popup._source===g&&!(g instanceof ca)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=g,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var yh=Us.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Us.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Us.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Us.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",g=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var g,S,I=this._map,V=this._container,Y=I.latLngToContainerPoint(I.getCenter()),ae=I.layerPointToContainerPoint(l),he=this.options.direction,ge=V.offsetWidth,Ee=V.offsetHeight,Be=F(this.options.offset),rt=this._getAnchor();he==="top"?(g=ge/2,S=Ee):he==="bottom"?(g=ge/2,S=0):he==="center"?(g=ge/2,S=Ee/2):he==="right"?(g=0,S=Ee/2):he==="left"?(g=ge,S=Ee/2):ae.x<Y.x?(he="right",g=0,S=Ee/2):(he="left",g=ge+(Be.x+rt.x)*2,S=Ee/2),l=l.subtract(F(g,S,!0)).add(Be).add(rt),yn(V,"leaflet-tooltip-right"),yn(V,"leaflet-tooltip-left"),yn(V,"leaflet-tooltip-top"),yn(V,"leaflet-tooltip-bottom"),yt(V,"leaflet-tooltip-"+he),kn(V,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Gr(this._container,l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(g)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),MM=function(l,g){return new yh(l,g)};Ct.include({openTooltip:function(l,g,S){return this._initOverlay(yh,l,g,S).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),ps.include({bindTooltip:function(l,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yh,this._tooltip,l,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var g=l?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[g](S),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof ji||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var g=typeof l.getElement=="function"&&l.getElement();g&&(mt(g,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),mt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var g=typeof l.getElement=="function"&&l.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var g=l.latlng,S,I;this._tooltip.options.sticky&&l.originalEvent&&(S=this._map.mouseEventToContainerPoint(l.originalEvent),I=this._map.containerPointToLayerPoint(S),g=this._map.layerPointToLatLng(I)),this._tooltip.setLatLng(g)}});var Nj=ll.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var g=l&&l.tagName==="DIV"?l:document.createElement("div"),S=this.options;if(S.html instanceof Element?(ih(g),g.appendChild(S.html)):g.innerHTML=S.html!==!1?S.html:"",S.bgPos){var I=F(S.bgPos);g.style.backgroundPosition=-I.x+"px "+-I.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function IM(l){return new Nj(l)}ll.Default=sd;var id=ps.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){v(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),nn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(il(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(al(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof B?l:new B(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var g=this.getPane().children,S=-l(-1/0,1/0),I=0,V=g.length,Y;I<V;I++)Y=g[I].style.zIndex,g[I]!==this._container&&Y&&(S=l(S,+Y));isFinite(S)&&(this.options.zIndex=S+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Qe.ielt9){Gr(this._container,this.options.opacity);var l=+new Date,g=!1,S=!1;for(var I in this._tiles){var V=this._tiles[I];if(!(!V.current||!V.loaded)){var Y=Math.min(1,(l-V.loaded)/200);Gr(V.el,Y),Y<1?g=!0:(V.active?S=!0:this._onOpaqueTile(V),V.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),g&&(P(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,g=this.options.maxZoom;if(l!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===l?(this._levels[S].el.style.zIndex=g-Math.abs(l-S),this._onUpdateLevel(S)):(nn(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var I=this._levels[l],V=this._map;return I||(I=this._levels[l]={},I.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),I.el.style.zIndex=g,I.origin=V.project(V.unproject(V.getPixelOrigin()),l).round(),I.zoom=l,this._setZoomTransform(I,V.getCenter(),V.getZoom()),m(I.el.offsetWidth),this._onCreateLevel(I)),this._level=I,I}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var l,g,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)g=this._tiles[l],g.retain=g.current;for(l in this._tiles)if(g=this._tiles[l],g.current&&!g.active){var I=g.coords;this._retainParent(I.x,I.y,I.z,I.z-5)||this._retainChildren(I.x,I.y,I.z,I.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var g in this._tiles)this._tiles[g].coords.z===l&&this._removeTile(g)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)nn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,g,S,I){var V=Math.floor(l/2),Y=Math.floor(g/2),ae=S-1,he=new B(+V,+Y);he.z=+ae;var ge=this._tileCoordsToKey(he),Ee=this._tiles[ge];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),ae>I?this._retainParent(V,Y,ae,I):!1)},_retainChildren:function(l,g,S,I){for(var V=2*l;V<2*l+2;V++)for(var Y=2*g;Y<2*g+2;Y++){var ae=new B(V,Y);ae.z=S+1;var he=this._tileCoordsToKey(ae),ge=this._tiles[he];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);S+1<I&&this._retainChildren(V,Y,S+1,I)}},_resetView:function(l){var g=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var g=this.options;return g.minNativeZoom!==void 0&&l<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<l?g.maxNativeZoom:l},_setView:function(l,g,S,I){var V=Math.round(g);this.options.maxZoom!==void 0&&V>this.options.maxZoom||this.options.minZoom!==void 0&&V<this.options.minZoom?V=void 0:V=this._clampZoom(V);var Y=this.options.updateWhenZooming&&V!==this._tileZoom;(!I||Y)&&(this._tileZoom=V,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),V!==void 0&&this._update(l),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(l,g)},_setZoomTransforms:function(l,g){for(var S in this._levels)this._setZoomTransform(this._levels[S],l,g)},_setZoomTransform:function(l,g,S){var I=this._map.getZoomScale(S,l.zoom),V=l.origin.multiplyBy(I).subtract(this._map._getNewPixelOrigin(g,S)).round();Qe.any3d?ao(l.el,V,I):kn(l.el,V)},_resetGrid:function(){var l=this._map,g=l.options.crs,S=this._tileSize=this.getTileSize(),I=this._tileZoom,V=this._map.getPixelWorldBounds(this._tileZoom);V&&(this._globalTileRange=this._pxBoundsToTileRange(V)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,g.wrapLng[0]],I).x/S.x),Math.ceil(l.project([0,g.wrapLng[1]],I).x/S.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([g.wrapLat[0],0],I).y/S.x),Math.ceil(l.project([g.wrapLat[1],0],I).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var g=this._map,S=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),I=g.getZoomScale(S,this._tileZoom),V=g.project(l,this._tileZoom).floor(),Y=g.getSize().divideBy(I*2);return new $(V.subtract(Y),V.add(Y))},_update:function(l){var g=this._map;if(g){var S=this._clampZoom(g.getZoom());if(l===void 0&&(l=g.getCenter()),this._tileZoom!==void 0){var I=this._getTiledPixelBounds(l),V=this._pxBoundsToTileRange(I),Y=V.getCenter(),ae=[],he=this.options.keepBuffer,ge=new $(V.getBottomLeft().subtract([he,-he]),V.getTopRight().add([he,-he]));if(!(isFinite(V.min.x)&&isFinite(V.min.y)&&isFinite(V.max.x)&&isFinite(V.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Be=this._tiles[Ee].coords;(Be.z!==this._tileZoom||!ge.contains(new B(Be.x,Be.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(l,S);return}for(var rt=V.min.y;rt<=V.max.y;rt++)for(var wt=V.min.x;wt<=V.max.x;wt++){var dr=new B(wt,rt);if(dr.z=this._tileZoom,!!this._isValidTile(dr)){var Fn=this._tiles[this._tileCoordsToKey(dr)];Fn?Fn.current=!0:ae.push(dr)}}if(ae.sort(function(wr,hl){return wr.distanceTo(Y)-hl.distanceTo(Y)}),ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yr=document.createDocumentFragment();for(wt=0;wt<ae.length;wt++)this._addTile(ae[wt],Yr);this._level.el.appendChild(Yr)}}}},_isValidTile:function(l){var g=this._map.options.crs;if(!g.infinite){var S=this._globalTileRange;if(!g.wrapLng&&(l.x<S.min.x||l.x>S.max.x)||!g.wrapLat&&(l.y<S.min.y||l.y>S.max.y))return!1}if(!this.options.bounds)return!0;var I=this._tileCoordsToBounds(l);return X(this.options.bounds).overlaps(I)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var g=this._map,S=this.getTileSize(),I=l.scaleBy(S),V=I.add(S),Y=g.unproject(I,l.z),ae=g.unproject(V,l.z);return[Y,ae]},_tileCoordsToBounds:function(l){var g=this._tileCoordsToNwSe(l),S=new G(g[0],g[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var g=l.split(":"),S=new B(+g[0],+g[1]);return S.z=+g[2],S},_removeTile:function(l){var g=this._tiles[l];g&&(nn(g.el),delete this._tiles[l],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){yt(l,"leaflet-tile");var g=this.getTileSize();l.style.width=g.x+"px",l.style.height=g.y+"px",l.onselectstart=m,l.onmousemove=m,Qe.ielt9&&this.options.opacity<1&&Gr(l,this.options.opacity)},_addTile:function(l,g){var S=this._getTilePos(l),I=this._tileCoordsToKey(l),V=this.createTile(this._wrapCoords(l),o(this._tileReady,this,l));this._initTile(V),this.createTile.length<2&&O(o(this._tileReady,this,l,null,V)),kn(V,S),this._tiles[I]={el:V,coords:l,current:!0},g.appendChild(V),this.fire("tileloadstart",{tile:V,coords:l})},_tileReady:function(l,g,S){g&&this.fire("tileerror",{error:g,tile:S,coords:l});var I=this._tileCoordsToKey(l);S=this._tiles[I],S&&(S.loaded=+new Date,this._map._fadeAnimated?(Gr(S.el,0),P(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),g||(yt(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Qe.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var g=new B(this._wrapX?f(l.x,this._wrapX):l.x,this._wrapY?f(l.y,this._wrapY):l.y);return g.z=l.z,g},_pxBoundsToTileRange:function(l){var g=this.getTileSize();return new $(l.min.unscaleBy(g).floor(),l.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function DM(l){return new id(l)}var ul=id.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,g){this._url=l,g=v(this,g),g.detectRetina&&Qe.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,g){return this._url===l&&g===void 0&&(g=!0),this._url=l,g||this.redraw(),this},createTile:function(l,g){var S=document.createElement("img");return mt(S,"load",o(this._tileOnLoad,this,g,S)),mt(S,"error",o(this._tileOnError,this,g,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(l),S},getTileUrl:function(l){var g={r:Qe.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-l.y;this.options.tms&&(g.y=S),g["-y"]=S}return y(this._url,i(g,this.options))},_tileOnLoad:function(l,g){Qe.ielt9?setTimeout(o(l,this,null,g),0):l(null,g)},_tileOnError:function(l,g,S){var I=this.options.errorTileUrl;I&&g.getAttribute("src")!==I&&(g.src=I),l(S,g)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,g=this.options.maxZoom,S=this.options.zoomReverse,I=this.options.zoomOffset;return S&&(l=g-l),l+I},_getSubdomain:function(l){var g=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var l,g;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(g=this._tiles[l].el,g.onload=m,g.onerror=m,!g.complete)){g.src=C;var S=this._tiles[l].coords;nn(g),delete this._tiles[l],this.fire("tileabort",{tile:g,coords:S})}},_removeTile:function(l){var g=this._tiles[l];if(g)return g.el.setAttribute("src",C),id.prototype._removeTile.call(this,l)},_tileReady:function(l,g,S){if(!(!this._map||S&&S.getAttribute("src")===C))return id.prototype._tileReady.call(this,l,g,S)}});function Sj(l,g){return new ul(l,g)}var kj=ul.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,g){this._url=l;var S=i({},this.defaultWmsParams);for(var I in g)I in this.options||(S[I]=g[I]);g=v(this,g);var V=g.detectRetina&&Qe.retina?2:1,Y=this.getTileSize();S.width=Y.x*V,S.height=Y.y*V,this.wmsParams=S},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,ul.prototype.onAdd.call(this,l)},getTileUrl:function(l){var g=this._tileCoordsToNwSe(l),S=this._crs,I=z(S.project(g[0]),S.project(g[1])),V=I.min,Y=I.max,ae=(this._wmsVersion>=1.3&&this._crs===xj?[V.y,V.x,Y.y,Y.x]:[V.x,V.y,Y.x,Y.y]).join(","),he=ul.prototype.getTileUrl.call(this,l);return he+w(this.wmsParams,he,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ae},setParams:function(l,g){return i(this.wmsParams,l),g||this.redraw(),this}});function FM(l,g){return new kj(l,g)}ul.WMS=kj,Sj.wms=FM;var Si=ps.extend({options:{padding:.1},initialize:function(l){v(this,l),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,g){var S=this._map.getZoomScale(g,this._zoom),I=this._map.getSize().multiplyBy(.5+this.options.padding),V=this._map.project(this._center,g),Y=I.multiplyBy(-S).add(V).subtract(this._map._getNewPixelOrigin(l,g));Qe.any3d?ao(this._container,Y,S):kn(this._container,Y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,g=this._map.getSize(),S=this._map.containerPointToLayerPoint(g.multiplyBy(-l)).round();this._bounds=new $(S,S.add(g.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cj=Si.extend({options:{tolerance:0},getEvents:function(){var l=Si.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");mt(l,"mousemove",this._onMouseMove,this),mt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,nn(this._container),Ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var g in this._layers)l=this._layers[g],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var l=this._bounds,g=this._container,S=l.getSize(),I=Qe.retina?2:1;kn(g,l.min),g.width=I*S.x,g.height=I*S.y,g.style.width=S.x+"px",g.style.height=S.y+"px",Qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[d(l)]=l;var g=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var g=l._order,S=g.next,I=g.prev;S?S.prev=I:this._drawLast=I,I?I.next=S:this._drawFirst=S,delete l._order,delete this._layers[d(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var g=l.options.dashArray.split(/[, ]+/),S=[],I,V;for(V=0;V<g.length;V++){if(I=Number(g[V]),isNaN(I))return;S.push(I)}l.options._dashArray=S}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var g=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(l._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(l._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var g=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,g=this._redrawBounds;if(this._ctx.save(),g){var S=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var I=this._drawFirst;I;I=I.next)l=I.layer,(!g||l._pxBounds&&l._pxBounds.intersects(g))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,g){if(this._drawing){var S,I,V,Y,ae=l._parts,he=ae.length,ge=this._ctx;if(he){for(ge.beginPath(),S=0;S<he;S++){for(I=0,V=ae[S].length;I<V;I++)Y=ae[S][I],ge[I?"lineTo":"moveTo"](Y.x,Y.y);g&&ge.closePath()}this._fillStroke(ge,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var g=l._point,S=this._ctx,I=Math.max(Math.round(l._radius),1),V=(Math.max(Math.round(l._radiusY),1)||I)/I;V!==1&&(S.save(),S.scale(1,V)),S.beginPath(),S.arc(g.x,g.y/V,I,0,Math.PI*2,!1),V!==1&&S.restore(),this._fillStroke(S,l)}},_fillStroke:function(l,g){var S=g.options;S.fill&&(l.globalAlpha=S.fillOpacity,l.fillStyle=S.fillColor||S.color,l.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(l.setLineDash&&l.setLineDash(g.options&&g.options._dashArray||[]),l.globalAlpha=S.opacity,l.lineWidth=S.weight,l.strokeStyle=S.color,l.lineCap=S.lineCap,l.lineJoin=S.lineJoin,l.stroke())},_onClick:function(l){for(var g=this._map.mouseEventToLayerPoint(l),S,I,V=this._drawFirst;V;V=V.next)S=V.layer,S.options.interactive&&S._containsPoint(g)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(S))&&(I=S);this._fireEvent(I?[I]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,g)}},_handleMouseOut:function(l){var g=this._hoveredLayer;g&&(yn(this._container,"leaflet-interactive"),this._fireEvent([g],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,g){if(!this._mouseHoverThrottled){for(var S,I,V=this._drawFirst;V;V=V.next)S=V.layer,S.options.interactive&&S._containsPoint(g)&&(I=S);I!==this._hoveredLayer&&(this._handleMouseOut(l),I&&(yt(this._container,"leaflet-interactive"),this._fireEvent([I],l,"mouseover"),this._hoveredLayer=I)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,g,S){this._map._fireDOMEvent(g,S||g.type,l)},_bringToFront:function(l){var g=l._order;if(g){var S=g.next,I=g.prev;if(S)S.prev=I;else return;I?I.next=S:S&&(this._drawFirst=S),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(l)}},_bringToBack:function(l){var g=l._order;if(g){var S=g.next,I=g.prev;if(I)I.next=S;else return;S?S.prev=I:I&&(this._drawLast=I),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(l)}}});function Ej(l){return Qe.canvas?new Cj(l):null}var ad=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$M={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Si.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var g=l._container=ad("shape");yt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",l._path=ad("path"),g.appendChild(l._path),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){var g=l._container;this._container.appendChild(g),l.options.interactive&&l.addInteractiveTarget(g)},_removePath:function(l){var g=l._container;nn(g),l.removeInteractiveTarget(g),delete this._layers[d(l)]},_updateStyle:function(l){var g=l._stroke,S=l._fill,I=l.options,V=l._container;V.stroked=!!I.stroke,V.filled=!!I.fill,I.stroke?(g||(g=l._stroke=ad("stroke")),V.appendChild(g),g.weight=I.weight+"px",g.color=I.color,g.opacity=I.opacity,I.dashArray?g.dashStyle=_(I.dashArray)?I.dashArray.join(" "):I.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=I.lineCap.replace("butt","flat"),g.joinstyle=I.lineJoin):g&&(V.removeChild(g),l._stroke=null),I.fill?(S||(S=l._fill=ad("fill")),V.appendChild(S),S.color=I.fillColor||I.color,S.opacity=I.fillOpacity):S&&(V.removeChild(S),l._fill=null)},_updateCircle:function(l){var g=l._point.round(),S=Math.round(l._radius),I=Math.round(l._radiusY||S);this._setPath(l,l._empty()?"M0 0":"AL "+g.x+","+g.y+" "+S+","+I+" 0,"+65535*360)},_setPath:function(l,g){l._path.v=g},_bringToFront:function(l){il(l._container)},_bringToBack:function(l){al(l._container)}},bh=Qe.vml?ad:ue,od=Si.extend({_initContainer:function(){this._container=bh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nn(this._container),Ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var l=this._bounds,g=l.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,S.setAttribute("width",g.x),S.setAttribute("height",g.y)),kn(S,l.min),S.setAttribute("viewBox",[l.min.x,l.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(l){var g=l._path=bh("path");l.options.className&&yt(g,l.options.className),l.options.interactive&&yt(g,"leaflet-interactive"),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){nn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[d(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var g=l._path,S=l.options;g&&(S.stroke?(g.setAttribute("stroke",S.color),g.setAttribute("stroke-opacity",S.opacity),g.setAttribute("stroke-width",S.weight),g.setAttribute("stroke-linecap",S.lineCap),g.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?g.setAttribute("stroke-dasharray",S.dashArray):g.removeAttribute("stroke-dasharray"),S.dashOffset?g.setAttribute("stroke-dashoffset",S.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),S.fill?(g.setAttribute("fill",S.fillColor||S.color),g.setAttribute("fill-opacity",S.fillOpacity),g.setAttribute("fill-rule",S.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(l,g){this._setPath(l,be(l._parts,g))},_updateCircle:function(l){var g=l._point,S=Math.max(Math.round(l._radius),1),I=Math.max(Math.round(l._radiusY),1)||S,V="a"+S+","+I+" 0 1,0 ",Y=l._empty()?"M0 0":"M"+(g.x-S)+","+g.y+V+S*2+",0 "+V+-S*2+",0 ";this._setPath(l,Y)},_setPath:function(l,g){l._path.setAttribute("d",g)},_bringToFront:function(l){il(l._path)},_bringToBack:function(l){al(l._path)}});Qe.vml&&od.include($M);function Pj(l){return Qe.svg||Qe.vml?new od(l):null}Ct.include({getRenderer:function(l){var g=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var g=this._paneRenderers[l];return g===void 0&&(g=this._createRenderer({pane:l}),this._paneRenderers[l]=g),g},_createRenderer:function(l){return this.options.preferCanvas&&Ej(l)||Pj(l)}});var Tj=cl.extend({initialize:function(l,g){cl.prototype.initialize.call(this,this._boundsToLatLngs(l),g)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=X(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function BM(l,g){return new Tj(l,g)}od.create=bh,od.pointsToPath=be,Ni.geometryToLayer=fh,Ni.coordsToLatLng=bg,Ni.coordsToLatLngs=mh,Ni.latLngToCoords=wg,Ni.latLngsToCoords=ph,Ni.getFeature=dl,Ni.asFeature=gh,Ct.mergeOptions({boxZoom:!0});var Aj=Vs.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qc(),rg(),this._startPoint=this._map.mouseEventToContainerPoint(l),mt(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var g=new $(this._point,this._startPoint),S=g.getSize();kn(this._box,g.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(nn(this._box),yn(this._container,"leaflet-crosshair")),Jc(),sg(),Ft(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",Aj),Ct.mergeOptions({doubleClickZoom:!0});var Oj=Vs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var g=this._map,S=g.getZoom(),I=g.options.zoomDelta,V=l.originalEvent.shiftKey?S-I:S+I;g.options.doubleClickZoom==="center"?g.setZoom(V):g.setZoomAround(l.containerPoint,V)}});Ct.addInitHook("addHandler","doubleClickZoom",Oj),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Lj=Vs.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new la(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yn(this._map._container,"leaflet-grab"),yn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=X(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var g=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(g),this._prunePositions(g)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,g){return l-(l-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;l.x<g.min.x&&(l.x=this._viscousLimit(l.x,g.min.x)),l.y<g.min.y&&(l.y=this._viscousLimit(l.y,g.min.y)),l.x>g.max.x&&(l.x=this._viscousLimit(l.x,g.max.x)),l.y>g.max.y&&(l.y=this._viscousLimit(l.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,g=Math.round(l/2),S=this._initialWorldOffset,I=this._draggable._newPos.x,V=(I-g+S)%l+g-S,Y=(I+g+S)%l-g-S,ae=Math.abs(V+S)<Math.abs(Y+S)?V:Y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ae},_onDragEnd:function(l){var g=this._map,S=g.options,I=!S.inertia||l.noInertia||this._times.length<2;if(g.fire("dragend",l),I)g.fire("moveend");else{this._prunePositions(+new Date);var V=this._lastPos.subtract(this._positions[0]),Y=(this._lastTime-this._times[0])/1e3,ae=S.easeLinearity,he=V.multiplyBy(ae/Y),ge=he.distanceTo([0,0]),Ee=Math.min(S.inertiaMaxSpeed,ge),Be=he.multiplyBy(Ee/ge),rt=Ee/(S.inertiaDeceleration*ae),wt=Be.multiplyBy(-rt/2).round();!wt.x&&!wt.y?g.fire("moveend"):(wt=g._limitOffset(wt,g.options.maxBounds),O(function(){g.panBy(wt,{duration:rt,easeLinearity:ae,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",Lj),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rj=Vs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),mt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,g=document.documentElement,S=l.scrollTop||g.scrollTop,I=l.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(I,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var g=this._panKeys={},S=this.keyCodes,I,V;for(I=0,V=S.left.length;I<V;I++)g[S.left[I]]=[-1*l,0];for(I=0,V=S.right.length;I<V;I++)g[S.right[I]]=[l,0];for(I=0,V=S.down.length;I<V;I++)g[S.down[I]]=[0,l];for(I=0,V=S.up.length;I<V;I++)g[S.up[I]]=[0,-1*l]},_setZoomDelta:function(l){var g=this._zoomKeys={},S=this.keyCodes,I,V;for(I=0,V=S.zoomIn.length;I<V;I++)g[S.zoomIn[I]]=l;for(I=0,V=S.zoomOut.length;I<V;I++)g[S.zoomOut[I]]=-l},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var g=l.keyCode,S=this._map,I;if(g in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(I=this._panKeys[g],l.shiftKey&&(I=F(I).multiplyBy(3)),S.options.maxBounds&&(I=S._limitOffset(F(I),S.options.maxBounds)),S.options.worldCopyJump){var V=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(I)));S.panTo(V)}else S.panBy(I)}else if(g in this._zoomKeys)S.setZoom(S.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;co(l)}}});Ct.addInitHook("addHandler","keyboard",Rj),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mj=Vs.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var g=ij(l),S=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var I=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),I),co(l)},_performZoom:function(){var l=this._map,g=l.getZoom(),S=this._map.options.zoomSnap||0;l._stop();var I=this._delta/(this._map.options.wheelPxPerZoomLevel*4),V=4*Math.log(2/(1+Math.exp(-Math.abs(I))))/Math.LN2,Y=S?Math.ceil(V/S)*S:V,ae=l._limitZoom(g+(this._delta>0?Y:-Y))-g;this._delta=0,this._startTime=null,ae&&(l.options.scrollWheelZoom==="center"?l.setZoom(g+ae):l.setZoomAround(this._lastMousePos,g+ae))}});Ct.addInitHook("addHandler","scrollWheelZoom",Mj);var zM=600;Ct.mergeOptions({tapHold:Qe.touchNative&&Qe.safari&&Qe.mobile,tapTolerance:15});var Ij=Vs.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var g=l.touches[0];this._startPos=this._newPos=new B(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",zn),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),zM),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Ft(document,"touchend",zn),Ft(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)},_onMove:function(l){var g=l.touches[0];this._newPos=new B(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,g){var S=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});S._simulated=!0,g.target.dispatchEvent(S)}});Ct.addInitHook("addHandler","tapHold",Ij),Ct.mergeOptions({touchZoom:Qe.touch,bounceAtZoomLimits:!0});var Dj=Vs.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yn(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var g=this._map;if(!(!l.touches||l.touches.length!==2||g._animatingZoom||this._zooming)){var S=g.mouseEventToContainerPoint(l.touches[0]),I=g.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(S.add(I)._divideBy(2))),this._startDist=S.distanceTo(I),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),zn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var g=this._map,S=g.mouseEventToContainerPoint(l.touches[0]),I=g.mouseEventToContainerPoint(l.touches[1]),V=S.distanceTo(I)/this._startDist;if(this._zoom=g.getScaleZoom(V,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&V<1||this._zoom>g.getMaxZoom()&&V>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,V===1)return}else{var Y=S._add(I)._divideBy(2)._subtract(this._centerPoint);if(V===1&&Y.x===0&&Y.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(Y),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var ae=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(ae,this,!0),zn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,P(this._animRequest),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",Dj),Ct.BoxZoom=Aj,Ct.DoubleClickZoom=Oj,Ct.Drag=Lj,Ct.Keyboard=Rj,Ct.ScrollWheelZoom=Mj,Ct.TapHold=Ij,Ct.TouchZoom=Dj,n.Bounds=$,n.Browser=Qe,n.CRS=U,n.Canvas=Cj,n.Circle=yg,n.CircleMarker=hh,n.Class=M,n.Control=ms,n.DivIcon=Nj,n.DivOverlay=Us,n.DomEvent=iM,n.DomUtil=rM,n.Draggable=la,n.Evented=Z,n.FeatureGroup=ji,n.GeoJSON=Ni,n.GridLayer=id,n.Handler=Vs,n.Icon=ll,n.ImageOverlay=vh,n.LatLng=J,n.LatLngBounds=G,n.Layer=ps,n.LayerGroup=ol,n.LineUtil=xM,n.Map=Ct,n.Marker=uh,n.Mixin=hM,n.Path=ca,n.Point=B,n.PolyUtil=fM,n.Polygon=cl,n.Polyline=_i,n.Popup=xh,n.PosAnimation=aj,n.Projection=yM,n.Rectangle=Tj,n.Renderer=Si,n.SVG=od,n.SVGOverlay=_j,n.TileLayer=ul,n.Tooltip=yh,n.Transformation=pe,n.Util=T,n.VideoOverlay=jj,n.bind=o,n.bounds=z,n.canvas=Ej,n.circle=CM,n.circleMarker=kM,n.control=nd,n.divIcon=IM,n.extend=i,n.featureGroup=_M,n.geoJSON=wj,n.geoJson=TM,n.gridLayer=DM,n.icon=NM,n.imageOverlay=AM,n.latLng=K,n.latLngBounds=X,n.layerGroup=jM,n.map=aM,n.marker=SM,n.point=F,n.polygon=PM,n.polyline=EM,n.popup=RM,n.rectangle=BM,n.setOptions=v,n.stamp=d,n.svg=Pj,n.svgOverlay=LM,n.tileLayer=Sj,n.tooltip=MM,n.transformation=ee,n.version=s,n.videoOverlay=OM;var VM=window.L;n.noConflict=function(){return window.L=VM,this},window.L=n})})(yy,yy.exports);var nh=yy.exports;const _w=Mm(nh);function Nw(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Sw(e,t){return t==null?function(s,i){const a=j.useRef();return a.current||(a.current=e(s,i)),a}:function(s,i){const a=j.useRef();a.current||(a.current=e(s,i));const o=j.useRef(s),{instance:c}=a.current;return j.useEffect(function(){o.current!==s&&(t(c,s,o.current),o.current=s)},[c,s,i]),a}}function SL(e,t){j.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function kL(e){return function(n){const s=ww(),i=e(jw(n,s),s);return uZ(s.map,n.attribution),NL(i.current,n.eventHandlers),SL(i.current,s),i}}function gZ(e,t){const n=j.useRef();j.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function vZ(e){return function(n){const s=ww(),i=e(jw(n,s),s);return NL(i.current,n.eventHandlers),SL(i.current,s),gZ(i.current,n),i}}function xZ(e,t){const n=Sw(e,t),s=kL(n);return _L(s)}function yZ(e,t){const n=Sw(e,t),s=vZ(n);return _L(s)}function bZ(e,t){const n=Sw(e,t),s=kL(n);return pZ(s)}function wZ(e,t,n){const{opacity:s,zIndex:i}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function CL(){return ww().map}function EL(e){const t=CL();return j.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const jZ=yZ(function({center:t,children:n,...s},i){const a=new nh.Circle(t,s);return Nw(a,bL(i,{overlayContainer:a}))},hZ);function by(){return by=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},by.apply(this,arguments)}function _Z({bounds:e,boundsOptions:t,center:n,children:s,className:i,id:a,placeholder:o,style:c,whenReady:d,zoom:h,...f},m){const[u]=j.useState({className:i,id:a,style:c}),[p,x]=j.useState(null);j.useImperativeHandle(m,()=>(p==null?void 0:p.map)??null,[p]);const v=j.useCallback(b=>{if(b!==null&&p===null){const y=new nh.Map(b,f);n!=null&&h!=null?y.setView(n,h):e!=null&&y.fitBounds(e,t),d!=null&&y.whenReady(d),x(mZ(y))}},[]);j.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const w=p?_e.createElement(jL,{value:p},s):o??null;return _e.createElement("div",by({},u,{ref:v}),w)}const PL=j.forwardRef(_Z),wy=xZ(function({position:t,...n},s){const i=new nh.Marker(t,n);return Nw(i,bL(s,{overlayContainer:i}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),TL=bZ(function({url:t,...n},s){const i=new nh.TileLayer(t,jw(n,s));return Nw(i,s)},function(t,n,s){wZ(t,n,s);const{url:i}=n;i!=null&&i!==s.url&&t.setUrl(i)}),NZ=_w.divIcon({className:"custom-marker",html:'<div style="background-color: #ef4444; width: 20px; height: 20px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>',iconSize:[20,20],iconAnchor:[10,10]}),SZ=_w.divIcon({className:"vendor-marker",html:'<div style="background-color: #10b981; width: 24px; height: 24px; border-radius: 50%; border: 3px solid #fff; box-shadow: 0 0 8px rgba(0,0,0,0.3);"></div>',iconSize:[24,24],iconAnchor:[12,12]}),kZ=({onLocationSelect:e,onClose:t,vendorLocation:n,maxRadius:s=10,vendorName:i="Vendor"})=>{const[a,o]=j.useState(null),[c,d]=j.useState(""),[h,f]=j.useState([]),[m,u]=j.useState(!0),[p,x]=j.useState(""),[v,w]=j.useState([27.7172,85.324]),b=()=>(EL({click(A){const{lat:k,lng:O}=A.latlng;N(k,O),y(k,O)}}),null),y=async(A,k)=>{try{const P=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${A}&lon=${k}&addressdetails=1`)).json();if(P.address){const T=P.address.road||P.address.neighbourhood,M=P.address.neighbourhood||P.address.suburb||P.address.city||P.address.town,H=`${T||M||"Unknown Location"}, ${P.address.city||P.address.town||P.address.state||""}`;x(H)}}catch(O){console.error("Error fetching address:",O),x(`${A.toFixed(4)}, ${k.toFixed(4)}`)}};j.useEffect(()=>{n&&w([n.lat,n.lng])},[n]);const _=(A,k,O,P)=>{const M=(O-A)*Math.PI/180,H=(P-k)*Math.PI/180,W=Math.sin(M/2)*Math.sin(M/2)+Math.cos(A*Math.PI/180)*Math.cos(O*Math.PI/180)*Math.sin(H/2)*Math.sin(H/2);return 6371*(2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W)))},N=(A,k)=>{if(o({lat:A,lng:k}),n){const O=_(A,k,n.lat,n.lng);u(O<=s)}},C=()=>{a&&m&&e(a.lat,a.lng,p||`${a.lat.toFixed(4)}, ${a.lng.toFixed(4)}`)};j.useEffect(()=>{const A=setTimeout(()=>{c.trim()?D():f([])},300);return()=>clearTimeout(A)},[c]);const D=async()=>{if(!c.trim()){f([]);return}try{const k=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(c)}&limit=5&addressdetails=1`)).json();f(k)}catch(A){console.error("Geocoding error:",A),f([])}},E=A=>{const k=parseFloat(A.lat),O=parseFloat(A.lon);w([k,O]),N(k,O),x(A.display_name),f([]),d("")},R=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(A=>{const{latitude:k,longitude:O}=A.coords;w([k,O]),N(k,O),y(k,O)},A=>{console.error("Geolocation error:",A)})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[95vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Select Delivery Location"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(sr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(me,{placeholder:"Search for an address...",value:c,onChange:A=>d(A.target.value)}),h.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:h.map((A,k)=>r.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>E(A),children:r.jsx("p",{className:"text-xs font-medium text-gray-900",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:A.display_name})},k))})]}),r.jsx(ne,{onClick:R,size:"sm",variant:"outline",children:r.jsx(NE,{className:"h-4 w-4"})})]})}),r.jsx("div",{className:"h-64 rounded-lg overflow-hidden border",children:r.jsxs(PL,{center:v,zoom:13,style:{height:"100%",width:"100%"},children:[r.jsx(TL,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n&&r.jsxs(r.Fragment,{children:[r.jsx(wy,{position:[n.lat,n.lng],icon:SZ}),r.jsx(jZ,{center:[n.lat,n.lng],radius:s*1e3,pathOptions:{color:"#10b981",fillColor:"#10b981",fillOpacity:.1,weight:2}})]}),a&&r.jsx(wy,{position:[a.lat,a.lng],icon:NZ}),r.jsx(b,{})]},`${v[0]}-${v[1]}`)}),a&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Selected Location:"}),r.jsx("p",{className:"text-sm text-gray-600",children:p}),n&&r.jsxs("p",{className:`text-sm mt-2 ${m?"text-green-600":"text-red-600"}`,children:["Distance from ",i,": ",_(a.lat,a.lng,n.lat,n.lng).toFixed(1),"km",!m&&` (exceeds ${s}km delivery limit)`]})]})]}),r.jsxs("div",{className:"flex gap-2 p-4 border-t flex-shrink-0",children:[r.jsx(ne,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),r.jsx(ne,{onClick:C,disabled:!a||!m,className:"flex-1",children:"Confirm Location"})]})]})})};class CZ{async getAuthHeaders(){const t=await Pe.getToken();return{"Content-Type":"application/json","ngrok-skip-browser-warning":"true",...t&&{Authorization:`Token ${t}`}}}async createOrder(t){const n=await fetch(`${tt}api/orders/create/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});if(!n.ok){const i=await n.json();throw new Error(i.message||"Failed to create order")}const s=await n.json();return this.notifyVendorOfNewOrder(s.order),s}notifyVendorOfNewOrder(t){window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderCreated",{detail:{order:t}}))}async getOrders(){const t=await fetch(`${tt}api/orders/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch orders");const n=await t.json();return n.results||n}async getOrder(t){const n=await fetch(`${tt}api/orders/${t}/`,{headers:await this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch order");return n.json()}async cancelOrder(t,n="Cancelled by customer"){const s=await fetch(`${tt}api/orders/${t}/cancel/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({reason:n})});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to cancel order")}return s.json()}async createReview(t,n){const s=await fetch(`${tt}api/orders/${t}/review/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(n)});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to create review")}return s.json()}async requestRefund(t,n){const s=await fetch(`${tt}api/orders/${t}/refund/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(n)});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to request refund")}return s.json()}async getPendingOrders(){const t=await fetch(`${tt}api/orders/vendor/pending/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch pending orders");return t.json()}async acceptOrder(t){const n=await fetch(`${tt}api/orders/${t}/accept/`,{method:"POST",headers:await this.getAuthHeaders()});if(!n.ok){const i=await n.json();throw new Error(i.error||"Failed to accept order")}const s=await n.json();return this.notifyCustomerOfOrderUpdate(s.order,"accepted"),s}notifyCustomerOfOrderUpdate(t,n){window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderStatusUpdated",{detail:{order:t,status:n}}))}async rejectOrder(t,n="Rejected by vendor"){const s=await fetch(`${tt}api/orders/${t}/reject/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({reason:n})});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to reject order")}const i=await s.json();return this.notifyCustomerOfOrderUpdate(i.order,"rejected"),i}}const Xd=new CZ,EZ=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function PZ(){var ye,Ce;const e=nt(),{cart:t}=us();sa();const{toast:n}=cn(),[s,i]=j.useState("cash_on_delivery"),[a,o]=j.useState("current"),[c,d]=j.useState(null),[h,f]=j.useState("Detecting location..."),[m,u]=j.useState({lat:null,lng:null,address:""}),[p,x]=j.useState(!1),[v,w]=j.useState(null),[b,y]=j.useState({phone:"",instructions:""}),[_,N]=j.useState(null),[C,D]=j.useState("delivery"),[E,R]=j.useState(""),[A,k]=j.useState([]),[O,P]=j.useState(!1);j.useEffect(()=>{var xe;const ue=xt.getLocation();if(ue)d(ue),M(ue.latitude,ue.longitude).then(f);else return xt.startTracking(),xt.subscribe(async fe=>{if(fe){d(fe);const Q=await M(fe.latitude,fe.longitude);f(Q)}});((xe=t==null?void 0:t.items)==null?void 0:xe.length)>0&&H(t.items[0].product.vendor_id),(async()=>{await Pe.getToken()&&T()})()},[t]);const T=async()=>{try{const ue=await Pe.getToken(),be=await fetch(`${tt}api/profile/`,{headers:{Authorization:`Token ${ue}`,"ngrok-skip-browser-warning":"true"}});if(be.ok){const xe=await be.json();N(xe),y(ce=>({...ce,phone:xe.phone_number||""}))}}catch(ue){console.error("Failed to fetch user info:",ue)}},M=async(ue,be)=>{try{const ce=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ue}&lon=${be}&addressdetails=1`)).json();if(ce.address){const fe=ce.address.road||ce.address.neighbourhood,Q=ce.address.neighbourhood||ce.address.suburb||ce.address.city||ce.address.town;return`${fe||Q||"Unknown Location"}, ${ce.address.city||ce.address.town||ce.address.state||""}`}return`${ue.toFixed(4)}, ${be.toFixed(4)}`}catch{return`${ue.toFixed(4)}, ${be.toFixed(4)}`}},H=async ue=>{try{const be=await fetch(`${tt}api/vendors/${ue}/`,{headers:{"ngrok-skip-browser-warning":"true"}});if(be.ok){const xe=await be.json();w(xe)}}catch(be){console.error("Failed to fetch vendor info:",be)}},W=ra(),Z=(ye=W.state)!=null&&ye.directBuy?W.state:null,B=(Ce=W.state)==null?void 0:Ce.selectedItems,q=Z?[{id:Date.now(),product:{id:Z.product.id,name:Z.product.name,vendor_name:Z.product.vendor_name,vendor_id:Z.product.vendor_id,images:Z.product.images},quantity:Z.product.quantity,total_price:(parseFloat(Z.product.price)*Z.product.quantity).toString()}]:B||(t==null?void 0:t.items)||[],F=q.reduce((ue,be)=>ue+parseFloat(be.total_price),0),$=F,z=ue=>/^(98|97)\d{8}$/.test(ue.replace(/\s+/g,"")),G=(ue,be)=>{if(ue==="phone"){const xe=be.replace(/[^0-9]/g,"");xe.length<=10&&y(ce=>({...ce,[ue]:xe}))}else y(xe=>({...xe,[ue]:be}))},X=(ue,be)=>{if(!v||!v.latitude||!v.longitude||!v.delivery_radius)return{valid:!0,distance:0};const xe=EZ(ue,be,v.latitude,v.longitude);return{valid:xe<=v.delivery_radius,distance:xe,maxRadius:v.delivery_radius}},J=ue=>{o(ue),ue==="custom"&&v?x(!0):ue==="custom"&&!v&&n({title:"Vendor Information Loading",description:"Please wait for vendor information to load before selecting map location",variant:"destructive"})},K=(ue,be,xe)=>{const ce=X(ue,be);if(!ce.valid){n({title:"Location Out of Range",description:`This location is ${ce.distance.toFixed(1)}km away. Maximum delivery range is ${ce.maxRadius}km.`,variant:"destructive"});return}u({lat:ue,lng:be,address:xe}),x(!1),n({title:"Location Selected",description:`Delivery location set (${ce.distance.toFixed(1)}km from vendor)`})},U=()=>{const ue=a==="current"?c:m.lat,be=(_==null?void 0:_.phone_number)||b.phone,xe=be&&z(be);return ue&&xe},te=async()=>{if(!await Pe.getToken()){n({title:"Login Required",description:"Please login to place an order",variant:"destructive"}),e("/login");return}if(!U()){n({title:"Missing Information",description:"Please complete delivery information",variant:"destructive"}),D("delivery");return}const be=a==="current"?c:m;if(!be||!be.latitude&&!be.lat){n({title:"Location Required",description:"Please select a delivery location",variant:"destructive"});return}const xe=be.latitude||be.lat,ce=be.longitude||be.lng,fe=X(xe,ce);if(!fe.valid){n({title:"Delivery Not Available",description:`Selected location is outside delivery range (${fe.distance.toFixed(1)}km > ${fe.maxRadius}km)`,variant:"destructive"});return}try{const Q={items:q.map(ie=>({product_id:ie.product.id,quantity:ie.quantity})),delivery_name:(_==null?void 0:_.username)||(_==null?void 0:_.first_name)||"Customer",delivery_phone:(_==null?void 0:_.phone_number)||b.phone,delivery_address:a==="current"?h:m.address,delivery_latitude:xe,delivery_longitude:ce,delivery_instructions:b.instructions,payment_method:s,notes:`Distance: ${fe.distance.toFixed(1)}km from vendor`},se=await Xd.createOrder(Q);if(n({title:"Order Placed Successfully!",description:`Order #${se.order.order_number} has been placed.`}),"Notification"in window&&Notification.permission==="granted"&&new Notification("New Order Placed!",{body:`Order #${se.order.order_number} for ${se.order.total_amount}`,icon:"/favicon.ico",tag:`order-${se.order.id}`,requireInteraction:!0}),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderCreated",{detail:{order:se.order}})),!Z&&B){const ie=await Pe.getToken();for(const we of B)try{await fetch(`${tt}api/cart/items/${we.id}/remove/`,{method:"DELETE",headers:{Authorization:`Token ${ie}`,"ngrok-skip-browser-warning":"true"}})}catch(je){console.error("Error removing cart item:",je)}}e(`/order-confirmation/${se.order.id}`,{state:{order:se.order}})}catch(Q){console.error("Order creation error:",Q),n({title:"Order Failed",description:Q.message||"Network error. Please try again.",variant:"destructive"})}},re=()=>c?h:"Detecting location...",le=()=>m.lat?m.address||`Custom Location (${m.lat.toFixed(4)}, ${m.lng.toFixed(4)})`:"Select on map",pe=async ue=>{if(!ue.trim()){k([]),P(!1);return}try{const xe=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(ue)}&limit=5&addressdetails=1`)).json();k(xe),P(!0)}catch(be){console.error("Location search error:",be),k([]),P(!1)}},ee=async ue=>{const be=parseFloat(ue.lat),xe=parseFloat(ue.lon),ce=ue.display_name,fe=X(be,xe);if(!fe.valid){n({title:"Location Out of Range",description:`This location is ${fe.distance.toFixed(1)}km away. Maximum delivery range is ${fe.maxRadius}km.`,variant:"destructive"});return}u({lat:be,lng:xe,address:ce}),o("custom"),R(""),k([]),P(!1),n({title:"Location Selected",description:`Delivery location set (${fe.distance.toFixed(1)}km from vendor)`})};return j.useEffect(()=>{const ue=setTimeout(()=>{E.trim()?pe(E):(k([]),P(!1))},300);return()=>clearTimeout(ue)},[E]),r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 font-sans",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:r.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-all",children:r.jsx(Dt,{className:"h-6 w-6 text-gray-700"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Checkout"}),r.jsx("div",{className:"w-6"})," "]})}),r.jsx("main",{className:"max-w-4xl mx-auto p-6 pb-32",children:r.jsxs(ia,{value:C,onValueChange:D,className:"space-y-6",children:[r.jsxs(yi,{className:"grid w-full grid-cols-2",children:[r.jsxs(Mt,{value:"delivery",className:"flex items-center gap-2",children:[U()&&r.jsx(np,{className:"h-4 w-4"}),"Delivery"]}),r.jsx(Mt,{value:"summary",disabled:!U(),children:"Summary"})]}),r.jsx(ft,{value:"delivery",className:"space-y-6",children:r.jsxs(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden",children:[r.jsx(ot,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:r.jsxs(lt,{className:"flex items-center gap-3 text-xl font-semibold text-gray-800",children:[r.jsx(Bt,{className:"h-6 w-6 text-emerald-600"}),"Delivery Location"]})}),r.jsxs(ke,{className:"p-6 space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-4 rounded-xl border border-emerald-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Bt,{className:"h-5 w-5 text-emerald-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Current Delivery Location"}),r.jsx("p",{className:"text-base font-semibold text-gray-800",children:a==="current"?re():le()}),(a==="current"&&c||a==="custom"&&m.lat)&&v&&r.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[a==="current"?X(c.latitude,c.longitude).distance.toFixed(1):X(m.lat,m.lng).distance.toFixed(1),"km from ",v.business_name]})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Search Location"}),r.jsxs("div",{className:"relative",children:[r.jsx(me,{placeholder:"Search for an address...",value:E,onChange:ue=>R(ue.target.value),onFocus:()=>E&&P(!0),className:"border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl"}),O&&A.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-48 overflow-y-auto mt-1",children:A.map((ue,be)=>r.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 first:rounded-t-xl last:rounded-b-xl",onMouseDown:xe=>xe.preventDefault(),onClick:()=>ee(ue),children:r.jsx("p",{className:"text-sm font-medium text-gray-900",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ue.display_name})},be))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Choose Delivery Location *"}),r.jsxs(vL,{value:a,onValueChange:J,className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-all cursor-pointer",children:[r.jsx(xy,{value:"current",id:"current",className:"text-emerald-600 border-gray-300"}),r.jsxs(de,{htmlFor:"current",className:"flex items-center gap-3 flex-1 cursor-pointer",children:[r.jsx(NE,{className:"h-5 w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-base font-medium text-gray-800",children:"Use Current Location"}),r.jsx("p",{className:"text-sm text-gray-500",children:re()}),c&&v&&r.jsxs("p",{className:"text-xs text-emerald-600",children:[X(c.latitude,c.longitude).distance.toFixed(1),"km from vendor"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-all cursor-pointer",children:[r.jsx(xy,{value:"custom",id:"custom",className:"text-emerald-600 border-gray-300"}),r.jsxs(de,{htmlFor:"custom",className:"flex items-center gap-3 flex-1 cursor-pointer",children:[r.jsx(LD,{className:"h-5 w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-base font-medium text-gray-800",children:"Choose on Map"}),r.jsx("p",{className:"text-sm text-gray-500",children:le()}),m.lat&&v&&r.jsxs("p",{className:"text-xs text-emerald-600",children:[X(m.lat,m.lng).distance.toFixed(1),"km from vendor"]})]})]})]}),a==="custom"&&!m.lat&&r.jsx("div",{className:"ml-8",children:r.jsx(ne,{onClick:()=>v?x(!0):null,disabled:!v,variant:"outline",className:"text-sm px-4 py-2 rounded-lg",children:v?"Open Map":"Loading vendor info..."})})]})]}),!(_!=null&&_.phone_number)&&r.jsxs("div",{children:[r.jsx(de,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone Number *"}),r.jsx(me,{id:"phone",placeholder:"98XXXXXXXX or 97XXXXXXXX",value:b.phone,onChange:ue=>G("phone",ue.target.value),className:`mt-1 border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl transition-all ${b.phone&&!z(b.phone)?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`}),b.phone&&!z(b.phone)&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Please enter a valid Nepali mobile number (98XXXXXXXX or 97XXXXXXXX)"})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"instructions",className:"text-sm font-medium text-gray-700",children:"Delivery Instructions (Optional)"}),r.jsx(Zn,{id:"instructions",placeholder:"Any special instructions for delivery",value:b.instructions,onChange:ue=>G("instructions",ue.target.value),rows:3,className:"mt-1 border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl transition-all"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ne,{onClick:()=>D("summary"),disabled:!U(),className:"px-8 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl",children:"Continue to Summary"})})]})]})}),r.jsx(ft,{value:"summary",className:"space-y-6",children:r.jsxs(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden",children:[r.jsx(ot,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:r.jsx(lt,{className:"text-xl font-semibold text-gray-800",children:"Order Summary"})}),r.jsxs(ke,{className:"p-6 space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-4 rounded-xl border border-emerald-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Bt,{className:"h-5 w-5 text-emerald-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Delivery Location"}),r.jsx("p",{className:"text-base font-semibold text-gray-800",children:a==="current"?re():le()}),(a==="current"&&c||a==="custom"&&m.lat)&&v&&r.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[a==="current"?X(c.latitude,c.longitude).distance.toFixed(1):X(m.lat,m.lng).distance.toFixed(1),"km from ",v.business_name]})]})]})}),r.jsx(ci,{className:"my-4 bg-gray-200"}),q.map(ue=>{var be,xe;return r.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-gray-100",children:[r.jsx("img",{src:ir((xe=(be=ue.product.images)==null?void 0:be[0])==null?void 0:xe.image_url),alt:ue.product.name,className:"w-20 h-20 object-cover rounded-lg border border-gray-200 shadow-sm"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-lg text-gray-800",children:ue.product.name}),r.jsx("p",{className:"text-sm text-gray-500",children:ue.product.vendor_name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",ue.quantity]})]}),r.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["",parseFloat(ue.total_price).toFixed(2)]})]},ue.id)}),r.jsx(ci,{className:"my-4 bg-gray-200"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[r.jsx("h4",{className:"font-semibold text-emerald-800 mb-2",children:"Bill Amount (Cash on Delivery)"}),r.jsxs("div",{className:"flex justify-between text-base text-gray-700",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{className:"font-semibold",children:["",F.toFixed(2)]})]})]}),r.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-orange-800 text-lg",children:"Delivery Fee"}),r.jsx("p",{className:"text-sm text-orange-700",children:"Pay on delivery"})]}),r.jsx("span",{className:"font-bold text-xl text-orange-600",children:"To be determined"})]})}),r.jsx(ci,{className:"my-2 bg-gray-200"}),r.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800",children:[r.jsx("span",{children:"Bill Total (Now)"}),r.jsxs("span",{children:["",$.toFixed(2)]})]})]}),r.jsx("div",{className:"flex justify-between",children:r.jsx(ne,{variant:"outline",onClick:()=>D("delivery"),className:"px-8 py-2 rounded-xl",children:"Back to Delivery"})})]})]})})]})}),C==="summary"&&r.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-2xl py-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount (COD)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",$.toFixed(2)]})]}),r.jsx(ne,{onClick:te,disabled:!U(),className:"px-10 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-bold text-lg transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Place Order (COD)"})]})}),p&&v&&r.jsx(kZ,{onLocationSelect:K,onClose:()=>x(!1),vendorLocation:{lat:v.latitude,lng:v.longitude},maxRadius:v.delivery_radius,vendorName:v.business_name})]})}function TZ(){var m,u;const e=nt(),{orderId:t}=gp(),n=ra(),{toast:s}=cn(),[i,a]=j.useState(((m=n.state)==null?void 0:m.order)||null),[o,c]=j.useState(!i);j.useEffect(()=>{!i&&t&&d()},[t,i]);const d=async()=>{try{const p=await Xd.getOrder(parseInt(t));a(p)}catch(p){console.error("Error fetching order:",p),s({title:"Error",description:p.message||"Failed to load order details",variant:"destructive"}),e("/")}finally{c(!1)}},h=p=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",out_for_delivery:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[p]||"bg-gray-100 text-gray-800",f=p=>({pending:"Order Placed",confirmed:"Confirmed",preparing:"Preparing",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[p]||p;return o?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})}):i?r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:r.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(Dt,{className:"h-6 w-6 text-gray-700"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Confirmation"}),r.jsx("div",{className:"w-6"})]})}),r.jsxs("main",{className:"max-w-4xl mx-auto p-6 pb-32",children:[r.jsx(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:r.jsxs(ke,{className:"p-8 text-center",children:[r.jsx(Hu,{className:"h-16 w-16 mx-auto mb-4 text-emerald-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Order Placed Successfully!"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Your order #",i.order_number," has been placed and is being processed."]}),r.jsx(Me,{className:`${h(i.status)} px-4 py-2 text-sm font-medium`,children:f(i.status)})]})}),r.jsxs(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:[r.jsx(ot,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:r.jsx(lt,{className:"text-xl font-semibold text-gray-800",children:"Order Details"})}),r.jsx(ke,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Order Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Order Number:"}),r.jsxs("span",{className:"font-medium",children:["#",i.order_number]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Order Date:"}),r.jsx("span",{className:"font-medium",children:new Date(i.created_at).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),r.jsx("span",{className:"font-medium capitalize",children:i.payment_method})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsxs("span",{className:"font-bold text-emerald-600",children:["",parseFloat(i.total_amount).toFixed(2)]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Delivery Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Bt,{className:"h-4 w-4 text-emerald-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:i.delivery_name}),r.jsx("p",{className:"text-gray-600",children:i.delivery_address})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zu,{className:"h-4 w-4 text-emerald-600"}),r.jsx("span",{className:"text-gray-600",children:i.delivery_phone})]}),i.delivery_instructions&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(is,{className:"h-4 w-4 text-emerald-600 mt-0.5"}),r.jsx("p",{className:"text-gray-600 text-xs",children:i.delivery_instructions})]})]})]})]})})]}),r.jsxs(Ne,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:[r.jsx(ot,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:r.jsx(lt,{className:"text-xl font-semibold text-gray-800",children:"Order Items"})}),r.jsxs(ke,{className:"p-6",children:[r.jsx("div",{className:"space-y-4",children:(u=i.items)==null?void 0:u.map(p=>{var x,v,w;return r.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-gray-100 last:border-b-0",children:[r.jsx("img",{src:((w=(v=(x=p.product_details)==null?void 0:x.images)==null?void 0:v[0])==null?void 0:w.image_url)||"/placeholder-product.jpg",alt:p.product_name,className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:p.product_name}),r.jsx("p",{className:"text-sm text-gray-600",children:p.vendor_name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",p.quantity]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-gray-800",children:["",parseFloat(p.total_price).toFixed(2)]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["",parseFloat(p.unit_price).toFixed(2)," each"]})]})]},p.id)})}),r.jsx(ci,{className:"my-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[r.jsxs("h4",{className:"font-semibold text-emerald-800 mb-2",children:["Bill Amount (Paid via ",i.payment_method,")"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),r.jsxs("span",{className:"font-medium",children:["",parseFloat(i.subtotal).toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax:"}),r.jsxs("span",{className:"font-medium",children:["",parseFloat(i.tax_amount).toFixed(2)]})]}),r.jsx(ci,{className:"my-2"}),r.jsxs("div",{className:"flex justify-between text-base font-bold",children:[r.jsx("span",{children:"Bill Total (Paid):"}),r.jsxs("span",{className:"text-emerald-600",children:["",(parseFloat(i.subtotal)+parseFloat(i.tax_amount)).toFixed(2)]})]})]})]}),r.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-orange-800 text-lg",children:"Delivery Fee"}),r.jsx("p",{className:"text-sm text-orange-700",children:"Pay on delivery"})]}),r.jsxs("span",{className:"font-bold text-xl text-orange-600",children:["",parseFloat(i.delivery_fee).toFixed(2)]})]})}),r.jsx(ci,{className:"my-2"}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{children:"Grand Total:"}),r.jsxs("span",{className:"text-gray-800",children:["",parseFloat(i.total_amount).toFixed(2)]})]})]})]})]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx(ne,{variant:"outline",onClick:()=>e("/orders"),className:"px-8 py-3 rounded-xl",children:"View All Orders"}),r.jsx(ne,{onClick:()=>e("/search"),className:"px-8 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-700",children:"Continue Shopping"})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ot,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order not found"}),r.jsx(ne,{onClick:()=>e("/home"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Go Home"})]})})}var Op="Dialog",[AL,zre]=lr(Op),[AZ,Ds]=AL(Op),OL=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,c=j.useRef(null),d=j.useRef(null),[h,f]=Rs({prop:s,defaultProp:i??!1,onChange:a,caller:Op});return r.jsx(AZ,{scope:t,triggerRef:c,contentRef:d,contentId:As(),titleId:As(),descriptionId:As(),open:h,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};OL.displayName=Op;var LL="DialogTrigger",RL=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(LL,n),a=dt(t,i.triggerRef);return r.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ew(i.open),...s,ref:a,onClick:Le(e.onClick,i.onOpenToggle)})});RL.displayName=LL;var kw="DialogPortal",[OZ,ML]=AL(kw,{forceMount:void 0}),IL=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Ds(kw,t);return r.jsx(OZ,{scope:t,forceMount:n,children:j.Children.map(s,o=>r.jsx(Kn,{present:n||a.open,children:r.jsx(Vu,{asChild:!0,container:i,children:o})}))})};IL.displayName=kw;var mm="DialogOverlay",DL=j.forwardRef((e,t)=>{const n=ML(mm,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Ds(mm,e.__scopeDialog);return a.modal?r.jsx(Kn,{present:s||a.open,children:r.jsx(RZ,{...i,ref:t})}):null});DL.displayName=mm;var LZ=qo("DialogOverlay.RemoveScroll"),RZ=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(mm,n);return r.jsx(yp,{as:LZ,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(We.div,{"data-state":Ew(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Go="DialogContent",FL=j.forwardRef((e,t)=>{const n=ML(Go,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Ds(Go,e.__scopeDialog);return r.jsx(Kn,{present:s||a.open,children:a.modal?r.jsx(MZ,{...i,ref:t}):r.jsx(IZ,{...i,ref:t})})});FL.displayName=Go;var MZ=j.forwardRef((e,t)=>{const n=Ds(Go,e.__scopeDialog),s=j.useRef(null),i=dt(t,n.contentRef,s);return j.useEffect(()=>{const a=s.current;if(a)return Tb(a)},[]),r.jsx($L,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault())})}),IZ=j.forwardRef((e,t)=>{const n=Ds(Go,e.__scopeDialog),s=j.useRef(!1),i=j.useRef(!1);return r.jsx($L,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),$L=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,c=Ds(Go,n),d=j.useRef(null),h=dt(t,d);return Cb(),r.jsxs(r.Fragment,{children:[r.jsx(vp,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Ac,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ew(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(DZ,{titleId:c.titleId}),r.jsx($Z,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Cw="DialogTitle",BL=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(Cw,n);return r.jsx(We.h2,{id:i.titleId,...s,ref:t})});BL.displayName=Cw;var zL="DialogDescription",VL=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(zL,n);return r.jsx(We.p,{id:i.descriptionId,...s,ref:t})});VL.displayName=zL;var UL="DialogClose",qL=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(UL,n);return r.jsx(We.button,{type:"button",...s,ref:t,onClick:Le(e.onClick,()=>i.onOpenChange(!1))})});qL.displayName=UL;function Ew(e){return e?"open":"closed"}var HL="DialogTitleWarning",[Vre,WL]=PI(HL,{contentName:Go,titleName:Cw,docsSlug:"dialog"}),DZ=({titleId:e})=>{const t=WL(HL),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},FZ="DialogDescriptionWarning",$Z=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WL(FZ).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},ZL=OL,GL=RL,KL=IL,Lp=DL,Rp=FL,Mp=BL,Ip=VL,YL=qL;const Fo=ZL,jy=GL,BZ=KL,XL=j.forwardRef(({className:e,...t},n)=>r.jsx(Lp,{ref:n,className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));XL.displayName=Lp.displayName;const Fa=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(BZ,{children:[r.jsx(XL,{}),r.jsxs(Rp,{ref:s,className:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(YL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(sr,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fa.displayName=Rp.displayName;const $a=({className:e,...t})=>r.jsx("div",{className:Ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});$a.displayName="DialogHeader";const Ba=j.forwardRef(({className:e,...t},n)=>r.jsx(Mp,{ref:n,className:Ve("text-lg font-semibold leading-none tracking-tight",e),...t}));Ba.displayName=Mp.displayName;const QL=j.forwardRef(({className:e,...t},n)=>r.jsx(Ip,{ref:n,className:Ve("text-sm text-muted-foreground",e),...t}));QL.displayName=Ip.displayName;const zi=ZL,zZ=GL,VZ=KL,JL=j.forwardRef(({className:e,...t},n)=>r.jsx(Lp,{className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));JL.displayName=Lp.displayName;const UZ=qu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),di=j.forwardRef(({side:e="right",className:t,children:n,...s},i)=>r.jsxs(VZ,{children:[r.jsx(JL,{}),r.jsxs(Rp,{ref:i,className:Ve(UZ({side:e}),t),...s,children:[n,r.jsxs(YL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(sr,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));di.displayName=Rp.displayName;const ui=({className:e,...t})=>r.jsx("div",{className:Ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});ui.displayName="SheetHeader";const hi=j.forwardRef(({className:e,...t},n)=>r.jsx(Mp,{ref:n,className:Ve("text-lg font-semibold text-foreground",e),...t}));hi.displayName=Mp.displayName;const qZ=j.forwardRef(({className:e,...t},n)=>r.jsx(Ip,{ref:n,className:Ve("text-sm text-muted-foreground",e),...t}));qZ.displayName=Ip.displayName;function _y(e,[t,n]){return Math.min(n,Math.max(t,e))}var HZ=[" ","Enter","ArrowUp","ArrowDown"],WZ=[" ","Enter"],Ko="Select",[Dp,Fp,ZZ]=Jm(Ko),[Uc,Ure]=lr(Ko,[ZZ,Ic]),$p=Ic(),[GZ,so]=Uc(Ko),[KZ,YZ]=Uc(Ko),eR=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:m,disabled:u,required:p,form:x}=e,v=$p(t),[w,b]=j.useState(null),[y,_]=j.useState(null),[N,C]=j.useState(!1),D=Fc(h),[E,R]=Rs({prop:s,defaultProp:i??!1,onChange:a,caller:Ko}),[A,k]=Rs({prop:o,defaultProp:c,onChange:d,caller:Ko}),O=j.useRef(null),P=w?x||!!w.closest("form"):!0,[T,M]=j.useState(new Set),H=Array.from(T).map(W=>W.props.value).join(";");return r.jsx(gb,{...v,children:r.jsxs(GZ,{required:p,scope:t,trigger:w,onTriggerChange:b,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:As(),value:A,onValueChange:k,open:E,onOpenChange:R,dir:D,triggerPointerDownPosRef:O,disabled:u,children:[r.jsx(Dp.Provider,{scope:t,children:r.jsx(KZ,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(W=>{M(Z=>new Set(Z).add(W))},[]),onNativeOptionRemove:j.useCallback(W=>{M(Z=>{const B=new Set(Z);return B.delete(W),B})},[]),children:n})}),P?r.jsxs(NR,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:m,value:A,onChange:W=>k(W.target.value),disabled:u,form:x,children:[A===void 0?r.jsx("option",{value:""}):null,Array.from(T)]},H):null]})})};eR.displayName=Ko;var tR="SelectTrigger",nR=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=$p(n),o=so(tR,n),c=o.disabled||s,d=dt(t,o.onTriggerChange),h=Fp(n),f=j.useRef("touch"),[m,u,p]=kR(v=>{const w=h().filter(_=>!_.disabled),b=w.find(_=>_.value===o.value),y=CR(w,v,b);y!==void 0&&o.onValueChange(y.value)}),x=v=>{c||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(vb,{asChild:!0,...a,children:r.jsx(We.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":SR(o.value)?"":void 0,...i,ref:d,onClick:Le(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:Le(i.onPointerDown,v=>{f.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:Le(i.onKeyDown,v=>{const w=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&u(v.key),!(w&&v.key===" ")&&HZ.includes(v.key)&&(x(),v.preventDefault())})})})});nR.displayName=tR;var rR="SelectValue",sR=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...c}=e,d=so(rR,n),{onValueNodeHasChildrenChange:h}=d,f=a!==void 0,m=dt(t,d.onValueNodeChange);return Sn(()=>{h(f)},[h,f]),r.jsx(We.span,{...c,ref:m,style:{pointerEvents:"none"},children:SR(d.value)?r.jsx(r.Fragment,{children:o}):a})});sR.displayName=rR;var XZ="SelectIcon",iR=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(We.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});iR.displayName=XZ;var QZ="SelectPortal",aR=e=>r.jsx(Vu,{asChild:!0,...e});aR.displayName=QZ;var Yo="SelectContent",oR=j.forwardRef((e,t)=>{const n=so(Yo,e.__scopeSelect),[s,i]=j.useState();if(Sn(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?eo.createPortal(r.jsx(lR,{scope:e.__scopeSelect,children:r.jsx(Dp.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(cR,{...e,ref:t})});oR.displayName=Yo;var ys=10,[lR,io]=Uc(Yo),JZ="SelectContentImpl",eG=qo("SelectContent.RemoveScroll"),cR=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:u,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:w,...b}=e,y=so(Yo,n),[_,N]=j.useState(null),[C,D]=j.useState(null),E=dt(t,U=>N(U)),[R,A]=j.useState(null),[k,O]=j.useState(null),P=Fp(n),[T,M]=j.useState(!1),H=j.useRef(!1);j.useEffect(()=>{if(_)return Tb(_)},[_]),Cb();const W=j.useCallback(U=>{const[te,...re]=P().map(ee=>ee.ref.current),[le]=re.slice(-1),pe=document.activeElement;for(const ee of U)if(ee===pe||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===te&&C&&(C.scrollTop=0),ee===le&&C&&(C.scrollTop=C.scrollHeight),ee==null||ee.focus(),document.activeElement!==pe))return},[P,C]),Z=j.useCallback(()=>W([R,_]),[W,R,_]);j.useEffect(()=>{T&&Z()},[T,Z]);const{onOpenChange:B,triggerPointerDownPosRef:q}=y;j.useEffect(()=>{if(_){let U={x:0,y:0};const te=le=>{var pe,ee;U={x:Math.abs(Math.round(le.pageX)-(((pe=q.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(le.pageY)-(((ee=q.current)==null?void 0:ee.y)??0))}},re=le=>{U.x<=10&&U.y<=10?le.preventDefault():_.contains(le.target)||B(!1),document.removeEventListener("pointermove",te),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",re,{capture:!0})}}},[_,B,q]),j.useEffect(()=>{const U=()=>B(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[B]);const[F,$]=kR(U=>{const te=P().filter(pe=>!pe.disabled),re=te.find(pe=>pe.ref.current===document.activeElement),le=CR(te,U,re);le&&setTimeout(()=>le.ref.current.focus())}),z=j.useCallback((U,te,re)=>{const le=!H.current&&!re;(y.value!==void 0&&y.value===te||le)&&(A(U),le&&(H.current=!0))},[y.value]),G=j.useCallback(()=>_==null?void 0:_.focus(),[_]),X=j.useCallback((U,te,re)=>{const le=!H.current&&!re;(y.value!==void 0&&y.value===te||le)&&O(U)},[y.value]),J=s==="popper"?Ny:dR,K=J===Ny?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:u,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:w}:{};return r.jsx(lR,{scope:n,content:_,viewport:C,onViewportChange:D,itemRefCallback:z,selectedItem:R,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:Z,selectedItemText:k,position:s,isPositioned:T,searchRef:F,children:r.jsx(yp,{as:eG,allowPinchZoom:!0,children:r.jsx(vp,{asChild:!0,trapped:y.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Le(i,U=>{var te;(te=y.trigger)==null||te.focus({preventScroll:!0}),U.preventDefault()}),children:r.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:r.jsx(J,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:U=>U.preventDefault(),...b,...K,onPlaced:()=>M(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Le(b.onKeyDown,U=>{const te=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!te&&U.key.length===1&&$(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let le=P().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(U.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const pe=U.target,ee=le.indexOf(pe);le=le.slice(ee+1)}setTimeout(()=>W(le)),U.preventDefault()}})})})})})})});cR.displayName=JZ;var tG="SelectItemAlignedPosition",dR=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=so(Yo,n),o=io(Yo,n),[c,d]=j.useState(null),[h,f]=j.useState(null),m=dt(t,E=>f(E)),u=Fp(n),p=j.useRef(!1),x=j.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:b,focusSelectedItem:y}=o,_=j.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&v&&w&&b){const E=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(a.dir!=="rtl"){const pe=k.left-R.left,ee=A.left-pe,ye=E.left-ee,Ce=E.width+ye,ue=Math.max(Ce,R.width),be=window.innerWidth-ys,xe=_y(ee,[ys,Math.max(ys,be-ue)]);c.style.minWidth=Ce+"px",c.style.left=xe+"px"}else{const pe=R.right-k.right,ee=window.innerWidth-A.right-pe,ye=window.innerWidth-E.right-ee,Ce=E.width+ye,ue=Math.max(Ce,R.width),be=window.innerWidth-ys,xe=_y(ee,[ys,Math.max(ys,be-ue)]);c.style.minWidth=Ce+"px",c.style.right=xe+"px"}const O=u(),P=window.innerHeight-ys*2,T=v.scrollHeight,M=window.getComputedStyle(h),H=parseInt(M.borderTopWidth,10),W=parseInt(M.paddingTop,10),Z=parseInt(M.borderBottomWidth,10),B=parseInt(M.paddingBottom,10),q=H+W+T+B+Z,F=Math.min(w.offsetHeight*5,q),$=window.getComputedStyle(v),z=parseInt($.paddingTop,10),G=parseInt($.paddingBottom,10),X=E.top+E.height/2-ys,J=P-X,K=w.offsetHeight/2,U=w.offsetTop+K,te=H+W+U,re=q-te;if(te<=X){const pe=O.length>0&&w===O[O.length-1].ref.current;c.style.bottom="0px";const ee=h.clientHeight-v.offsetTop-v.offsetHeight,ye=Math.max(J,K+(pe?G:0)+ee+Z),Ce=te+ye;c.style.height=Ce+"px"}else{const pe=O.length>0&&w===O[0].ref.current;c.style.top="0px";const ye=Math.max(X,H+v.offsetTop+(pe?z:0)+K)+re;c.style.height=ye+"px",v.scrollTop=te-X+v.offsetTop}c.style.margin=`${ys}px 0`,c.style.minHeight=F+"px",c.style.maxHeight=P+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[u,a.trigger,a.valueNode,c,h,v,w,b,a.dir,s]);Sn(()=>_(),[_]);const[N,C]=j.useState();Sn(()=>{h&&C(window.getComputedStyle(h).zIndex)},[h]);const D=j.useCallback(E=>{E&&x.current===!0&&(_(),y==null||y(),x.current=!1)},[_,y]);return r.jsx(rG,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:D,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(We.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});dR.displayName=tG;var nG="SelectPopperPosition",Ny=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=ys,...a}=e,o=$p(n);return r.jsx(xb,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ny.displayName=nG;var[rG,Pw]=Uc(Yo,{}),Sy="SelectViewport",uR=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=io(Sy,n),o=Pw(Sy,n),c=dt(t,a.onViewportChange),d=j.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Dp.Slot,{scope:n,children:r.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:u}=o;if(u!=null&&u.current&&m){const p=Math.abs(d.current-f.scrollTop);if(p>0){const x=window.innerHeight-ys*2,v=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),b=Math.max(v,w);if(b<x){const y=b+p,_=Math.min(x,y),N=y-_;m.style.height=_+"px",m.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});uR.displayName=Sy;var hR="SelectGroup",[sG,iG]=Uc(hR),aG=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=As();return r.jsx(sG,{scope:n,id:i,children:r.jsx(We.div,{role:"group","aria-labelledby":i,...s,ref:t})})});aG.displayName=hR;var fR="SelectLabel",mR=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=iG(fR,n);return r.jsx(We.div,{id:i.id,...s,ref:t})});mR.displayName=fR;var pm="SelectItem",[oG,pR]=Uc(pm),gR=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,c=so(pm,n),d=io(pm,n),h=c.value===s,[f,m]=j.useState(a??""),[u,p]=j.useState(!1),x=dt(t,y=>{var _;return(_=d.itemRefCallback)==null?void 0:_.call(d,y,s,i)}),v=As(),w=j.useRef("touch"),b=()=>{i||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(oG,{scope:n,value:s,disabled:i,textId:v,isSelected:h,onItemTextChange:j.useCallback(y=>{m(_=>_||((y==null?void 0:y.textContent)??"").trim())},[]),children:r.jsx(Dp.ItemSlot,{scope:n,value:s,disabled:i,textValue:f,children:r.jsx(We.div,{role:"option","aria-labelledby":v,"data-highlighted":u?"":void 0,"aria-selected":h&&u,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Le(o.onFocus,()=>p(!0)),onBlur:Le(o.onBlur,()=>p(!1)),onClick:Le(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:Le(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:Le(o.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:Le(o.onPointerMove,y=>{var _;w.current=y.pointerType,i?(_=d.onItemLeave)==null||_.call(d):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,y=>{var _;y.currentTarget===document.activeElement&&((_=d.onItemLeave)==null||_.call(d))}),onKeyDown:Le(o.onKeyDown,y=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(WZ.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});gR.displayName=pm;var Od="SelectItemText",vR=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=so(Od,n),c=io(Od,n),d=pR(Od,n),h=YZ(Od,n),[f,m]=j.useState(null),u=dt(t,b=>m(b),d.onItemTextChange,b=>{var y;return(y=c.itemTextRefCallback)==null?void 0:y.call(c,b,d.value,d.disabled)}),p=f==null?void 0:f.textContent,x=j.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:p},d.value),[d.disabled,d.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=h;return Sn(()=>(v(x),()=>w(x)),[v,w,x]),r.jsxs(r.Fragment,{children:[r.jsx(We.span,{id:d.textId,...a,ref:u}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eo.createPortal(a.children,o.valueNode):null]})});vR.displayName=Od;var xR="SelectItemIndicator",yR=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return pR(xR,n).isSelected?r.jsx(We.span,{"aria-hidden":!0,...s,ref:t}):null});yR.displayName=xR;var ky="SelectScrollUpButton",bR=j.forwardRef((e,t)=>{const n=io(ky,e.__scopeSelect),s=Pw(ky,e.__scopeSelect),[i,a]=j.useState(!1),o=dt(t,s.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?r.jsx(jR,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});bR.displayName=ky;var Cy="SelectScrollDownButton",wR=j.forwardRef((e,t)=>{const n=io(Cy,e.__scopeSelect),s=Pw(Cy,e.__scopeSelect),[i,a]=j.useState(!1),o=dt(t,s.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;a(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?r.jsx(jR,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});wR.displayName=Cy;var jR=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=io("SelectScrollButton",n),o=j.useRef(null),c=Fp(n),d=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>d(),[d]),Sn(()=>{var f;const h=c().find(m=>m.ref.current===document.activeElement);(f=h==null?void 0:h.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),r.jsx(We.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Le(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{d()})})}),lG="SelectSeparator",_R=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(We.div,{"aria-hidden":!0,...s,ref:t})});_R.displayName=lG;var Ey="SelectArrow",cG=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=$p(n),a=so(Ey,n),o=io(Ey,n);return a.open&&o.position==="popper"?r.jsx(yb,{...i,...s,ref:t}):null});cG.displayName=Ey;var dG="SelectBubbleInput",NR=j.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=j.useRef(null),a=dt(s,i),o=Pp(t);return j.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(m)}},[o,t]),r.jsx(We.select,{...n,style:{...GC,...n.style},ref:a,defaultValue:t})});NR.displayName=dG;function SR(e){return e===""||e===void 0}function kR(e){const t=pn(e),n=j.useRef(""),s=j.useRef(0),i=j.useCallback(o=>{const c=n.current+o;t(c),function d(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),a=j.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function CR(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=uG(e,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function uG(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var hG=eR,ER=nR,fG=sR,mG=iR,pG=aR,PR=oR,gG=uR,TR=mR,AR=gR,vG=vR,xG=yR,OR=bR,LR=wR,RR=_R;const sn=hG,an=fG,en=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(ER,{ref:s,className:Ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(mG,{asChild:!0,children:r.jsx(yE,{className:"h-4 w-4 opacity-50"})})]}));en.displayName=ER.displayName;const MR=j.forwardRef(({className:e,...t},n)=>r.jsx(OR,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(SD,{className:"h-4 w-4"})}));MR.displayName=OR.displayName;const IR=j.forwardRef(({className:e,...t},n)=>r.jsx(LR,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(yE,{className:"h-4 w-4"})}));IR.displayName=LR.displayName;const tn=j.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(pG,{children:r.jsxs(PR,{ref:i,className:Ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(MR,{}),r.jsx(gG,{className:Ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(IR,{})]})}));tn.displayName=PR.displayName;const yG=j.forwardRef(({className:e,...t},n)=>r.jsx(TR,{ref:n,className:Ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yG.displayName=TR.displayName;const qe=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(AR,{ref:s,className:Ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(xG,{children:r.jsx(np,{className:"h-4 w-4"})})}),r.jsx(vG,{children:t})]}));qe.displayName=AR.displayName;const bG=j.forwardRef(({className:e,...t},n)=>r.jsx(RR,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));bG.displayName=RR.displayName;function wG(e,t){return j.useReducer((n,s)=>t[n][s]??n,e)}var Tw="ScrollArea",[DR,qre]=lr(Tw),[jG,hs]=DR(Tw),FR=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:i,scrollHideDelay:a=600,...o}=e,[c,d]=j.useState(null),[h,f]=j.useState(null),[m,u]=j.useState(null),[p,x]=j.useState(null),[v,w]=j.useState(null),[b,y]=j.useState(0),[_,N]=j.useState(0),[C,D]=j.useState(!1),[E,R]=j.useState(!1),A=dt(t,O=>d(O)),k=Fc(i);return r.jsx(jG,{scope:n,type:s,dir:k,scrollHideDelay:a,scrollArea:c,viewport:h,onViewportChange:f,content:m,onContentChange:u,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:C,onScrollbarXEnabledChange:D,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:y,onCornerHeightChange:N,children:r.jsx(We.div,{dir:k,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});FR.displayName=Tw;var $R="ScrollAreaViewport",BR=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:i,...a}=e,o=hs($R,n),c=j.useRef(null),d=dt(t,c,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(We.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});BR.displayName=$R;var bi="ScrollAreaScrollbar",Aw=j.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=hs(bi,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,c=e.orientation==="horizontal";return j.useEffect(()=>(c?a(!0):o(!0),()=>{c?a(!1):o(!1)}),[c,a,o]),i.type==="hover"?r.jsx(_G,{...s,ref:t,forceMount:n}):i.type==="scroll"?r.jsx(NG,{...s,ref:t,forceMount:n}):i.type==="auto"?r.jsx(zR,{...s,ref:t,forceMount:n}):i.type==="always"?r.jsx(Ow,{...s,ref:t}):null});Aw.displayName=bi;var _G=j.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=hs(bi,e.__scopeScrollArea),[a,o]=j.useState(!1);return j.useEffect(()=>{const c=i.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),r.jsx(Kn,{present:n||a,children:r.jsx(zR,{"data-state":a?"visible":"hidden",...s,ref:t})})}),NG=j.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=hs(bi,e.__scopeScrollArea),a=e.orientation==="horizontal",o=zp(()=>d("SCROLL_END"),100),[c,d]=wG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay,d]),j.useEffect(()=>{const h=i.viewport,f=a?"scrollLeft":"scrollTop";if(h){let m=h[f];const u=()=>{const p=h[f];m!==p&&(d("SCROLL"),o()),m=p};return h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[i.viewport,a,d,o]),r.jsx(Kn,{present:n||c!=="hidden",children:r.jsx(Ow,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),zR=j.forwardRef((e,t)=>{const n=hs(bi,e.__scopeScrollArea),{forceMount:s,...i}=e,[a,o]=j.useState(!1),c=e.orientation==="horizontal",d=zp(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(c?h:f)}},10);return wc(n.viewport,d),wc(n.content,d),r.jsx(Kn,{present:s||a,children:r.jsx(Ow,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Ow=j.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,i=hs(bi,e.__scopeScrollArea),a=j.useRef(null),o=j.useRef(0),[c,d]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=WR(c.viewport,c.content),f={...s,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:u=>a.current=u,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:u=>o.current=u};function m(u,p){return TG(u,o.current,c,p)}return n==="horizontal"?r.jsx(SG,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const u=i.viewport.scrollLeft,p=NS(u,c,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollLeft=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollLeft=m(u,i.dir))}}):n==="vertical"?r.jsx(kG,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const u=i.viewport.scrollTop,p=NS(u,c);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollTop=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollTop=m(u))}}):null}),SG=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,a=hs(bi,e.__scopeScrollArea),[o,c]=j.useState(),d=j.useRef(null),h=dt(t,d,a.onScrollbarXChange);return j.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(UR,{"data-orientation":"horizontal",...i,ref:h,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bp(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const u=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(u),GR(u,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&o&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:vm(o.paddingLeft),paddingEnd:vm(o.paddingRight)}})}})}),kG=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,a=hs(bi,e.__scopeScrollArea),[o,c]=j.useState(),d=j.useRef(null),h=dt(t,d,a.onScrollbarYChange);return j.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(UR,{"data-orientation":"vertical",...i,ref:h,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bp(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const u=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(u),GR(u,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&o&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:vm(o.paddingTop),paddingEnd:vm(o.paddingBottom)}})}})}),[CG,VR]=DR(bi),UR=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:m,...u}=e,p=hs(bi,n),[x,v]=j.useState(null),w=dt(t,A=>v(A)),b=j.useRef(null),y=j.useRef(""),_=p.viewport,N=s.content-s.viewport,C=pn(f),D=pn(d),E=zp(m,10);function R(A){if(b.current){const k=A.clientX-b.current.left,O=A.clientY-b.current.top;h({x:k,y:O})}}return j.useEffect(()=>{const A=k=>{const O=k.target;(x==null?void 0:x.contains(O))&&C(k,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[_,x,N,C]),j.useEffect(D,[s,D]),wc(x,E),wc(p.content,E),r.jsx(CG,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:pn(a),onThumbPointerUp:pn(o),onThumbPositionChange:D,onThumbPointerDown:pn(c),children:r.jsx(We.div,{...u,ref:w,style:{position:"absolute",...u.style},onPointerDown:Le(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(A))}),onPointerMove:Le(e.onPointerMove,R),onPointerUp:Le(e.onPointerUp,A=>{const k=A.target;k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),gm="ScrollAreaThumb",qR=j.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=VR(gm,e.__scopeScrollArea);return r.jsx(Kn,{present:n||i.hasThumb,children:r.jsx(EG,{ref:t,...s})})}),EG=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...i}=e,a=hs(gm,n),o=VR(gm,n),{onThumbPositionChange:c}=o,d=dt(t,m=>o.onThumbChange(m)),h=j.useRef(void 0),f=zp(()=>{h.current&&(h.current(),h.current=void 0)},100);return j.useEffect(()=>{const m=a.viewport;if(m){const u=()=>{if(f(),!h.current){const p=AG(m,c);h.current=p,c()}};return c(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[a.viewport,f,c]),r.jsx(We.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Le(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),x=m.clientX-p.left,v=m.clientY-p.top;o.onThumbPointerDown({x,y:v})}),onPointerUp:Le(e.onPointerUp,o.onThumbPointerUp)})});qR.displayName=gm;var Lw="ScrollAreaCorner",HR=j.forwardRef((e,t)=>{const n=hs(Lw,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(PG,{...e,ref:t}):null});HR.displayName=Lw;var PG=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,i=hs(Lw,n),[a,o]=j.useState(0),[c,d]=j.useState(0),h=!!(a&&c);return wc(i.scrollbarX,()=>{var m;const f=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(f),d(f)}),wc(i.scrollbarY,()=>{var m;const f=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),h?r.jsx(We.div,{...s,ref:t,style:{width:a,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vm(e){return e?parseInt(e,10):0}function WR(e,t){const n=e/t;return isNaN(n)?0:n}function Bp(e){const t=WR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function TG(e,t,n,s="ltr"){const i=Bp(n),a=i/2,o=t||a,c=i-o,d=n.scrollbar.paddingStart+o,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,f=n.content-n.viewport,m=s==="ltr"?[0,f]:[f*-1,0];return ZR([d,h],m)(e)}function NS(e,t,n="ltr"){const s=Bp(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,c=a-s,d=n==="ltr"?[0,o]:[o*-1,0],h=_y(e,d);return ZR([0,o],[0,c])(h)}function ZR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function GR(e,t){return e>0&&e<t}var AG=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,c=n.top!==a.top;(o||c)&&t(),n=a,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)};function zp(e,t){const n=pn(e),s=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),j.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function wc(e,t){const n=pn(t);Sn(()=>{let s=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(s),i.unobserve(e)}}},[e,n])}var KR=FR,OG=BR,LG=HR;const Rw=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(KR,{ref:s,className:Ve("relative overflow-hidden",e),...n,children:[r.jsx(OG,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(YR,{}),r.jsx(LG,{})]}));Rw.displayName=KR.displayName;const YR=j.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(Aw,{ref:s,orientation:t,className:Ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(qR,{className:"relative flex-1 rounded-full bg-border"})}));YR.displayName=Aw.displayName;class RG{constructor(){qs(this,"fcmToken",null)}async initialize(){if(vt.isNativePlatform())try{const{PushNotifications:t}=await Je(async()=>{const{PushNotifications:i}=await Promise.resolve().then(()=>H4);return{PushNotifications:i}},void 0),{App:n}=await Je(async()=>{const{App:i}=await import("./index-Uxs85KM0.js");return{App:i}},[]);if((await t.requestPermissions()).receive!=="granted"){console.warn("Push notification permission denied");return}await t.register(),t.addListener("registration",i=>{console.log(" FCM Token:",i.value),this.fcmToken=i.value,this.sendTokenToBackend(i.value)}),t.addListener("pushNotificationReceived",i=>{var a;console.log(" Push received:",i),(a=i.data)!=null&&a.orderId&&window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(i.data.orderId),orderNumber:i.data.orderNumber,amount:i.data.amount,fromPush:!0}}))}),t.addListener("pushNotificationActionPerformed",i=>{var o;console.log(" Push notification tapped - app opening:",i);const a=(o=i.notification.data)==null?void 0:o.orderId;a&&(window.location.href="/vendor/home",setTimeout(()=>{var c,d;window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(a),orderNumber:(c=i.notification.data)==null?void 0:c.orderNumber,amount:(d=i.notification.data)==null?void 0:d.amount,autoOpened:!0,fromPush:!0}}))},1500))}),n.addListener("appStateChange",({isActive:i})=>{i&&(console.log(" App resumed from push notification"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))}),console.log(" Real push notifications initialized")}catch(t){console.error(" Push notifications setup failed:",t)}}async sendTokenToBackend(t){try{(await fetch("/api/vendor/fcm-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fcmToken:t,vendorId:localStorage.getItem("vendor_id")})})).ok&&console.log(" FCM token sent to backend")}catch(n){console.warn("Failed to send FCM token:",n)}}getFCMToken(){return this.fcmToken}}const MG=new RG;class IG{constructor(){qs(this,"persistentIntervals",new Map);this.setupNotificationHandlers(),this.initializePushNotifications()}async initializePushNotifications(){vt.isNativePlatform()&&await MG.initialize()}async setupNotificationHandlers(){if(vt.isNativePlatform())try{const{LocalNotifications:t}=await Je(async()=>{const{LocalNotifications:s}=await import("./index-BuQRg3al.js");return{LocalNotifications:s}},[]),{App:n}=await Je(async()=>{const{App:s}=await import("./index-Uxs85KM0.js");return{App:s}},[]);t.addListener("localNotificationActionPerformed",async s=>{var i;console.log(" NOTIFICATION TAPPED - AUTO OPENING APP:",s);try{const{App:a}=await Je(async()=>{const{App:d}=await import("./index-Uxs85KM0.js");return{App:d}},[]),o=await a.getState();if(console.log(" Current app state:",o),!o.isActive){console.log(" App was in background - bringing to foreground"),window.focus(),document.body.click();try{await a.minimizeApp(),setTimeout(()=>{window.focus()},100)}catch{console.log("Minimize/restore not available")}}const c=parseInt(((i=s.notification.extra)==null?void 0:i.orderId)||"0");c&&(console.log(" Opening order:",c),window.location.href="/vendor/home",setTimeout(()=>{var d,h;window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:c,orderNumber:(d=s.notification.extra)==null?void 0:d.orderNumber,amount:(h=s.notification.extra)==null?void 0:h.amount,autoOpened:!0,fromNotification:!0}}))},1500))}catch(a){console.error(" Failed to open app:",a),window.location.href="/vendor/home"}}),n.addListener("appStateChange",({isActive:s})=>{s&&(console.log(" App resumed - checking for pending orders"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))})}catch(t){console.warn("Could not setup notification handlers:",t)}}async showOrderNotification(t,n,s){console.log(" Using FCM push notifications for order:",t);const{pushNotificationService:i}=await Je(async()=>{const{pushNotificationService:a}=await import("./pushNotificationService-Bm9gTUlU.js");return{pushNotificationService:a}},[]);await i.showOrderNotification(t,n,s),this.playBeepSound(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:s,orderNumber:t,amount:n}}))}async requestBackendPushNotification(t,n,s){try{(await fetch("/api/vendor/send-order-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vendorId:localStorage.getItem("vendor_id"),orderId:s,orderNumber:t,amount:n,title:" NEW ORDER RECEIVED",body:`Order #${t} - ${n}`,data:{orderId:s.toString(),orderNumber:t,amount:n,action:"openOrder"}})})).ok?console.log(" Backend push notification requested"):console.warn(" Backend push notification failed")}catch(i){console.warn("Backend push notification error:",i)}}async showPushNotification(t,n,s){try{console.log(" Simulating push notification for auto-opening")}catch(i){console.warn("Push notification failed, using local fallback:",i)}}async showLocalNotification(t,n,s){try{const{LocalNotifications:i}=await Je(async()=>{const{LocalNotifications:o}=await import("./index-BuQRg3al.js");return{LocalNotifications:o}},[]);if((await i.requestPermissions()).display!=="granted"){console.warn("Notification permission not granted");return}await i.schedule({notifications:[{title:" NEW ORDER - TAP TO OPEN APP",body:`Order #${t} - ${n}
 TAP HERE TO OPEN`,id:s,schedule:{at:new Date(Date.now()+100)},sound:"default",attachments:void 0,actionTypeId:"OPEN_ORDER",smallIcon:"ic_stat_icon_config_sample",iconColor:"#FF0000",channelId:"order-alerts",summaryText:"Tap to open app",extra:{orderId:s.toString(),orderNumber:t,amount:n,autoOpen:!0,action:"openApp",deepLink:"vendor://order/"+s}}]}),console.log(" Local notification scheduled for order:",s)}catch(i){console.warn("Local notifications not available:",i)}}showWebNotification(t,n,s){if("Notification"in window&&Notification.permission==="granted"){const i=new Notification(" New Order!",{body:`Order #${t} - ${n}`,icon:"/favicon.ico",tag:`order-${s}`,requireInteraction:!0});i.onclick=()=>{window.focus(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:s,orderNumber:t,amount:n}})),i.close()},setTimeout(()=>i.close(),3e4)}}startPersistentAlert(t,n,s){this.stopPersistentAlert(s);const i=setInterval(()=>{console.log(" Persistent alert for order:",t),"vibrate"in navigator&&navigator.vibrate([1e3,300,1e3,300,1e3]),this.playMobileSound()},5e3);this.persistentIntervals.set(s,i),setTimeout(()=>{this.stopPersistentAlert(s)},3e5)}stopPersistentAlert(t){const n=this.persistentIntervals.get(t);n&&(clearInterval(n),this.persistentIntervals.delete(t),console.log(" Stopped persistent alert for order:",t))}async clearNotification(t){if(this.stopPersistentAlert(t),vt.isNativePlatform())try{const{LocalNotifications:n}=await Je(async()=>{const{LocalNotifications:s}=await import("./index-BuQRg3al.js");return{LocalNotifications:s}},[]);await n.cancel({notifications:[{id:t}]}),console.log(" Cleared background notification for order:",t)}catch(n){console.warn("Could not clear notification:",n)}}async requestPermissions(){if(vt.isNativePlatform())try{const{LocalNotifications:t}=await Je(async()=>{const{LocalNotifications:s}=await import("./index-BuQRg3al.js");return{LocalNotifications:s}},[]),n=await t.requestPermissions();console.log(" Notification permissions:",n);try{await t.createChannel({id:"order-alerts",name:"Order Alerts",description:"High priority notifications for new orders",sound:"default",importance:5,visibility:1,lights:!0,vibration:!0}),console.log(" High priority notification channel created")}catch(s){console.warn("Could not create notification channel:",s)}return n.display==="granted"}catch(t){return console.warn("Local notifications not available:",t),!1}return"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":"Notification"in window&&Notification.permission==="granted"}playBeepSound(){try{const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),s=t.createGain();n.connect(s),s.connect(t.destination),n.frequency.value=800,n.type="square",s.gain.setValueAtTime(.3,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),n.start(t.currentTime),n.stop(t.currentTime+.3),console.log(" Beep sound played")}catch(t){console.warn("Audio not available:",t)}}playMobileSound(){try{const t=new(window.AudioContext||window.webkitAudioContext);for(let n=0;n<3;n++)setTimeout(()=>{const s=t.createOscillator(),i=t.createGain();s.connect(i),i.connect(t.destination),s.frequency.value=1e3+n*200,s.type="sine",i.gain.setValueAtTime(.5,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),s.start(t.currentTime),s.stop(t.currentTime+.2)},n*300);console.log(" Mobile sound sequence played")}catch(t){console.warn("Mobile audio not available:",t)}}}const Fl=new IG,Av=Object.freeze(Object.defineProperty({__proto__:null,simpleNotificationService:Fl},Symbol.toStringTag,{value:"Module"}));function Vp(){const[e,t]=j.useState([]),[n,s]=j.useState(!1),[i,a]=j.useState(0),o=j.useRef(null),c=j.useRef(null);j.useRef(0),j.useEffect(()=>{Fl.requestPermissions()},[]);const d=async()=>{if(!await Pe.getToken()){console.warn("No authentication token found for WebSocket connection");return}const x=window.location.href;if(x.includes("ngrok")||x.includes("ngrok-free.app")){console.log("Ngrok detected - using HTTP polling instead of WebSocket"),h();return}console.log("Using HTTP polling for notifications"),h()},h=()=>{s(!0),console.log("Notification polling disabled")};return j.useEffect(()=>((async()=>{await d()})(),()=>{c.current&&clearInterval(c.current),o.current&&o.current.close(1e3,"Component unmounting")}),[]),j.useEffect(()=>{console.log("Initial notification fetch disabled")},[]),{notifications:e,unreadCount:i,isConnected:n,markAsRead:async p=>{console.log("Mark as read:",p),a(x=>Math.max(0,x-1))},markAllAsRead:async()=>{console.log("Mark all as read"),a(0)},clearNotifications:()=>{t([]),a(0)}}}function DG({className:e=""}){const t=nt(),{notifications:n,unreadCount:s,markAsRead:i,markAllAsRead:a,clearNotifications:o,isConnected:c}=Vp(),[d,h]=j.useState(!1),f=x=>{switch(x){case"order":return r.jsx(Ot,{className:"h-4 w-4 text-blue-600"});case"payment":return r.jsx(na,{className:"h-4 w-4 text-green-600"});case"system":return r.jsx(Xf,{className:"h-4 w-4 text-orange-600"});default:return r.jsx(nr,{className:"h-4 w-4 text-gray-600"})}},m=x=>{switch(x){case"order":return"border-l-blue-500 bg-blue-50";case"payment":return"border-l-green-500 bg-green-50";case"system":return"border-l-orange-500 bg-orange-50";default:return"border-l-gray-500 bg-gray-50"}},u=x=>{x.read||i(x.id),x.action_url&&(t(x.action_url),h(!1))},p=x=>{const v=new Date(x),b=Math.floor((new Date().getTime()-v.getTime())/(1e3*60));return b<1?"Just now":b<60?`${b}m ago`:b<1440?`${Math.floor(b/60)}h ago`:v.toLocaleDateString()};return r.jsxs(zi,{open:d,onOpenChange:h,children:[r.jsx(zZ,{asChild:!0,children:r.jsxs(ne,{variant:"ghost",size:"sm",className:`relative p-2 hover:bg-gray-100 rounded-full ${e}`,children:[r.jsx(nr,{className:`h-5 w-5 ${c?"text-gray-700":"text-gray-400"}`}),s>0&&r.jsx(Me,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:s>99?"99+":s}),!c&&r.jsx("div",{className:"absolute -bottom-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]})}),r.jsxs(di,{side:"right",className:"w-full sm:w-96",children:[r.jsxs(ui,{className:"pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(hi,{className:"flex items-center gap-2",children:[r.jsx(nr,{className:"h-5 w-5"}),"Notifications",s>0&&r.jsxs(Me,{variant:"secondary",className:"ml-2",children:[s," new"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!c&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-600",children:[r.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse"}),"Offline"]}),n.length>0&&r.jsx(ne,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Clear All"})]})]}),s>0&&r.jsxs(ne,{variant:"outline",size:"sm",onClick:a,className:"w-full",children:[r.jsx(An,{className:"h-4 w-4 mr-2"}),"Mark All as Read"]})]}),r.jsx(Rw,{className:"h-[calc(100vh-120px)]",children:n.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx(nr,{className:"h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"You're all caught up! New notifications will appear here."})]}):r.jsx("div",{className:"space-y-2",children:n.map(x=>r.jsx("div",{onClick:()=>u(x),className:`
                    p-4 rounded-lg border-l-4 cursor-pointer transition-all hover:shadow-md
                    ${m(x.type)}
                    ${x.read?"opacity-75":"ring-2 ring-blue-100"}
                  `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:f(x.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:x.title}),!x.read&&r.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full flex-shrink-0 ml-2"})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-2",children:x.message}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[r.jsx(is,{className:"h-3 w-3"}),p(x.timestamp||new Date().toISOString())]}),x.action_url&&r.jsx(ne,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-blue-600 hover:text-blue-800",onClick:v=>{v.stopPropagation(),u(x)},children:"View"})]})]})]})},x.id))})}),r.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:r.jsxs("div",{className:`
            flex items-center justify-center gap-2 py-2 px-3 rounded-lg text-xs
            ${c?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}
          `,children:[r.jsx("div",{className:`h-2 w-2 rounded-full ${c?"bg-green-500":"bg-red-500 animate-pulse"}`}),c?"Connected to notification service":"Reconnecting..."]})})]})]})}function FG(){var _t,Vt;const e=nt(),{toast:t}=cn(),[n,s]=j.useState([]),[i,a]=j.useState(!0),[o,c]=j.useState("all"),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(!1),[x,v]=j.useState(null),[w,b]=j.useState({}),[y,_]=j.useState(!1),[N,C]=j.useState(null),[D,E]=j.useState(0),[R,A]=j.useState(""),[k,O]=j.useState(!1),[P,T]=j.useState(!1),[M,H]=j.useState(null),[W,Z]=j.useState(""),[B,q]=j.useState(""),[F,$]=j.useState(""),[z,G]=j.useState(""),[X,J]=j.useState(""),[K,U]=j.useState(""),[te,re]=j.useState(""),[le,pe]=j.useState(""),[ee,ye]=j.useState([]),[Ce,ue]=j.useState(!1),[be,xe]=j.useState(null),[ce,fe]=j.useState(!1),[Q,se]=j.useState("");Vp(),j.useEffect(()=>{ie();const oe=Ze=>{Ze.detail.type==="order"&&ie()};window.addEventListener("newNotification",oe);const ze=setInterval(async()=>{try{if(!await Pe.getToken())return;const ut=await Xd.getOrders();s(ut)}catch(Ze){console.error("Auto-refresh error:",Ze)}},3e4);return()=>{window.removeEventListener("newNotification",oe),clearInterval(ze)}},[]);const ie=async()=>{var oe,ze,Ze;try{if(!await Pe.getToken()){e("/login");return}const it=await Xd.getOrders();s(it);const Ge={};for(const dn of it){const Ut=(Ze=(ze=(oe=dn.items)==null?void 0:oe[0])==null?void 0:ze.product_details)==null?void 0:Ze.vendor_name;Ut&&!Ge[Ut]&&(Ge[Ut]=await et(Ut))}b(Ge)}catch(ut){console.error("Error fetching orders:",ut),t({title:"Error",description:ut.message||"Failed to load orders",variant:"destructive"})}finally{a(!1)}},we=oe=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",out_for_delivery:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[oe]||"bg-gray-100 text-gray-800",je=oe=>({pending:"Order Placed",confirmed:"Confirmed",preparing:"Preparing",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[oe]||oe,ve=oe=>oe==="all"?n:n.filter(ze=>ze.status===oe),Ae=async()=>{if(!d.trim()){t({title:"Reason Required",description:"Please provide a valid reason for cancellation",variant:"destructive"});return}try{await Xd.cancelOrder(x,d),t({title:"Order Cancelled",description:"Your order has been cancelled successfully."}),p(!1),h(""),m(""),ie()}catch(oe){console.error("Error cancelling order:",oe),t({title:"Cancellation Failed",description:oe.message||"Failed to cancel order",variant:"destructive"})}},et=async oe=>{var ze;try{const{response:Ze,data:ut}=await Fe(`/api/search/vendors/?search=${encodeURIComponent(oe)}`);if(!Ze.ok)return!1;const it=(ze=ut==null?void 0:ut.results)==null?void 0:ze.find(Ge=>Ge.business_name===oe);return(it==null?void 0:it.is_active)||!1}catch(Ze){return console.error("Error checking vendor status:",Ze),!1}},Xe=async oe=>{var ze,Ze,ut;try{const it=(ut=(Ze=(ze=oe.items)==null?void 0:ze[0])==null?void 0:Ze.product_details)==null?void 0:ut.vendor_name;if(it&&!await et(it)){t({title:"Vendor Offline",description:"This vendor is currently offline. Cannot reorder at this time.",variant:"destructive"});return}for(const Ge of oe.items);t({title:"Items Added",description:"Order items added to cart"}),e("/cart")}catch{t({title:"Reorder Failed",description:"Failed to add items to cart",variant:"destructive"})}},zt=({order:oe})=>{var ze,Ze,ut,it,Ge,dn,Ut,Or,Zr,cr,Yn,oa;return r.jsxs(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow mb-4",onClick:()=>{xe(oe),ue(!0)},children:[r.jsx(ot,{className:"pb-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs(lt,{className:"text-lg",children:["Order #",oe.order_number]}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(oe.created_at).toLocaleDateString()})]}),r.jsx(Me,{className:`${we(oe.status)} px-3 py-1`,children:je(oe.status)})]})}),r.jsx(ke,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-gray-800 mb-2",children:[(ze=oe.items)==null?void 0:ze.length," item",((Ze=oe.items)==null?void 0:Ze.length)!==1?"s":""]}),r.jsxs("div",{className:"flex gap-3 overflow-x-auto",children:[(ut=oe.items)==null?void 0:ut.slice(0,3).map(De=>{var pt,Nt,xn,qt;return r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("img",{src:ir((xn=(Nt=(pt=De.product_details)==null?void 0:pt.images)==null?void 0:Nt[0])==null?void 0:xn.image_url),alt:De.product_name,className:"w-12 h-12 object-cover rounded-lg border"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:De.product_name}),r.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:(qt=De.product_details)==null?void 0:qt.category})]})]},De.id)}),((it=oe.items)==null?void 0:it.length)>3&&r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center flex-shrink-0",children:r.jsxs("span",{className:"text-xs text-gray-600",children:["+",oe.items.length-3]})})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[r.jsx(Sr,{className:"h-4 w-4"}),r.jsx("button",{onClick:De=>{var Nt,xn,qt;De.stopPropagation();const pt=(qt=(xn=(Nt=oe.items)==null?void 0:Nt[0])==null?void 0:xn.product_details)==null?void 0:qt.vendor_id;pt&&e(`/vendor/${pt}`)},className:"text-blue-600 hover:underline text-xs font-medium truncate",children:((Ut=(dn=(Ge=oe.items)==null?void 0:Ge[0])==null?void 0:dn.product_details)==null?void 0:Ut.vendor_name)||"Vendor"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Bt,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:oe.delivery_address})]}),oe.status==="out_for_delivery"&&r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wl,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-800",children:"Shipping Details"})]}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",oe.vehicle_number||"TBA"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vehicle Color:"})," ",oe.vehicle_color||"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Driver Phone:"})," ",oe.delivery_boy_phone||"TBA"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"ETA:"})," ",oe.estimated_delivery_time||"TBA"]}),oe.delivery_fee>0&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Delivery Fee:"})," ",parseFloat(oe.delivery_fee).toFixed(2)]})]})]}),oe.status==="cancelled"&&oe.cancel_reason&&r.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(sr,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{className:"font-medium text-red-800",children:"Cancellation Reason"})]}),r.jsx("p",{className:"text-sm text-red-700",children:oe.cancel_reason}),oe.refund_status&&r.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[r.jsx("span",{className:"font-medium",children:"Refund:"})," ",oe.refund_status]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(oe.total_amount).toFixed(2)]}),r.jsxs("div",{className:"flex gap-2",children:[oe.status==="out_for_delivery"&&r.jsx(ne,{variant:"outline",size:"sm",onClick:async De=>{De.stopPropagation();try{const pt=await Pe.getToken(),{response:Nt}=await Fe(`/api/orders/${oe.id}/status/`,{method:"POST",body:JSON.stringify({status:"delivered",notes:"Marked as received by customer"})});Nt.ok&&s(xn=>xn.map(qt=>qt.id===oe.id?{...qt,status:"delivered",delivered_at:new Date().toISOString()}:qt))}catch(pt){console.error("Error marking as received:",pt)}},className:"text-green-600 border-green-200 hover:bg-green-50",children:"Received"}),(oe.status==="cancelled"||oe.status==="pending"||oe.status==="delivered")&&w[(cr=(Zr=(Or=oe.items)==null?void 0:Or[0])==null?void 0:Zr.product_details)==null?void 0:cr.vendor_name]&&r.jsx(ne,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),Xe(oe)},className:"text-green-600 border-green-200 hover:bg-green-50",children:r.jsx(Qs,{className:"h-4 w-4"})}),oe.status==="pending"&&r.jsx(ne,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),v(oe.id),p(!0)},className:"text-red-600 border-red-200 hover:bg-red-50",children:"Cancel"}),oe.status==="delivered"&&!((Yn=oe.refunds)!=null&&Yn.some(De=>["requested","approved","rejected","appeal","processed","completed"].includes(De.status)))&&(()=>{const De=new Date(oe.delivered_at);return(new Date-De)/(1e3*60*60)<=24})()&&r.jsx(ne,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),H(oe),T(!0)},className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:"Return"}),oe.status==="delivered"&&!((oa=oe.refunds)!=null&&oa.some(De=>["requested","approved","rejected","appeal","processed","completed"].includes(De.status)))&&(()=>{const De=new Date(oe.delivered_at);return(new Date-De)/(1e3*60*60)>24})()&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Return window expired"}),oe.status==="delivered"&&!oe.review&&r.jsx(ne,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),C(oe),E(0),A(""),O(!1),_(!0)},className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:r.jsx(vn,{className:"h-4 w-4"})}),oe.status==="delivered"&&oe.review&&r.jsx(ne,{variant:"outline",size:"sm",onClick:De=>{De.stopPropagation(),C(oe),E(oe.review.overall_rating),A(oe.review.review_text||""),O(!0),_(!0)},className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"Edit Review"})]})]})]})})]},oe.id)};return i?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading your orders..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:r.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(Dt,{className:"h-6 w-6 text-gray-700"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Orders"}),r.jsx(DG,{})]})}),r.jsx("main",{className:"max-w-4xl mx-auto p-4 pt-2",children:n.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Ot,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No orders yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Start shopping to see your orders here"}),r.jsx(ne,{onClick:()=>e("/"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Start Shopping"})]}):r.jsxs(ia,{value:o,onValueChange:c,className:"space-y-6",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(yi,{className:"flex w-max min-w-full gap-1",children:[r.jsxs(Mt,{value:"all",className:"flex-shrink-0 px-2",children:["All ",r.jsxs("span",{className:"font-bold",children:["(",n.length,")"]})]}),r.jsxs(Mt,{value:"pending",className:"flex-shrink-0 px-2",children:["Pending ",r.jsxs("span",{className:"font-bold",children:["(",ve("pending").length,")"]})]}),r.jsxs(Mt,{value:"confirmed",className:"flex-shrink-0 px-2",children:["Confirmed ",r.jsxs("span",{className:"font-bold",children:["(",ve("confirmed").concat(ve("preparing")).length,")"]})]}),r.jsxs(Mt,{value:"shipped",className:"flex-shrink-0 px-2",children:["Shipped ",r.jsxs("span",{className:"font-bold",children:["(",ve("out_for_delivery").length,")"]})]}),r.jsxs(Mt,{value:"delivered",className:"flex-shrink-0 px-2",children:["Delivered ",r.jsxs("span",{className:"font-bold",children:["(",ve("delivered").length,")"]})]}),r.jsxs(Mt,{value:"returns",className:"flex-shrink-0 px-2",children:["Returns ",r.jsxs("span",{className:"font-bold",children:["(",n.filter(oe=>{var ze;return((ze=oe.refunds)==null?void 0:ze.length)>0}).length,")"]})]}),r.jsxs(Mt,{value:"reviewed",className:"flex-shrink-0 px-2",children:["Reviewed ",r.jsxs("span",{className:"font-bold",children:["(",n.filter(oe=>oe.review).length,")"]})]}),r.jsxs(Mt,{value:"cancelled",className:"flex-shrink-0 px-2",children:["Cancelled ",r.jsxs("span",{className:"font-bold",children:["(",ve("cancelled").length,")"]})]})]})}),r.jsx(ft,{value:"all",className:"space-y-4",children:n.map(oe=>r.jsx(zt,{order:oe},oe.id))}),r.jsx(ft,{value:"pending",className:"space-y-4",children:ve("pending").map(oe=>r.jsx(zt,{order:oe},oe.id))}),r.jsx(ft,{value:"confirmed",className:"space-y-4",children:ve("confirmed").concat(ve("preparing")).map(oe=>r.jsx(zt,{order:oe},oe.id))}),r.jsx(ft,{value:"shipped",className:"space-y-4",children:ve("out_for_delivery").map(oe=>r.jsx(zt,{order:oe},oe.id))}),r.jsx(ft,{value:"delivered",className:"space-y-4",children:ve("delivered").map(oe=>r.jsxs("div",{children:[r.jsx(zt,{order:oe}),oe.status==="delivered"&&oe.delivered_at&&r.jsx("div",{className:"mt-2 px-4 py-2 bg-gray-50 rounded text-xs text-gray-600",children:(()=>{var Ge;const ze=new Date(oe.delivered_at),it=24-(new Date-ze)/(1e3*60*60);return(Ge=oe.refunds)!=null&&Ge.some(dn=>["requested","approved","rejected","appeal","processed","completed"].includes(dn.status))?"Return request already submitted":it>0?`Return available for ${Math.floor(it)} hours ${Math.floor(it%1*60)} minutes`:"Return window expired (24 hours after delivery)"})()})]},oe.id))}),r.jsx(ft,{value:"returns",className:"space-y-4",children:n.filter(oe=>{var ze;return((ze=oe.refunds)==null?void 0:ze.length)>0}).length>0?n.filter(oe=>{var ze;return((ze=oe.refunds)==null?void 0:ze.length)>0}).map(oe=>{var ze,Ze,ut,it;return r.jsx("div",{className:"bg-white rounded-lg border",children:r.jsxs("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>{xe(oe),ue(!0)},children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("h3",{className:"font-semibold text-sm text-gray-900",children:["Order #",oe.order_number]})}),r.jsxs(Me,{className:"bg-orange-100 text-orange-800 flex items-center gap-1 text-xs px-2 py-1",children:[r.jsx(Qs,{className:"h-3 w-3"}),"Return Request"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Sr,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:((ut=(Ze=(ze=oe.items)==null?void 0:ze[0])==null?void 0:Ze.product_details)==null?void 0:ut.vendor_name)||"Vendor"})]}),(it=oe.refunds)==null?void 0:it.map(Ge=>{var dn;return r.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium",children:"Return Reason:"}),r.jsx(Me,{className:`text-xs ${Ge.status==="requested"?"bg-yellow-100 text-yellow-800":Ge.status==="approved"?"bg-green-100 text-green-800":Ge.status==="rejected"?"bg-red-100 text-red-800":Ge.status==="appeal"?"bg-purple-100 text-purple-800":Ge.status==="processed"?"bg-blue-100 text-blue-800":Ge.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:Ge.status.charAt(0).toUpperCase()+Ge.status.slice(1)})]}),r.jsx("p",{className:"text-xs text-gray-700 capitalize",children:Ge.reason.replace("_"," ")}),Ge.customer_notes&&r.jsxs("p",{className:"text-xs text-gray-600",children:['"',Ge.customer_notes,'"']}),r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Amount:"})," ",Ge.requested_amount]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Method:"})," ",Ge.refund_method]}),((dn=Ge.evidence_photos)==null?void 0:dn.length)>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Evidence Documents:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Ge.evidence_photos.map((Ut,Or)=>{var Yn;const Zr=(Yn=Ut.filename)==null?void 0:Yn.match(/\.(jpg|jpeg|png|gif|webp)$/i);let cr;return Ut.filename.startsWith("http")?cr=Ut.filename:Ut.filename.startsWith("/media/")?cr=`${Ur.BASE_URL}${Ut.filename}`:cr=`${Ur.BASE_URL}/media/${Ut.filename}`,r.jsxs("div",{className:"bg-blue-100 p-2 rounded text-xs cursor-pointer hover:bg-blue-200 transition-colors flex items-center gap-1",onClick:oa=>{oa.stopPropagation(),Zr?(se(cr),fe(!0)):window.open(cr,"_blank")},children:[Zr?r.jsx(An,{className:"h-3 w-3 text-blue-600"}):r.jsx(Ot,{className:"h-3 w-3 text-blue-600"}),r.jsx("span",{className:"text-blue-800",children:Ut.filename||`Document ${Or+1}`})]},Or)})})]}),Ge.status==="completed"&&r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded p-2 mt-2",children:r.jsx("p",{className:"text-xs text-emerald-800 font-medium",children:" Refund Completed"})}),Ge.status==="processed"&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 mt-2",children:r.jsx("p",{className:"text-xs text-blue-800 font-medium",children:" Money Transferred"})}),Ge.admin_notes&&r.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[r.jsx("span",{className:"font-medium",children:"Response:"})," ",Ge.admin_notes]}),Ge.status==="rejected"&&r.jsx(ne,{size:"sm",variant:"outline",className:"w-full mt-2",onClick:async Ut=>{Ut.stopPropagation();try{const Or=await Pe.getToken(),{response:Zr}=await Fe(`/api/refunds/${Ge.id}/appeal/`,{method:"POST",body:JSON.stringify({customer_notes:"Appealing the rejection decision"})});Zr.ok&&(t({title:"Appeal Submitted",description:"Your appeal has been submitted for review."}),ie())}catch{t({title:"Error",description:"Failed to submit appeal.",variant:"destructive"})}},children:"Appeal Decision"})]},Ge.id)}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(oe.total_amount).toFixed(2)]}),r.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:Ge=>{Ge.stopPropagation(),xe(oe),ue(!0)},children:[r.jsx(An,{className:"h-3 w-3 mr-1"}),"View Details"]})]})]})]})},oe.id)}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Qs,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No returns yet"}),r.jsx("p",{className:"text-gray-500",children:"Your return requests will appear here"})]})}),r.jsx(ft,{value:"reviewed",className:"space-y-4",children:n.filter(oe=>oe.review).length>0?n.filter(oe=>oe.review).map(oe=>{var ze;return r.jsx(Ne,{className:"mb-4",children:r.jsxs(ke,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",oe.order_number]}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(oe.created_at).toLocaleDateString()})]}),r.jsx(Me,{className:"bg-green-100 text-green-800 px-3 py-1",children:"Reviewed"})]}),r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"flex gap-3 overflow-x-auto",children:(ze=oe.items)==null?void 0:ze.slice(0,3).map(Ze=>{var ut,it,Ge,dn;return r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("img",{src:((Ge=(it=(ut=Ze.product_details)==null?void 0:ut.images)==null?void 0:it[0])==null?void 0:Ge.image_url)||"/placeholder-product.jpg",alt:Ze.product_name,className:"w-12 h-12 object-cover rounded-lg border"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:Ze.product_name}),r.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:(dn=Ze.product_details)==null?void 0:dn.category})]})]},Ze.id)})})}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Your Review"}),r.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(Ze=>r.jsx(vn,{className:`h-4 w-4 ${Ze<=oe.review.overall_rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},Ze))})]}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{C(oe),E(oe.review.overall_rating),A(oe.review.review_text||""),O(!0),_(!0)},className:"h-7 text-xs",children:"Edit"})]}),oe.review.review_text&&r.jsx("p",{className:"text-sm text-gray-700",children:oe.review.review_text}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Reviewed on ",new Date(oe.review.created_at).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-3 border-t mt-3",children:[r.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(oe.total_amount).toFixed(2)]}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{xe(oe),ue(!0)},className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"View Details"})]})]})},oe.id)}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(vn,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reviews yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Complete your orders and share your experience"})]})}),r.jsx(ft,{value:"cancelled",className:"space-y-4",children:ve("cancelled").map(oe=>r.jsx(zt,{order:oe},oe.id))})]})}),r.jsx(Ar,{}),r.jsx(Fo,{open:u,onOpenChange:p,children:r.jsxs(Fa,{className:"sm:max-w-md",children:[r.jsx($a,{children:r.jsx(Ba,{children:"Cancel Order"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"reason",children:"Reason for Cancellation *"}),r.jsxs(sn,{value:d,onValueChange:h,children:[r.jsx(en,{children:r.jsx(an,{placeholder:"Select a reason"})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"changed_mind",children:"Changed my mind"}),r.jsx(qe,{value:"found_better_price",children:"Found better price elsewhere"}),r.jsx(qe,{value:"delivery_too_long",children:"Delivery time too long"}),r.jsx(qe,{value:"ordered_by_mistake",children:"Ordered by mistake"}),r.jsx(qe,{value:"payment_issues",children:"Payment issues"}),r.jsx(qe,{value:"other",children:"Other reason"})]})]})]}),d==="other"&&r.jsxs("div",{children:[r.jsx(de,{htmlFor:"custom_reason",children:"Please specify"}),r.jsx(Zn,{id:"custom_reason",placeholder:"Enter your reason...",value:d,onChange:oe=>h(oe.target.value)})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"refund",children:"Refund Option *"}),r.jsxs(sn,{value:f,onValueChange:m,children:[r.jsx(en,{children:r.jsx(an,{placeholder:"Select refund method"})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"original_payment",children:"Refund to original payment method"}),r.jsx(qe,{value:"wallet",children:"Refund to wallet"}),r.jsx(qe,{value:"bank_transfer",children:"Bank transfer"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(ne,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Keep Order"}),r.jsx(ne,{onClick:Ae,className:"flex-1 bg-red-600 hover:bg-red-700",disabled:!d||!f,children:"Cancel Order"})]})]})]})}),r.jsx(Fo,{open:y,onOpenChange:_,children:r.jsxs(Fa,{className:"sm:max-w-md",children:[r.jsx($a,{children:r.jsx(Ba,{children:k?"Edit Review":"Rate & Review Order"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Rating *"}),r.jsx("div",{className:"flex gap-1 mt-2",children:[1,2,3,4,5].map(oe=>r.jsx("button",{onClick:()=>E(oe),className:`text-2xl ${oe<=D?"text-yellow-400":"text-gray-300"}`,children:""},oe))})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"review",children:"Review (Optional)"}),r.jsx(Zn,{id:"review",placeholder:"Share your experience...",value:R,onChange:oe=>A(oe.target.value),rows:3})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(ne,{variant:"outline",onClick:()=>{_(!1),E(0),A(""),O(!1)},className:"flex-1",children:"Cancel"}),r.jsx(ne,{onClick:async()=>{if(D)try{const oe=await Pe.getToken(),ze="POST",{response:Ze,data:ut}=await Fe(`/api/orders/${N.id}/review/`,{method:ze,body:JSON.stringify({overall_rating:D,review_text:R})});Ze.ok&&ut&&(s(it=>it.map(Ge=>Ge.id===N.id?{...Ge,review:ut.review}:Ge)),_(!1),E(0),A(""),O(!1),t({title:k?"Review Updated":"Review Submitted",description:"Thank you for your feedback!"}))}catch(oe){console.error("Error submitting review:",oe),t({title:"Error",description:"Failed to submit review. Please try again.",variant:"destructive"})}},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:!D,children:k?"Update Review":"Submit Review"})]})]})]})}),r.jsx(zi,{open:P,onOpenChange:T,children:r.jsxs(di,{side:"bottom",className:"h-[80vh] rounded-t-xl",children:[r.jsx(ui,{className:"pb-4",children:r.jsxs(hi,{className:"text-left flex items-center gap-2",children:[r.jsx(Qs,{className:"h-5 w-5"}),"Return Order #",M==null?void 0:M.order_number]})}),r.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Return Reason *"}),r.jsxs(sn,{value:W,onValueChange:Z,children:[r.jsx(en,{children:r.jsx(an,{placeholder:"Select reason for return"})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"defective_product",children:"Defective/Damaged Product"}),r.jsx(qe,{value:"wrong_item",children:"Wrong Item Delivered"}),r.jsx(qe,{value:"quality_issue",children:"Quality Issue"}),r.jsx(qe,{value:"not_as_described",children:"Not as Described"}),r.jsx(qe,{value:"expired_product",children:"Expired Product"}),r.jsx(qe,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Additional Notes"}),r.jsx(Zn,{placeholder:"Describe the issue in detail...",value:B,onChange:oe=>q(oe.target.value),rows:3})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Evidence Photos/Documents *"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Please provide evidence to support your return request"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[r.jsx(vu,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Upload photos or documents as proof"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:oe=>ye(Array.from(oe.target.files)),className:"hidden",id:"evidence-upload"}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>document.getElementById("evidence-upload").click(),className:"mt-2",children:"Choose Files"})]}),ee.length>0&&r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[ee.length," file(s) selected:"]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:ee.map((oe,ze)=>r.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs flex items-center justify-between",children:[r.jsx("span",{className:"truncate",children:oe.name}),r.jsx("button",{onClick:()=>ye(Ze=>Ze.filter((ut,it)=>it!==ze)),className:"text-red-500 hover:text-red-700 ml-2",children:""})]},ze))})]})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Refund Method *"}),r.jsxs(sn,{value:F,onValueChange:$,children:[r.jsx(en,{children:r.jsx(an,{placeholder:"Select refund method"})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"esewa",children:"eSewa"}),r.jsx(qe,{value:"khalti",children:"Khalti"}),r.jsx(qe,{value:"bank",children:"Bank Transfer"})]})]})]}),F==="esewa"&&r.jsxs("div",{children:[r.jsx(de,{children:"eSewa Number *"}),r.jsx(me,{placeholder:"98XXXXXXXX",value:z,onChange:oe=>G(oe.target.value)})]}),F==="khalti"&&r.jsxs("div",{children:[r.jsx(de,{children:"Khalti Number *"}),r.jsx(me,{placeholder:"98XXXXXXXX",value:X,onChange:oe=>J(oe.target.value)})]}),F==="bank"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Account Holder Name *"}),r.jsx(me,{placeholder:"Full name as per bank account",value:K,onChange:oe=>U(oe.target.value)})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Account Number *"}),r.jsx(me,{placeholder:"Bank account number",value:te,onChange:oe=>re(oe.target.value)})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Bank Branch *"}),r.jsx(me,{placeholder:"Branch name",value:le,onChange:oe=>pe(oe.target.value)})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Xf,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),r.jsxs("div",{className:"text-sm text-yellow-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Return Policy"}),r.jsxs("ul",{className:"text-xs space-y-1",children:[r.jsx("li",{children:" Returns are processed within 3-5 business days"}),r.jsx("li",{children:" Refund will be processed after vendor approval"}),r.jsx("li",{children:" You can appeal if your return is rejected"})]})]})]})})]}),r.jsxs("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:[r.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>{T(!1),Z(""),q(""),$(""),G(""),J(""),U(""),re(""),pe(""),ye([])},children:"Cancel"}),r.jsx(ne,{className:"flex-1 bg-orange-600 hover:bg-orange-700",disabled:!W||!F||ee.length===0||F==="esewa"&&!z||F==="khalti"&&!X||F==="bank"&&(!K||!te||!le),onClick:async()=>{try{const oe=await Pe.getToken(),ze=new FormData;ze.append("reason",W),ze.append("customer_notes",B),ze.append("refund_method",F),ze.append("requested_amount",M.total_amount),F==="esewa"&&ze.append("esewa_number",z),F==="khalti"&&ze.append("khalti_number",X),F==="bank"&&(ze.append("bank_account_name",K),ze.append("bank_account_number",te),ze.append("bank_branch",le)),ee.forEach((ut,it)=>{ze.append(`evidence_${it}`,ut)}),(await fetch(`${Ur.BASE_URL}/api/orders/${M.id}/return/`,{method:"POST",headers:{Authorization:`Token ${oe}`,"ngrok-skip-browser-warning":"true","x-ngrok-skip-browser-warning":"true"},body:ze})).ok&&(t({title:"Return Requested",description:"Your return request has been submitted successfully."}),T(!1),ie())}catch{t({title:"Error",description:"Failed to submit return request.",variant:"destructive"})}},children:"Submit Return Request"})]})]})}),r.jsx(zi,{open:Ce,onOpenChange:ue,children:r.jsxs(di,{side:"bottom",className:"h-[90vh] rounded-t-xl",children:[r.jsx(ui,{className:"pb-4",children:r.jsxs(hi,{className:"text-left",children:["Order Details - #",be==null?void 0:be.order_number]})}),be&&r.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Order Items"}),r.jsx("div",{className:"space-y-2",children:((_t=be.items)==null?void 0:_t.map((oe,ze)=>{var Ze,ut,it;return r.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:((it=(ut=(Ze=oe.product_details)==null?void 0:Ze.images)==null?void 0:ut[0])==null?void 0:it.image_url)||"/placeholder-product.jpg",alt:oe.product_name,className:"w-8 h-8 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:oe.product_name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",oe.quantity]})]})]}),r.jsxs("p",{className:"text-sm font-semibold",children:["",oe.total_price]})]},ze)}))||[]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Delivery Information"}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Address:"})," ",be.delivery_address]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Phone:"})," ",be.delivery_phone]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Name:"})," ",be.delivery_name]})]})]}),r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Payment Details"}),r.jsxs("div",{className:"bg-emerald-50 p-3 rounded-lg border border-emerald-200 mb-3",children:[r.jsxs("h4",{className:"font-semibold text-emerald-800 text-sm mb-2",children:["Bill Amount (Paid via ",be.payment_method,")"]}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["",be.subtotal]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),r.jsxs("span",{children:["",be.tax_amount]})]}),r.jsx("hr",{className:"my-1"}),r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Bill Total (Paid):"}),r.jsxs("span",{className:"text-emerald-600",children:["",(parseFloat(be.subtotal)+parseFloat(be.tax_amount)).toFixed(2)]})]})]})]}),r.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200 mb-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-orange-800 text-base",children:"Delivery Fee"}),r.jsx("p",{className:"text-xs text-orange-700",children:be.status==="delivered"?"Paid on delivery":"Pay on delivery"})]}),r.jsxs("span",{className:"font-bold text-lg text-orange-600",children:["",parseFloat(be.delivery_fee).toFixed(2)]})]})}),r.jsx("hr",{className:"my-2"}),r.jsxs("div",{className:"flex justify-between font-semibold text-sm",children:[r.jsx("span",{children:"Grand Total:"}),r.jsxs("span",{children:["",be.total_amount]})]}),r.jsxs("div",{className:"mt-3 pt-2 border-t space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Payment Method:"}),r.jsx("span",{className:"capitalize",children:be.payment_method})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Payment Status:"}),r.jsx(Me,{variant:be.payment_status==="paid"?"default":"secondary",className:"text-xs",children:be.payment_status})]})]})]}),((Vt=be.refunds)==null?void 0:Vt.map(oe=>{var ze;return r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[r.jsx(Qs,{className:"h-4 w-4"}),"Return/Refund Details"]}),r.jsxs("div",{className:"space-y-3 text-xs",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),r.jsx(Me,{className:`text-xs ${oe.status==="requested"?"bg-yellow-100 text-yellow-800":oe.status==="approved"?"bg-green-100 text-green-800":oe.status==="rejected"?"bg-red-100 text-red-800":oe.status==="appeal"?"bg-purple-100 text-purple-800":oe.status==="processed"?"bg-blue-100 text-blue-800":oe.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:oe.status.charAt(0).toUpperCase()+oe.status.slice(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),r.jsx("p",{className:"text-gray-600 capitalize",children:oe.reason.replace("_"," ")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Requested Amount:"}),r.jsxs("p",{className:"text-gray-600",children:["",oe.requested_amount]})]}),oe.approved_amount&&r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Approved Amount:"}),r.jsxs("p",{className:"text-gray-600",children:["",oe.approved_amount]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Your Refund Details:"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Method:"})," ",oe.refund_method]}),oe.refund_method==="esewa"&&oe.esewa_number&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"eSewa Number:"})," ",oe.esewa_number]}),oe.refund_method==="khalti"&&oe.khalti_number&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Khalti Number:"})," ",oe.khalti_number]}),oe.refund_method==="bank"&&r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Account Name:"})," ",oe.bank_account_name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Account Number:"})," ",oe.bank_account_number]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Branch:"})," ",oe.bank_branch]})]})]})]}),oe.customer_notes&&r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Your Notes:"}),r.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:oe.customer_notes})]}),oe.admin_notes&&r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Vendor Response:"}),r.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:oe.admin_notes})]}),((ze=oe.evidence_photos)==null?void 0:ze.length)>0&&r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Evidence Documents:"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:oe.evidence_photos.map((Ze,ut)=>{var dn;const it=(dn=Ze.filename)==null?void 0:dn.match(/\.(jpg|jpeg|png|gif|webp)$/i);let Ge;return Ze.filename.startsWith("http")?Ge=Ze.filename:Ge=ir(Ze.filename),r.jsxs("div",{className:"bg-white p-2 rounded border hover:shadow-md transition-shadow",children:[it?r.jsxs("div",{className:"cursor-pointer mb-2 group",onClick:()=>{se(Ge),fe(!0)},children:[r.jsxs("div",{className:"relative overflow-hidden rounded",children:[r.jsx("img",{src:Ge,alt:Ze.filename,className:"w-full h-20 object-cover rounded mb-1 group-hover:scale-105 transition-transform",onError:Ut=>{Ut.currentTarget.src="/placeholder-image.svg",Ut.currentTarget.alt="Image not found"}}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:r.jsx(An,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),r.jsx("p",{className:"text-xs text-blue-600 font-medium",children:" Click to enlarge"})]}):r.jsx("div",{className:"w-full h-20 bg-gray-100 rounded mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>{window.open(Ge,"_blank")},children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ot,{className:"h-6 w-6 text-gray-400 mx-auto mb-1"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Document"})]})}),r.jsx("p",{className:"font-medium text-xs truncate",title:Ze.filename,children:Ze.filename||`Document ${ut+1}`}),r.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",Ze.uploaded_by]}),r.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date(Ze.uploaded_at).toLocaleDateString()]})]},ut)})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 border-t pt-2",children:[r.jsx("div",{children:r.jsxs("p",{children:["Requested: ",new Date(oe.requested_at).toLocaleDateString()]})}),oe.approved_at&&r.jsx("div",{children:r.jsxs("p",{children:["Approved: ",new Date(oe.approved_at).toLocaleDateString()]})}),oe.processed_at&&r.jsx("div",{children:r.jsxs("p",{children:["Processed: ",new Date(oe.processed_at).toLocaleDateString()]})}),oe.completed_at&&r.jsx("div",{children:r.jsxs("p",{children:["Completed: ",new Date(oe.completed_at).toLocaleDateString()]})}),oe.appeal_at&&r.jsx("div",{children:r.jsxs("p",{children:["Appealed: ",new Date(oe.appeal_at).toLocaleDateString()]})})]})]})]},oe.id)}))||[]]})]})}),r.jsx(Fo,{open:ce,onOpenChange:fe,children:r.jsxs(Fa,{className:"max-w-5xl max-h-[95vh] p-4",children:[r.jsx($a,{className:"pb-4",children:r.jsxs(Ba,{className:"flex items-center gap-2",children:[r.jsx(An,{className:"h-5 w-5"}),"Evidence Document Preview"]})}),r.jsx("div",{className:"flex justify-center items-center bg-gray-50 rounded-lg p-4",children:r.jsx("img",{src:Q,alt:"Evidence Preview",className:"max-w-full max-h-[75vh] object-contain rounded shadow-lg",onError:oe=>{oe.currentTarget.src="/placeholder-image.svg",oe.currentTarget.alt="Image not found"}})}),r.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[r.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.open(Q,"_blank"),children:[r.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]}),r.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{const oe=document.createElement("a");oe.href=Q,oe.download="evidence-document",oe.click()},children:[r.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})}const $G=[{id:1,type:"home",label:"Home",name:"John Doe",phone:"+977 9841234567",address:"123 Thamel Street, Thamel",city:"Kathmandu",landmark:"Near Durbar Square",isDefault:!0},{id:2,type:"work",label:"Office",name:"John Doe",phone:"+977 9841234567",address:"456 Lazimpat Road, Lazimpat",city:"Kathmandu",landmark:"Opposite British Embassy",isDefault:!1}],BG=e=>{switch(e){case"home":return r.jsx(rb,{className:"h-5 w-5"});case"work":return r.jsx(ND,{className:"h-5 w-5"});case"other":return r.jsx(ds,{className:"h-5 w-5"});default:return r.jsx(Bt,{className:"h-5 w-5"})}};function zG(){const e=nt(),[t,n]=j.useState($G),s=()=>{console.log("Add new address")},i=c=>{console.log("Edit address",c)},a=c=>{n(t.filter(d=>d.id!==c))},o=c=>{n(t.map(d=>({...d,isDefault:d.id===c})))};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("h1",{className:"font-semibold text-lg",children:"My Addresses"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:r.jsx(gn,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[t.length>0?t.map(c=>r.jsxs(Ne,{className:"hover:shadow-md transition-shadow",children:[r.jsx(ot,{className:"pb-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:BG(c.type)}),r.jsx("div",{children:r.jsxs(lt,{className:"text-base flex items-center gap-2",children:[c.label,c.isDefault&&r.jsx(Me,{variant:"secondary",className:"text-xs",children:"Default"})]})})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>i(c.id),className:"p-2",children:r.jsx(Wu,{className:"h-4 w-4"})}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>a(c.id),className:"p-2 text-red-600 hover:text-red-700",children:r.jsx(qa,{className:"h-4 w-4"})})]})]})}),r.jsxs(ke,{className:"space-y-2",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:c.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.phone}),r.jsx("p",{className:"text-sm",children:c.address}),r.jsx("p",{className:"text-sm",children:c.city}),c.landmark&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Landmark: ",c.landmark]})]}),!c.isDefault&&r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>o(c.id),className:"w-full mt-3",children:"Set as Default"})]})]},c.id)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Bt,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No addresses found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your delivery addresses to make ordering faster"}),r.jsxs(ne,{onClick:s,children:[r.jsx(gn,{className:"h-4 w-4 mr-2"}),"Add New Address"]})]}),t.length>0&&r.jsx(Ne,{className:"border-dashed border-2 hover:border-primary/50 transition-colors",children:r.jsx(ke,{className:"p-6 text-center",children:r.jsxs(ne,{variant:"ghost",onClick:s,className:"w-full h-16 flex flex-col items-center gap-2",children:[r.jsx(gn,{className:"h-6 w-6"}),r.jsx("span",{children:"Add New Address"})]})})})]}),r.jsx(Ar,{})]})}const VG=[{id:1,type:"card",last4:"4242",brand:"Visa",expiryMonth:12,expiryYear:2026,isDefault:!0,cardholderName:"John Doe"},{id:2,type:"card",last4:"8888",brand:"Mastercard",expiryMonth:8,expiryYear:2025,isDefault:!1,cardholderName:"John Doe"}],UG=e=>r.jsx(na,{className:"h-5 w-5"}),qG=e=>`   ${e}`;function HG(){const e=nt(),[t,n]=j.useState(VG),s=()=>{console.log("Add new payment method")},i=c=>{console.log("Edit payment method",c)},a=c=>{n(t.filter(d=>d.id!==c))},o=c=>{n(t.map(d=>({...d,isDefault:d.id===c})))};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("h1",{className:"font-semibold text-lg",children:"Payment Methods"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:r.jsx(gn,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[t.length>0?t.map(c=>r.jsxs(Ne,{className:"hover:shadow-md transition-shadow",children:[r.jsx(ot,{className:"pb-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:UG(c.brand)}),r.jsxs("div",{children:[r.jsxs(lt,{className:"text-base flex items-center gap-2",children:[c.brand," ",qG(c.last4),c.isDefault&&r.jsx(Me,{variant:"secondary",className:"text-xs",children:"Default"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires ",String(c.expiryMonth).padStart(2,"0"),"/",c.expiryYear]})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>i(c.id),className:"p-2",children:r.jsx(Wu,{className:"h-4 w-4"})}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>a(c.id),className:"p-2 text-red-600 hover:text-red-700",children:r.jsx(qa,{className:"h-4 w-4"})})]})]})}),r.jsxs(ke,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(pi,{className:"h-4 w-4"}),r.jsx("span",{children:"Secured with 256-bit SSL encryption"})]}),!c.isDefault&&r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>o(c.id),className:"w-full",children:"Set as Default"})]})]},c.id)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(na,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No payment methods"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a payment method to make checkout faster"}),r.jsxs(ne,{onClick:s,children:[r.jsx(gn,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})]}),t.length>0&&r.jsx(Ne,{className:"border-dashed border-2 hover:border-primary/50 transition-colors",children:r.jsx(ke,{className:"p-6 text-center",children:r.jsxs(ne,{variant:"ghost",onClick:s,className:"w-full h-16 flex flex-col items-center gap-2",children:[r.jsx(gn,{className:"h-6 w-6"}),r.jsx("span",{children:"Add New Payment Method"})]})})}),r.jsx(Ne,{className:"bg-green-50 border-green-200",children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pi,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-800 text-sm",children:"Secure Payments"}),r.jsx("p",{className:"text-green-700 text-xs",children:"All payment information is encrypted and secure"})]})]})})})]}),r.jsx(Ar,{})]})}const WG=[{id:"orders",title:"Orders & Delivery",icon:is,description:"Track orders, delivery issues, cancellations",articles:["How to track my order?","Delivery time and charges","Cancel or modify order","Refund policy"]},{id:"payment",title:"Payment & Billing",icon:vn,description:"Payment methods, billing, refunds",articles:["Payment methods accepted","Failed payment issues","Refund process","Billing disputes"]},{id:"account",title:"Account & Profile",icon:kD,description:"Account settings, profile management",articles:["Update profile information","Change password","Manage addresses","Privacy settings"]},{id:"technical",title:"Technical Support",icon:Zu,description:"App issues, login problems, bugs",articles:["App not working","Login issues","Payment errors","Report a bug"]}],ZG=[{icon:Hl,title:"Live Chat",description:"Chat with our support team",action:"Start Chat",available:!0},{icon:Zu,title:"Phone Support",description:"Call us for immediate help",action:"Call Now",available:!0},{icon:OD,title:"Email Support",description:"Send us an email",action:"Send Email",available:!0}];function GG(){const e=nt(),[t,n]=j.useState(""),s=a=>{switch(a){case"Start Chat":console.log("Starting live chat");break;case"Call Now":window.open("tel:+977-1-234567");break;case"Send Email":window.open("mailto:support@kathsnap.com");break}},i=WG.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())||a.articles.some(o=>o.toLowerCase().includes(t.toLowerCase())));return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("h1",{className:"font-semibold text-lg",children:"Help & Support"}),r.jsx("div",{className:"w-10"})," "]})}),r.jsx("div",{className:"p-4 bg-white border-b",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(me,{placeholder:"Search help articles...",value:t,onChange:a=>n(a.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[i.map(a=>{const o=a.icon;return r.jsxs(Ne,{className:"hover:shadow-md transition-shadow",children:[r.jsx(ot,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:r.jsx(o,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx(lt,{className:"text-base",children:a.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]}),r.jsx(fc,{className:"h-5 w-5 text-muted-foreground"})]})}),r.jsx(ke,{children:r.jsxs("div",{className:"space-y-2",children:[a.articles.slice(0,2).map((c,d)=>r.jsxs("div",{className:"text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[" ",c]},d)),a.articles.length>2&&r.jsxs("div",{className:"text-sm text-primary font-medium cursor-pointer",children:["View all ",a.articles.length," articles"]})]})})]},a.id)}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{className:"text-base",children:"Contact Support"})}),r.jsx(ke,{className:"space-y-3",children:ZG.map((a,o)=>{const c=a.icon;return r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>s(a.action),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:r.jsx(c,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:a.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:a.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[a.available&&r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx(fc,{className:"h-4 w-4 text-muted-foreground"})]})]},o)})})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{className:"text-base",children:"Frequently Asked Questions"})}),r.jsxs(ke,{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:"How do I track my order?"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Go to My Orders in your profile and click on any order to see its current status and tracking information."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:"What are the delivery charges?"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Free delivery for orders above 500. For orders below 500, a delivery fee of 40 applies."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:"How do I cancel an order?"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"You can cancel an order within 30 minutes of placement. Go to My Orders and select the cancel option."})]})]})]}),r.jsx(Ne,{className:"bg-primary/5 border-primary/20",children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(is,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-primary text-sm",children:"Support Hours"}),r.jsx("p",{className:"text-primary/80 text-xs",children:"Monday - Sunday: 6:00 AM - 10:00 PM"})]})]})})})]}),r.jsx(Ar,{})]})}const SS=()=>{var Z,B,q,F;const e=nt(),[t]=Nb(),n=t.get("vendor"),[s,i]=j.useState(null),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(""),[m,u]=j.useState(!0),[p,x]=j.useState(1),[v,w]=j.useState(!1),[b,y]=j.useState(!1),[_,N]=j.useState(null),[C,D]=j.useState(0),E=j.useRef(null),R=j.useRef(null);j.useEffect(()=>{A(),k(),Gt.initialize(),n&&H(parseInt(n));const $=z=>{if(z.key==="newMessage"&&z.newValue){const G=JSON.parse(z.newValue);G.sender!==(_==null?void 0:_.username)&&Gt.notifyNewMessage(G.sender,G.content,G.conversationId.toString(),"customer")}};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[n,_]);const A=async()=>{try{if(!await Pe.getToken())return;const{response:z,data:G}=await Fe("/profile/");z.ok&&G&&N(G)}catch($){console.error("Failed to fetch current user:",$)}};j.useEffect(()=>{s&&P(s.id)},[s]),j.useEffect(()=>{if(s){const $=setInterval(async()=>{const z=await $r.getMessages(s.id);let G=[];if(Array.isArray(z)?G=z.reverse():z!=null&&z.results&&Array.isArray(z.results)&&(G=z.results.reverse()),G.length>C){const X=G.slice(C);for(const J of X)J.sender.id!==(_==null?void 0:_.id)&&await Gt.notifyNewMessage(J.sender.username,J.content||"Sent a file",s.id.toString(),"customer")}d(G),D(G.length)},3e3);return()=>clearInterval($)}},[s,C,_]);const k=async($=1,z=!1)=>{try{const{response:G,data:X}=await Fe(`/api/messaging/conversations/?page=${$}&page_size=20`);if(!G.ok)throw new Error("Failed to fetch conversations");let J=(X==null?void 0:X.results)||[];$===1&&(J.some(U=>{var te,re;return((te=U.other_participant)==null?void 0:te.username)==="admin"||((re=U.other_participant)==null?void 0:re.id)===1})||(J=[{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}},...J])),o(z?K=>[...K,...J]:J),w(!!(X!=null&&X.next)),x($)}catch(G){console.error("Failed to load conversations:",G),$===1&&o([{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}}])}finally{u(!1),y(!1)}},O=async()=>{b||!v||(y(!0),await k(p+1,!0))},P=async $=>{try{const z=await $r.getMessages($);let G=[];Array.isArray(z)?G=z.reverse():z!=null&&z.results&&Array.isArray(z.results)&&(G=z.results.reverse()),d(G),D(G.length)}catch(z){console.error("Failed to load messages:",z),d([]),D(0)}},T=async()=>{if(!(!h.trim()||!s))try{const $=await $r.sendMessage({conversation_id:s.id,message_type:"text",content:h});d(G=>[...G,$.message]);const z={conversationId:s.id,sender:(_==null?void 0:_.username)||"Unknown",content:h,timestamp:new Date().toISOString()};localStorage.setItem("newMessage",JSON.stringify(z)),setTimeout(()=>localStorage.removeItem("newMessage"),100);try{await fetch("http://localhost:8000/api/broadcast/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:(_==null?void 0:_.username)||"Unknown",content:h,conversation_id:s.id})})}catch(G){console.log("Cross-domain broadcast failed:",G)}f("")}catch($){console.error("Failed to send message:",$)}},M=async $=>{var G;const z=(G=$.target.files)==null?void 0:G[0];if(!(!z||!s))try{const X=await $r.sendMessage({conversation_id:s.id,message_type:z.type.startsWith("image/")?"image":"file",file:z});d(J=>[...J,X.message])}catch(X){console.error("Failed to send file:",X)}},H=async $=>{try{const z=await $r.getOrCreateConversation($);i(z)}catch(z){console.error("Failed to create conversation:",z)}},W=()=>{var $;($=E.current)==null||$.scrollIntoView({behavior:"smooth"})};return j.useEffect(()=>{W()},[c]),m?r.jsx("div",{className:"h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),r.jsx("p",{children:"Loading conversations..."})]})}):s?r.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[r.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>i(null),children:r.jsx(Dt,{className:"h-4 w-4"})}),r.jsxs(Gi,{className:"h-10 w-10",children:[r.jsx(Ki,{src:ir((Z=s.other_participant)==null?void 0:Z.profile_picture)}),r.jsx(Yi,{children:(q=(B=s.other_participant)==null?void 0:B.username)==null?void 0:q.charAt(0)})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-sm",children:(F=s.other_participant)==null?void 0:F.username}),r.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map($=>{const z=_&&$.sender.id===_.id;return r.jsx("div",{className:`w-full flex ${z?"justify-end":"justify-start"} mb-2`,children:r.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow ${z?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[$.message_type==="text"&&r.jsx("p",{className:"text-sm",children:$.content}),$.message_type==="image"&&r.jsx("div",{className:"space-y-2",children:r.jsx("img",{src:ir($.file_url),alt:"Shared image",className:"rounded max-w-full h-auto"})}),$.message_type==="file"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lx,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:$.file_name})]}),r.jsxs("div",{className:"flex items-center justify-end mt-1 gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:new Date($.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),z&&r.jsx("span",{className:`text-xs ${$.is_read?"text-blue-500":"text-gray-400"}`,children:$.is_read?"":""})]})]})},$.id)}),r.jsx("div",{ref:E})]}),r.jsxs("div",{className:"bg-white border-t p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{var $;return($=R.current)==null?void 0:$.click()},children:r.jsx(Lx,{className:"h-4 w-4"})}),r.jsx(me,{value:h,onChange:$=>f($.target.value),placeholder:"Type a message...",className:"flex-1",onKeyPress:$=>$.key==="Enter"&&T()}),r.jsx(ne,{onClick:T,disabled:!h.trim(),children:r.jsx(SE,{className:"h-4 w-4"})})]}),r.jsx("input",{ref:R,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:M,className:"hidden"})]})]}):r.jsxs("div",{className:"h-screen bg-white flex flex-col",children:[r.jsx("div",{className:"border-b p-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),children:r.jsx(Dt,{className:"h-4 w-4"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Messages"})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.length===0?r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx(ib,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No conversations yet"}),r.jsx("p",{className:"text-sm",children:"Start messaging with vendors!"})]}):a.map(($,z)=>{var G,X,J,K,U,te;return r.jsxs("div",{className:"flex items-center gap-3 p-4 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{$.id===0?H(1):i($)},children:[r.jsxs("div",{className:"relative",children:[r.jsxs(Gi,{className:"h-12 w-12",children:[r.jsx(Ki,{src:ir((G=$.other_participant)==null?void 0:G.profile_picture)}),r.jsx(Yi,{children:(J=(X=$.other_participant)==null?void 0:X.username)==null?void 0:J.charAt(0)})]}),r.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-sm truncate",children:(K=$.other_participant)==null?void 0:K.username}),r.jsx("span",{className:"text-xs text-gray-500",children:$.last_message?new Date($.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:((U=$.last_message)==null?void 0:U.content)||((te=$.last_message)==null?void 0:te.file_name)||"Start conversation"})]}),$.unread_count>0&&r.jsx(Me,{className:"bg-blue-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center",children:$.unread_count})]},$.id)}),v&&r.jsx("div",{className:"p-4 text-center",children:r.jsx(ne,{onClick:O,disabled:b,variant:"outline",className:"w-full",children:b?"Loading...":"Load More Conversations"})})]})]})},Py=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3},KG=()=>{const e=27.6398805,t=85.3303725,n=27.66424179701499,s=85.3465231243003,i=Py(e,t,n,s);console.log(` Your coordinates test: ${i.toFixed(3)} km (Google shows: 5.1 km)`);const a={lat:40.7128,lon:-74.006},o={lat:34.0522,lon:-118.2437},c=Py(a.lat,a.lon,o.lat,o.lon);console.log(`Test: NYC to LA = ${c.toFixed(2)} km (Google: ~3944 km)`),console.log(` Verify on Google Maps: https://www.google.com/maps/dir/${e},${t}/${n},${s}`)};function YG(){const e=nt(),{categoryName:t}=gp(),[n,s]=j.useState({products:[]}),[i,a]=j.useState(!1),[o,c]=j.useState(xt.getLocation()),[d,h]=j.useState({page:1,hasMore:!0}),[f,m]=j.useState(new Set),[u,p]=j.useState(!1),[x,v]=j.useState(""),{addToCart:w}=us(),{toast:b}=cn(),y=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const k=xt.subscribe(c);return xt.startTracking(),KG(),_(),E(),k},[t]),j.useEffect(()=>{_(1)},[x,t]),j.useEffect(()=>{o&&(console.log(" Location updated, refetching data:",o),_(1))},[o]);const _=async(k=1)=>{a(!0);try{const O=localStorage.getItem("token"),P=O?{Authorization:`Token ${O}`}:{},T=xt.getLocation();console.log(" Frontend location check:",{userLocation:o,currentLocation:T});const M=new URLSearchParams({page:k.toString(),page_size:"100"});T?(M.append("latitude",T.latitude.toString()),M.append("longitude",T.longitude.toString()),console.log(" Sending location to API:",T)):console.log(" No location available for API call");const W=await(await fetch(`${tt}api/search/products/?${M}`,{headers:P})).json(),Z=N(W.results||[]);s(k===1?{products:Z}:F=>({products:[...F.products,...Z]}));const q=(W.results||[]).filter(F=>F.category&&F.category.toLowerCase()===t.toLowerCase()).length;h({page:k,hasMore:W.next!==null&&q>=10})}catch(O){console.error("Fetch error:",O)}finally{a(!1)}},N=k=>{const O=xt.getLocation();let T=k.filter(M=>M.category&&M.category.toLowerCase()===t.toLowerCase()).map(M=>{var B,q;const H=((B=M.images)==null?void 0:B.find(F=>F.is_primary))||((q=M.images)==null?void 0:q[0]);let W="N/A",Z=1/0;return O&&M.vendor_latitude&&M.vendor_longitude&&(Z=Py(O.latitude,O.longitude,M.vendor_latitude,M.vendor_longitude),W=`${Z.toFixed(1)} km`),{id:M.id,name:M.name,vendor:M.vendor_name||"Unknown Vendor",price:`${M.price}`,priceValue:parseFloat(M.price),image:(H==null?void 0:H.image_url)||"/placeholder-product.jpg",rating:4.5,distance:W,distanceValue:Z,deliveryTime:"30-45 mins",inStock:M.quantity>0,category:M.category}});return x==="price_low"?T.sort((M,H)=>M.priceValue-H.priceValue):x==="price_high"?T.sort((M,H)=>H.priceValue-M.priceValue):T.sort((M,H)=>M.distanceValue-H.distanceValue),T},C=()=>{!i&&d.hasMore&&_(d.page+1)},D=k=>{e(`/product/${k}`)},E=async()=>{var O;const k=localStorage.getItem("token");if(k)try{const P=await fetch(`${tt}favorites/`,{headers:{Authorization:`Token ${k}`}});if(P.ok){const T=await P.json(),M=new Set(((O=T.results)==null?void 0:O.map(H=>H.product.id))||[]);m(M)}}catch(P){console.error("Failed to fetch favorites:",P)}},R=async(k,O)=>{O.stopPropagation();const P=localStorage.getItem("token");if(!P){b({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const T=await fetch(`${tt}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${P}`},body:JSON.stringify({product_id:k})});if(T.ok){const M=await T.json(),H=new Set(f);M.is_favorite?H.add(k):H.delete(k),m(H),b({title:M.is_favorite?"Added to Favorites":"Removed from Favorites",description:M.message})}}catch{b({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},A=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.products.map(k=>r.jsxs(Ne,{className:"overflow-hidden",children:[r.jsxs("div",{className:"cursor-pointer",onClick:()=>D(k.id),children:[r.jsxs("div",{className:"aspect-square relative",children:[r.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover",onError:O=>{O.target.src="/placeholder-product.jpg"}}),r.jsx(ne,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:O=>R(k.id,O),children:r.jsx(ds,{className:`h-4 w-4 ${f.has(k.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsx(Me,{variant:k.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:k.inStock?"In Stock":"Out of Stock"})]}),r.jsxs(ke,{className:"p-3",children:[r.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:k.name}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:k.vendor}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),r.jsx("span",{children:k.rating})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{children:k.distance})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-bold text-primary text-sm",children:k.price}),r.jsx("span",{className:"text-xs text-muted-foreground",children:k.deliveryTime})]})]})]}),r.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[r.jsxs(ne,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!k.inStock,onClick:O=>{O.stopPropagation(),w(k.id,1)},children:[r.jsx(rr,{className:"h-3 w-3 mr-1"}),"Cart"]}),r.jsxs(ne,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!k.inStock,onClick:O=>{O.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:k.id,name:k.name,price:k.price.replace("",""),quantity:1,vendor_name:k.vendor,images:[{image_url:k.image}]}}})},children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},k.id))}),d.hasMore&&r.jsx("div",{className:"text-center py-4",children:r.jsxs(ne,{onClick:C,disabled:i,variant:"outline",children:[i?r.jsx(or,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:r.jsxs("div",{className:"flex items-center gap-3 p-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-lg font-semibold",children:t}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.products.length," products found"]})]}),r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>p(!0),children:r.jsx(to,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-4 pb-20",children:[n.products.length>0&&r.jsx("div",{className:"mb-6",children:A()}),n.products.length===0&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No products found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No products available in ",t," category"]})]}),i&&n.products.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),u&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>p(!1),children:r.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:k=>k.stopPropagation(),children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>p(!1),children:""})]})}),r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),r.jsx("div",{className:"space-y-2",children:y.map(k=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"sort",value:k.value,checked:x===k.value,onChange:O=>v(O.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:k.label})]},k.value))})]}),r.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{v("")},children:"Clear All Filters"})]})]})}),r.jsx(Ar,{})]})}const XG=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function QG(){const e=nt(),[t,n]=j.useState({products:[]}),[s,i]=j.useState(!1),[a,o]=j.useState(xt.getLocation()),[c,d]=j.useState({page:1,hasMore:!0}),[h,f]=j.useState(new Set),[m,u]=j.useState(!1),[p,x]=j.useState(""),{addToCart:v}=us(),{toast:w}=cn(),b=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const A=xt.subscribe(o);return y(),D(),A},[]),j.useEffect(()=>{y(1)},[p]),j.useEffect(()=>{a&&(console.log(" Location updated, refetching data:",a),y(1))},[a]);const y=async(A=1)=>{i(!0);try{const k=localStorage.getItem("token"),O=k?{Authorization:`Token ${k}`}:{},P=xt.getLocation();console.log(" Frontend location check:",{userLocation:a,currentLocation:P});const T=new URLSearchParams({page:A.toString(),page_size:"20"});P?(T.append("latitude",P.latitude.toString()),T.append("longitude",P.longitude.toString()),console.log(" Sending location to API:",P)):console.log(" No location available for API call");const H=await(await fetch(`${tt}api/search/products/?${T}`,{headers:O})).json(),W=_(H.results||[]);n(A===1?{products:W}:Z=>({products:[...Z.products,...W]})),d({page:A,hasMore:H.next!==null})}catch(k){console.error("Fetch error:",k)}finally{i(!1)}},_=A=>{const k=xt.getLocation();let P=A.filter(T=>T.featured===!0).map(T=>{var Z,B;const M=((Z=T.images)==null?void 0:Z.find(q=>q.is_primary))||((B=T.images)==null?void 0:B[0]);let H="N/A",W=1/0;return k&&T.vendor_latitude&&T.vendor_longitude&&(W=XG(k.latitude,k.longitude,T.vendor_latitude,T.vendor_longitude),H=`${W.toFixed(1)} km`),{id:T.id,name:T.name,vendor:T.vendor_name||"Unknown Vendor",distance:H,distanceValue:W,rating:4.5,price:`${T.price}`,priceValue:parseFloat(T.price),image:(M==null?void 0:M.image_url)||"/placeholder-product.jpg",inStock:T.quantity>0,category:T.category,featured:T.featured}});return p==="price_low"?P.sort((T,M)=>T.priceValue-M.priceValue):p==="price_high"?P.sort((T,M)=>M.priceValue-T.priceValue):P.sort((T,M)=>T.distanceValue-M.distanceValue),P},N=()=>{!s&&c.hasMore&&y(c.page+1)},C=A=>{e(`/product/${A}`)},D=async()=>{var k;const A=localStorage.getItem("token");if(A)try{const O=await fetch(`${tt}favorites/`,{headers:{Authorization:`Token ${A}`}});if(O.ok){const P=await O.json(),T=new Set(((k=P.results)==null?void 0:k.map(M=>M.product.id))||[]);f(T)}}catch(O){console.error("Failed to fetch favorites:",O)}},E=async(A,k)=>{k.stopPropagation();const O=localStorage.getItem("token");if(!O){w({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const P=await fetch(`${tt}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${O}`},body:JSON.stringify({product_id:A})});if(P.ok){const T=await P.json(),M=new Set(h);T.is_favorite?M.add(A):M.delete(A),f(M),w({title:T.is_favorite?"Added to Favorites":"Removed from Favorites",description:T.message})}}catch{w({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},R=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.products.map(A=>r.jsxs(Ne,{className:"overflow-hidden",children:[r.jsxs("div",{className:"cursor-pointer",onClick:()=>C(A.id),children:[r.jsxs("div",{className:"aspect-square relative",children:[r.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover",onError:k=>{k.target.src="/placeholder-product.jpg"}}),r.jsx(ne,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:k=>E(A.id,k),children:r.jsx(ds,{className:`h-4 w-4 ${h.has(A.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsx(Me,{variant:A.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:A.inStock?"In Stock":"Out of Stock"})]}),r.jsxs(ke,{className:"p-3",children:[r.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:A.name}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:A.vendor}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),r.jsx("span",{children:A.rating})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{children:A.distance})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-bold text-primary text-sm",children:A.price}),r.jsx("span",{className:"text-xs text-muted-foreground",children:A.deliveryTime})]})]})]}),r.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[r.jsxs(ne,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!A.inStock,onClick:k=>{k.stopPropagation(),v(A.id,1)},children:[r.jsx(rr,{className:"h-3 w-3 mr-1"}),"Cart"]}),r.jsxs(ne,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!A.inStock,onClick:k=>{k.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:A.id,name:A.name,price:A.price.replace("",""),quantity:1,vendor_name:A.vendor,images:[{image_url:A.image}]}}})},children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},A.id))}),c.hasMore&&r.jsx("div",{className:"text-center py-4",children:r.jsxs(ne,{onClick:N,disabled:s,variant:"outline",children:[s?r.jsx(or,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:r.jsxs("div",{className:"flex items-center gap-3 p-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-lg font-semibold",children:"Featured Products"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.products.length," products found"]})]}),r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>u(!0),children:r.jsx(to,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-4 pb-20",children:[t.products.length>0&&r.jsx("div",{className:"mb-6",children:R()}),t.products.length===0&&!s&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No featured products"}),r.jsx("p",{className:"text-muted-foreground",children:"Featured products will appear here when available"})]}),s&&t.products.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),m&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>u(!1),children:r.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:A=>A.stopPropagation(),children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:""})]})}),r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),r.jsx("div",{className:"space-y-2",children:b.map(A=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"sort",value:A.value,checked:p===A.value,onChange:k=>x(k.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:A.label})]},A.value))})]}),r.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{x("")},children:"Clear All Filters"})]})]})}),r.jsx(Ar,{})]})}const JG=(e,t,n,s)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(n),c=parseFloat(s),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),x=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return d*v/1e3};function eK(){const e=nt(),[t,n]=j.useState({products:[]}),[s,i]=j.useState(!1),[a,o]=j.useState(xt.getLocation()),[c,d]=j.useState({page:1,hasMore:!0}),[h,f]=j.useState(new Set),[m,u]=j.useState(!1),[p,x]=j.useState(""),{addToCart:v}=us(),{toast:w}=cn(),b=[{value:"",label:"Default (Rating)"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const A=xt.subscribe(o);return y(),D(),A},[]),j.useEffect(()=>{y(1)},[p]),j.useEffect(()=>{a&&(console.log(" Location updated, refetching data:",a),y(1))},[a]);const y=async(A=1)=>{i(!0);try{const k=localStorage.getItem("token"),O=k?{Authorization:`Token ${k}`,"ngrok-skip-browser-warning":"true"}:{"ngrok-skip-browser-warning":"true"},P=xt.getLocation();console.log(" Frontend location check:",{userLocation:a,currentLocation:P});const T=new URLSearchParams({page:A.toString(),page_size:"20"});P?(T.append("latitude",P.latitude.toString()),T.append("longitude",P.longitude.toString()),console.log(" Sending location to API:",P)):console.log(" No location available for API call");const H=await(await fetch(`${tt}api/search/products/?${T}`,{headers:O})).json(),W=_(H.results||[]);n(A===1?{products:W}:Z=>({products:[...Z.products,...W]})),d({page:A,hasMore:H.next!==null})}catch(k){console.error("Fetch error:",k)}finally{i(!1)}},_=A=>{const k=xt.getLocation();let O=A.map(P=>{var W,Z;const T=((W=P.images)==null?void 0:W.find(B=>B.is_primary))||((Z=P.images)==null?void 0:Z[0]);let M="N/A",H=1/0;return k&&P.vendor_latitude&&P.vendor_longitude&&(H=JG(k.latitude,k.longitude,P.vendor_latitude,P.vendor_longitude),M=`${H.toFixed(1)} km`),{id:P.id,name:P.name,vendor:P.vendor_name||"Unknown Vendor",distance:M,distanceValue:H,rating:4.5,price:`${P.price}`,priceValue:parseFloat(P.price),image:(T==null?void 0:T.image_url)||"/placeholder-product.jpg",inStock:P.quantity>0,category:P.category}});return p==="price_low"?O.sort((P,T)=>P.priceValue-T.priceValue):p==="price_high"?O.sort((P,T)=>T.priceValue-P.priceValue):O.sort((P,T)=>T.rating-P.rating),O},N=()=>{!s&&c.hasMore&&y(c.page+1)},C=A=>{e(`/product/${A}`)},D=async()=>{var k;const A=localStorage.getItem("token");if(A)try{const O=await fetch(`${tt}favorites/`,{headers:{Authorization:`Token ${A}`}});if(O.ok){const P=await O.json(),T=new Set(((k=P.results)==null?void 0:k.map(M=>M.product.id))||[]);f(T)}}catch(O){console.error("Failed to fetch favorites:",O)}},E=async(A,k)=>{k.stopPropagation();const O=localStorage.getItem("token");if(!O){w({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const P=await fetch(`${tt}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${O}`},body:JSON.stringify({product_id:A})});if(P.ok){const T=await P.json(),M=new Set(h);T.is_favorite?M.add(A):M.delete(A),f(M),w({title:T.is_favorite?"Added to Favorites":"Removed from Favorites",description:T.message})}}catch{w({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},R=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.products.map(A=>r.jsxs(Ne,{className:"overflow-hidden",children:[r.jsxs("div",{className:"cursor-pointer",onClick:()=>C(A.id),children:[r.jsxs("div",{className:"aspect-square relative",children:[r.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover",onError:k=>{k.target.src="/placeholder-product.jpg"}}),r.jsx(ne,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:k=>E(A.id,k),children:r.jsx(ds,{className:`h-4 w-4 ${h.has(A.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsx(Me,{variant:A.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:A.inStock?"In Stock":"Out of Stock"})]}),r.jsxs(ke,{className:"p-3",children:[r.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:A.name}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:A.vendor}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),r.jsx("span",{children:A.rating})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{children:A.distance})]})]}),r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx("span",{className:"font-bold text-primary text-sm",children:A.price})})]})]}),r.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[r.jsxs(ne,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!A.inStock,onClick:k=>{k.stopPropagation(),v(A.id,1)},children:[r.jsx(rr,{className:"h-3 w-3 mr-1"}),"Cart"]}),r.jsxs(ne,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!A.inStock,onClick:k=>{k.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:A.id,name:A.name,price:A.price.replace("",""),quantity:1,vendor_name:A.vendor,images:[{image_url:A.image}]}}})},children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},A.id))}),c.hasMore&&r.jsx("div",{className:"text-center py-4",children:r.jsxs(ne,{onClick:N,disabled:s,variant:"outline",children:[s?r.jsx(or,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:r.jsxs("div",{className:"flex items-center gap-3 p-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-lg font-semibold",children:"Trending Products"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.products.length," products found"]})]}),r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>u(!0),children:r.jsx(to,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-4 pb-20",children:[t.products.length>0&&r.jsx("div",{className:"mb-6",children:R()}),t.products.length===0&&!s&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No trending products"}),r.jsx("p",{className:"text-muted-foreground",children:"Trending products will appear here when available"})]}),s&&t.products.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),m&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>u(!1),children:r.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:A=>A.stopPropagation(),children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:""})]})}),r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),r.jsx("div",{className:"space-y-2",children:b.map(A=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"sort",value:A.value,checked:p===A.value,onChange:k=>x(k.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:A.label})]},A.value))})]}),r.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{x("")},children:"Clear All Filters"})]})]})}),r.jsx(Ar,{})]})}function tK(){const e=nt(),{login:t}=sa(),[n,s]=j.useState("password"),[i,a]=j.useState(""),[o,c]=j.useState(""),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(!1),[x,v]=j.useState(!1),[w,b]=j.useState(!1),[y,_]=j.useState(""),[N,C]=j.useState(!1),[D,E]=j.useState(null),R=async()=>{b(!0),_("");try{await Pe.clearAuth();const{response:T,data:M}=await Fe("/login/",{method:"POST",body:JSON.stringify({username:i,password:o})},!1);if(!T.ok)throw new Error((M==null?void 0:M.error)||"Login failed");if(M.needs_verification)C(!0),E(M.user_id),v(!0),_("Email not verified. Please verify your email with the OTP sent.");else{const H={...M.user||{id:M.user_id,email:i,user_type:"vendor"},available_roles:M.available_roles||["vendor"],user_type:M.user.user_type||"vendor"};await t(H,M.token);const{simplePersistentAuth:W}=await Je(async()=>{const{simplePersistentAuth:Z}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:Z}},[]);await W.saveVendorLogin(M.token,H),console.log("Login response:",M),console.log("profile_exists:",M.profile_exists,"is_approved:",M.is_approved),M.profile_exists?M.profile_exists&&M.is_approved?(console.log("Profile exists and approved, redirecting to dashboard"),e("/vendor/dashboard")):M.profile_exists&&!M.is_approved&&(console.log("Profile exists but not approved"),_("Your vendor application is pending approval. You will be notified once approved."),await Pe.clearAuth()):(console.log("No profile exists, redirecting to onboarding"),e("/vendor/onboarding"))}}catch(T){console.error("Vendor login error:",T),_(T.message||"Login failed. Please try again.")}finally{b(!1)}},A=async()=>{b(!0),_("");try{const{response:T,data:M}=await Fe("/send-otp/",{method:"POST",body:JSON.stringify({email:i})},!1);if(!T.ok)throw new Error((M==null?void 0:M.error)||"Failed to send OTP");v(!0),_("OTP sent successfully")}catch(T){_(T.message)}finally{b(!1)}},k=async()=>{b(!0),_("");try{const{response:T,data:M}=await Fe("/verify-otp/",{method:"POST",body:JSON.stringify({email:i,otp:d})},!1);if(!T.ok)throw new Error((M==null?void 0:M.error)||"OTP verification failed");const H={...M.user||{id:M.user_id,email:i,user_type:"vendor"},available_roles:M.available_roles||["vendor"],user_type:M.user.user_type||"vendor"};await t(H,M.token);const{simplePersistentAuth:W}=await Je(async()=>{const{simplePersistentAuth:Z}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:Z}},[]);await W.saveVendorLogin(M.token,H),console.log("OTP verification response:",M),console.log("profile_exists:",M.profile_exists,"is_approved:",M.is_approved),M.profile_exists?M.profile_exists&&M.is_approved?(console.log("Profile exists and approved, redirecting to dashboard"),e("/vendor/dashboard")):M.profile_exists&&!M.is_approved&&(console.log("Profile exists but not approved"),_("Your vendor application is pending approval. You will be notified once approved."),await Pe.clearAuth()):(console.log("No profile exists, redirecting to onboarding"),e("/vendor/onboarding"))}catch(T){console.error("Vendor OTP verification error:",T),_(T.message||"OTP verification failed. Please try again.")}finally{b(!1)}},O=async()=>{b(!0),_("");try{const{response:T,data:M}=await Fe("/update-email/",{method:"POST",body:JSON.stringify({email:f,user_id:D})},!1);if(!T.ok)throw new Error((M==null?void 0:M.error)||"Failed to update email");a(f),m(""),v(!0),_("Email updated. OTP sent to new email.")}catch(T){_(T.message)}finally{b(!1)}},P=()=>{e("/vendor/signup")};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4 relative",children:[r.jsx(LP,{currentType:"vendor"}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx("div",{className:"w-full max-w-80 mx-auto px-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"text-center",children:r.jsx("img",{src:Za,alt:"ezeyway",className:"w-16 h-16 mx-auto mb-6"})}),r.jsx("div",{className:"text-center mb-4",children:r.jsx("span",{className:"text-sm font-medium text-gray-700 bg-blue-50 px-3 py-1 rounded-full",children:"Vendor Login"})}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>s("password"),className:`pb-2 text-sm font-medium transition-colors ${n==="password"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Password"}),r.jsx("button",{onClick:()=>s("otp"),className:`pb-2 text-sm font-medium transition-colors ${n==="otp"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"OTP"})]})}),n==="password"&&r.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[r.jsx(me,{type:"text",value:i,onChange:T=>a(T.target.value),placeholder:"Username or Email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),!N&&r.jsxs("div",{className:"relative",children:[r.jsx(me,{type:u?"text":"password",value:o,onChange:T=>c(T.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),r.jsx("button",{type:"button",onClick:()=>p(!u),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):r.jsxs(r.Fragment,{children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),y&&r.jsx("p",{className:"text-red-600 text-center",children:y}),N&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(me,{type:"email",value:f,onChange:T=>m(T.target.value),placeholder:"Update email if incorrect",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),r.jsx(ne,{onClick:O,disabled:!f||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Updating...":"Update Email and Resend OTP"}),r.jsx(me,{type:"text",value:d,onChange:T=>h(T.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),r.jsx(ne,{onClick:k,disabled:d.length!==6||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Verifying...":"Verify OTP"}),r.jsx("button",{onClick:A,disabled:w,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}),!N&&r.jsx(ne,{onClick:R,disabled:!i||!o||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Logging in...":"Login"})]}),n==="otp"&&r.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[r.jsx(me,{type:"email",value:i,onChange:T=>a(T.target.value),placeholder:"Enter your email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),x?r.jsxs(r.Fragment,{children:[r.jsx(me,{type:"text",value:d,onChange:T=>h(T.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),y&&r.jsx("p",{className:"text-red-600 text-center",children:y}),r.jsx(ne,{onClick:k,disabled:d.length!==6||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Verifying...":"Verify & Login"}),r.jsx("button",{onClick:A,disabled:w,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}):r.jsx(ne,{onClick:A,disabled:!i||w,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:w?"Sending...":"Send OTP"})]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:P,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Don't have an account? Sign up"})})]})})})]})}function nK(){const e=nt(),[t,n]=j.useState(1),[s,i]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,x]=j.useState(!1),[v,w]=j.useState(!1),[b,y]=j.useState(""),_=async()=>{var R,A,k;w(!0),y("");try{const O=await fetch(tt+"register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:s,password:c,user_type:"vendor"})}),P=await O.json();if(!O.ok){const T=((R=P.username)==null?void 0:R[0])||((A=P.email)==null?void 0:A[0])||P.message||((k=Object.values(P)[0])==null?void 0:k[0])||"Failed to register";throw new Error(T)}n(2)}catch(O){y(O.message)}finally{w(!1)}},N=async R=>{w(!0),y("");try{const A=await fetch(tt+"verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,otp:R})}),k=await A.json();if(!A.ok)throw new Error(k.error||"Verification failed");localStorage.setItem("token",k.token),e("/vendor/onboarding")}catch(A){y(A.message)}finally{w(!1)}},C=R=>{u(R),R.length===6&&N(R)},D=async()=>{w(!0),y("");try{const R=await fetch(tt+"send-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),A=await R.json();if(!R.ok)throw new Error(A.error||"Failed to resend OTP");y("OTP resent successfully")}catch(R){y(R.message)}finally{w(!1)}},E=()=>{e("/vendor/login")};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[r.jsx("button",{onClick:E,className:"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors",children:" Back"}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"w-full max-w-80 mx-auto px-4",children:[t===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:Za,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Join as Seller"})]}),r.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[r.jsx(me,{type:"email",value:s,onChange:R=>i(R.target.value),placeholder:"Enter your email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),r.jsx(me,{type:"text",value:a,onChange:R=>o(R.target.value),placeholder:"Choose username",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),r.jsxs("div",{className:"relative",children:[r.jsx(me,{type:p?"text":"password",value:c,onChange:R=>d(R.target.value),placeholder:"Create password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),r.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):r.jsxs(r.Fragment,{children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),r.jsx(me,{type:"password",value:h,onChange:R=>f(R.target.value),placeholder:"Confirm password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),b&&r.jsx("p",{className:"text-red-600 text-center",children:b}),r.jsx(ne,{onClick:_,disabled:!s||!a||!c||!h||c!==h||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Creating Account...":"Join as Seller"})]})]}),t===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:Za,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verify Email"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Code sent to ",s]})]}),r.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[r.jsx(me,{type:"text",value:m,onChange:R=>C(R.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-widest w-80"}),v&&r.jsx("div",{className:"text-center text-blue-600",children:"Verifying..."}),b&&r.jsx("p",{className:"text-red-600 text-center",children:b}),r.jsx("button",{onClick:()=>n(1),className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Change details"}),r.jsx("button",{onClick:D,disabled:v,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend code"})]})]})]})})]})}const rK=_w.divIcon({className:"custom-marker",html:'<div style="background-color: #ff0000; width: 20px; height: 20px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>',iconSize:[20,20],iconAnchor:[10,10]});function sK(){var A;const e=nt(),[t,n]=j.useState(0),[s,i]=j.useState({location:{lat:27.7172,lng:85.324,address:""},shopName:"",ownerName:"",phone:"",email:"",shopAddress:"",city:"",state:"",pincode:"",shopRegDoc:null,extraDoc:null,bankAccount:"",accountHolderName:"",bankName:"",ifscCode:"",gstNumber:"",panNumber:"",deliveryRadius:"",minOrderAmount:"",vendorType:"",categories:[],description:""}),[a,o]=j.useState(""),[c,d]=j.useState(!1),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,x]=j.useState([]),v=["Location","Shop Info","Address","Documents","Payment","Business Type","Categories","Review"],w=[{value:"retailer",label:"Retailer"},{value:"wholesaler",label:"Wholesaler"},{value:"manufacturer",label:"Manufacturer"},{value:"service_provider",label:"Service Provider"},{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"}];j.useEffect(()=>{(async()=>{try{const O=await fetch(tt+"categories/"),P=await O.json();O.ok&&x(P.categories.map(T=>T.name))}catch(O){console.error("Error fetching categories:",O)}})()},[]);const b=({lat:k,lng:O})=>(CL().setView([k,O],13),null),y=()=>(EL({click(k){const{lat:O,lng:P}=k.latlng;i(T=>({...T,location:{...T.location,lat:O,lng:P}})),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${O}&lon=${P}`).then(T=>T.json()).then(T=>{T.display_name&&i(M=>({...M,location:{...M.location,address:T.display_name}}))}).catch(T=>console.error("Error fetching address:",T))}}),null),_=()=>{o(""),navigator.geolocation?navigator.geolocation.getCurrentPosition(k=>{const{latitude:O,longitude:P}=k.coords;i(T=>({...T,location:{...T.location,lat:O,lng:P}})),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${O}&lon=${P}`).then(T=>T.json()).then(T=>{T.display_name&&i(M=>({...M,location:{...M.location,address:T.display_name}}))}).catch(T=>{console.error("Error fetching address:",T),o("Unable to fetch address for this location.")})},k=>{switch(console.error("Geolocation error:",k),k.code){case k.PERMISSION_DENIED:o("Location access denied. Please allow location permissions.");break;case k.POSITION_UNAVAILABLE:o("Location information is unavailable.");break;case k.TIMEOUT:o("The request to get your location timed out.");break;default:o("An unknown error occurred while fetching your location.");break}}):o("Geolocation is not supported by your browser.")},N=()=>{const k=[{field:"shopName",label:"Shop Name"},{field:"ownerName",label:"Owner Name"},{field:"email",label:"Email"},{field:"phone",label:"Phone"},{field:"shopAddress",label:"Shop Address"},{field:"city",label:"City"},{field:"state",label:"State"},{field:"pincode",label:"PIN Code"},{field:"vendorType",label:"Business Type"}];for(const{field:O,label:P}of k)if(!s[O])return f(`${P} is required.`),!1;return s.location.address?!0:(f("Location address is required."),!1)},C=async()=>{if(t<v.length-1)n(t+1);else{if(console.log("Starting form submission..."),!N()){console.log("Validation failed:",h);return}d(!0),f(""),u("");const k=new FormData;k.append("business_name",s.shopName),k.append("owner_name",s.ownerName),k.append("business_email",s.email),k.append("business_phone",s.phone),k.append("business_address",s.shopAddress),k.append("location_address",s.location.address),k.append("city",s.city),k.append("state",s.state),k.append("pincode",s.pincode),k.append("latitude",s.location.lat.toString()),k.append("longitude",s.location.lng.toString()),k.append("business_type",s.vendorType),k.append("categories",JSON.stringify(s.categories)),k.append("description",s.description||""),k.append("account_number",s.bankAccount||""),k.append("account_holder_name",s.accountHolderName||""),k.append("bank_name",s.bankName||""),k.append("ifsc_code",s.ifscCode||""),k.append("gst_number",s.gstNumber||""),k.append("pan_number",s.panNumber||""),k.append("delivery_radius",s.deliveryRadius||""),k.append("min_order_amount",s.minOrderAmount||""),s.shopRegDoc&&k.append("business_license_file",s.shopRegDoc);try{const O=localStorage.getItem("token");console.log("Submitting vendor profile to backend...");const P=await fetch(tt+"vendor-profiles/",{method:"POST",headers:{Authorization:`Token ${O}`},body:k}),T=await P.json();if(console.log("Profile submission response:",P.status,T),!P.ok){f(T.detail||T.error||"Failed to submit vendor profile. Please check your inputs."),console.error("Profile submission failed:",T);return}if(console.log("Profile created with ID:",T.id),s.extraDoc){console.log("Uploading extra document...");const M=new FormData;M.append("vendor_profile",T.id.toString()),M.append("document",s.extraDoc);const H=await fetch(tt+"vendor-documents/",{method:"POST",headers:{Authorization:`Token ${O}`},body:M}),W=await H.json();if(console.log("Extra document upload response:",H.status,W),!H.ok){f("Profile submitted but failed to upload extra document."),console.error("Extra document upload failed:",W);return}console.log("Extra document uploaded successfully.")}T.is_approved?(u("Vendor profile submitted and approved successfully!"),console.log("Vendor approved. Navigating to dashboard..."),e("/vendor/dashboard")):(u("Your vendor application has been submitted successfully and is pending approval. You will be notified once approved by the admin."),console.log("Vendor not approved yet. Redirecting to login page."),setTimeout(()=>{e("/vendor/login")},2e3))}catch(O){console.error("Submission error:",O),f("An unexpected error occurred. Please try again.")}finally{d(!1)}}},D=()=>{t>0&&n(t-1)},E=(k,O)=>{i(P=>({...P,[k]:O}))},R=k=>{const O=s.categories.includes(k)?s.categories.filter(P=>P!==k):[...s.categories,k];E("categories",O)};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Complete Your Setup"}),r.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Step ",t+1," of ",v.length]})]}),r.jsx("div",{className:"flex overflow-x-auto mb-8 pb-2",children:v.map((k,O)=>r.jsxs("button",{onClick:()=>n(O),className:`flex-shrink-0 px-4 py-2 text-xs font-medium whitespace-nowrap ${O===t?"text-blue-600 border-b-2 border-blue-600":O<t?"text-green-600":"text-gray-400"}`,children:[O<t?"":O+1,". ",k]},k))}),r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[c&&r.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsx("p",{className:"text-blue-600",children:"Submitting your application..."})}),h&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-600",children:h})}),m&&r.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:r.jsx("p",{className:"text-green-600",children:m})}),t===0&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Choose Your Location"}),r.jsx("div",{className:"h-48 rounded-lg",children:r.jsxs(PL,{center:[s.location.lat,s.location.lng],zoom:13,style:{height:"100%",width:"100%",borderRadius:"0.5rem"},children:[r.jsx(TL,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),r.jsx(wy,{position:[s.location.lat,s.location.lng],icon:rK}),r.jsx(y,{}),r.jsx(b,{lat:s.location.lat,lng:s.location.lng})]})}),r.jsx(ne,{onClick:_,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Use Live Location"}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a}),r.jsx(me,{placeholder:"Selected address will appear here",value:s.location.address,onChange:k=>E("location",{...s.location,address:k.target.value})})]}),t===1&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Shop Information"}),r.jsx(me,{placeholder:"Shop Name",value:s.shopName,onChange:k=>E("shopName",k.target.value)}),r.jsx(me,{placeholder:"Owner Name",value:s.ownerName,onChange:k=>E("ownerName",k.target.value)}),r.jsx(me,{placeholder:"Phone Number",value:s.phone,onChange:k=>E("phone",k.target.value)}),r.jsx(me,{placeholder:"Email Address",value:s.email,onChange:k=>E("email",k.target.value)}),r.jsx(me,{placeholder:"PAN Number (Optional)",value:s.panNumber,onChange:k=>E("panNumber",k.target.value)})]}),t===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Shop Address"}),r.jsx(me,{placeholder:"Full Shop Address",value:s.shopAddress,onChange:k=>E("shopAddress",k.target.value)}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(me,{placeholder:"City",value:s.city,onChange:k=>E("city",k.target.value)}),r.jsx(me,{placeholder:"State",value:s.state,onChange:k=>E("state",k.target.value)})]}),r.jsx(me,{placeholder:"PIN Code",value:s.pincode,onChange:k=>E("pincode",k.target.value)})]}),t===3&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Upload Documents"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Shop Registration Document"}),r.jsx("input",{type:"file",className:"w-full text-sm",onChange:k=>E("shopRegDoc",k.target.files[0])})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Additional Document (Optional)"}),r.jsx("input",{type:"file",className:"w-full text-sm",onChange:k=>E("extraDoc",k.target.files[0])})]})]})]}),t===4&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Payment Details"}),r.jsx(me,{placeholder:"Bank Account Number",value:s.bankAccount,onChange:k=>E("bankAccount",k.target.value)}),r.jsx(me,{placeholder:"Account Holder/Organization Name",value:s.accountHolderName,onChange:k=>E("accountHolderName",k.target.value)}),r.jsx(me,{placeholder:"Bank Name",value:s.bankName,onChange:k=>E("bankName",k.target.value)}),r.jsx(me,{placeholder:"Minimum Order Amount (Optional)",value:s.minOrderAmount,onChange:k=>E("minOrderAmount",k.target.value)})]}),t===5&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Business Type"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:w.map(k=>r.jsx("button",{onClick:()=>E("vendorType",k.value),className:`p-3 text-sm rounded-lg border ${s.vendorType===k.value?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"}`,children:k.label},k.value))})]}),t===6&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Product Categories"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Select categories you'll sell"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.length>0?p.map(k=>r.jsx("button",{onClick:()=>R(k),className:`p-3 text-sm rounded-lg border ${s.categories.includes(k)?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"}`,children:k},k)):r.jsx("div",{className:"col-span-2 text-center text-gray-500 py-4",children:"No categories available. Please contact admin."})}),r.jsx(me,{placeholder:"Business Description (Optional)",value:s.description,onChange:k=>E("description",k.target.value)})]}),t===7&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Review & Submit"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Shop:"})," ",s.shopName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Owner:"})," ",s.ownerName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",((A=w.find(k=>k.value===s.vendorType))==null?void 0:A.label)||s.vendorType]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Categories:"})," ",s.categories.join(", ")]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Location:"})," ",s.city,", ",s.state]}),r.jsxs("p",{children:[r.jsx("strong",{children:"GST Number:"})," ",s.gstNumber||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"PAN Number:"})," ",s.panNumber||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Delivery Radius:"})," ",s.deliveryRadius||"N/A"," km"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Minimum Order Amount:"})," ",s.minOrderAmount||"N/A"]})]}),r.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm text-yellow-800",children:"Your application will be reviewed within 24-48 hours. You'll receive an email notification once approved."})})]})]}),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsx(ne,{onClick:D,disabled:t===0,variant:"outline",className:"px-6",children:"Previous"}),r.jsx(ne,{onClick:C,disabled:c,className:"px-6 bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:c?"Submitting...":t===v.length-1?"Submit for Approval":"Next"})]})]})})}var rh=e=>e.type==="checkbox",No=e=>e instanceof Date,fr=e=>e==null;const XR=e=>typeof e=="object";var Nn=e=>!fr(e)&&!Array.isArray(e)&&XR(e)&&!No(e),QR=e=>Nn(e)&&e.target?rh(e.target)?e.target.checked:e.target.value:e,iK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JR=(e,t)=>e.has(iK(t)),aK=e=>{const t=e.constructor&&e.constructor.prototype;return Nn(t)&&t.hasOwnProperty("isPrototypeOf")},Mw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function On(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Mw&&(e instanceof Blob||s))&&(n||Nn(e)))if(t=n?[]:{},!n&&!aK(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=On(e[i]));else return e;return t}var Up=e=>/^\w*$/.test(e),jn=e=>e===void 0,Iw=e=>Array.isArray(e)?e.filter(Boolean):[],Dw=e=>Iw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Re=(e,t,n)=>{if(!t||!Nn(e))return n;const s=(Up(t)?[t]:Dw(t)).reduce((i,a)=>fr(i)?i:i[a],e);return jn(s)||s===e?jn(e[t])?n:e[t]:s},Mr=e=>typeof e=="boolean",Lt=(e,t,n)=>{let s=-1;const i=Up(t)?[t]:Dw(t),a=i.length,o=a-1;for(;++s<a;){const c=i[s];let d=n;if(s!==o){const h=e[c];d=Nn(h)||Array.isArray(h)?h:isNaN(+i[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const xm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ks={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ci={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},e4=_e.createContext(null);e4.displayName="HookFormContext";const Fw=()=>_e.useContext(e4);var t4=(e,t,n,s=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==ks.all&&(t._proxyFormState[o]=!s||ks.all),n&&(n[o]=!0),e[o]}});return i};const $w=typeof window<"u"?_e.useLayoutEffect:_e.useEffect;function oK(e){const t=Fw(),{control:n=t.control,disabled:s,name:i,exact:a}=e||{},[o,c]=_e.useState(n._formState),d=_e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $w(()=>n._subscribe({name:i,formState:d.current,exact:a,callback:h=>{!s&&c({...n._formState,...h})}}),[i,s,a]),_e.useEffect(()=>{d.current.isValid&&n._setValid(!0)},[n]),_e.useMemo(()=>t4(o,n,d.current,!1),[o,n])}var ni=e=>typeof e=="string",n4=(e,t,n,s,i)=>ni(e)?(s&&t.watch.add(e),Re(n,e,i)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),Re(n,a))):(s&&(t.watchAll=!0),n),Ty=e=>fr(e)||!XR(e);function Li(e,t,n=new WeakSet){if(Ty(e)||Ty(t))return e===t;if(No(e)&&No(t))return e.getTime()===t.getTime();const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of s){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=t[a];if(No(o)&&No(c)||Nn(o)&&Nn(c)||Array.isArray(o)&&Array.isArray(c)?!Li(o,c,n):o!==c)return!1}}return!0}function lK(e){const t=Fw(),{control:n=t.control,name:s,defaultValue:i,disabled:a,exact:o,compute:c}=e||{},d=_e.useRef(i),h=_e.useRef(c),f=_e.useRef(void 0);h.current=c;const m=_e.useMemo(()=>n._getWatch(s,d.current),[n,s]),[u,p]=_e.useState(h.current?h.current(m):m);return $w(()=>n._subscribe({name:s,formState:{values:!0},exact:o,callback:x=>{if(!a){const v=n4(s,n._names,x.values||n._formValues,!1,d.current);if(h.current){const w=h.current(v);Li(w,f.current)||(p(w),f.current=w)}else p(v)}}}),[n,a,s,o]),_e.useEffect(()=>n._removeUnmounted()),u}function cK(e){const t=Fw(),{name:n,disabled:s,control:i=t.control,shouldUnregister:a,defaultValue:o}=e,c=JR(i._names.array,n),d=_e.useMemo(()=>Re(i._formValues,n,Re(i._defaultValues,n,o)),[i,n,o]),h=lK({control:i,name:n,defaultValue:d,exact:!0}),f=oK({control:i,name:n,exact:!0}),m=_e.useRef(e),u=_e.useRef(i.register(n,{...e.rules,value:h,...Mr(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const p=_e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Re(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!Re(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Re(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Re(f.validatingFields,n)},error:{enumerable:!0,get:()=>Re(f.errors,n)}}),[f,n]),x=_e.useCallback(y=>u.current.onChange({target:{value:QR(y),name:n},type:xm.CHANGE}),[n]),v=_e.useCallback(()=>u.current.onBlur({target:{value:Re(i._formValues,n),name:n},type:xm.BLUR}),[n,i._formValues]),w=_e.useCallback(y=>{const _=Re(i._fields,n);_&&y&&(_._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:N=>y.setCustomValidity(N),reportValidity:()=>y.reportValidity()})},[i._fields,n]),b=_e.useMemo(()=>({name:n,value:h,...Mr(s)||f.disabled?{disabled:f.disabled||s}:{},onChange:x,onBlur:v,ref:w}),[n,s,f.disabled,x,v,w,h]);return _e.useEffect(()=>{const y=i._options.shouldUnregister||a;i.register(n,{...m.current.rules,...Mr(m.current.disabled)?{disabled:m.current.disabled}:{}});const _=(N,C)=>{const D=Re(i._fields,N);D&&D._f&&(D._f.mount=C)};if(_(n,!0),y){const N=On(Re(i._options.defaultValues,n));Lt(i._defaultValues,n,N),jn(Re(i._formValues,n))&&Lt(i._formValues,n,N)}return!c&&i.register(n),()=>{(c?y&&!i._state.action:y)?i.unregister(n):_(n,!1)}},[n,i,c,a]),_e.useEffect(()=>{i._setDisabledField({disabled:s,name:n})},[s,n,i]),_e.useMemo(()=>({field:b,formState:f,fieldState:p}),[b,f,p])}const St=e=>e.render(cK(e));var r4=(e,t,n,s,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:i||!0}}:{},Qd=e=>Array.isArray(e)?e:[e],kS=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},jr=e=>Nn(e)&&!Object.keys(e).length,Bw=e=>e.type==="file",Cs=e=>typeof e=="function",ym=e=>{if(!Mw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},s4=e=>e.type==="select-multiple",zw=e=>e.type==="radio",dK=e=>zw(e)||rh(e),Ov=e=>ym(e)&&e.isConnected;function uK(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=jn(e)?s++:e[t[s++]];return e}function hK(e){for(const t in e)if(e.hasOwnProperty(t)&&!jn(e[t]))return!1;return!0}function En(e,t){const n=Array.isArray(t)?t:Up(t)?[t]:Dw(t),s=n.length===1?e:uK(e,n),i=n.length-1,a=n[i];return s&&delete s[a],i!==0&&(Nn(s)&&jr(s)||Array.isArray(s)&&hK(s))&&En(e,n.slice(0,-1)),e}var i4=e=>{for(const t in e)if(Cs(e[t]))return!0;return!1};function bm(e,t={}){const n=Array.isArray(e);if(Nn(e)||n)for(const s in e)Array.isArray(e[s])||Nn(e[s])&&!i4(e[s])?(t[s]=Array.isArray(e[s])?[]:{},bm(e[s],t[s])):fr(e[s])||(t[s]=!0);return t}function a4(e,t,n){const s=Array.isArray(e);if(Nn(e)||s)for(const i in e)Array.isArray(e[i])||Nn(e[i])&&!i4(e[i])?jn(t)||Ty(n[i])?n[i]=Array.isArray(e[i])?bm(e[i],[]):{...bm(e[i])}:a4(e[i],fr(t)?{}:t[i],n[i]):n[i]=!Li(e[i],t[i]);return n}var wd=(e,t)=>a4(e,t,bm(t));const CS={value:!1,isValid:!1},ES={value:!0,isValid:!0};var o4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jn(e[0].attributes.value)?jn(e[0].value)||e[0].value===""?ES:{value:e[0].value,isValid:!0}:ES:CS}return CS},l4=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>jn(e)?e:t?e===""?NaN:e&&+e:n&&ni(e)?new Date(e):s?s(e):e;const PS={isValid:!1,value:null};var c4=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,PS):PS;function TS(e){const t=e.ref;return Bw(t)?t.files:zw(t)?c4(e.refs).value:s4(t)?[...t.selectedOptions].map(({value:n})=>n):rh(t)?o4(e.refs).value:l4(jn(t.value)?e.ref.value:t.value,e)}var fK=(e,t,n,s)=>{const i={};for(const a of e){const o=Re(t,a);o&&Lt(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:s}},wm=e=>e instanceof RegExp,jd=e=>jn(e)?e:wm(e)?e.source:Nn(e)?wm(e.value)?e.value.source:e.value:e,AS=e=>({isOnSubmit:!e||e===ks.onSubmit,isOnBlur:e===ks.onBlur,isOnChange:e===ks.onChange,isOnAll:e===ks.all,isOnTouch:e===ks.onTouched});const OS="AsyncFunction";var mK=e=>!!e&&!!e.validate&&!!(Cs(e.validate)&&e.validate.constructor.name===OS||Nn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===OS)),pK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),LS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Jd=(e,t,n,s)=>{for(const i of n||Object.keys(e)){const a=Re(e,i);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Jd(c,t))break}else if(Nn(c)&&Jd(c,t))break}}};function RS(e,t,n){const s=Re(e,n);if(s||Up(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Re(t,a),c=Re(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};i.pop()}return{name:n}}var gK=(e,t,n,s)=>{n(e);const{name:i,...a}=e;return jr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||ks.all))},vK=(e,t,n)=>!e||!t||e===t||Qd(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),xK=(e,t,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?s.isOnBlur:i.isOnBlur)?!e:(n?s.isOnChange:i.isOnChange)?e:!0,yK=(e,t)=>!Iw(Re(e,t)).length&&En(e,t),bK=(e,t,n)=>{const s=Qd(Re(e,n));return Lt(s,"root",t[n]),Lt(e,n,s),e},_f=e=>ni(e);function MS(e,t,n="validate"){if(_f(e)||Array.isArray(e)&&e.every(_f)||Mr(e)&&!e)return{type:n,message:_f(e)?e:"",ref:t}}var vl=e=>Nn(e)&&!wm(e)?e:{value:e,message:""},IS=async(e,t,n,s,i,a)=>{const{ref:o,refs:c,required:d,maxLength:h,minLength:f,min:m,max:u,pattern:p,validate:x,name:v,valueAsNumber:w,mount:b}=e._f,y=Re(n,v);if(!b||t.has(v))return{};const _=c?c[0]:o,N=P=>{i&&_.reportValidity&&(_.setCustomValidity(Mr(P)?"":P||""),_.reportValidity())},C={},D=zw(o),E=rh(o),R=D||E,A=(w||Bw(o))&&jn(o.value)&&jn(y)||ym(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,k=r4.bind(null,v,s,C),O=(P,T,M,H=Ci.maxLength,W=Ci.minLength)=>{const Z=P?T:M;C[v]={type:P?H:W,message:Z,ref:o,...k(P?H:W,Z)}};if(a?!Array.isArray(y)||!y.length:d&&(!R&&(A||fr(y))||Mr(y)&&!y||E&&!o4(c).isValid||D&&!c4(c).isValid)){const{value:P,message:T}=_f(d)?{value:!!d,message:d}:vl(d);if(P&&(C[v]={type:Ci.required,message:T,ref:_,...k(Ci.required,T)},!s))return N(T),C}if(!A&&(!fr(m)||!fr(u))){let P,T;const M=vl(u),H=vl(m);if(!fr(y)&&!isNaN(y)){const W=o.valueAsNumber||y&&+y;fr(M.value)||(P=W>M.value),fr(H.value)||(T=W<H.value)}else{const W=o.valueAsDate||new Date(y),Z=F=>new Date(new Date().toDateString()+" "+F),B=o.type=="time",q=o.type=="week";ni(M.value)&&y&&(P=B?Z(y)>Z(M.value):q?y>M.value:W>new Date(M.value)),ni(H.value)&&y&&(T=B?Z(y)<Z(H.value):q?y<H.value:W<new Date(H.value))}if((P||T)&&(O(!!P,M.message,H.message,Ci.max,Ci.min),!s))return N(C[v].message),C}if((h||f)&&!A&&(ni(y)||a&&Array.isArray(y))){const P=vl(h),T=vl(f),M=!fr(P.value)&&y.length>+P.value,H=!fr(T.value)&&y.length<+T.value;if((M||H)&&(O(M,P.message,T.message),!s))return N(C[v].message),C}if(p&&!A&&ni(y)){const{value:P,message:T}=vl(p);if(wm(P)&&!y.match(P)&&(C[v]={type:Ci.pattern,message:T,ref:o,...k(Ci.pattern,T)},!s))return N(T),C}if(x){if(Cs(x)){const P=await x(y,n),T=MS(P,_);if(T&&(C[v]={...T,...k(Ci.validate,T.message)},!s))return N(T.message),C}else if(Nn(x)){let P={};for(const T in x){if(!jr(P)&&!s)break;const M=MS(await x[T](y,n),_,T);M&&(P={...M,...k(T,M.message)},N(M.message),s&&(C[v]=P))}if(!jr(P)&&(C[v]={ref:_,...P},!s))return C}}return N(!0),C};const wK={mode:ks.onSubmit,reValidateMode:ks.onChange,shouldFocusError:!0};function jK(e={}){let t={...wK,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Cs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},i=Nn(t.defaultValues)||Nn(t.values)?On(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:On(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const u={array:kS(),state:kS()},p=t.criteriaMode===ks.all,x=Q=>se=>{clearTimeout(h),h=setTimeout(Q,se)},v=async Q=>{if(!t.disabled&&(f.isValid||m.isValid||Q)){const se=t.resolver?jr((await E()).errors):await A(s,!0);se!==n.isValid&&u.state.next({isValid:se})}},w=(Q,se)=>{!t.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((Q||Array.from(c.mount)).forEach(ie=>{ie&&(se?Lt(n.validatingFields,ie,se):En(n.validatingFields,ie))}),u.state.next({validatingFields:n.validatingFields,isValidating:!jr(n.validatingFields)}))},b=(Q,se=[],ie,we,je=!0,ve=!0)=>{if(we&&ie&&!t.disabled){if(o.action=!0,ve&&Array.isArray(Re(s,Q))){const Ae=ie(Re(s,Q),we.argA,we.argB);je&&Lt(s,Q,Ae)}if(ve&&Array.isArray(Re(n.errors,Q))){const Ae=ie(Re(n.errors,Q),we.argA,we.argB);je&&Lt(n.errors,Q,Ae),yK(n.errors,Q)}if((f.touchedFields||m.touchedFields)&&ve&&Array.isArray(Re(n.touchedFields,Q))){const Ae=ie(Re(n.touchedFields,Q),we.argA,we.argB);je&&Lt(n.touchedFields,Q,Ae)}(f.dirtyFields||m.dirtyFields)&&(n.dirtyFields=wd(i,a)),u.state.next({name:Q,isDirty:O(Q,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Lt(a,Q,se)},y=(Q,se)=>{Lt(n.errors,Q,se),u.state.next({errors:n.errors})},_=Q=>{n.errors=Q,u.state.next({errors:n.errors,isValid:!1})},N=(Q,se,ie,we)=>{const je=Re(s,Q);if(je){const ve=Re(a,Q,jn(ie)?Re(i,Q):ie);jn(ve)||we&&we.defaultChecked||se?Lt(a,Q,se?ve:TS(je._f)):M(Q,ve),o.mount&&v()}},C=(Q,se,ie,we,je)=>{let ve=!1,Ae=!1;const et={name:Q};if(!t.disabled){if(!ie||we){(f.isDirty||m.isDirty)&&(Ae=n.isDirty,n.isDirty=et.isDirty=O(),ve=Ae!==et.isDirty);const Xe=Li(Re(i,Q),se);Ae=!!Re(n.dirtyFields,Q),Xe?En(n.dirtyFields,Q):Lt(n.dirtyFields,Q,!0),et.dirtyFields=n.dirtyFields,ve=ve||(f.dirtyFields||m.dirtyFields)&&Ae!==!Xe}if(ie){const Xe=Re(n.touchedFields,Q);Xe||(Lt(n.touchedFields,Q,ie),et.touchedFields=n.touchedFields,ve=ve||(f.touchedFields||m.touchedFields)&&Xe!==ie)}ve&&je&&u.state.next(et)}return ve?et:{}},D=(Q,se,ie,we)=>{const je=Re(n.errors,Q),ve=(f.isValid||m.isValid)&&Mr(se)&&n.isValid!==se;if(t.delayError&&ie?(d=x(()=>y(Q,ie)),d(t.delayError)):(clearTimeout(h),d=null,ie?Lt(n.errors,Q,ie):En(n.errors,Q)),(ie?!Li(je,ie):je)||!jr(we)||ve){const Ae={...we,...ve&&Mr(se)?{isValid:se}:{},errors:n.errors,name:Q};n={...n,...Ae},u.state.next(Ae)}},E=async Q=>{w(Q,!0);const se=await t.resolver(a,t.context,fK(Q||c.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return w(Q),se},R=async Q=>{const{errors:se}=await E(Q);if(Q)for(const ie of Q){const we=Re(se,ie);we?Lt(n.errors,ie,we):En(n.errors,ie)}else n.errors=se;return se},A=async(Q,se,ie={valid:!0})=>{for(const we in Q){const je=Q[we];if(je){const{_f:ve,...Ae}=je;if(ve){const et=c.array.has(ve.name),Xe=je._f&&mK(je._f);Xe&&f.validatingFields&&w([we],!0);const zt=await IS(je,c.disabled,a,p,t.shouldUseNativeValidation&&!se,et);if(Xe&&f.validatingFields&&w([we]),zt[ve.name]&&(ie.valid=!1,se))break;!se&&(Re(zt,ve.name)?et?bK(n.errors,zt,ve.name):Lt(n.errors,ve.name,zt[ve.name]):En(n.errors,ve.name))}!jr(Ae)&&await A(Ae,se,ie)}}return ie.valid},k=()=>{for(const Q of c.unMount){const se=Re(s,Q);se&&(se._f.refs?se._f.refs.every(ie=>!Ov(ie)):!Ov(se._f.ref))&&U(Q)}c.unMount=new Set},O=(Q,se)=>!t.disabled&&(Q&&se&&Lt(a,Q,se),!Li(F(),i)),P=(Q,se,ie)=>n4(Q,c,{...o.mount?a:jn(se)?i:ni(Q)?{[Q]:se}:se},ie,se),T=Q=>Iw(Re(o.mount?a:i,Q,t.shouldUnregister?Re(i,Q,[]):[])),M=(Q,se,ie={})=>{const we=Re(s,Q);let je=se;if(we){const ve=we._f;ve&&(!ve.disabled&&Lt(a,Q,l4(se,ve)),je=ym(ve.ref)&&fr(se)?"":se,s4(ve.ref)?[...ve.ref.options].forEach(Ae=>Ae.selected=je.includes(Ae.value)):ve.refs?rh(ve.ref)?ve.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(je)?Ae.checked=!!je.find(et=>et===Ae.value):Ae.checked=je===Ae.value||!!je)}):ve.refs.forEach(Ae=>Ae.checked=Ae.value===je):Bw(ve.ref)?ve.ref.value="":(ve.ref.value=je,ve.ref.type||u.state.next({name:Q,values:On(a)})))}(ie.shouldDirty||ie.shouldTouch)&&C(Q,je,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&q(Q)},H=(Q,se,ie)=>{for(const we in se){if(!se.hasOwnProperty(we))return;const je=se[we],ve=Q+"."+we,Ae=Re(s,ve);(c.array.has(Q)||Nn(je)||Ae&&!Ae._f)&&!No(je)?H(ve,je,ie):M(ve,je,ie)}},W=(Q,se,ie={})=>{const we=Re(s,Q),je=c.array.has(Q),ve=On(se);Lt(a,Q,ve),je?(u.array.next({name:Q,values:On(a)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&ie.shouldDirty&&u.state.next({name:Q,dirtyFields:wd(i,a),isDirty:O(Q,ve)})):we&&!we._f&&!fr(ve)?H(Q,ve,ie):M(Q,ve,ie),LS(Q,c)&&u.state.next({...n,name:Q}),u.state.next({name:o.mount?Q:void 0,values:On(a)})},Z=async Q=>{o.mount=!0;const se=Q.target;let ie=se.name,we=!0;const je=Re(s,ie),ve=Xe=>{we=Number.isNaN(Xe)||No(Xe)&&isNaN(Xe.getTime())||Li(Xe,Re(a,ie,Xe))},Ae=AS(t.mode),et=AS(t.reValidateMode);if(je){let Xe,zt;const _t=se.type?TS(je._f):QR(Q),Vt=Q.type===xm.BLUR||Q.type===xm.FOCUS_OUT,oe=!pK(je._f)&&!t.resolver&&!Re(n.errors,ie)&&!je._f.deps||xK(Vt,Re(n.touchedFields,ie),n.isSubmitted,et,Ae),ze=LS(ie,c,Vt);Lt(a,ie,_t),Vt?(je._f.onBlur&&je._f.onBlur(Q),d&&d(0)):je._f.onChange&&je._f.onChange(Q);const Ze=C(ie,_t,Vt),ut=!jr(Ze)||ze;if(!Vt&&u.state.next({name:ie,type:Q.type,values:On(a)}),oe)return(f.isValid||m.isValid)&&(t.mode==="onBlur"?Vt&&v():Vt||v()),ut&&u.state.next({name:ie,...ze?{}:Ze});if(!Vt&&ze&&u.state.next({...n}),t.resolver){const{errors:it}=await E([ie]);if(ve(_t),we){const Ge=RS(n.errors,s,ie),dn=RS(it,s,Ge.name||ie);Xe=dn.error,ie=dn.name,zt=jr(it)}}else w([ie],!0),Xe=(await IS(je,c.disabled,a,p,t.shouldUseNativeValidation))[ie],w([ie]),ve(_t),we&&(Xe?zt=!1:(f.isValid||m.isValid)&&(zt=await A(s,!0)));we&&(je._f.deps&&q(je._f.deps),D(ie,zt,Xe,Ze))}},B=(Q,se)=>{if(Re(n.errors,se)&&Q.focus)return Q.focus(),1},q=async(Q,se={})=>{let ie,we;const je=Qd(Q);if(t.resolver){const ve=await R(jn(Q)?Q:je);ie=jr(ve),we=Q?!je.some(Ae=>Re(ve,Ae)):ie}else Q?(we=(await Promise.all(je.map(async ve=>{const Ae=Re(s,ve);return await A(Ae&&Ae._f?{[ve]:Ae}:Ae)}))).every(Boolean),!(!we&&!n.isValid)&&v()):we=ie=await A(s);return u.state.next({...!ni(Q)||(f.isValid||m.isValid)&&ie!==n.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:ie}:{},errors:n.errors}),se.shouldFocus&&!we&&Jd(s,B,Q?je:c.mount),we},F=Q=>{const se={...o.mount?a:i};return jn(Q)?se:ni(Q)?Re(se,Q):Q.map(ie=>Re(se,ie))},$=(Q,se)=>({invalid:!!Re((se||n).errors,Q),isDirty:!!Re((se||n).dirtyFields,Q),error:Re((se||n).errors,Q),isValidating:!!Re(n.validatingFields,Q),isTouched:!!Re((se||n).touchedFields,Q)}),z=Q=>{Q&&Qd(Q).forEach(se=>En(n.errors,se)),u.state.next({errors:Q?n.errors:{}})},G=(Q,se,ie)=>{const we=(Re(s,Q,{_f:{}})._f||{}).ref,je=Re(n.errors,Q)||{},{ref:ve,message:Ae,type:et,...Xe}=je;Lt(n.errors,Q,{...Xe,...se,ref:we}),u.state.next({name:Q,errors:n.errors,isValid:!1}),ie&&ie.shouldFocus&&we&&we.focus&&we.focus()},X=(Q,se)=>Cs(Q)?u.state.subscribe({next:ie=>"values"in ie&&Q(P(void 0,se),ie)}):P(Q,se,!0),J=Q=>u.state.subscribe({next:se=>{vK(Q.name,se.name,Q.exact)&&gK(se,Q.formState||f,xe,Q.reRenderRoot)&&Q.callback({values:{...a},...n,...se,defaultValues:i})}}).unsubscribe,K=Q=>(o.mount=!0,m={...m,...Q.formState},J({...Q,formState:m})),U=(Q,se={})=>{for(const ie of Q?Qd(Q):c.mount)c.mount.delete(ie),c.array.delete(ie),se.keepValue||(En(s,ie),En(a,ie)),!se.keepError&&En(n.errors,ie),!se.keepDirty&&En(n.dirtyFields,ie),!se.keepTouched&&En(n.touchedFields,ie),!se.keepIsValidating&&En(n.validatingFields,ie),!t.shouldUnregister&&!se.keepDefaultValue&&En(i,ie);u.state.next({values:On(a)}),u.state.next({...n,...se.keepDirty?{isDirty:O()}:{}}),!se.keepIsValid&&v()},te=({disabled:Q,name:se})=>{(Mr(Q)&&o.mount||Q||c.disabled.has(se))&&(Q?c.disabled.add(se):c.disabled.delete(se))},re=(Q,se={})=>{let ie=Re(s,Q);const we=Mr(se.disabled)||Mr(t.disabled);return Lt(s,Q,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:Q}},name:Q,mount:!0,...se}}),c.mount.add(Q),ie?te({disabled:Mr(se.disabled)?se.disabled:t.disabled,name:Q}):N(Q,!0,se.value),{...we?{disabled:se.disabled||t.disabled}:{},...t.progressive?{required:!!se.required,min:jd(se.min),max:jd(se.max),minLength:jd(se.minLength),maxLength:jd(se.maxLength),pattern:jd(se.pattern)}:{},name:Q,onChange:Z,onBlur:Z,ref:je=>{if(je){re(Q,se),ie=Re(s,Q);const ve=jn(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Ae=dK(ve),et=ie._f.refs||[];if(Ae?et.find(Xe=>Xe===ve):ve===ie._f.ref)return;Lt(s,Q,{_f:{...ie._f,...Ae?{refs:[...et.filter(Ov),ve,...Array.isArray(Re(i,Q))?[{}]:[]],ref:{type:ve.type,name:Q}}:{ref:ve}}}),N(Q,!1,void 0,ve)}else ie=Re(s,Q,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||se.shouldUnregister)&&!(JR(c.array,Q)&&o.action)&&c.unMount.add(Q)}}},le=()=>t.shouldFocusError&&Jd(s,B,c.mount),pe=Q=>{Mr(Q)&&(u.state.next({disabled:Q}),Jd(s,(se,ie)=>{const we=Re(s,ie);we&&(se.disabled=we._f.disabled||Q,Array.isArray(we._f.refs)&&we._f.refs.forEach(je=>{je.disabled=we._f.disabled||Q}))},0,!1))},ee=(Q,se)=>async ie=>{let we;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let je=On(a);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:Ae}=await E();n.errors=ve,je=On(Ae)}else await A(s);if(c.disabled.size)for(const ve of c.disabled)En(je,ve);if(En(n.errors,"root"),jr(n.errors)){u.state.next({errors:{}});try{await Q(je,ie)}catch(ve){we=ve}}else se&&await se({...n.errors},ie),le(),setTimeout(le);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jr(n.errors)&&!we,submitCount:n.submitCount+1,errors:n.errors}),we)throw we},ye=(Q,se={})=>{Re(s,Q)&&(jn(se.defaultValue)?W(Q,On(Re(i,Q))):(W(Q,se.defaultValue),Lt(i,Q,On(se.defaultValue))),se.keepTouched||En(n.touchedFields,Q),se.keepDirty||(En(n.dirtyFields,Q),n.isDirty=se.defaultValue?O(Q,On(Re(i,Q))):O()),se.keepError||(En(n.errors,Q),f.isValid&&v()),u.state.next({...n}))},Ce=(Q,se={})=>{const ie=Q?On(Q):i,we=On(ie),je=jr(Q),ve=je?i:we;if(se.keepDefaultValues||(i=ie),!se.keepValues){if(se.keepDirtyValues){const Ae=new Set([...c.mount,...Object.keys(wd(i,a))]);for(const et of Array.from(Ae))Re(n.dirtyFields,et)?Lt(ve,et,Re(a,et)):W(et,Re(ve,et))}else{if(Mw&&jn(Q))for(const Ae of c.mount){const et=Re(s,Ae);if(et&&et._f){const Xe=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(ym(Xe)){const zt=Xe.closest("form");if(zt){zt.reset();break}}}}if(se.keepFieldsRef)for(const Ae of c.mount)W(Ae,Re(ve,Ae));else s={}}a=t.shouldUnregister?se.keepDefaultValues?On(i):{}:On(ve),u.array.next({values:{...ve}}),u.state.next({values:{...ve}})}c={mount:se.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!se.keepIsValid||!!se.keepDirtyValues,o.watch=!!t.shouldUnregister,u.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:je?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!Li(Q,i)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:je?{}:se.keepDirtyValues?se.keepDefaultValues&&a?wd(i,a):n.dirtyFields:se.keepDefaultValues&&Q?wd(i,Q):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ue=(Q,se)=>Ce(Cs(Q)?Q(a):Q,se),be=(Q,se={})=>{const ie=Re(s,Q),we=ie&&ie._f;if(we){const je=we.refs?we.refs[0]:we.ref;je.focus&&(je.focus(),se.shouldSelect&&Cs(je.select)&&je.select())}},xe=Q=>{n={...n,...Q}},fe={control:{register:re,unregister:U,getFieldState:$,handleSubmit:ee,setError:G,_subscribe:J,_runSchema:E,_focusError:le,_getWatch:P,_getDirty:O,_setValid:v,_setFieldArray:b,_setDisabledField:te,_setErrors:_,_getFieldArray:T,_reset:Ce,_resetDefaultValues:()=>Cs(t.defaultValues)&&t.defaultValues().then(Q=>{ue(Q,t.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:pe,_subjects:u,_proxyFormState:f,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(Q){o=Q},get _defaultValues(){return i},get _names(){return c},set _names(Q){c=Q},get _formState(){return n},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:K,trigger:q,register:re,handleSubmit:ee,watch:X,setValue:W,getValues:F,reset:ue,resetField:ye,clearErrors:z,unregister:U,setError:G,setFocus:be,getFieldState:$};return{...fe,formControl:fe}}function d4(e={}){const t=_e.useRef(void 0),n=_e.useRef(void 0),[s,i]=_e.useState({isDirty:!1,isValidating:!1,isLoading:Cs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Cs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Cs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=jK(e);t.current={...c,formState:s}}const a=t.current.control;return a._options=e,$w(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),a._formState.isReady=!0,o},[a]),_e.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),_e.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),_e.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),_e.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),_e.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),_e.useEffect(()=>{e.values&&!Li(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),_e.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=t4(s,a),t.current}const DS=(e,t,n)=>{if(e&&"reportValidity"in e){const s=Re(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},u4=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?DS(s.ref,n,e):s.refs&&s.refs.forEach(i=>DS(i,n,e))}},_K=(e,t)=>{t.shouldUseNativeValidation&&u4(e,t);const n={};for(const s in e){const i=Re(t.fields,s),a=Object.assign(e[s]||{},{ref:i&&i.ref});if(NK(t.names||Object.keys(e),s)){const o=Object.assign({},Re(n,s));Lt(o,"root",a),Lt(n,s,o)}else Lt(n,s,a)}return n},NK=(e,t)=>e.some(n=>n.startsWith(t+"."));var SK=function(e,t){for(var n={};e.length;){var s=e[0],i=s.code,a=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];n[o]={message:c.message,type:c.code}}else n[o]={message:a,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return e.push(m)})}),t){var d=n[o].types,h=d&&d[s.code];n[o]=r4(o,t,n,i,h?[].concat(h,s.message):s.message)}e.shift()}return n},h4=function(e,t,n){return n===void 0&&(n={}),function(s,i,a){try{return Promise.resolve(function(o,c){try{var d=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(h){return a.shouldUseNativeValidation&&u4({},a),{errors:{},values:n.raw?s:h}})}catch(h){return c(h)}return d&&d.then?d.then(void 0,c):d}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:_K(SK(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},At;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function s(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=s,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(At||(At={}));var FS;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(FS||(FS={}));const He=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xa=e=>{switch(typeof e){case"undefined":return He.undefined;case"string":return He.string;case"number":return Number.isNaN(e)?He.nan:He.number;case"boolean":return He.boolean;case"function":return He.function;case"bigint":return He.bigint;case"symbol":return He.symbol;case"object":return Array.isArray(e)?He.array:e===null?He.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?He.promise:typeof Map<"u"&&e instanceof Map?He.map:typeof Set<"u"&&e instanceof Set?He.set:typeof Date<"u"&&e instanceof Date?He.date:He.object;default:return He.unknown}},Oe=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ea extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},s={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let c=s,d=0;for(;d<o.path.length;){const h=o.path[d];d===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(o))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return i(this),s}static assert(t){if(!(t instanceof ea))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else s.push(t(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}ea.create=e=>new ea(e);const Ay=(e,t)=>{let n;switch(e.code){case Oe.invalid_type:e.received===He.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Oe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,At.jsonStringifyReplacer)}`;break;case Oe.unrecognized_keys:n=`Unrecognized key(s) in object: ${At.joinValues(e.keys,", ")}`;break;case Oe.invalid_union:n="Invalid input";break;case Oe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${At.joinValues(e.options)}`;break;case Oe.invalid_enum_value:n=`Invalid enum value. Expected ${At.joinValues(e.options)}, received '${e.received}'`;break;case Oe.invalid_arguments:n="Invalid function arguments";break;case Oe.invalid_return_type:n="Invalid function return type";break;case Oe.invalid_date:n="Invalid date";break;case Oe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:At.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Oe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Oe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Oe.custom:n="Invalid input";break;case Oe.invalid_intersection_types:n="Intersection results could not be merged";break;case Oe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Oe.not_finite:n="Number must be finite";break;default:n=t.defaultError,At.assertNever(e)}return{message:n}};let kK=Ay;function CK(){return kK}const EK=e=>{const{data:t,path:n,errorMaps:s,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const d=s.filter(h=>!!h).slice().reverse();for(const h of d)c=h(o,{data:t,defaultError:c}).message;return{...i,path:a,message:c}};function $e(e,t){const n=CK(),s=EK({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ay?void 0:Ay].filter(i=>!!i)});e.common.issues.push(s)}class vr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const i of n){if(i.status==="aborted")return ct;i.status==="dirty"&&t.dirty(),s.push(i.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const i of n){const a=await i.key,o=await i.value;s.push({key:a,value:o})}return vr.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return ct;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(s[a.value]=o.value)}return{status:t.value,value:s}}}const ct=Object.freeze({status:"aborted"}),Ld=e=>({status:"dirty",value:e}),fs=e=>({status:"valid",value:e}),$S=e=>e.status==="aborted",BS=e=>e.status==="dirty",jc=e=>e.status==="valid",jm=e=>typeof Promise<"u"&&e instanceof Promise;var Ke;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ke||(Ke={}));class vi{constructor(t,n,s,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zS=(e,t)=>{if(jc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ea(e.common.issues);return this._error=n,this._error}}};function bt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:i}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>{const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??s??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:d??n??c.defaultError}},description:i}}class kt{get description(){return this._def.description}_getType(t){return xa(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new vr,ctx:{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(jm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},i=this._parseSync({data:t,path:s.path,parent:s});return zS(s,i)}"~validate"(t){var s,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return jc(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(s=a==null?void 0:a.message)==null?void 0:s.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>jc(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},i=this._parse({data:t,path:s.path,parent:s}),a=await(jm(i)?i:Promise.resolve(i));return zS(s,a)}refine(t,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),c=()=>a.addIssue({code:Oe.custom,...s(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,n){return this._refinement((s,i)=>t(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(t){return new Ya({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return za.create(this,this._def)}nullable(){return Cc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fi.create(this)}promise(){return km.create(this,this._def)}or(t){return _m.create([this,t],this._def)}and(t){return Nm.create(this,t,this._def)}transform(t){return new Ya({...bt(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new qy({...bt(this._def),innerType:this,defaultValue:n,typeName:at.ZodDefault})}brand(){return new XK({typeName:at.ZodBranded,type:this,...bt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Hy({...bt(this._def),innerType:this,catchValue:n,typeName:at.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Vw.create(this,t)}readonly(){return Zy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PK=/^c[^\s-]{8,}$/i,TK=/^[0-9a-z]+$/,AK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LK=/^[a-z0-9_-]{21}$/i,RK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,MK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lv;const FK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$K=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,BK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,UK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,f4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qK=new RegExp(`^${f4}$`);function m4(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function HK(e){return new RegExp(`^${m4(e)}$`)}function WK(e){let t=`${f4}T${m4(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ZK(e,t){return!!((t==="v4"||!t)&&FK.test(e)||(t==="v6"||!t)&&BK.test(e))}function GK(e,t){if(!RK.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(s));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function KK(e,t){return!!((t==="v4"||!t)&&$K.test(e)||(t==="v6"||!t)&&zK.test(e))}class Di extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==He.string){const a=this._getOrReturnCtx(t);return $e(a,{code:Oe.invalid_type,expected:He.string,received:a.parsedType}),ct}const s=new vr;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,c=t.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?$e(i,{code:Oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&$e(i,{code:Oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")IK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"email",code:Oe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Lv||(Lv=new RegExp(DK,"u")),Lv.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"emoji",code:Oe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")OK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"uuid",code:Oe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")LK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"nanoid",code:Oe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")PK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cuid",code:Oe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")TK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cuid2",code:Oe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")AK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"ulid",code:Oe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),$e(i,{validation:"url",code:Oe.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"regex",code:Oe.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?WK(a).test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?qK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?HK(a).test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?MK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"duration",code:Oe.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?ZK(t.data,a.version)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"ip",code:Oe.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?GK(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"jwt",code:Oe.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?KK(t.data,a.version)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cidr",code:Oe.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?VK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"base64",code:Oe.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?UK.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"base64url",code:Oe.invalid_string,message:a.message}),s.dirty()):At.assertNever(a);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(i=>t.test(i),{validation:n,code:Oe.invalid_string,...Ke.errToObj(s)})}_addCheck(t){return new Di({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ke.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ke.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ke.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ke.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ke.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ke.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ke.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ke.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ke.errToObj(n)})}nonempty(t){return this.min(1,Ke.errToObj(t))}trim(){return new Di({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Di({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Di({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Di.create=e=>new Di({checks:[],typeName:at.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...bt(e)});function YK(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,i=n>s?n:s,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class _c extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==He.number){const a=this._getOrReturnCtx(t);return $e(a,{code:Oe.invalid_type,expected:He.number,received:a.parsedType}),ct}let s;const i=new vr;for(const a of this._def.checks)a.kind==="int"?At.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),$e(s,{code:Oe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),$e(s,{code:Oe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),$e(s,{code:Oe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?YK(t.data,a.value)!==0&&(s=this._getOrReturnCtx(t,s),$e(s,{code:Oe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),$e(s,{code:Oe.not_finite,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ke.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ke.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ke.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ke.toString(n))}setLimit(t,n,s,i){return new _c({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Ke.toString(i)}]})}_addCheck(t){return new _c({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&At.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}_c.create=e=>new _c({checks:[],typeName:at.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...bt(e)});class Nc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==He.bigint)return this._getInvalidInput(t);let s;const i=new vr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),$e(s,{code:Oe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),$e(s,{code:Oe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),$e(s,{code:Oe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return $e(n,{code:Oe.invalid_type,expected:He.bigint,received:n.parsedType}),ct}gte(t,n){return this.setLimit("min",t,!0,Ke.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ke.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ke.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ke.toString(n))}setLimit(t,n,s,i){return new Nc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Ke.toString(i)}]})}_addCheck(t){return new Nc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Nc.create=e=>new Nc({checks:[],typeName:at.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...bt(e)});class Oy extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==He.boolean){const s=this._getOrReturnCtx(t);return $e(s,{code:Oe.invalid_type,expected:He.boolean,received:s.parsedType}),ct}return fs(t.data)}}Oy.create=e=>new Oy({typeName:at.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...bt(e)});class Ru extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==He.date){const a=this._getOrReturnCtx(t);return $e(a,{code:Oe.invalid_type,expected:He.date,received:a.parsedType}),ct}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return $e(a,{code:Oe.invalid_date}),ct}const s=new vr;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:Oe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):At.assertNever(a);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ru({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ke.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ke.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ru.create=e=>new Ru({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:at.ZodDate,...bt(e)});class Ly extends kt{_parse(t){if(this._getType(t)!==He.symbol){const s=this._getOrReturnCtx(t);return $e(s,{code:Oe.invalid_type,expected:He.symbol,received:s.parsedType}),ct}return fs(t.data)}}Ly.create=e=>new Ly({typeName:at.ZodSymbol,...bt(e)});class Ry extends kt{_parse(t){if(this._getType(t)!==He.undefined){const s=this._getOrReturnCtx(t);return $e(s,{code:Oe.invalid_type,expected:He.undefined,received:s.parsedType}),ct}return fs(t.data)}}Ry.create=e=>new Ry({typeName:at.ZodUndefined,...bt(e)});class My extends kt{_parse(t){if(this._getType(t)!==He.null){const s=this._getOrReturnCtx(t);return $e(s,{code:Oe.invalid_type,expected:He.null,received:s.parsedType}),ct}return fs(t.data)}}My.create=e=>new My({typeName:at.ZodNull,...bt(e)});class Iy extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return fs(t.data)}}Iy.create=e=>new Iy({typeName:at.ZodAny,...bt(e)});class Dy extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return fs(t.data)}}Dy.create=e=>new Dy({typeName:at.ZodUnknown,...bt(e)});class Ka extends kt{_parse(t){const n=this._getOrReturnCtx(t);return $e(n,{code:Oe.invalid_type,expected:He.never,received:n.parsedType}),ct}}Ka.create=e=>new Ka({typeName:at.ZodNever,...bt(e)});class Fy extends kt{_parse(t){if(this._getType(t)!==He.undefined){const s=this._getOrReturnCtx(t);return $e(s,{code:Oe.invalid_type,expected:He.void,received:s.parsedType}),ct}return fs(t.data)}}Fy.create=e=>new Fy({typeName:at.ZodVoid,...bt(e)});class fi extends kt{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),i=this._def;if(n.parsedType!==He.array)return $e(n,{code:Oe.invalid_type,expected:He.array,received:n.parsedType}),ct;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(o||c)&&($e(n,{code:o?Oe.too_big:Oe.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&($e(n,{code:Oe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&($e(n,{code:Oe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>i.type._parseAsync(new vi(n,o,n.path,c)))).then(o=>vr.mergeArray(s,o));const a=[...n.data].map((o,c)=>i.type._parseSync(new vi(n,o,n.path,c)));return vr.mergeArray(s,a)}get element(){return this._def.type}min(t,n){return new fi({...this._def,minLength:{value:t,message:Ke.toString(n)}})}max(t,n){return new fi({...this._def,maxLength:{value:t,message:Ke.toString(n)}})}length(t,n){return new fi({...this._def,exactLength:{value:t,message:Ke.toString(n)}})}nonempty(t){return this.min(1,t)}}fi.create=(e,t)=>new fi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...bt(t)});function xl(e){if(e instanceof fn){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=za.create(xl(s))}return new fn({...e._def,shape:()=>t})}else return e instanceof fi?new fi({...e._def,type:xl(e.element)}):e instanceof za?za.create(xl(e.unwrap())):e instanceof Cc?Cc.create(xl(e.unwrap())):e instanceof Xo?Xo.create(e.items.map(t=>xl(t))):e}class fn extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=At.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==He.object){const h=this._getOrReturnCtx(t);return $e(h,{code:Oe.invalid_type,expected:He.object,received:h.parsedType}),ct}const{status:s,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ka&&this._def.unknownKeys==="strip"))for(const h in i.data)o.includes(h)||c.push(h);const d=[];for(const h of o){const f=a[h],m=i.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new vi(i,m,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Ka){const h=this._def.unknownKeys;if(h==="passthrough")for(const f of c)d.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(h==="strict")c.length>0&&($e(i,{code:Oe.unrecognized_keys,keys:c}),s.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const f of c){const m=i.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new vi(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const f of d){const m=await f.key,u=await f.value;h.push({key:m,value:u,alwaysSet:f.alwaysSet})}return h}).then(h=>vr.mergeObjectSync(s,h)):vr.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(t){return Ke.errToObj,new fn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:Ke.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new fn({...this._def,unknownKeys:"strip"})}passthrough(){return new fn({...this._def,unknownKeys:"passthrough"})}extend(t){return new fn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new fn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:at.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new fn({...this._def,catchall:t})}pick(t){const n={};for(const s of At.objectKeys(t))t[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new fn({...this._def,shape:()=>n})}omit(t){const n={};for(const s of At.objectKeys(this.shape))t[s]||(n[s]=this.shape[s]);return new fn({...this._def,shape:()=>n})}deepPartial(){return xl(this)}partial(t){const n={};for(const s of At.objectKeys(this.shape)){const i=this.shape[s];t&&!t[s]?n[s]=i:n[s]=i.optional()}return new fn({...this._def,shape:()=>n})}required(t){const n={};for(const s of At.objectKeys(this.shape))if(t&&!t[s])n[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof za;)a=a._def.innerType;n[s]=a}return new fn({...this._def,shape:()=>n})}keyof(){return p4(At.objectKeys(this.shape))}}fn.create=(e,t)=>new fn({shape:()=>e,unknownKeys:"strip",catchall:Ka.create(),typeName:at.ZodObject,...bt(t)});fn.strictCreate=(e,t)=>new fn({shape:()=>e,unknownKeys:"strict",catchall:Ka.create(),typeName:at.ZodObject,...bt(t)});fn.lazycreate=(e,t)=>new fn({shape:e,unknownKeys:"strip",catchall:Ka.create(),typeName:at.ZodObject,...bt(t)});class _m extends kt{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new ea(c.ctx.common.issues));return $e(n,{code:Oe.invalid_union,unionErrors:o}),ct}if(n.common.async)return Promise.all(s.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const d of s){const h={...n,common:{...n.common,issues:[]},parent:null},f=d._parseSync({data:n.data,path:n.path,parent:h});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(d=>new ea(d));return $e(n,{code:Oe.invalid_union,unionErrors:c}),ct}}get options(){return this._def.options}}_m.create=(e,t)=>new _m({options:e,typeName:at.ZodUnion,...bt(t)});function $y(e,t){const n=xa(e),s=xa(t);if(e===t)return{valid:!0,data:e};if(n===He.object&&s===He.object){const i=At.objectKeys(t),a=At.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of a){const d=$y(e[c],t[c]);if(!d.valid)return{valid:!1};o[c]=d.data}return{valid:!0,data:o}}else if(n===He.array&&s===He.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],c=t[a],d=$y(o,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===He.date&&s===He.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Nm extends kt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=(a,o)=>{if($S(a)||$S(o))return ct;const c=$y(a.value,o.value);return c.valid?((BS(a)||BS(o))&&n.dirty(),{status:n.value,value:c.data}):($e(s,{code:Oe.invalid_intersection_types}),ct)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Nm.create=(e,t,n)=>new Nm({left:e,right:t,typeName:at.ZodIntersection,...bt(n)});class Xo extends kt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==He.array)return $e(s,{code:Oe.invalid_type,expected:He.array,received:s.parsedType}),ct;if(s.data.length<this._def.items.length)return $e(s,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&s.data.length>this._def.items.length&&($e(s,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...s.data].map((o,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new vi(s,o,s.path,c)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>vr.mergeArray(n,o)):vr.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Xo({...this._def,rest:t})}}Xo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xo({items:e,typeName:at.ZodTuple,rest:null,...bt(t)})};class Sm extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==He.object)return $e(s,{code:Oe.invalid_type,expected:He.object,received:s.parsedType}),ct;const i=[],a=this._def.keyType,o=this._def.valueType;for(const c in s.data)i.push({key:a._parse(new vi(s,c,s.path,c)),value:o._parse(new vi(s,s.data[c],s.path,c)),alwaysSet:c in s.data});return s.common.async?vr.mergeObjectAsync(n,i):vr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof kt?new Sm({keyType:t,valueType:n,typeName:at.ZodRecord,...bt(s)}):new Sm({keyType:Di.create(),valueType:t,typeName:at.ZodRecord,...bt(n)})}}class By extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==He.map)return $e(s,{code:Oe.invalid_type,expected:He.map,received:s.parsedType}),ct;const i=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([c,d],h)=>({key:i._parse(new vi(s,c,s.path,[h,"key"])),value:a._parse(new vi(s,d,s.path,[h,"value"]))}));if(s.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of o){const h=await d.key,f=await d.value;if(h.status==="aborted"||f.status==="aborted")return ct;(h.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(h.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of o){const h=d.key,f=d.value;if(h.status==="aborted"||f.status==="aborted")return ct;(h.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(h.value,f.value)}return{status:n.value,value:c}}}}By.create=(e,t,n)=>new By({valueType:t,keyType:e,typeName:at.ZodMap,...bt(n)});class Sc extends kt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==He.set)return $e(s,{code:Oe.invalid_type,expected:He.set,received:s.parsedType}),ct;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&($e(s,{code:Oe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&($e(s,{code:Oe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(d){const h=new Set;for(const f of d){if(f.status==="aborted")return ct;f.status==="dirty"&&n.dirty(),h.add(f.value)}return{status:n.value,value:h}}const c=[...s.data.values()].map((d,h)=>a._parse(new vi(s,d,s.path,h)));return s.common.async?Promise.all(c).then(d=>o(d)):o(c)}min(t,n){return new Sc({...this._def,minSize:{value:t,message:Ke.toString(n)}})}max(t,n){return new Sc({...this._def,maxSize:{value:t,message:Ke.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Sc.create=(e,t)=>new Sc({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet,...bt(t)});class zy extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zy.create=(e,t)=>new zy({getter:e,typeName:at.ZodLazy,...bt(t)});class Vy extends kt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return $e(n,{received:n.data,code:Oe.invalid_literal,expected:this._def.value}),ct}return{status:"valid",value:t.data}}get value(){return this._def.value}}Vy.create=(e,t)=>new Vy({value:e,typeName:at.ZodLiteral,...bt(t)});function p4(e,t){return new kc({values:e,typeName:at.ZodEnum,...bt(t)})}class kc extends kt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return $e(n,{expected:At.joinValues(s),received:n.parsedType,code:Oe.invalid_type}),ct}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return $e(n,{received:n.data,code:Oe.invalid_enum_value,options:s}),ct}return fs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return kc.create(t,{...this._def,...n})}exclude(t,n=this._def){return kc.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}kc.create=p4;class Uy extends kt{_parse(t){const n=At.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==He.string&&s.parsedType!==He.number){const i=At.objectValues(n);return $e(s,{expected:At.joinValues(i),received:s.parsedType,code:Oe.invalid_type}),ct}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=At.objectValues(n);return $e(s,{received:s.data,code:Oe.invalid_enum_value,options:i}),ct}return fs(t.data)}get enum(){return this._def.values}}Uy.create=(e,t)=>new Uy({values:e,typeName:at.ZodNativeEnum,...bt(t)});class km extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==He.promise&&n.common.async===!1)return $e(n,{code:Oe.invalid_type,expected:He.promise,received:n.parsedType}),ct;const s=n.parsedType===He.promise?n.data:Promise.resolve(n.data);return fs(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}km.create=(e,t)=>new km({type:e,typeName:at.ZodPromise,...bt(t)});class Ya extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{$e(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return ct;const d=await this._def.schema._parseAsync({data:c,path:s.path,parent:s});return d.status==="aborted"?ct:d.status==="dirty"||n.value==="dirty"?Ld(d.value):d});{if(n.value==="aborted")return ct;const c=this._def.schema._parseSync({data:o,path:s.path,parent:s});return c.status==="aborted"?ct:c.status==="dirty"||n.value==="dirty"?Ld(c.value):c}}if(i.type==="refinement"){const o=c=>{const d=i.refinement(c,a);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?ct:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>c.status==="aborted"?ct:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!jc(o))return ct;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>jc(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:n.value,value:c})):ct);At.assertNever(i)}}Ya.create=(e,t,n)=>new Ya({schema:e,typeName:at.ZodEffects,effect:t,...bt(n)});Ya.createWithPreprocess=(e,t,n)=>new Ya({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects,...bt(n)});class za extends kt{_parse(t){return this._getType(t)===He.undefined?fs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}za.create=(e,t)=>new za({innerType:e,typeName:at.ZodOptional,...bt(t)});class Cc extends kt{_parse(t){return this._getType(t)===He.null?fs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cc.create=(e,t)=>new Cc({innerType:e,typeName:at.ZodNullable,...bt(t)});class qy extends kt{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===He.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}qy.create=(e,t)=>new qy({innerType:e,typeName:at.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...bt(t)});class Hy extends kt{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return jm(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ea(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ea(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Hy.create=(e,t)=>new Hy({innerType:e,typeName:at.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...bt(t)});class Wy extends kt{_parse(t){if(this._getType(t)!==He.nan){const s=this._getOrReturnCtx(t);return $e(s,{code:Oe.invalid_type,expected:He.nan,received:s.parsedType}),ct}return{status:"valid",value:t.data}}}Wy.create=e=>new Wy({typeName:at.ZodNaN,...bt(e)});class XK extends kt{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Vw extends kt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ct:a.status==="dirty"?(n.dirty(),Ld(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ct:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(t,n){return new Vw({in:t,out:n,typeName:at.ZodPipeline})}}class Zy extends kt{_parse(t){const n=this._def.innerType._parse(t),s=i=>(jc(i)&&(i.value=Object.freeze(i.value)),i);return jm(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}Zy.create=(e,t)=>new Zy({innerType:e,typeName:at.ZodReadonly,...bt(t)});fn.lazycreate;var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));const wn=Di.create,Ri=_c.create;Wy.create;Nc.create;const Gy=Oy.create;Ru.create;Ly.create;Ry.create;My.create;const Ky=Iy.create;Dy.create;Ka.create;Fy.create;const Cm=fi.create,g4=fn.create;fn.strictCreate;_m.create;Nm.create;Xo.create;const v4=Sm.create;By.create;Sc.create;zy.create;Vy.create;const x4=kc.create;Uy.create;km.create;Ya.create;za.create;Cc.create;Ya.createWithPreprocess;function QK(){this.__data__=[],this.size=0}var JK=QK;function eY(e,t){return e===t||e!==e&&t!==t}var y4=eY,tY=y4;function nY(e,t){for(var n=e.length;n--;)if(tY(e[n][0],t))return n;return-1}var qp=nY,rY=qp,sY=Array.prototype,iY=sY.splice;function aY(e){var t=this.__data__,n=rY(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():iY.call(t,n,1),--this.size,!0}var oY=aY,lY=qp;function cY(e){var t=this.__data__,n=lY(t,e);return n<0?void 0:t[n][1]}var dY=cY,uY=qp;function hY(e){return uY(this.__data__,e)>-1}var fY=hY,mY=qp;function pY(e,t){var n=this.__data__,s=mY(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var gY=pY,vY=JK,xY=oY,yY=dY,bY=fY,wY=gY;function qc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}qc.prototype.clear=vY;qc.prototype.delete=xY;qc.prototype.get=yY;qc.prototype.has=bY;qc.prototype.set=wY;var Hp=qc,jY=Hp;function _Y(){this.__data__=new jY,this.size=0}var NY=_Y;function SY(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var kY=SY;function CY(e){return this.__data__.get(e)}var EY=CY;function PY(e){return this.__data__.has(e)}var TY=PY,AY=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,b4=AY,OY=b4,LY=typeof self=="object"&&self&&self.Object===Object&&self,RY=OY||LY||Function("return this")(),aa=RY,MY=aa,IY=MY.Symbol,Uw=IY,VS=Uw,w4=Object.prototype,DY=w4.hasOwnProperty,FY=w4.toString,_d=VS?VS.toStringTag:void 0;function $Y(e){var t=DY.call(e,_d),n=e[_d];try{e[_d]=void 0;var s=!0}catch{}var i=FY.call(e);return s&&(t?e[_d]=n:delete e[_d]),i}var BY=$Y,zY=Object.prototype,VY=zY.toString;function UY(e){return VY.call(e)}var qY=UY,US=Uw,HY=BY,WY=qY,ZY="[object Null]",GY="[object Undefined]",qS=US?US.toStringTag:void 0;function KY(e){return e==null?e===void 0?GY:ZY:qS&&qS in Object(e)?HY(e):WY(e)}var Wp=KY;function YY(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var j4=YY,XY=Wp,QY=j4,JY="[object AsyncFunction]",eX="[object Function]",tX="[object GeneratorFunction]",nX="[object Proxy]";function rX(e){if(!QY(e))return!1;var t=XY(e);return t==eX||t==tX||t==JY||t==nX}var _4=rX,sX=aa,iX=sX["__core-js_shared__"],aX=iX,Rv=aX,HS=function(){var e=/[^.]+$/.exec(Rv&&Rv.keys&&Rv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function oX(e){return!!HS&&HS in e}var lX=oX,cX=Function.prototype,dX=cX.toString;function uX(e){if(e!=null){try{return dX.call(e)}catch{}try{return e+""}catch{}}return""}var N4=uX,hX=_4,fX=lX,mX=j4,pX=N4,gX=/[\\^$.*+?()[\]{}|]/g,vX=/^\[object .+?Constructor\]$/,xX=Function.prototype,yX=Object.prototype,bX=xX.toString,wX=yX.hasOwnProperty,jX=RegExp("^"+bX.call(wX).replace(gX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _X(e){if(!mX(e)||fX(e))return!1;var t=hX(e)?jX:vX;return t.test(pX(e))}var NX=_X;function SX(e,t){return e==null?void 0:e[t]}var kX=SX,CX=NX,EX=kX;function PX(e,t){var n=EX(e,t);return CX(n)?n:void 0}var Hc=PX,TX=Hc,AX=aa,OX=TX(AX,"Map"),qw=OX,LX=Hc,RX=LX(Object,"create"),Zp=RX,WS=Zp;function MX(){this.__data__=WS?WS(null):{},this.size=0}var IX=MX;function DX(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var FX=DX,$X=Zp,BX="__lodash_hash_undefined__",zX=Object.prototype,VX=zX.hasOwnProperty;function UX(e){var t=this.__data__;if($X){var n=t[e];return n===BX?void 0:n}return VX.call(t,e)?t[e]:void 0}var qX=UX,HX=Zp,WX=Object.prototype,ZX=WX.hasOwnProperty;function GX(e){var t=this.__data__;return HX?t[e]!==void 0:ZX.call(t,e)}var KX=GX,YX=Zp,XX="__lodash_hash_undefined__";function QX(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=YX&&t===void 0?XX:t,this}var JX=QX,eQ=IX,tQ=FX,nQ=qX,rQ=KX,sQ=JX;function Wc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Wc.prototype.clear=eQ;Wc.prototype.delete=tQ;Wc.prototype.get=nQ;Wc.prototype.has=rQ;Wc.prototype.set=sQ;var iQ=Wc,ZS=iQ,aQ=Hp,oQ=qw;function lQ(){this.size=0,this.__data__={hash:new ZS,map:new(oQ||aQ),string:new ZS}}var cQ=lQ;function dQ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var uQ=dQ,hQ=uQ;function fQ(e,t){var n=e.__data__;return hQ(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Gp=fQ,mQ=Gp;function pQ(e){var t=mQ(this,e).delete(e);return this.size-=t?1:0,t}var gQ=pQ,vQ=Gp;function xQ(e){return vQ(this,e).get(e)}var yQ=xQ,bQ=Gp;function wQ(e){return bQ(this,e).has(e)}var jQ=wQ,_Q=Gp;function NQ(e,t){var n=_Q(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var SQ=NQ,kQ=cQ,CQ=gQ,EQ=yQ,PQ=jQ,TQ=SQ;function Zc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Zc.prototype.clear=kQ;Zc.prototype.delete=CQ;Zc.prototype.get=EQ;Zc.prototype.has=PQ;Zc.prototype.set=TQ;var S4=Zc,AQ=Hp,OQ=qw,LQ=S4,RQ=200;function MQ(e,t){var n=this.__data__;if(n instanceof AQ){var s=n.__data__;if(!OQ||s.length<RQ-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new LQ(s)}return n.set(e,t),this.size=n.size,this}var IQ=MQ,DQ=Hp,FQ=NY,$Q=kY,BQ=EY,zQ=TY,VQ=IQ;function Gc(e){var t=this.__data__=new DQ(e);this.size=t.size}Gc.prototype.clear=FQ;Gc.prototype.delete=$Q;Gc.prototype.get=BQ;Gc.prototype.has=zQ;Gc.prototype.set=VQ;var UQ=Gc,qQ="__lodash_hash_undefined__";function HQ(e){return this.__data__.set(e,qQ),this}var WQ=HQ;function ZQ(e){return this.__data__.has(e)}var GQ=ZQ,KQ=S4,YQ=WQ,XQ=GQ;function Em(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new KQ;++t<n;)this.add(e[t])}Em.prototype.add=Em.prototype.push=YQ;Em.prototype.has=XQ;var QQ=Em;function JQ(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var eJ=JQ;function tJ(e,t){return e.has(t)}var nJ=tJ,rJ=QQ,sJ=eJ,iJ=nJ,aJ=1,oJ=2;function lJ(e,t,n,s,i,a){var o=n&aJ,c=e.length,d=t.length;if(c!=d&&!(o&&d>c))return!1;var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var m=-1,u=!0,p=n&oJ?new rJ:void 0;for(a.set(e,t),a.set(t,e);++m<c;){var x=e[m],v=t[m];if(s)var w=o?s(v,x,m,t,e,a):s(x,v,m,e,t,a);if(w!==void 0){if(w)continue;u=!1;break}if(p){if(!sJ(t,function(b,y){if(!iJ(p,y)&&(x===b||i(x,b,n,s,a)))return p.push(y)})){u=!1;break}}else if(!(x===v||i(x,v,n,s,a))){u=!1;break}}return a.delete(e),a.delete(t),u}var k4=lJ,cJ=aa,dJ=cJ.Uint8Array,uJ=dJ;function hJ(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var fJ=hJ;function mJ(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var pJ=mJ,GS=Uw,KS=uJ,gJ=y4,vJ=k4,xJ=fJ,yJ=pJ,bJ=1,wJ=2,jJ="[object Boolean]",_J="[object Date]",NJ="[object Error]",SJ="[object Map]",kJ="[object Number]",CJ="[object RegExp]",EJ="[object Set]",PJ="[object String]",TJ="[object Symbol]",AJ="[object ArrayBuffer]",OJ="[object DataView]",YS=GS?GS.prototype:void 0,Mv=YS?YS.valueOf:void 0;function LJ(e,t,n,s,i,a,o){switch(n){case OJ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AJ:return!(e.byteLength!=t.byteLength||!a(new KS(e),new KS(t)));case jJ:case _J:case kJ:return gJ(+e,+t);case NJ:return e.name==t.name&&e.message==t.message;case CJ:case PJ:return e==t+"";case SJ:var c=xJ;case EJ:var d=s&bJ;if(c||(c=yJ),e.size!=t.size&&!d)return!1;var h=o.get(e);if(h)return h==t;s|=wJ,o.set(e,t);var f=vJ(c(e),c(t),s,i,a,o);return o.delete(e),f;case TJ:if(Mv)return Mv.call(e)==Mv.call(t)}return!1}var RJ=LJ;function MJ(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var IJ=MJ,DJ=Array.isArray,Hw=DJ,FJ=IJ,$J=Hw;function BJ(e,t,n){var s=t(e);return $J(e)?s:FJ(s,n(e))}var zJ=BJ;function VJ(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var UJ=VJ;function qJ(){return[]}var HJ=qJ,WJ=UJ,ZJ=HJ,GJ=Object.prototype,KJ=GJ.propertyIsEnumerable,XS=Object.getOwnPropertySymbols,YJ=XS?function(e){return e==null?[]:(e=Object(e),WJ(XS(e),function(t){return KJ.call(e,t)}))}:ZJ,XJ=YJ;function QJ(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var JJ=QJ;function eee(e){return e!=null&&typeof e=="object"}var Kp=eee,tee=Wp,nee=Kp,ree="[object Arguments]";function see(e){return nee(e)&&tee(e)==ree}var iee=see,QS=iee,aee=Kp,C4=Object.prototype,oee=C4.hasOwnProperty,lee=C4.propertyIsEnumerable,cee=QS(function(){return arguments}())?QS:function(e){return aee(e)&&oee.call(e,"callee")&&!lee.call(e,"callee")},dee=cee,Pm={exports:{}};function uee(){return!1}var hee=uee;Pm.exports;(function(e,t){var n=aa,s=hee,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,c=o?n.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||s;e.exports=h})(Pm,Pm.exports);var E4=Pm.exports,fee=9007199254740991,mee=/^(?:0|[1-9]\d*)$/;function pee(e,t){var n=typeof e;return t=t??fee,!!t&&(n=="number"||n!="symbol"&&mee.test(e))&&e>-1&&e%1==0&&e<t}var gee=pee,vee=9007199254740991;function xee(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vee}var P4=xee,yee=Wp,bee=P4,wee=Kp,jee="[object Arguments]",_ee="[object Array]",Nee="[object Boolean]",See="[object Date]",kee="[object Error]",Cee="[object Function]",Eee="[object Map]",Pee="[object Number]",Tee="[object Object]",Aee="[object RegExp]",Oee="[object Set]",Lee="[object String]",Ree="[object WeakMap]",Mee="[object ArrayBuffer]",Iee="[object DataView]",Dee="[object Float32Array]",Fee="[object Float64Array]",$ee="[object Int8Array]",Bee="[object Int16Array]",zee="[object Int32Array]",Vee="[object Uint8Array]",Uee="[object Uint8ClampedArray]",qee="[object Uint16Array]",Hee="[object Uint32Array]",Zt={};Zt[Dee]=Zt[Fee]=Zt[$ee]=Zt[Bee]=Zt[zee]=Zt[Vee]=Zt[Uee]=Zt[qee]=Zt[Hee]=!0;Zt[jee]=Zt[_ee]=Zt[Mee]=Zt[Nee]=Zt[Iee]=Zt[See]=Zt[kee]=Zt[Cee]=Zt[Eee]=Zt[Pee]=Zt[Tee]=Zt[Aee]=Zt[Oee]=Zt[Lee]=Zt[Ree]=!1;function Wee(e){return wee(e)&&bee(e.length)&&!!Zt[yee(e)]}var Zee=Wee;function Gee(e){return function(t){return e(t)}}var Kee=Gee,Tm={exports:{}};Tm.exports;(function(e,t){var n=b4,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Tm,Tm.exports);var Yee=Tm.exports,Xee=Zee,Qee=Kee,JS=Yee,e2=JS&&JS.isTypedArray,Jee=e2?Qee(e2):Xee,T4=Jee,ete=JJ,tte=dee,nte=Hw,rte=E4,ste=gee,ite=T4,ate=Object.prototype,ote=ate.hasOwnProperty;function lte(e,t){var n=nte(e),s=!n&&tte(e),i=!n&&!s&&rte(e),a=!n&&!s&&!i&&ite(e),o=n||s||i||a,c=o?ete(e.length,String):[],d=c.length;for(var h in e)(t||ote.call(e,h))&&!(o&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||ste(h,d)))&&c.push(h);return c}var cte=lte,dte=Object.prototype;function ute(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||dte;return e===n}var hte=ute;function fte(e,t){return function(n){return e(t(n))}}var mte=fte,pte=mte,gte=pte(Object.keys,Object),vte=gte,xte=hte,yte=vte,bte=Object.prototype,wte=bte.hasOwnProperty;function jte(e){if(!xte(e))return yte(e);var t=[];for(var n in Object(e))wte.call(e,n)&&n!="constructor"&&t.push(n);return t}var _te=jte,Nte=_4,Ste=P4;function kte(e){return e!=null&&Ste(e.length)&&!Nte(e)}var Cte=kte,Ete=cte,Pte=_te,Tte=Cte;function Ate(e){return Tte(e)?Ete(e):Pte(e)}var Ote=Ate,Lte=zJ,Rte=XJ,Mte=Ote;function Ite(e){return Lte(e,Mte,Rte)}var Dte=Ite,t2=Dte,Fte=1,$te=Object.prototype,Bte=$te.hasOwnProperty;function zte(e,t,n,s,i,a){var o=n&Fte,c=t2(e),d=c.length,h=t2(t),f=h.length;if(d!=f&&!o)return!1;for(var m=d;m--;){var u=c[m];if(!(o?u in t:Bte.call(t,u)))return!1}var p=a.get(e),x=a.get(t);if(p&&x)return p==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var w=o;++m<d;){u=c[m];var b=e[u],y=t[u];if(s)var _=o?s(y,b,u,t,e,a):s(b,y,u,e,t,a);if(!(_===void 0?b===y||i(b,y,n,s,a):_)){v=!1;break}w||(w=u=="constructor")}if(v&&!w){var N=e.constructor,C=t.constructor;N!=C&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(e),a.delete(t),v}var Vte=zte,Ute=Hc,qte=aa,Hte=Ute(qte,"DataView"),Wte=Hte,Zte=Hc,Gte=aa,Kte=Zte(Gte,"Promise"),Yte=Kte,Xte=Hc,Qte=aa,Jte=Xte(Qte,"Set"),ene=Jte,tne=Hc,nne=aa,rne=tne(nne,"WeakMap"),sne=rne,Yy=Wte,Xy=qw,Qy=Yte,Jy=ene,e0=sne,A4=Wp,Kc=N4,n2="[object Map]",ine="[object Object]",r2="[object Promise]",s2="[object Set]",i2="[object WeakMap]",a2="[object DataView]",ane=Kc(Yy),one=Kc(Xy),lne=Kc(Qy),cne=Kc(Jy),dne=Kc(e0),vo=A4;(Yy&&vo(new Yy(new ArrayBuffer(1)))!=a2||Xy&&vo(new Xy)!=n2||Qy&&vo(Qy.resolve())!=r2||Jy&&vo(new Jy)!=s2||e0&&vo(new e0)!=i2)&&(vo=function(e){var t=A4(e),n=t==ine?e.constructor:void 0,s=n?Kc(n):"";if(s)switch(s){case ane:return a2;case one:return n2;case lne:return r2;case cne:return s2;case dne:return i2}return t});var une=vo,Iv=UQ,hne=k4,fne=RJ,mne=Vte,o2=une,l2=Hw,c2=E4,pne=T4,gne=1,d2="[object Arguments]",u2="[object Array]",Jh="[object Object]",vne=Object.prototype,h2=vne.hasOwnProperty;function xne(e,t,n,s,i,a){var o=l2(e),c=l2(t),d=o?u2:o2(e),h=c?u2:o2(t);d=d==d2?Jh:d,h=h==d2?Jh:h;var f=d==Jh,m=h==Jh,u=d==h;if(u&&c2(e)){if(!c2(t))return!1;o=!0,f=!1}if(u&&!f)return a||(a=new Iv),o||pne(e)?hne(e,t,n,s,i,a):fne(e,t,d,n,s,i,a);if(!(n&gne)){var p=f&&h2.call(e,"__wrapped__"),x=m&&h2.call(t,"__wrapped__");if(p||x){var v=p?e.value():e,w=x?t.value():t;return a||(a=new Iv),i(v,w,n,s,a)}}return u?(a||(a=new Iv),mne(e,t,n,s,i,a)):!1}var yne=xne,bne=yne,f2=Kp;function O4(e,t,n,s,i){return e===t?!0:e==null||t==null||!f2(e)&&!f2(t)?e!==e&&t!==t:bne(e,t,n,s,O4,i)}var wne=O4,jne=wne;function _ne(e,t){return jne(e,t)}var Nne=_ne,L4={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(s,i){e.exports=i()})(typeof self<"u"?self:mi,function(){return function(n){var s={};function i(a){if(s[a])return s[a].exports;var o=s[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=s,i.d=function(a,o,c){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(17),o=i(18),c=i(19),d=i(45),h=i(46),f=i(47),m=i(48),u=i(49),p=i(12),x=i(32),v=i(33),w=i(31),b=i(1),y={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:a.default,Format:o.default,Leaf:c.default,Embed:m.default,Scroll:d.default,Block:f.default,Inline:h.default,Text:u.default,Attributor:{Attribute:p.default,Class:x.default,Style:v.default,Store:w.default}};s.default=y},function(n,s,i){var a=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var _ in y)y.hasOwnProperty(_)&&(b[_]=y[_])};return function(b,y){w(b,y);function _(){this.constructor=b}b.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=function(w){a(b,w);function b(y){var _=this;return y="[Parchment] "+y,_=w.call(this,y)||this,_.message=y,_.name=_.constructor.name,_}return b}(Error);s.ParchmentError=o;var c={},d={},h={},f={};s.DATA_KEY="__blot";var m;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(m=s.Scope||(s.Scope={}));function u(w,b){var y=x(w);if(y==null)throw new o("Unable to create "+w+" blot");var _=y,N=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:_.create(b);return new _(N,b)}s.create=u;function p(w,b){return b===void 0&&(b=!1),w==null?null:w[s.DATA_KEY]!=null?w[s.DATA_KEY].blot:b?p(w.parentNode,b):null}s.find=p;function x(w,b){b===void 0&&(b=m.ANY);var y;if(typeof w=="string")y=f[w]||c[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)y=f.text;else if(typeof w=="number")w&m.LEVEL&m.BLOCK?y=f.block:w&m.LEVEL&m.INLINE&&(y=f.inline);else if(w instanceof HTMLElement){var _=(w.getAttribute("class")||"").split(/\s+/);for(var N in _)if(y=d[_[N]],y)break;y=y||h[w.tagName]}return y==null?null:b&m.LEVEL&y.scope&&b&m.TYPE&y.scope?y:null}s.query=x;function v(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(N){return v(N)});var y=w[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new o("Invalid definition");if(y.blotName==="abstract")throw new o("Cannot register abstract class");if(f[y.blotName||y.attrName]=y,typeof y.keyName=="string")c[y.keyName]=y;else if(y.className!=null&&(d[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(N){return N.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var _=Array.isArray(y.tagName)?y.tagName:[y.tagName];_.forEach(function(N){(h[N]==null||y.className==null)&&(h[N]=y)})}return y}s.register=v},function(n,s,i){var a=i(51),o=i(11),c=i(3),d=i(20),h="\0",f=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};f.prototype.insert=function(m,u){var p={};return m.length===0?this:(p.insert=m,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p))},f.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},f.prototype.retain=function(m,u){if(m<=0)return this;var p={retain:m};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p)},f.prototype.push=function(m){var u=this.ops.length,p=this.ops[u-1];if(m=c(!0,{},m),typeof p=="object"){if(typeof m.delete=="number"&&typeof p.delete=="number")return this.ops[u-1]={delete:p.delete+m.delete},this;if(typeof p.delete=="number"&&m.insert!=null&&(u-=1,p=this.ops[u-1],typeof p!="object"))return this.ops.unshift(m),this;if(o(m.attributes,p.attributes)){if(typeof m.insert=="string"&&typeof p.insert=="string")return this.ops[u-1]={insert:p.insert+m.insert},typeof m.attributes=="object"&&(this.ops[u-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof p.retain=="number")return this.ops[u-1]={retain:p.retain+m.retain},typeof m.attributes=="object"&&(this.ops[u-1].attributes=m.attributes),this}}return u===this.ops.length?this.ops.push(m):this.ops.splice(u,0,m),this},f.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},f.prototype.filter=function(m){return this.ops.filter(m)},f.prototype.forEach=function(m){this.ops.forEach(m)},f.prototype.map=function(m){return this.ops.map(m)},f.prototype.partition=function(m){var u=[],p=[];return this.forEach(function(x){var v=m(x)?u:p;v.push(x)}),[u,p]},f.prototype.reduce=function(m,u){return this.ops.reduce(m,u)},f.prototype.changeLength=function(){return this.reduce(function(m,u){return u.insert?m+d.length(u):u.delete?m-u.delete:m},0)},f.prototype.length=function(){return this.reduce(function(m,u){return m+d.length(u)},0)},f.prototype.slice=function(m,u){m=m||0,typeof u!="number"&&(u=1/0);for(var p=[],x=d.iterator(this.ops),v=0;v<u&&x.hasNext();){var w;v<m?w=x.next(m-v):(w=x.next(u-v),p.push(w)),v+=d.length(w)}return new f(p)},f.prototype.compose=function(m){var u=d.iterator(this.ops),p=d.iterator(m.ops),x=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var w=v.retain;u.peekType()==="insert"&&u.peekLength()<=w;)w-=u.peekLength(),x.push(u.next());v.retain-w>0&&p.next(v.retain-w)}for(var b=new f(x);u.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(u.peekType()==="delete")b.push(u.next());else{var y=Math.min(u.peekLength(),p.peekLength()),_=u.next(y),N=p.next(y);if(typeof N.retain=="number"){var C={};typeof _.retain=="number"?C.retain=y:C.insert=_.insert;var D=d.attributes.compose(_.attributes,N.attributes,typeof _.retain=="number");if(D&&(C.attributes=D),b.push(C),!p.hasNext()&&o(b.ops[b.ops.length-1],C)){var E=new f(u.rest());return b.concat(E).chop()}}else typeof N.delete=="number"&&typeof _.retain=="number"&&b.push(N)}return b.chop()},f.prototype.concat=function(m){var u=new f(this.ops.slice());return m.ops.length>0&&(u.push(m.ops[0]),u.ops=u.ops.concat(m.ops.slice(1))),u},f.prototype.diff=function(m,u){if(this.ops===m.ops)return new f;var p=[this,m].map(function(y){return y.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:h;var N=y===m?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")}),x=new f,v=a(p[0],p[1],u),w=d.iterator(this.ops),b=d.iterator(m.ops);return v.forEach(function(y){for(var _=y[1].length;_>0;){var N=0;switch(y[0]){case a.INSERT:N=Math.min(b.peekLength(),_),x.push(b.next(N));break;case a.DELETE:N=Math.min(_,w.peekLength()),w.next(N),x.delete(N);break;case a.EQUAL:N=Math.min(w.peekLength(),b.peekLength(),_);var C=w.next(N),D=b.next(N);o(C.insert,D.insert)?x.retain(N,d.attributes.diff(C.attributes,D.attributes)):x.push(D).delete(N);break}_-=N}}),x.chop()},f.prototype.eachLine=function(m,u){u=u||`
`;for(var p=d.iterator(this.ops),x=new f,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),b=d.length(w)-p.peekLength(),y=typeof w.insert=="string"?w.insert.indexOf(u,b)-b:-1;if(y<0)x.push(p.next());else if(y>0)x.push(p.next(y));else{if(m(x,p.next(1).attributes||{},v)===!1)return;v+=1,x=new f}}x.length()>0&&m(x,{},v)},f.prototype.transform=function(m,u){if(u=!!u,typeof m=="number")return this.transformPosition(m,u);for(var p=d.iterator(this.ops),x=d.iterator(m.ops),v=new f;p.hasNext()||x.hasNext();)if(p.peekType()==="insert"&&(u||x.peekType()!=="insert"))v.retain(d.length(p.next()));else if(x.peekType()==="insert")v.push(x.next());else{var w=Math.min(p.peekLength(),x.peekLength()),b=p.next(w),y=x.next(w);if(b.delete)continue;y.delete?v.push(y):v.retain(w,d.attributes.transform(b.attributes,y.attributes,u))}return v.chop()},f.prototype.transformPosition=function(m,u){u=!!u;for(var p=d.iterator(this.ops),x=0;p.hasNext()&&x<=m;){var v=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){m-=Math.min(v,m-x);continue}else w==="insert"&&(x<m||!u)&&(m+=v);x+=v}return m},n.exports=f},function(n,s){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},h=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var x=i.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!v)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},f=function(p,x){o&&x.name==="__proto__"?o(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},m=function(p,x){if(x==="__proto__")if(i.call(p,x)){if(c)return c(p,x).value}else return;return p[x]};n.exports=function u(){var p,x,v,w,b,y,_=arguments[0],N=1,C=arguments.length,D=!1;for(typeof _=="boolean"&&(D=_,_=arguments[1]||{},N=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});N<C;++N)if(p=arguments[N],p!=null)for(x in p)v=m(_,x),w=m(p,x),_!==w&&(D&&w&&(h(w)||(b=d(w)))?(b?(b=!1,y=v&&d(v)?v:[]):y=v&&h(v)?v:{},f(_,{name:x,newValue:u(D,y,w)})):typeof w<"u"&&f(_,{name:x,newValue:w}));return _}},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BlockEmbed=s.bubbleFormats=void 0;var a=function(){function O(P,T){for(var M=0;M<T.length;M++){var H=T[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(P,H.key,H)}}return function(P,T,M){return T&&O(P.prototype,T),M&&O(P,M),P}}(),o=function O(P,T,M){P===null&&(P=Function.prototype);var H=Object.getOwnPropertyDescriptor(P,T);if(H===void 0){var W=Object.getPrototypeOf(P);return W===null?void 0:O(W,T,M)}else{if("value"in H)return H.value;var Z=H.get;return Z===void 0?void 0:Z.call(M)}},c=i(3),d=_(c),h=i(2),f=_(h),m=i(0),u=_(m),p=i(16),x=_(p),v=i(6),w=_(v),b=i(7),y=_(b);function _(O){return O&&O.__esModule?O:{default:O}}function N(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function C(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function D(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var E=1,R=function(O){D(P,O);function P(){return N(this,P),C(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"attach",value:function(){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,H){var W=u.default.query(M,u.default.Scope.BLOCK_ATTRIBUTE);W!=null&&this.attributes.attribute(W,H)}},{key:"formatAt",value:function(M,H,W,Z){this.format(W,Z)}},{key:"insertAt",value:function(M,H,W){if(typeof H=="string"&&H.endsWith(`
`)){var Z=u.default.create(A.blotName);this.parent.insertBefore(Z,M===0?this:this.next),Z.insertAt(0,H.slice(0,-1))}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,M,H,W)}}]),P}(u.default.Embed);R.scope=u.default.Scope.BLOCK_BLOT;var A=function(O){D(P,O);function P(T){N(this,P);var M=C(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,T));return M.cache={},M}return a(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(M,H){return H.length()===0?M:M.insert(H.value(),k(H))},new f.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(M,H){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,M,H),this.cache={}}},{key:"formatAt",value:function(M,H,W,Z){H<=0||(u.default.query(W,u.default.Scope.BLOCK)?M+H===this.length()&&this.format(W,Z):o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,M,Math.min(H,this.length()-M-1),W,Z),this.cache={})}},{key:"insertAt",value:function(M,H,W){if(W!=null)return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,M,H,W);if(H.length!==0){var Z=H.split(`
`),B=Z.shift();B.length>0&&(M<this.length()-1||this.children.tail==null?o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),B):this.children.tail.insertAt(this.children.tail.length(),B),this.cache={});var q=this;Z.reduce(function(F,$){return q=q.split(F,!0),q.insertAt(0,$),$.length},M+B.length)}}},{key:"insertBefore",value:function(M,H){var W=this.children.head;o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,M,H),W instanceof x.default&&W.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(M,H){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,M,H),this.cache={}}},{key:"optimize",value:function(M){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&(M===0||M>=this.length()-E)){var W=this.clone();return M===0?(this.parent.insertBefore(W,this),this):(this.parent.insertBefore(W,this.next),W)}else{var Z=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,M,H);return this.cache={},Z}}}]),P}(u.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[w.default,u.default.Embed,y.default];function k(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(P=(0,d.default)(P,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?P:k(O.parent,P)}s.bubbleFormats=k,s.BlockEmbed=R,s.default=A},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.overload=s.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},o=function(){function q(F,$){var z=[],G=!0,X=!1,J=void 0;try{for(var K=F[Symbol.iterator](),U;!(G=(U=K.next()).done)&&(z.push(U.value),!($&&z.length===$));G=!0);}catch(te){X=!0,J=te}finally{try{!G&&K.return&&K.return()}finally{if(X)throw J}}return z}return function(F,$){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return q(F,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function q(F,$){for(var z=0;z<$.length;z++){var G=$[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}return function(F,$,z){return $&&q(F.prototype,$),z&&q(F,z),F}}();i(50);var d=i(2),h=k(d),f=i(14),m=k(f),u=i(8),p=k(u),x=i(9),v=k(x),w=i(0),b=k(w),y=i(15),_=k(y),N=i(3),C=k(N),D=i(10),E=k(D),R=i(34),A=k(R);function k(q){return q&&q.__esModule?q:{default:q}}function O(q,F,$){return F in q?Object.defineProperty(q,F,{value:$,enumerable:!0,configurable:!0,writable:!0}):q[F]=$,q}function P(q,F){if(!(q instanceof F))throw new TypeError("Cannot call a class as a function")}var T=(0,E.default)("quill"),M=function(){c(q,null,[{key:"debug",value:function($){$===!0&&($="log"),E.default.level($)}},{key:"find",value:function($){return $.__quill||b.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&T.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $!="string"){var J=$.attrName||$.blotName;typeof J=="string"?this.register("formats/"+J,$,z):Object.keys($).forEach(function(K){G.register(K,$[K],z)})}else this.imports[$]!=null&&!X&&T.warn("Overwriting "+$+" with",z),this.imports[$]=z,($.startsWith("blots/")||$.startsWith("formats/"))&&z.blotName!=="abstract"?b.default.register(z):$.startsWith("modules")&&typeof z.register=="function"&&z.register()}}]);function q(F){var $=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,q),this.options=H(F,z),this.container=this.options.container,this.container==null)return T.error("Invalid Quill container",F);this.options.debug&&q.debug(this.options.debug);var G=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(J){J===p.default.events.TEXT_CHANGE&&$.root.classList.toggle("ql-blank",$.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(J,K){var U=$.selection.lastRange,te=U&&U.length===0?U.index:void 0;W.call($,function(){return $.editor.update(null,K,te)},J)});var X=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+G+"<p><br></p></div>");this.setContents(X),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(q,[{key:"addContainer",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var G=$;$=document.createElement("div"),$.classList.add(G)}return this.container.insertBefore($,z),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,z,G){var X=this,J=Z($,z,G),K=o(J,4);return $=K[0],z=K[1],G=K[3],W.call(this,function(){return X.editor.deleteText($,z)},G,$,-1*z)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return W.call(this,function(){var J=G.getSelection(!0),K=new h.default;if(J==null)return K;if(b.default.query($,b.default.Scope.BLOCK))K=G.editor.formatLine(J.index,J.length,O({},$,z));else{if(J.length===0)return G.selection.format($,z),K;K=G.editor.formatText(J.index,J.length,O({},$,z))}return G.setSelection(J,p.default.sources.SILENT),K},X)}},{key:"formatLine",value:function($,z,G,X,J){var K=this,U=void 0,te=Z($,z,G,X,J),re=o(te,4);return $=re[0],z=re[1],U=re[2],J=re[3],W.call(this,function(){return K.editor.formatLine($,z,U)},J,$,0)}},{key:"formatText",value:function($,z,G,X,J){var K=this,U=void 0,te=Z($,z,G,X,J),re=o(te,4);return $=re[0],z=re[1],U=re[2],J=re[3],W.call(this,function(){return K.editor.formatText($,z,U)},J,$,0)}},{key:"getBounds",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=void 0;typeof $=="number"?G=this.selection.getBounds($,z):G=this.selection.getBounds($.index,$.length);var X=this.container.getBoundingClientRect();return{bottom:G.bottom-X.top,height:G.height,left:G.left-X.left,right:G.right-X.left,top:G.top-X.top,width:G.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,G=Z($,z),X=o(G,2);return $=X[0],z=X[1],this.editor.getContents($,z)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,z):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,z)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,G=Z($,z),X=o(G,2);return $=X[0],z=X[1],this.editor.getText($,z)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,z,G){var X=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return W.call(this,function(){return X.editor.insertEmbed($,z,G)},J,$)}},{key:"insertText",value:function($,z,G,X,J){var K=this,U=void 0,te=Z($,0,G,X,J),re=o(te,4);return $=re[0],U=re[2],J=re[3],W.call(this,function(){return K.editor.insertText($,z,U)},J,$,z.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,z,G){this.clipboard.dangerouslyPasteHTML($,z,G)}},{key:"removeFormat",value:function($,z,G){var X=this,J=Z($,z,G),K=o(J,4);return $=K[0],z=K[1],G=K[3],W.call(this,function(){return X.editor.removeFormat($,z)},G,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var z=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return W.call(this,function(){$=new h.default($);var X=z.getLength(),J=z.editor.deleteText(0,X),K=z.editor.applyDelta($),U=K.ops[K.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(z.editor.deleteText(z.getLength()-1,1),K.delete(1));var te=J.compose(K);return te},G)}},{key:"setSelection",value:function($,z,G){if($==null)this.selection.setRange(null,z||q.sources.API);else{var X=Z($,z,G),J=o(X,4);$=J[0],z=J[1],G=J[3],this.selection.setRange(new y.Range($,z),G),G!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,G=new h.default().insert($);return this.setContents(G,z)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,z=this.scroll.update($);return this.selection.update($),z}},{key:"updateContents",value:function($){var z=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return W.call(this,function(){return $=new h.default($),z.editor.applyDelta($,G)},G,!0)}}]),q}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=p.default.events,M.sources=p.default.sources,M.version="1.3.7",M.imports={delta:h.default,parchment:b.default,"core/module":v.default,"core/theme":A.default};function H(q,F){if(F=(0,C.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===M.DEFAULTS.theme)F.theme=A.default;else if(F.theme=M.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var $=(0,C.default)(!0,{},F.theme.DEFAULTS);[$,F].forEach(function(X){X.modules=X.modules||{},Object.keys(X.modules).forEach(function(J){X.modules[J]===!0&&(X.modules[J]={})})});var z=Object.keys($.modules).concat(Object.keys(F.modules)),G=z.reduce(function(X,J){var K=M.import("modules/"+J);return K==null?T.error("Cannot load "+J+" module. Are you sure you registered it?"):X[J]=K.DEFAULTS||{},X},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,C.default)(!0,{},M.DEFAULTS,{modules:G},$,F),["bounds","container","scrollingContainer"].forEach(function(X){typeof F[X]=="string"&&(F[X]=document.querySelector(F[X]))}),F.modules=Object.keys(F.modules).reduce(function(X,J){return F.modules[J]&&(X[J]=F.modules[J]),X},{}),F}function W(q,F,$,z){if(this.options.strict&&!this.isEnabled()&&F===p.default.sources.USER)return new h.default;var G=$==null?null:this.getSelection(),X=this.editor.delta,J=q();if(G!=null&&($===!0&&($=G.index),z==null?G=B(G,J,F):z!==0&&(G=B(G,$,z,F)),this.setSelection(G,p.default.sources.SILENT)),J.length()>0){var K,U=[p.default.events.TEXT_CHANGE,J,X,F];if((K=this.emitter).emit.apply(K,[p.default.events.EDITOR_CHANGE].concat(U)),F!==p.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,U)}}return J}function Z(q,F,$,z,G){var X={};return typeof q.index=="number"&&typeof q.length=="number"?typeof F!="number"?(G=z,z=$,$=F,F=q.length,q=q.index):(F=q.length,q=q.index):typeof F!="number"&&(G=z,z=$,$=F,F=0),(typeof $>"u"?"undefined":a($))==="object"?(X=$,G=z):typeof $=="string"&&(z!=null?X[$]=z:G=$),G=G||p.default.sources.API,[q,F,X,G]}function B(q,F,$,z){if(q==null)return null;var G=void 0,X=void 0;if(F instanceof h.default){var J=[q.index,q.index+q.length].map(function(re){return F.transformPosition(re,z!==p.default.sources.USER)}),K=o(J,2);G=K[0],X=K[1]}else{var U=[q.index,q.index+q.length].map(function(re){return re<F||re===F&&z===p.default.sources.USER?re:$>=0?re+$:Math.max(F,re+$)}),te=o(U,2);G=te[0],X=te[1]}return new y.Range(G,X-G)}s.expandConfig=H,s.overload=Z,s.default=M},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),o=function w(b,y,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,y);if(N===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:w(C,y,_)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(_)}},c=i(7),d=m(c),h=i(0),f=m(h);function m(w){return w&&w.__esModule?w:{default:w}}function u(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function x(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var v=function(w){x(b,w);function b(){return u(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"formatAt",value:function(_,N,C,D){if(b.compare(this.statics.blotName,C)<0&&f.default.query(C,f.default.Scope.BLOT)){var E=this.isolate(_,N);D&&E.wrap(C,D)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,_,N,C,D)}},{key:"optimize",value:function(_){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,_),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var N=this.parent.isolate(this.offset(),this.length());this.moveChildren(N),N.wrap(this)}}}],[{key:"compare",value:function(_,N){var C=b.order.indexOf(_),D=b.order.indexOf(N);return C>=0||D>=0?C-D:_===N?0:_<N?-1:1}}]),b}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,d.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],s.default=v},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function y(_,N){for(var C=0;C<N.length;C++){var D=N[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}return function(_,N,C){return N&&y(_.prototype,N),C&&y(_,C),_}}(),o=function y(_,N,C){_===null&&(_=Function.prototype);var D=Object.getOwnPropertyDescriptor(_,N);if(D===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:y(E,N,C)}else{if("value"in D)return D.value;var R=D.get;return R===void 0?void 0:R.call(C)}},c=i(54),d=m(c),h=i(10),f=m(h);function m(y){return y&&y.__esModule?y:{default:y}}function u(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function p(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function x(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=(0,f.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(y){document.addEventListener(y,function(){for(var _=arguments.length,N=Array(_),C=0;C<_;C++)N[C]=arguments[C];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(D){if(D.__quill&&D.__quill.emitter){var E;(E=D.__quill.emitter).handleDOM.apply(E,N)}})})});var b=function(y){x(_,y);function _(){u(this,_);var N=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return N.listeners={},N.on("error",v.error),N}return a(_,[{key:"emit",value:function(){v.log.apply(v,arguments),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(C){for(var D=arguments.length,E=Array(D>1?D-1:0),R=1;R<D;R++)E[R-1]=arguments[R];(this.listeners[C.type]||[]).forEach(function(A){var k=A.node,O=A.handler;(C.target===k||k.contains(C.target))&&O.apply(void 0,[C].concat(E))})}},{key:"listenDOM",value:function(C,D,E){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push({node:D,handler:E})}}]),_}(d.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},s.default=b},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function c(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=d,this.options=h};o.DEFAULTS={},s.default=o},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function c(h){if(a.indexOf(h)<=a.indexOf(o)){for(var f,m=arguments.length,u=Array(m>1?m-1:0),p=1;p<m;p++)u[p-1]=arguments[p];(f=console)[h].apply(f,u)}}function d(h){return a.reduce(function(f,m){return f[m]=c.bind(console,m,h),f},{})}c.level=d.level=function(h){o=h},s.default=d},function(n,s,i){var a=Array.prototype.slice,o=i(52),c=i(53),d=n.exports=function(u,p,x){return x||(x={}),u===p?!0:u instanceof Date&&p instanceof Date?u.getTime()===p.getTime():!u||!p||typeof u!="object"&&typeof p!="object"?x.strict?u===p:u==p:m(u,p,x)};function h(u){return u==null}function f(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function m(u,p,x){var v,w;if(h(u)||h(p)||u.prototype!==p.prototype)return!1;if(c(u))return c(p)?(u=a.call(u),p=a.call(p),d(u,p,x)):!1;if(f(u)){if(!f(p)||u.length!==p.length)return!1;for(v=0;v<u.length;v++)if(u[v]!==p[v])return!1;return!0}try{var b=o(u),y=o(p)}catch{return!1}if(b.length!=y.length)return!1;for(b.sort(),y.sort(),v=b.length-1;v>=0;v--)if(b[v]!=y[v])return!1;for(v=b.length-1;v>=0;v--)if(w=b[v],!d(u[w],p[w],x))return!1;return typeof u==typeof p}},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(1),o=function(){function c(d,h,f){f===void 0&&(f={}),this.attrName=d,this.keyName=h;var m=a.Scope.TYPE&a.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&a.Scope.LEVEL|m:this.scope=a.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return c.keys=function(d){return[].map.call(d.attributes,function(h){return h.name})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.setAttribute(this.keyName,h),!0):!1},c.prototype.canAdd=function(d,h){var f=a.query(d,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},c.prototype.remove=function(d){d.removeAttribute(this.keyName)},c.prototype.value=function(d){var h=d.getAttribute(this.keyName);return this.canAdd(d,h)&&h?h:""},c}();s.default=o},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Code=void 0;var a=function(){function R(A,k){var O=[],P=!0,T=!1,M=void 0;try{for(var H=A[Symbol.iterator](),W;!(P=(W=H.next()).done)&&(O.push(W.value),!(k&&O.length===k));P=!0);}catch(Z){T=!0,M=Z}finally{try{!P&&H.return&&H.return()}finally{if(T)throw M}}return O}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return R(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(A,k){for(var O=0;O<k.length;O++){var P=k[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}return function(A,k,O){return k&&R(A.prototype,k),O&&R(A,O),A}}(),c=function R(A,k,O){A===null&&(A=Function.prototype);var P=Object.getOwnPropertyDescriptor(A,k);if(P===void 0){var T=Object.getPrototypeOf(A);return T===null?void 0:R(T,k,O)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(O)}},d=i(2),h=y(d),f=i(0),m=y(f),u=i(4),p=y(u),x=i(6),v=y(x),w=i(7),b=y(w);function y(R){return R&&R.__esModule?R:{default:R}}function _(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}function N(R,A){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:R}function C(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(R,A):R.__proto__=A)}var D=function(R){C(A,R);function A(){return _(this,A),N(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(v.default);D.blotName="code",D.tagName="CODE";var E=function(R){C(A,R);function A(){return _(this,A),N(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"delta",value:function(){var O=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(T,M){return T.insert(M).insert(`
`,O.formats())},new h.default)}},{key:"format",value:function(O,P){if(!(O===this.statics.blotName&&P)){var T=this.descendant(b.default,this.length()-1),M=a(T,1),H=M[0];H!=null&&H.deleteAt(H.length()-1,1),c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,O,P)}}},{key:"formatAt",value:function(O,P,T,M){if(P!==0&&!(m.default.query(T,m.default.Scope.BLOCK)==null||T===this.statics.blotName&&M===this.statics.formats(this.domNode))){var H=this.newlineIndex(O);if(!(H<0||H>=O+P)){var W=this.newlineIndex(O,!0)+1,Z=H-W+1,B=this.isolate(W,Z),q=B.next;B.format(T,M),q instanceof A&&q.formatAt(0,O-W+P-Z,T,M)}}}},{key:"insertAt",value:function(O,P,T){if(T==null){var M=this.descendant(b.default,O),H=a(M,2),W=H[0],Z=H[1];W.insertAt(Z,P)}}},{key:"length",value:function(){var O=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?O:O+1}},{key:"newlineIndex",value:function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,O).lastIndexOf(`
`);var T=this.domNode.textContent.slice(O).indexOf(`
`);return T>-1?O+T:-1}},{key:"optimize",value:function(O){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,O);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(O),P.moveChildren(this),P.remove())}},{key:"replace",value:function(O){c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,O),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var T=m.default.find(P);T==null?P.parentNode.removeChild(P):T instanceof m.default.Embed?T.remove():T.unwrap()})}}],[{key:"create",value:function(O){var P=c(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,O);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),A}(p.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",s.Code=D,s.default=E},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},o=function(){function q(F,$){var z=[],G=!0,X=!1,J=void 0;try{for(var K=F[Symbol.iterator](),U;!(G=(U=K.next()).done)&&(z.push(U.value),!($&&z.length===$));G=!0);}catch(te){X=!0,J=te}finally{try{!G&&K.return&&K.return()}finally{if(X)throw J}}return z}return function(F,$){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return q(F,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function q(F,$){for(var z=0;z<$.length;z++){var G=$[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}return function(F,$,z){return $&&q(F.prototype,$),z&&q(F,z),F}}(),d=i(2),h=P(d),f=i(20),m=P(f),u=i(0),p=P(u),x=i(13),v=P(x),w=i(24),b=P(w),y=i(4),_=P(y),N=i(16),C=P(N),D=i(21),E=P(D),R=i(11),A=P(R),k=i(3),O=P(k);function P(q){return q&&q.__esModule?q:{default:q}}function T(q,F,$){return F in q?Object.defineProperty(q,F,{value:$,enumerable:!0,configurable:!0,writable:!0}):q[F]=$,q}function M(q,F){if(!(q instanceof F))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,W=function(){function q(F){M(this,q),this.scroll=F,this.delta=this.getDelta()}return c(q,[{key:"applyDelta",value:function($){var z=this,G=!1;this.scroll.update();var X=this.scroll.length();return this.scroll.batchStart(),$=B($),$.reduce(function(J,K){var U=K.retain||K.delete||K.insert.length||1,te=K.attributes||{};if(K.insert!=null){if(typeof K.insert=="string"){var re=K.insert;re.endsWith(`
`)&&G&&(G=!1,re=re.slice(0,-1)),J>=X&&!re.endsWith(`
`)&&(G=!0),z.scroll.insertAt(J,re);var le=z.scroll.line(J),pe=o(le,2),ee=pe[0],ye=pe[1],Ce=(0,O.default)({},(0,y.bubbleFormats)(ee));if(ee instanceof _.default){var ue=ee.descendant(p.default.Leaf,ye),be=o(ue,1),xe=be[0];Ce=(0,O.default)(Ce,(0,y.bubbleFormats)(xe))}te=m.default.attributes.diff(Ce,te)||{}}else if(a(K.insert)==="object"){var ce=Object.keys(K.insert)[0];if(ce==null)return J;z.scroll.insertAt(J,ce,K.insert[ce])}X+=U}return Object.keys(te).forEach(function(fe){z.scroll.formatAt(J,U,fe,te[fe])}),J+U},0),$.reduce(function(J,K){return typeof K.delete=="number"?(z.scroll.deleteAt(J,K.delete),J):J+(K.retain||K.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,z){return this.scroll.deleteAt($,z),this.update(new h.default().retain($).delete(z))}},{key:"formatLine",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(X).forEach(function(J){if(!(G.scroll.whitelist!=null&&!G.scroll.whitelist[J])){var K=G.scroll.lines($,Math.max(z,1)),U=z;K.forEach(function(te){var re=te.length();if(!(te instanceof v.default))te.format(J,X[J]);else{var le=$-te.offset(G.scroll),pe=te.newlineIndex(le+U)-le+1;te.formatAt(le,pe,J,X[J])}U-=re})}}),this.scroll.optimize(),this.update(new h.default().retain($).retain(z,(0,E.default)(X)))}},{key:"formatText",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(X).forEach(function(J){G.scroll.formatAt($,z,J,X[J])}),this.update(new h.default().retain($).retain(z,(0,E.default)(X)))}},{key:"getContents",value:function($,z){return this.delta.slice($,$+z)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,z){return $.concat(z.delta())},new h.default)}},{key:"getFormat",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=[],X=[];z===0?this.scroll.path($).forEach(function(K){var U=o(K,1),te=U[0];te instanceof _.default?G.push(te):te instanceof p.default.Leaf&&X.push(te)}):(G=this.scroll.lines($,z),X=this.scroll.descendants(p.default.Leaf,$,z));var J=[G,X].map(function(K){if(K.length===0)return{};for(var U=(0,y.bubbleFormats)(K.shift());Object.keys(U).length>0;){var te=K.shift();if(te==null)return U;U=Z((0,y.bubbleFormats)(te),U)}return U});return O.default.apply(O.default,J)}},{key:"getText",value:function($,z){return this.getContents($,z).filter(function(G){return typeof G.insert=="string"}).map(function(G){return G.insert}).join("")}},{key:"insertEmbed",value:function($,z,G){return this.scroll.insertAt($,z,G),this.update(new h.default().retain($).insert(T({},z,G)))}},{key:"insertText",value:function($,z){var G=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return z=z.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,z),Object.keys(X).forEach(function(J){G.scroll.formatAt($,z.length,J,X[J])}),this.update(new h.default().retain($).insert(z,(0,E.default)(X)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName!==_.default.blotName||$.children.length>1?!1:$.children.head instanceof C.default}},{key:"removeFormat",value:function($,z){var G=this.getText($,z),X=this.scroll.line($+z),J=o(X,2),K=J[0],U=J[1],te=0,re=new h.default;K!=null&&(K instanceof v.default?te=K.newlineIndex(U)-U+1:te=K.length()-U,re=K.delta().slice(U,U+te-1).insert(`
`));var le=this.getContents($,z+te),pe=le.diff(new h.default().insert(G).concat(re)),ee=new h.default().retain($).concat(pe);return this.applyDelta(ee)}},{key:"update",value:function($){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,X=this.delta;if(z.length===1&&z[0].type==="characterData"&&z[0].target.data.match(H)&&p.default.find(z[0].target)){var J=p.default.find(z[0].target),K=(0,y.bubbleFormats)(J),U=J.offset(this.scroll),te=z[0].oldValue.replace(b.default.CONTENTS,""),re=new h.default().insert(te),le=new h.default().insert(J.value()),pe=new h.default().retain(U).concat(re.diff(le,G));$=pe.reduce(function(ee,ye){return ye.insert?ee.insert(ye.insert,K):ee.push(ye)},new h.default),this.delta=X.compose($)}else this.delta=this.getDelta(),(!$||!(0,A.default)(X.compose($),this.delta))&&($=X.diff(this.delta,G));return $}}]),q}();function Z(q,F){return Object.keys(F).reduce(function($,z){return q[z]==null||(F[z]===q[z]?$[z]=F[z]:Array.isArray(F[z])?F[z].indexOf(q[z])<0&&($[z]=F[z].concat([q[z]])):$[z]=[F[z],q[z]]),$},{})}function B(q){return q.reduce(function(F,$){if($.insert===1){var z=(0,E.default)($.attributes);return delete z.image,F.insert({image:$.attributes.image},z)}if($.attributes!=null&&($.attributes.list===!0||$.attributes.bullet===!0)&&($=(0,E.default)($),$.attributes.list?$.attributes.list="ordered":($.attributes.list="bullet",delete $.attributes.bullet)),typeof $.insert=="string"){var G=$.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(G,$.attributes)}return F.push($)},new h.default)}s.default=W},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Range=void 0;var a=function(){function R(A,k){var O=[],P=!0,T=!1,M=void 0;try{for(var H=A[Symbol.iterator](),W;!(P=(W=H.next()).done)&&(O.push(W.value),!(k&&O.length===k));P=!0);}catch(Z){T=!0,M=Z}finally{try{!P&&H.return&&H.return()}finally{if(T)throw M}}return O}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return R(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(A,k){for(var O=0;O<k.length;O++){var P=k[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}return function(A,k,O){return k&&R(A.prototype,k),O&&R(A,O),A}}(),c=i(0),d=b(c),h=i(21),f=b(h),m=i(11),u=b(m),p=i(8),x=b(p),v=i(10),w=b(v);function b(R){return R&&R.__esModule?R:{default:R}}function y(R){if(Array.isArray(R)){for(var A=0,k=Array(R.length);A<R.length;A++)k[A]=R[A];return k}else return Array.from(R)}function _(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}var N=(0,w.default)("quill:selection"),C=function R(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,R),this.index=A,this.length=k},D=function(){function R(A,k){var O=this;_(this,R),this.emitter=k,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new C(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,x.default.sources.USER),1)}),this.emitter.on(x.default.events.EDITOR_CHANGE,function(P,T){P===x.default.events.TEXT_CHANGE&&T.length()>0&&O.update(x.default.sources.SILENT)}),this.emitter.on(x.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var P=O.getNativeRange();P!=null&&P.start.node!==O.cursor.textNode&&O.emitter.once(x.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(x.default.events.SCROLL_OPTIMIZE,function(P,T){if(T.range){var M=T.range,H=M.startNode,W=M.startOffset,Z=M.endNode,B=M.endOffset;O.setNativeRange(H,W,Z,B)}}),this.update(x.default.sources.SILENT)}return o(R,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var O=k.cursor.restore();if(!O)return;setTimeout(function(){k.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(x.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,O){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||d.default.query(k,d.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var T=d.default.find(P.start.node,!1);if(T==null)return;if(T instanceof d.default.Leaf){var M=T.split(P.start.offset);T.parent.insertBefore(this.cursor,M)}else T.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(k,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();k=Math.min(k,P-1),O=Math.min(k+O,P-1)-k;var T=void 0,M=this.scroll.leaf(k),H=a(M,2),W=H[0],Z=H[1];if(W==null)return null;var B=W.position(Z,!0),q=a(B,2);T=q[0],Z=q[1];var F=document.createRange();if(O>0){F.setStart(T,Z);var $=this.scroll.leaf(k+O),z=a($,2);if(W=z[0],Z=z[1],W==null)return null;var G=W.position(Z,!0),X=a(G,2);return T=X[0],Z=X[1],F.setEnd(T,Z),F.getBoundingClientRect()}else{var J="left",K=void 0;return T instanceof Text?(Z<T.data.length?(F.setStart(T,Z),F.setEnd(T,Z+1)):(F.setStart(T,Z-1),F.setEnd(T,Z),J="right"),K=F.getBoundingClientRect()):(K=W.domNode.getBoundingClientRect(),Z>0&&(J="right")),{bottom:K.top+K.height,height:K.height,left:K[J],right:K[J],top:K.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var O=k.getRangeAt(0);if(O==null)return null;var P=this.normalizeNative(O);return N.info("getNativeRange",P),P}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var O=this.normalizedToRange(k);return[O,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var O=this,P=[[k.start.node,k.start.offset]];k.native.collapsed||P.push([k.end.node,k.end.offset]);var T=P.map(function(W){var Z=a(W,2),B=Z[0],q=Z[1],F=d.default.find(B,!0),$=F.offset(O.scroll);return q===0?$:F instanceof d.default.Container?$+F.length():$+F.index(B,q)}),M=Math.min(Math.max.apply(Math,y(T)),this.scroll.length()-1),H=Math.min.apply(Math,[M].concat(y(T)));return new C(H,M-H)}},{key:"normalizeNative",value:function(k){if(!E(this.root,k.startContainer)||!k.collapsed&&!E(this.root,k.endContainer))return null;var O={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[O.start,O.end].forEach(function(P){for(var T=P.node,M=P.offset;!(T instanceof Text)&&T.childNodes.length>0;)if(T.childNodes.length>M)T=T.childNodes[M],M=0;else if(T.childNodes.length===M)T=T.lastChild,M=T instanceof Text?T.data.length:T.childNodes.length+1;else break;P.node=T,P.offset=M}),O}},{key:"rangeToNative",value:function(k){var O=this,P=k.collapsed?[k.index]:[k.index,k.index+k.length],T=[],M=this.scroll.length();return P.forEach(function(H,W){H=Math.min(M-1,H);var Z=void 0,B=O.scroll.leaf(H),q=a(B,2),F=q[0],$=q[1],z=F.position($,W!==0),G=a(z,2);Z=G[0],$=G[1],T.push(Z,$)}),T.length<2&&(T=T.concat(T)),T}},{key:"scrollIntoView",value:function(k){var O=this.lastRange;if(O!=null){var P=this.getBounds(O.index,O.length);if(P!=null){var T=this.scroll.length()-1,M=this.scroll.line(Math.min(O.index,T)),H=a(M,1),W=H[0],Z=W;if(O.length>0){var B=this.scroll.line(Math.min(O.index+O.length,T)),q=a(B,1);Z=q[0]}if(!(W==null||Z==null)){var F=k.getBoundingClientRect();P.top<F.top?k.scrollTop-=F.top-P.top:P.bottom>F.bottom&&(k.scrollTop+=P.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(k,O){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(N.info("setNativeRange",k,O,P,T),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||P.parentNode==null))){var H=document.getSelection();if(H!=null)if(k!=null){this.hasFocus()||this.root.focus();var W=(this.getNativeRange()||{}).native;if(W==null||M||k!==W.startContainer||O!==W.startOffset||P!==W.endContainer||T!==W.endOffset){k.tagName=="BR"&&(O=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),P.tagName=="BR"&&(T=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var Z=document.createRange();Z.setStart(k,O),Z.setEnd(P,T),H.removeAllRanges(),H.addRange(Z)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof O=="string"&&(P=O,O=!1),N.info("setRange",k),k!=null){var T=this.rangeToNative(k);this.setNativeRange.apply(this,y(T).concat([O]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.default.sources.USER,O=this.lastRange,P=this.getRange(),T=a(P,2),M=T[0],H=T[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(O,this.lastRange)){var W;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[x.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(O),k];if((W=this.emitter).emit.apply(W,[x.default.events.EDITOR_CHANGE].concat(Z)),k!==x.default.sources.SILENT){var B;(B=this.emitter).emit.apply(B,Z)}}}}]),R}();function E(R,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),R.contains(A)}s.Range=C,s.default=D},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(0),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"insertInto",value:function(b,y){b.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,b,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(d.default.Embed);p.blotName="break",p.tagName="BR",s.default=p},function(n,s,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var x in p)p.hasOwnProperty(x)&&(u[x]=p[x])};return function(u,p){m(u,p);function x(){this.constructor=u}u.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(44),c=i(30),d=i(1),h=function(m){a(u,m);function u(p){var x=m.call(this,p)||this;return x.build(),x}return u.prototype.appendChild=function(p){this.insertBefore(p)},u.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},u.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(x){try{var v=f(x);p.insertBefore(v,p.children.head||void 0)}catch(w){if(w instanceof d.ParchmentError)return;throw w}})},u.prototype.deleteAt=function(p,x){if(p===0&&x===this.length())return this.remove();this.children.forEachAt(p,x,function(v,w,b){v.deleteAt(w,b)})},u.prototype.descendant=function(p,x){var v=this.children.find(x),w=v[0],b=v[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,b]:w instanceof u?w.descendant(p,b):[null,-1]},u.prototype.descendants=function(p,x,v){x===void 0&&(x=0),v===void 0&&(v=Number.MAX_VALUE);var w=[],b=v;return this.children.forEachAt(x,v,function(y,_,N){(p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p)&&w.push(y),y instanceof u&&(w=w.concat(y.descendants(p,_,b))),b-=N}),w},u.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),m.prototype.detach.call(this)},u.prototype.formatAt=function(p,x,v,w){this.children.forEachAt(p,x,function(b,y,_){b.formatAt(y,_,v,w)})},u.prototype.insertAt=function(p,x,v){var w=this.children.find(p),b=w[0],y=w[1];if(b)b.insertAt(y,x,v);else{var _=v==null?d.create("text",x):d.create(x,v);this.appendChild(_)}},u.prototype.insertBefore=function(p,x){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new d.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,x)},u.prototype.length=function(){return this.children.reduce(function(p,x){return p+x.length()},0)},u.prototype.moveChildren=function(p,x){this.children.forEach(function(v){p.insertBefore(v,x)})},u.prototype.optimize=function(p){if(m.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var x=d.create(this.statics.defaultChild);this.appendChild(x),x.optimize(p)}else this.remove()},u.prototype.path=function(p,x){x===void 0&&(x=!1);var v=this.children.find(p,x),w=v[0],b=v[1],y=[[this,p]];return w instanceof u?y.concat(w.path(b,x)):(w!=null&&y.push([w,b]),y)},u.prototype.removeChild=function(p){this.children.remove(p)},u.prototype.replace=function(p){p instanceof u&&p.moveChildren(this),m.prototype.replace.call(this,p)},u.prototype.split=function(p,x){if(x===void 0&&(x=!1),!x){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(w,b,y){w=w.split(b,x),v.appendChild(w)}),v},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(p,x){var v=this,w=[],b=[];p.forEach(function(y){y.target===v.domNode&&y.type==="childList"&&(w.push.apply(w,y.addedNodes),b.push.apply(b,y.removedNodes))}),b.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=d.find(y);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===v.domNode)&&_.detach()}}),w.filter(function(y){return y.parentNode==v.domNode}).sort(function(y,_){return y===_?0:y.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var _=null;y.nextSibling!=null&&(_=d.find(y.nextSibling));var N=f(y);(N.next!=_||N.next==null)&&(N.parent!=null&&N.parent.removeChild(v),v.insertBefore(N,_||void 0))})},u}(c.default);function f(m){var u=d.find(m);if(u==null)try{u=d.create(m)}catch{u=d.create(d.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(x){u.domNode.appendChild(x)}),m.parentNode&&m.parentNode.replaceChild(u.domNode,m),u.attach()}return u}s.default=h},function(n,s,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var x in p)p.hasOwnProperty(x)&&(u[x]=p[x])};return function(u,p){m(u,p);function x(){this.constructor=u}u.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(12),c=i(31),d=i(17),h=i(1),f=function(m){a(u,m);function u(p){var x=m.call(this,p)||this;return x.attributes=new c.default(x.domNode),x}return u.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},u.prototype.format=function(p,x){var v=h.query(p);v instanceof o.default?this.attributes.attribute(v,x):x&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==x)&&this.replaceWith(p,x)},u.prototype.formats=function(){var p=this.attributes.values(),x=this.statics.formats(this.domNode);return x!=null&&(p[this.statics.blotName]=x),p},u.prototype.replaceWith=function(p,x){var v=m.prototype.replaceWith.call(this,p,x);return this.attributes.copy(v),v},u.prototype.update=function(p,x){var v=this;m.prototype.update.call(this,p,x),p.some(function(w){return w.target===v.domNode&&w.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(p,x){var v=m.prototype.wrap.call(this,p,x);return v instanceof u&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},u}(d.default);s.default=f},function(n,s,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(30),c=i(1),d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.value=function(m){return!0},f.prototype.index=function(m,u){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},f.prototype.position=function(m,u){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},f.scope=c.Scope.INLINE_BLOT,f}(o.default);s.default=d},function(n,s,i){var a=i(11),o=i(3),c={attributes:{compose:function(h,f,m){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});var u=o(!0,{},f);m||(u=Object.keys(u).reduce(function(x,v){return u[v]!=null&&(x[v]=u[v]),x},{}));for(var p in h)h[p]!==void 0&&f[p]===void 0&&(u[p]=h[p]);return Object.keys(u).length>0?u:void 0},diff:function(h,f){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});var m=Object.keys(h).concat(Object.keys(f)).reduce(function(u,p){return a(h[p],f[p])||(u[p]=f[p]===void 0?null:f[p]),u},{});return Object.keys(m).length>0?m:void 0},transform:function(h,f,m){if(typeof h!="object")return f;if(typeof f=="object"){if(!m)return f;var u=Object.keys(f).reduce(function(p,x){return h[x]===void 0&&(p[x]=f[x]),p},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(h){return new d(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function d(h){this.ops=h,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(h){h||(h=1/0);var f=this.ops[this.index];if(f){var m=this.offset,u=c.length(f);if(h>=u-m?(h=u-m,this.index+=1,this.offset=0):this.offset+=h,typeof f.delete=="number")return{delete:h};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=h:typeof f.insert=="string"?p.insert=f.insert.substr(m,h):p.insert=f.insert,p}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,f=this.index,m=this.next(),u=this.ops.slice(this.index);return this.offset=h,this.index=f,[m].concat(u)}else return[]},n.exports=c},function(n,s){var i=function(){function a(v,w){return w!=null&&v instanceof w}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var d;try{d=Promise}catch{d=function(){}}function h(v,w,b,y,_){typeof w=="object"&&(b=w.depth,y=w.prototype,_=w.includeNonEnumerable,w=w.circular);var N=[],C=[],D=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function E(R,A){if(R===null)return null;if(A===0)return R;var k,O;if(typeof R!="object")return R;if(a(R,o))k=new o;else if(a(R,c))k=new c;else if(a(R,d))k=new d(function(F,$){R.then(function(z){F(E(z,A-1))},function(z){$(E(z,A-1))})});else if(h.__isArray(R))k=[];else if(h.__isRegExp(R))k=new RegExp(R.source,x(R)),R.lastIndex&&(k.lastIndex=R.lastIndex);else if(h.__isDate(R))k=new Date(R.getTime());else{if(D&&Buffer.isBuffer(R))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(R.length):k=new Buffer(R.length),R.copy(k),k;a(R,Error)?k=Object.create(R):typeof y>"u"?(O=Object.getPrototypeOf(R),k=Object.create(O)):(k=Object.create(y),O=y)}if(w){var P=N.indexOf(R);if(P!=-1)return C[P];N.push(R),C.push(k)}a(R,o)&&R.forEach(function(F,$){var z=E($,A-1),G=E(F,A-1);k.set(z,G)}),a(R,c)&&R.forEach(function(F){var $=E(F,A-1);k.add($)});for(var T in R){var M;O&&(M=Object.getOwnPropertyDescriptor(O,T)),!(M&&M.set==null)&&(k[T]=E(R[T],A-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(R),T=0;T<H.length;T++){var W=H[T],Z=Object.getOwnPropertyDescriptor(R,W);Z&&!Z.enumerable&&!_||(k[W]=E(R[W],A-1),Z.enumerable||Object.defineProperty(k,W,{enumerable:!1}))}if(_)for(var B=Object.getOwnPropertyNames(R),T=0;T<B.length;T++){var q=B[T],Z=Object.getOwnPropertyDescriptor(R,q);Z&&Z.enumerable||(k[q]=E(R[q],A-1),Object.defineProperty(k,q,{enumerable:!1}))}return k}return E(v,b)}h.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function f(v){return Object.prototype.toString.call(v)}h.__objToStr=f;function m(v){return typeof v=="object"&&f(v)==="[object Date]"}h.__isDate=m;function u(v){return typeof v=="object"&&f(v)==="[object Array]"}h.__isArray=u;function p(v){return typeof v=="object"&&f(v)==="[object RegExp]"}h.__isRegExp=p;function x(v){var w="";return v.global&&(w+="g"),v.ignoreCase&&(w+="i"),v.multiline&&(w+="m"),w}return h.__getRegExpFlags=x,h}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function k(O,P){var T=[],M=!0,H=!1,W=void 0;try{for(var Z=O[Symbol.iterator](),B;!(M=(B=Z.next()).done)&&(T.push(B.value),!(P&&T.length===P));M=!0);}catch(q){H=!0,W=q}finally{try{!M&&Z.return&&Z.return()}finally{if(H)throw W}}return T}return function(O,P){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return k(O,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(O,P){for(var T=0;T<P.length;T++){var M=P[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,P,T){return P&&k(O.prototype,P),T&&k(O,T),O}}(),c=function k(O,P,T){O===null&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,P);if(M===void 0){var H=Object.getPrototypeOf(O);return H===null?void 0:k(H,P,T)}else{if("value"in M)return M.value;var W=M.get;return W===void 0?void 0:W.call(T)}},d=i(0),h=N(d),f=i(8),m=N(f),u=i(4),p=N(u),x=i(16),v=N(x),w=i(13),b=N(w),y=i(25),_=N(y);function N(k){return k&&k.__esModule?k:{default:k}}function C(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}function D(k,O){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:k}function E(k,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(k,O):k.__proto__=O)}function R(k){return k instanceof p.default||k instanceof u.BlockEmbed}var A=function(k){E(O,k);function O(P,T){C(this,O);var M=D(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P));return M.emitter=T.emitter,Array.isArray(T.whitelist)&&(M.whitelist=T.whitelist.reduce(function(H,W){return H[W]=!0,H},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return o(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,M){var H=this.line(T),W=a(H,2),Z=W[0],B=W[1],q=this.line(T+M),F=a(q,1),$=F[0];if(c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,T,M),$!=null&&Z!==$&&B>0){if(Z instanceof u.BlockEmbed||$ instanceof u.BlockEmbed){this.optimize();return}if(Z instanceof b.default){var z=Z.newlineIndex(Z.length(),!0);if(z>-1&&(Z=Z.split(z+1),Z===$)){this.optimize();return}}else if($ instanceof b.default){var G=$.newlineIndex(0);G>-1&&$.split(G+1)}var X=$.children.head instanceof v.default?null:$.children.head;Z.moveChildren($,X),Z.remove()}this.optimize()}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",T)}},{key:"formatAt",value:function(T,M,H,W){this.whitelist!=null&&!this.whitelist[H]||(c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,T,M,H,W),this.optimize())}},{key:"insertAt",value:function(T,M,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[M])){if(T>=this.length())if(H==null||h.default.query(M,h.default.Scope.BLOCK)==null){var W=h.default.create(this.statics.defaultChild);this.appendChild(W),H==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),W.insertAt(0,M,H)}else{var Z=h.default.create(M,H);this.appendChild(Z)}else c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,T,M,H);this.optimize()}}},{key:"insertBefore",value:function(T,M){if(T.statics.scope===h.default.Scope.INLINE_BLOT){var H=h.default.create(this.statics.defaultChild);H.appendChild(T),T=H}c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,T,M)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(R,T)}},{key:"lines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function W(Z,B,q){var F=[],$=q;return Z.children.forEachAt(B,q,function(z,G,X){R(z)?F.push(z):z instanceof h.default.Container&&(F=F.concat(W(z,G,$))),$-=X}),F};return H(this,T,M)}},{key:"optimize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,T,M),T.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,T,M))}},{key:"path",value:function(T){return c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(this.batch!==!0){var M=m.default.sources.USER;typeof T=="string"&&(M=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,M,T),c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,M,T)}}}]),O}(h.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[p.default,u.BlockEmbed,_.default],s.default=A},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.SHORTKEY=s.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},o=function(){function K(U,te){var re=[],le=!0,pe=!1,ee=void 0;try{for(var ye=U[Symbol.iterator](),Ce;!(le=(Ce=ye.next()).done)&&(re.push(Ce.value),!(te&&re.length===te));le=!0);}catch(ue){pe=!0,ee=ue}finally{try{!le&&ye.return&&ye.return()}finally{if(pe)throw ee}}return re}return function(U,te){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return K(U,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function K(U,te){for(var re=0;re<te.length;re++){var le=te[re];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(U,le.key,le)}}return function(U,te,re){return te&&K(U.prototype,te),re&&K(U,re),U}}(),d=i(21),h=k(d),f=i(11),m=k(f),u=i(3),p=k(u),x=i(2),v=k(x),w=i(20),b=k(w),y=i(0),_=k(y),N=i(5),C=k(N),D=i(10),E=k(D),R=i(9),A=k(R);function k(K){return K&&K.__esModule?K:{default:K}}function O(K,U,te){return U in K?Object.defineProperty(K,U,{value:te,enumerable:!0,configurable:!0,writable:!0}):K[U]=te,K}function P(K,U){if(!(K instanceof U))throw new TypeError("Cannot call a class as a function")}function T(K,U){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:K}function M(K,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);K.prototype=Object.create(U&&U.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(K,U):K.__proto__=U)}var H=(0,E.default)("quill:keyboard"),W=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=function(K){M(U,K),c(U,null,[{key:"match",value:function(re,le){return le=J(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!le[pe]!==re[pe]&&le[pe]!==null})?!1:le.key===(re.which||re.keyCode)}}]);function U(te,re){P(this,U);var le=T(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,te,re));return le.bindings={},Object.keys(le.options.bindings).forEach(function(pe){pe==="list autofill"&&te.scroll.whitelist!=null&&!te.scroll.whitelist.list||le.options.bindings[pe]&&le.addBinding(le.options.bindings[pe])}),le.addBinding({key:U.keys.ENTER,shiftKey:null},z),le.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},q),le.addBinding({key:U.keys.DELETE},{collapsed:!0},F)):(le.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),le.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),le.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},$),le.addBinding({key:U.keys.DELETE},{collapsed:!1},$),le.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),le.listen(),le}return c(U,[{key:"addBinding",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=J(re);if(ee==null||ee.key==null)return H.warn("Attempted to add invalid keyboard binding",ee);typeof le=="function"&&(le={handler:le}),typeof pe=="function"&&(pe={handler:pe}),ee=(0,p.default)(ee,le,pe),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var re=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var pe=le.which||le.keyCode,ee=(re.bindings[pe]||[]).filter(function(_t){return U.match(le,_t)});if(ee.length!==0){var ye=re.quill.getSelection();if(!(ye==null||!re.quill.hasFocus())){var Ce=re.quill.getLine(ye.index),ue=o(Ce,2),be=ue[0],xe=ue[1],ce=re.quill.getLeaf(ye.index),fe=o(ce,2),Q=fe[0],se=fe[1],ie=ye.length===0?[Q,se]:re.quill.getLeaf(ye.index+ye.length),we=o(ie,2),je=we[0],ve=we[1],Ae=Q instanceof _.default.Text?Q.value().slice(0,se):"",et=je instanceof _.default.Text?je.value().slice(ve):"",Xe={collapsed:ye.length===0,empty:ye.length===0&&be.length()<=1,format:re.quill.getFormat(ye),offset:xe,prefix:Ae,suffix:et},zt=ee.some(function(_t){if(_t.collapsed!=null&&_t.collapsed!==Xe.collapsed||_t.empty!=null&&_t.empty!==Xe.empty||_t.offset!=null&&_t.offset!==Xe.offset)return!1;if(Array.isArray(_t.format)){if(_t.format.every(function(Vt){return Xe.format[Vt]==null}))return!1}else if(a(_t.format)==="object"&&!Object.keys(_t.format).every(function(Vt){return _t.format[Vt]===!0?Xe.format[Vt]!=null:_t.format[Vt]===!1?Xe.format[Vt]==null:(0,m.default)(_t.format[Vt],Xe.format[Vt])}))return!1;return _t.prefix!=null&&!_t.prefix.test(Xe.prefix)||_t.suffix!=null&&!_t.suffix.test(Xe.suffix)?!1:_t.handler.call(re,ye,Xe)!==!0});zt&&le.preventDefault()}}}})}}]),U}(A.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:X("bold"),italic:X("italic"),underline:X("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function(U,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,te){te.format.indent!=null?this.quill.format("indent","-1",C.default.sources.USER):te.format.list!=null&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":G(!0),"outdent code-block":G(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,C.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function(U){this.quill.history.cutoff();var te=new v.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(te,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,C.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,te){this.quill.format("list",!1,C.default.sources.USER),te.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var te=this.quill.getLine(U.index),re=o(te,2),le=re[0],pe=re[1],ee=(0,p.default)({},le.formats(),{list:"checked"}),ye=new v.default().retain(U.index).insert(`
`,ee).retain(le.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(ye,C.default.sources.USER),this.quill.setSelection(U.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,te){var re=this.quill.getLine(U.index),le=o(re,2),pe=le[0],ee=le[1],ye=new v.default().retain(U.index).insert(`
`,te.format).retain(pe.length()-ee-1).retain(1,{header:null});this.quill.updateContents(ye,C.default.sources.USER),this.quill.setSelection(U.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,te){var re=te.prefix.length,le=this.quill.getLine(U.index),pe=o(le,2),ee=pe[0],ye=pe[1];if(ye>re)return!0;var Ce=void 0;switch(te.prefix.trim()){case"[]":case"[ ]":Ce="unchecked";break;case"[x]":Ce="checked";break;case"-":case"*":Ce="bullet";break;default:Ce="ordered"}this.quill.insertText(U.index," ",C.default.sources.USER),this.quill.history.cutoff();var ue=new v.default().retain(U.index-ye).delete(re+1).retain(ee.length()-2-ye).retain(1,{list:Ce});this.quill.updateContents(ue,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-re,C.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var te=this.quill.getLine(U.index),re=o(te,2),le=re[0],pe=re[1],ee=new v.default().retain(U.index+le.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,C.default.sources.USER)}},"embed left":B(Z.keys.LEFT,!1),"embed left shift":B(Z.keys.LEFT,!0),"embed right":B(Z.keys.RIGHT,!1),"embed right shift":B(Z.keys.RIGHT,!0)}};function B(K,U){var te,re=K===Z.keys.LEFT?"prefix":"suffix";return te={key:K,shiftKey:U,altKey:null},O(te,re,/^$/),O(te,"handler",function(pe){var ee=pe.index;K===Z.keys.RIGHT&&(ee+=pe.length+1);var ye=this.quill.getLeaf(ee),Ce=o(ye,1),ue=Ce[0];return ue instanceof _.default.Embed?(K===Z.keys.LEFT?U?this.quill.setSelection(pe.index-1,pe.length+1,C.default.sources.USER):this.quill.setSelection(pe.index-1,C.default.sources.USER):U?this.quill.setSelection(pe.index,pe.length+1,C.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,C.default.sources.USER),!1):!0}),te}function q(K,U){if(!(K.index===0||this.quill.getLength()<=1)){var te=this.quill.getLine(K.index),re=o(te,1),le=re[0],pe={};if(U.offset===0){var ee=this.quill.getLine(K.index-1),ye=o(ee,1),Ce=ye[0];if(Ce!=null&&Ce.length()>1){var ue=le.formats(),be=this.quill.getFormat(K.index-1,1);pe=b.default.attributes.diff(ue,be)||{}}}var xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(K.index-xe,xe,C.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(K.index-xe,xe,pe,C.default.sources.USER),this.quill.focus()}}function F(K,U){var te=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(K.index>=this.quill.getLength()-te)){var re={},le=0,pe=this.quill.getLine(K.index),ee=o(pe,1),ye=ee[0];if(U.offset>=ye.length()-1){var Ce=this.quill.getLine(K.index+1),ue=o(Ce,1),be=ue[0];if(be){var xe=ye.formats(),ce=this.quill.getFormat(K.index,1);re=b.default.attributes.diff(xe,ce)||{},le=be.length()}}this.quill.deleteText(K.index,te,C.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(K.index+le-1,te,re,C.default.sources.USER)}}function $(K){var U=this.quill.getLines(K),te={};if(U.length>1){var re=U[0].formats(),le=U[U.length-1].formats();te=b.default.attributes.diff(le,re)||{}}this.quill.deleteText(K,C.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(K.index,1,te,C.default.sources.USER),this.quill.setSelection(K.index,C.default.sources.SILENT),this.quill.focus()}function z(K,U){var te=this;K.length>0&&this.quill.scroll.deleteAt(K.index,K.length);var re=Object.keys(U.format).reduce(function(le,pe){return _.default.query(pe,_.default.Scope.BLOCK)&&!Array.isArray(U.format[pe])&&(le[pe]=U.format[pe]),le},{});this.quill.insertText(K.index,`
`,re,C.default.sources.USER),this.quill.setSelection(K.index+1,C.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(le){re[le]==null&&(Array.isArray(U.format[le])||le!=="link"&&te.quill.format(le,U.format[le],C.default.sources.USER))})}function G(K){return{key:Z.keys.TAB,shiftKey:!K,format:{"code-block":!0},handler:function(te){var re=_.default.query("code-block"),le=te.index,pe=te.length,ee=this.quill.scroll.descendant(re,le),ye=o(ee,2),Ce=ye[0],ue=ye[1];if(Ce!=null){var be=this.quill.getIndex(Ce),xe=Ce.newlineIndex(ue,!0)+1,ce=Ce.newlineIndex(be+ue+pe),fe=Ce.domNode.textContent.slice(xe,ce).split(`
`);ue=0,fe.forEach(function(Q,se){K?(Ce.insertAt(xe+ue,re.TAB),ue+=re.TAB.length,se===0?le+=re.TAB.length:pe+=re.TAB.length):Q.startsWith(re.TAB)&&(Ce.deleteAt(xe+ue,re.TAB.length),ue-=re.TAB.length,se===0?le-=re.TAB.length:pe-=re.TAB.length),ue+=Q.length+1}),this.quill.update(C.default.sources.USER),this.quill.setSelection(le,pe,C.default.sources.SILENT)}}}}function X(K){return{key:K[0].toUpperCase(),shortKey:!0,handler:function(te,re){this.quill.format(K,!re.format[K],C.default.sources.USER)}}}function J(K){if(typeof K=="string"||typeof K=="number")return J({key:K});if((typeof K>"u"?"undefined":a(K))==="object"&&(K=(0,h.default)(K,!1)),typeof K.key=="string")if(Z.keys[K.key.toUpperCase()]!=null)K.key=Z.keys[K.key.toUpperCase()];else if(K.key.length===1)K.key=K.key.toUpperCase().charCodeAt(0);else return null;return K.shortKey&&(K[W]=K.shortKey,delete K.shortKey),K}s.default=Z,s.SHORTKEY=W},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function b(y,_){var N=[],C=!0,D=!1,E=void 0;try{for(var R=y[Symbol.iterator](),A;!(C=(A=R.next()).done)&&(N.push(A.value),!(_&&N.length===_));C=!0);}catch(k){D=!0,E=k}finally{try{!C&&R.return&&R.return()}finally{if(D)throw E}}return N}return function(y,_){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return b(y,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(y,_,N){y===null&&(y=Function.prototype);var C=Object.getOwnPropertyDescriptor(y,_);if(C===void 0){var D=Object.getPrototypeOf(y);return D===null?void 0:b(D,_,N)}else{if("value"in C)return C.value;var E=C.get;return E===void 0?void 0:E.call(N)}},c=function(){function b(y,_){for(var N=0;N<_.length;N++){var C=_[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}return function(y,_,N){return _&&b(y.prototype,_),N&&b(y,N),y}}(),d=i(0),h=u(d),f=i(7),m=u(f);function u(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function x(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function v(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var w=function(b){v(y,b),c(y,null,[{key:"value",value:function(){}}]);function y(_,N){p(this,y);var C=x(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return C.selection=N,C.textNode=document.createTextNode(y.CONTENTS),C.domNode.appendChild(C.textNode),C._length=0,C}return c(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(N,C){if(this._length!==0)return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,N,C);for(var D=this,E=0;D!=null&&D.statics.scope!==h.default.Scope.BLOCK_BLOT;)E+=D.offset(D.parent),D=D.parent;D!=null&&(this._length=y.CONTENTS.length,D.optimize(),D.formatAt(E,y.CONTENTS.length,N,C),this._length=0)}},{key:"index",value:function(N,C){return N===this.textNode?0:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,N,C)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var N=this.textNode,C=this.selection.getNativeRange(),D=void 0,E=void 0,R=void 0;if(C!=null&&C.start.node===N&&C.end.node===N){var A=[N,C.start.offset,C.end.offset];D=A[0],E=A[1],R=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var k=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof m.default?(D=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=y.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var O=[E,R].map(function(T){return Math.max(0,Math.min(D.data.length,T-1))}),P=a(O,2);return E=P[0],R=P[1],{startNode:D,startOffset:E,endNode:D,endOffset:R}}}}},{key:"update",value:function(N,C){var D=this;if(N.some(function(R){return R.type==="characterData"&&R.target===D.textNode})){var E=this.restore();E&&(C.range=E)}}},{key:"value",value:function(){return""}}]),y}(h.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",s.default=w},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0),o=h(a),c=i(4),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);p.allowedChildren=[d.default,c.BlockEmbed,p],s.default=p},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.ColorStyle=s.ColorClass=s.ColorAttributor=void 0;var a=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),o=function w(b,y,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,y);if(N===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:w(C,y,_)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(_)}},c=i(0),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function u(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=function(w){u(b,w);function b(){return f(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(_){var N=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,_);return N.startsWith("rgb(")?(N=N.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+N.split(",").map(function(C){return("00"+parseInt(C).toString(16)).slice(-2)}).join("")):N}}]),b}(d.default.Attributor.Style),x=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),v=new p("color","color",{scope:d.default.Scope.INLINE});s.ColorAttributor=p,s.ColorClass=x,s.ColorStyle=v},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.sanitize=s.default=void 0;var a=function(){function v(w,b){for(var y=0;y<b.length;y++){var _=b[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,y){return b&&v(w.prototype,b),y&&v(w,y),w}}(),o=function v(w,b,y){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,b);if(_===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,b,y)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(y)}},c=i(6),d=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function m(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function u(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){u(w,v);function w(){return f(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(y,_){if(y!==this.statics.blotName||!_)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,y,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(y){var _=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,y);return y=this.sanitize(y),_.setAttribute("href",y),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return x(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),w}(d.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function x(v,w){var b=document.createElement("a");b.href=v;var y=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(y)>-1}s.default=p,s.sanitize=x},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),c=i(23),d=m(c),h=i(107),f=m(h);function m(w){return w&&w.__esModule?w:{default:w}}function u(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function x(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var v=function(){function w(b){var y=this;u(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case d.default.keys.ENTER:y.togglePicker();break;case d.default.keys.ESCAPE:y.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),x(this.label,"aria-expanded"),x(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var _=this,N=document.createElement("span");return N.tabIndex="0",N.setAttribute("role","button"),N.classList.add("ql-picker-item"),y.hasAttribute("value")&&N.setAttribute("data-value",y.getAttribute("value")),y.textContent&&N.setAttribute("data-label",y.textContent),N.addEventListener("click",function(){_.selectItem(N,!0)}),N.addEventListener("keydown",function(C){switch(C.keyCode){case d.default.keys.ENTER:_.selectItem(N,!0),C.preventDefault();break;case d.default.keys.ESCAPE:_.escape(),C.preventDefault();break}}),N}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=f.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(N){var C=y.buildItem(N);_.appendChild(C),N.selected===!0&&y.selectItem(C)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(_){y.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=this.container.querySelector(".ql-selected");if(y!==N&&(N!=null&&N.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var C=document.createEvent("Event");C.initEvent("change",!0,!0),this.select.dispatchEvent(C)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var N=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",N)}}]),w}();s.default=v},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0),o=H(a),c=i(5),d=H(c),h=i(4),f=H(h),m=i(16),u=H(m),p=i(25),x=H(p),v=i(24),w=H(v),b=i(35),y=H(b),_=i(6),N=H(_),C=i(22),D=H(C),E=i(7),R=H(E),A=i(55),k=H(A),O=i(42),P=H(O),T=i(23),M=H(T);function H(W){return W&&W.__esModule?W:{default:W}}d.default.register({"blots/block":f.default,"blots/block/embed":h.BlockEmbed,"blots/break":u.default,"blots/container":x.default,"blots/cursor":w.default,"blots/embed":y.default,"blots/inline":N.default,"blots/scroll":D.default,"blots/text":R.default,"modules/clipboard":k.default,"modules/history":P.default,"modules/keyboard":M.default}),o.default.register(f.default,u.default,w.default,N.default,D.default,R.default),s.default=d.default},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(1),o=function(){function c(d){this.domNode=d,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(d){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?h=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?h=document.createElement(d):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return a.create(d)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(d,h){var f=this.isolate(d,h);f.remove()},c.prototype.formatAt=function(d,h,f,m){var u=this.isolate(d,h);if(a.query(f,a.Scope.BLOT)!=null&&m)u.wrap(f,m);else if(a.query(f,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);u.wrap(p),p.format(f,m)}},c.prototype.insertAt=function(d,h,f){var m=f==null?a.create("text",h):a.create(h,f),u=this.split(d);this.parent.insertBefore(m,u)},c.prototype.insertInto=function(d,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var f=null;d.children.insertBefore(this,h),h!=null&&(f=h.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=f)&&d.domNode.insertBefore(this.domNode,f),this.parent=d,this.attach()},c.prototype.isolate=function(d,h){var f=this.split(d);return f.split(h),f},c.prototype.length=function(){return 1},c.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},c.prototype.optimize=function(d){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},c.prototype.replaceWith=function(d,h){var f=typeof d=="string"?a.create(d,h):d;return f.replace(this),f},c.prototype.split=function(d,h){return d===0?this:this.next},c.prototype.update=function(d,h){},c.prototype.wrap=function(d,h){var f=typeof d=="string"?a.create(d,h):d;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},c.blotName="abstract",c}();s.default=o},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(12),o=i(32),c=i(33),d=i(1),h=function(){function f(m){this.attributes={},this.domNode=m,this.build()}return f.prototype.attribute=function(m,u){u?m.add(this.domNode,u)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},f.prototype.build=function(){var m=this;this.attributes={};var u=a.default.keys(this.domNode),p=o.default.keys(this.domNode),x=c.default.keys(this.domNode);u.concat(p).concat(x).forEach(function(v){var w=d.query(v,d.Scope.ATTRIBUTE);w instanceof a.default&&(m.attributes[w.attrName]=w)})},f.prototype.copy=function(m){var u=this;Object.keys(this.attributes).forEach(function(p){var x=u.attributes[p].value(u.domNode);m.format(p,x)})},f.prototype.move=function(m){var u=this;this.copy(m),Object.keys(this.attributes).forEach(function(p){u.attributes[p].remove(u.domNode)}),this.attributes={}},f.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(u,p){return u[p]=m.attributes[p].value(m.domNode),u},{})},f}();s.default=h},function(n,s,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(12);function c(h,f){var m=h.getAttribute("class")||"";return m.split(/\s+/).filter(function(u){return u.indexOf(f+"-")===0})}var d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},f.prototype.add=function(m,u){return this.canAdd(m,u)?(this.remove(m),m.classList.add(this.keyName+"-"+u),!0):!1},f.prototype.remove=function(m){var u=c(m,this.keyName);u.forEach(function(p){m.classList.remove(p)}),m.classList.length===0&&m.removeAttribute("class")},f.prototype.value=function(m){var u=c(m,this.keyName)[0]||"",p=u.slice(this.keyName.length+1);return this.canAdd(m,p)?p:""},f}(o.default);s.default=d},function(n,s,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(12);function c(h){var f=h.split("-"),m=f.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return f[0]+m}var d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(u){var p=u.split(":");return p[0].trim()})},f.prototype.add=function(m,u){return this.canAdd(m,u)?(m.style[c(this.keyName)]=u,!0):!1},f.prototype.remove=function(m){m.style[c(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},f.prototype.value=function(m){var u=m.style[c(this.keyName)];return this.canAdd(m,u)?u:""},f}(o.default);s.default=d},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function d(h,f){for(var m=0;m<f.length;m++){var u=f[m];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,f,m){return f&&d(h.prototype,f),m&&d(h,m),h}}();function o(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(h,f){o(this,d),this.quill=h,this.options=f,this.modules={}}return a(d,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(m){f.modules[m]==null&&f.addModule(m)})}},{key:"addModule",value:function(f){var m=this.quill.constructor.import("modules/"+f);return this.modules[f]=new m(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),d}();c.DEFAULTS={modules:{}},c.themes={default:c},s.default=c},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function b(y,_){for(var N=0;N<_.length;N++){var C=_[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}return function(y,_,N){return _&&b(y.prototype,_),N&&b(y,N),y}}(),o=function b(y,_,N){y===null&&(y=Function.prototype);var C=Object.getOwnPropertyDescriptor(y,_);if(C===void 0){var D=Object.getPrototypeOf(y);return D===null?void 0:b(D,_,N)}else{if("value"in C)return C.value;var E=C.get;return E===void 0?void 0:E.call(N)}},c=i(0),d=m(c),h=i(7),f=m(h);function m(b){return b&&b.__esModule?b:{default:b}}function u(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function p(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function x(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var v="\uFEFF",w=function(b){x(y,b);function y(_){u(this,y);var N=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return N.contentNode=document.createElement("span"),N.contentNode.setAttribute("contenteditable",!1),[].slice.call(N.domNode.childNodes).forEach(function(C){N.contentNode.appendChild(C)}),N.leftGuard=document.createTextNode(v),N.rightGuard=document.createTextNode(v),N.domNode.appendChild(N.leftGuard),N.domNode.appendChild(N.contentNode),N.domNode.appendChild(N.rightGuard),N}return a(y,[{key:"index",value:function(N,C){return N===this.leftGuard?0:N===this.rightGuard?1:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,N,C)}},{key:"restore",value:function(N){var C=void 0,D=void 0,E=N.data.split(v).join("");if(N===this.leftGuard)if(this.prev instanceof f.default){var R=this.prev.length();this.prev.insertAt(R,E),C={startNode:this.prev.domNode,startOffset:R+E.length}}else D=document.createTextNode(E),this.parent.insertBefore(d.default.create(D),this),C={startNode:D,startOffset:E.length};else N===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,E),C={startNode:this.next.domNode,startOffset:E.length}):(D=document.createTextNode(E),this.parent.insertBefore(d.default.create(D),this.next),C={startNode:D,startOffset:E.length}));return N.data=v,C}},{key:"update",value:function(N,C){var D=this;N.forEach(function(E){if(E.type==="characterData"&&(E.target===D.leftGuard||E.target===D.rightGuard)){var R=D.restore(E.target);R&&(C.range=R)}})}}]),y}(d.default.Embed);s.default=w},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.AlignStyle=s.AlignClass=s.AlignAttribute=void 0;var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}var d={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new o.default.Attributor.Attribute("align","align",d),f=new o.default.Attributor.Class("align","ql-align",d),m=new o.default.Attributor.Style("align","text-align",d);s.AlignAttribute=h,s.AlignClass=f,s.AlignStyle=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.BackgroundStyle=s.BackgroundClass=void 0;var a=i(0),o=d(a),c=i(26);function d(m){return m&&m.__esModule?m:{default:m}}var h=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});s.BackgroundClass=h,s.BackgroundStyle=f},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.DirectionStyle=s.DirectionClass=s.DirectionAttribute=void 0;var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}var d={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},h=new o.default.Attributor.Attribute("direction","dir",d),f=new o.default.Attributor.Class("direction","ql-direction",d),m=new o.default.Attributor.Style("direction","direction",d);s.DirectionAttribute=h,s.DirectionClass=f,s.DirectionStyle=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.FontClass=s.FontStyle=void 0;var a=function(){function b(y,_){for(var N=0;N<_.length;N++){var C=_[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}return function(y,_,N){return _&&b(y.prototype,_),N&&b(y,N),y}}(),o=function b(y,_,N){y===null&&(y=Function.prototype);var C=Object.getOwnPropertyDescriptor(y,_);if(C===void 0){var D=Object.getPrototypeOf(y);return D===null?void 0:b(D,_,N)}else{if("value"in C)return C.value;var E=C.get;return E===void 0?void 0:E.call(N)}},c=i(0),d=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function m(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function u(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var p={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},x=new d.default.Attributor.Class("font","ql-font",p),v=function(b){u(y,b);function y(){return f(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(N){return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,N).replace(/["']/g,"")}}]),y}(d.default.Attributor.Style),w=new v("font","font-family",p);s.FontStyle=w,s.FontClass=x},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.SizeStyle=s.SizeClass=void 0;var a=i(0),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}var d=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});s.SizeClass=d,s.SizeStyle=h},function(n,s,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.getLastChangeIndex=s.default=void 0;var a=function(){function _(N,C){for(var D=0;D<C.length;D++){var E=C[D];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,C,D){return C&&_(N.prototype,C),D&&_(N,D),N}}(),o=i(0),c=u(o),d=i(5),h=u(d),f=i(9),m=u(f);function u(_){return _&&_.__esModule?_:{default:_}}function p(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function x(_,N){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:_}function v(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(_,N):_.__proto__=N)}var w=function(_){v(N,_);function N(C,D){p(this,N);var E=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C,D));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(h.default.events.EDITOR_CHANGE,function(R,A,k,O){R!==h.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||O===h.default.sources.USER?E.record(A,k):E.transform(A))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return a(N,[{key:"change",value:function(D,E){if(this.stack[D].length!==0){var R=this.stack[D].pop();this.stack[E].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[D],h.default.sources.USER),this.ignoreChange=!1;var A=y(R[D]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(D,E){if(D.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(E),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var k=this.stack.undo.pop();R=R.compose(k.undo),D=k.redo.compose(D)}else this.lastRecorded=A;this.stack.undo.push({redo:D,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(D){this.stack.undo.forEach(function(E){E.undo=D.transform(E.undo,!0),E.redo=D.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=D.transform(E.undo,!0),E.redo=D.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),N}(m.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(_){var N=_.ops[_.ops.length-1];return N==null?!1:N.insert!=null?typeof N.insert=="string"&&N.insert.endsWith(`
`):N.attributes!=null?Object.keys(N.attributes).some(function(C){return c.default.query(C,c.default.Scope.BLOCK)!=null}):!1}function y(_){var N=_.reduce(function(D,E){return D+=E.delete||0,D},0),C=_.length()-N;return b(_)&&(C-=1),C}s.default=w,s.getLastChangeIndex=y},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BaseTooltip=void 0;var a=function(){function z(G,X){for(var J=0;J<X.length;J++){var K=X[J];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}return function(G,X,J){return X&&z(G.prototype,X),J&&z(G,J),G}}(),o=function z(G,X,J){G===null&&(G=Function.prototype);var K=Object.getOwnPropertyDescriptor(G,X);if(K===void 0){var U=Object.getPrototypeOf(G);return U===null?void 0:z(U,X,J)}else{if("value"in K)return K.value;var te=K.get;return te===void 0?void 0:te.call(J)}},c=i(3),d=A(c),h=i(2),f=A(h),m=i(8),u=A(m),p=i(23),x=A(p),v=i(34),w=A(v),b=i(59),y=A(b),_=i(60),N=A(_),C=i(28),D=A(C),E=i(61),R=A(E);function A(z){return z&&z.__esModule?z:{default:z}}function k(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}function O(z,G){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:z}function P(z,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);z.prototype=Object.create(G&&G.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(z,G):z.__proto__=G)}var T=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],W=["1","2","3",!1],Z=["small",!1,"large","huge"],B=function(z){P(G,z);function G(X,J){k(this,G);var K=O(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,X,J)),U=function te(re){if(!document.body.contains(X.root))return document.body.removeEventListener("click",te);K.tooltip!=null&&!K.tooltip.root.contains(re.target)&&document.activeElement!==K.tooltip.textbox&&!K.quill.hasFocus()&&K.tooltip.hide(),K.pickers!=null&&K.pickers.forEach(function(le){le.container.contains(re.target)||le.close()})};return X.emitter.listenDOM("click",document.body,U),K}return a(G,[{key:"addModule",value:function(J){var K=o(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(K),K}},{key:"buildButtons",value:function(J,K){J.forEach(function(U){var te=U.getAttribute("class")||"";te.split(/\s+/).forEach(function(re){if(re.startsWith("ql-")&&(re=re.slice(3),K[re]!=null))if(re==="direction")U.innerHTML=K[re][""]+K[re].rtl;else if(typeof K[re]=="string")U.innerHTML=K[re];else{var le=U.value||"";le!=null&&K[re][le]&&(U.innerHTML=K[re][le])}})})}},{key:"buildPickers",value:function(J,K){var U=this;this.pickers=J.map(function(re){if(re.classList.contains("ql-align"))return re.querySelector("option")==null&&$(re,T),new N.default(re,K.align);if(re.classList.contains("ql-background")||re.classList.contains("ql-color")){var le=re.classList.contains("ql-background")?"background":"color";return re.querySelector("option")==null&&$(re,M,le==="background"?"#ffffff":"#000000"),new y.default(re,K[le])}else return re.querySelector("option")==null&&(re.classList.contains("ql-font")?$(re,H):re.classList.contains("ql-header")?$(re,W):re.classList.contains("ql-size")&&$(re,Z)),new D.default(re)});var te=function(){U.pickers.forEach(function(le){le.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,te)}}]),G}(w.default);B.DEFAULTS=(0,d.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var G=this,X=this.container.querySelector("input.ql-image[type=file]");X==null&&(X=document.createElement("input"),X.setAttribute("type","file"),X.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),X.classList.add("ql-image"),X.addEventListener("change",function(){if(X.files!=null&&X.files[0]!=null){var J=new FileReader;J.onload=function(K){var U=G.quill.getSelection(!0);G.quill.updateContents(new f.default().retain(U.index).delete(U.length).insert({image:K.target.result}),u.default.sources.USER),G.quill.setSelection(U.index+1,u.default.sources.SILENT),X.value=""},J.readAsDataURL(X.files[0])}}),this.container.appendChild(X)),X.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(z){P(G,z);function G(X,J){k(this,G);var K=O(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,X,J));return K.textbox=K.root.querySelector('input[type="text"]'),K.listen(),K}return a(G,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(K){x.default.match(K,"enter")?(J.save(),K.preventDefault()):x.default.match(K,"escape")&&(J.cancel(),K.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),K!=null?this.textbox.value=K:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var K=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,u.default.sources.USER)),this.quill.root.scrollTop=K;break}case"video":J=F(J);case"formula":{if(!J)break;var U=this.quill.getSelection(!0);if(U!=null){var te=U.index+U.length;this.quill.insertEmbed(te,this.root.getAttribute("data-mode"),J,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(te+1," ",u.default.sources.USER),this.quill.setSelection(te+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),G}(R.default);function F(z){var G=z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return G?(G[1]||"https")+"://www.youtube.com/embed/"+G[2]+"?showinfo=0":(G=z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(G[1]||"https")+"://player.vimeo.com/video/"+G[2]+"/":z}function $(z,G){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;G.forEach(function(J){var K=document.createElement("option");J===X?K.setAttribute("selected","selected"):K.setAttribute("value",J),z.appendChild(K)})}s.BaseTooltip=q,s.default=B},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var d,h=this.iterator();d=h();)if(d===c)return!0;return!1},o.prototype.insertBefore=function(c,d){c&&(c.next=d,d!=null?(c.prev=d.prev,d.prev!=null&&(d.prev.next=c),d.prev=c,d===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var d=0,h=this.head;h!=null;){if(h===c)return d;d+=h.length(),h=h.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var d=c;return c!=null&&(c=c.next),d}},o.prototype.find=function(c,d){d===void 0&&(d=!1);for(var h,f=this.iterator();h=f();){var m=h.length();if(c<m||d&&c===m&&(h.next==null||h.next.length()!==0))return[h,c];c-=m}return[null,0]},o.prototype.forEach=function(c){for(var d,h=this.iterator();d=h();)c(d)},o.prototype.forEachAt=function(c,d,h){if(!(d<=0))for(var f=this.find(c),m=f[0],u=f[1],p,x=c-u,v=this.iterator(m);(p=v())&&x<c+d;){var w=p.length();c>x?h(p,c-x,Math.min(d,x+w-c)):h(p,0,Math.min(w,c+d-x)),x+=w}},o.prototype.map=function(c){return this.reduce(function(d,h){return d.push(c(h)),d},[])},o.prototype.reduce=function(c,d){for(var h,f=this.iterator();h=f();)d=c(d,h);return d},o}();s.default=a},function(n,s,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var x in p)p.hasOwnProperty(x)&&(u[x]=p[x])};return function(u,p){m(u,p);function x(){this.constructor=u}u.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(17),c=i(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,f=function(m){a(u,m);function u(p){var x=m.call(this,p)||this;return x.scroll=x,x.observer=new MutationObserver(function(v){x.update(v)}),x.observer.observe(x.domNode,d),x.attach(),x}return u.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(p,x){this.update(),p===0&&x===this.length()?this.children.forEach(function(v){v.remove()}):m.prototype.deleteAt.call(this,p,x)},u.prototype.formatAt=function(p,x,v,w){this.update(),m.prototype.formatAt.call(this,p,x,v,w)},u.prototype.insertAt=function(p,x,v){this.update(),m.prototype.insertAt.call(this,p,x,v)},u.prototype.optimize=function(p,x){var v=this;p===void 0&&(p=[]),x===void 0&&(x={}),m.prototype.optimize.call(this,x);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var b=function(C,D){D===void 0&&(D=!0),!(C==null||C===v)&&C.domNode.parentNode!=null&&(C.domNode[c.DATA_KEY].mutations==null&&(C.domNode[c.DATA_KEY].mutations=[]),D&&b(C.parent))},y=function(C){C.domNode[c.DATA_KEY]==null||C.domNode[c.DATA_KEY].mutations==null||(C instanceof o.default&&C.children.forEach(y),C.optimize(x))},_=p,N=0;_.length>0;N+=1){if(N>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(C){var D=c.find(C.target,!0);D!=null&&(D.domNode===C.target&&(C.type==="childList"?(b(c.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(E){var R=c.find(E,!1);b(R,!1),R instanceof o.default&&R.children.forEach(function(A){b(A,!1)})})):C.type==="attributes"&&b(D.prev)),b(D))}),this.children.forEach(y),_=[].slice.call(this.observer.takeRecords()),w=_.slice();w.length>0;)p.push(w.pop())}},u.prototype.update=function(p,x){var v=this;x===void 0&&(x={}),p=p||this.observer.takeRecords(),p.map(function(w){var b=c.find(w.target,!0);return b==null?null:b.domNode[c.DATA_KEY].mutations==null?(b.domNode[c.DATA_KEY].mutations=[w],b):(b.domNode[c.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===v||w.domNode[c.DATA_KEY]==null||w.update(w.domNode[c.DATA_KEY].mutations||[],x)}),this.domNode[c.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,x),this.optimize(p,x)},u.blotName="scroll",u.defaultChild="block",u.scope=c.Scope.BLOCK_BLOT,u.tagName="DIV",u}(o.default);s.default=f},function(n,s,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var p in u)u.hasOwnProperty(p)&&(m[p]=u[p])};return function(m,u){f(m,u);function p(){this.constructor=m}m.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(18),c=i(1);function d(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(var u in f)if(f[u]!==m[u])return!1;return!0}var h=function(f){a(m,f);function m(){return f!==null&&f.apply(this,arguments)||this}return m.formats=function(u){if(u.tagName!==m.tagName)return f.formats.call(this,u)},m.prototype.format=function(u,p){var x=this;u===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(m.blotName,!0)),x.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,u,p)},m.prototype.formatAt=function(u,p,x,v){if(this.formats()[x]!=null||c.query(x,c.Scope.ATTRIBUTE)){var w=this.isolate(u,p);w.format(x,v)}else f.prototype.formatAt.call(this,u,p,x,v)},m.prototype.optimize=function(u){f.prototype.optimize.call(this,u);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var x=this.next;x instanceof m&&x.prev===this&&d(p,x.formats())&&(x.moveChildren(this),x.remove())},m.blotName="inline",m.scope=c.Scope.INLINE_BLOT,m.tagName="SPAN",m}(o.default);s.default=h},function(n,s,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(18),c=i(1),d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(m){var u=c.query(f.blotName).tagName;if(m.tagName!==u)return h.formats.call(this,m)},f.prototype.format=function(m,u){c.query(m,c.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!u?this.replaceWith(f.blotName):h.prototype.format.call(this,m,u))},f.prototype.formatAt=function(m,u,p,x){c.query(p,c.Scope.BLOCK)!=null?this.format(p,x):h.prototype.formatAt.call(this,m,u,p,x)},f.prototype.insertAt=function(m,u,p){if(p==null||c.query(u,c.Scope.INLINE)!=null)h.prototype.insertAt.call(this,m,u,p);else{var x=this.split(m),v=c.create(u,p);x.parent.insertBefore(v,x)}},f.prototype.update=function(m,u){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,m,u)},f.blotName="block",f.scope=c.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);s.default=d},function(n,s,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var m in f)f.hasOwnProperty(m)&&(h[m]=f[m])};return function(h,f){d(h,f);function m(){this.constructor=h}h.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(19),c=function(d){a(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){},h.prototype.format=function(f,m){d.prototype.formatAt.call(this,0,this.length(),f,m)},h.prototype.formatAt=function(f,m,u,p){f===0&&m===this.length()?this.format(u,p):d.prototype.formatAt.call(this,f,m,u,p)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(o.default);s.default=c},function(n,s,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(19),c=i(1),d=function(h){a(f,h);function f(m){var u=h.call(this,m)||this;return u.text=u.statics.value(u.domNode),u}return f.create=function(m){return document.createTextNode(m)},f.value=function(m){var u=m.data;return u.normalize&&(u=u.normalize()),u},f.prototype.deleteAt=function(m,u){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+u)},f.prototype.index=function(m,u){return this.domNode===m?u:-1},f.prototype.insertAt=function(m,u,p){p==null?(this.text=this.text.slice(0,m)+u+this.text.slice(m),this.domNode.data=this.text):h.prototype.insertAt.call(this,m,u,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(m){h.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(m,u){return[this.domNode,m]},f.prototype.split=function(m,u){if(u===void 0&&(u=!1),!u){if(m===0)return this;if(m===this.length())return this.next}var p=c.create(this.domNode.splitText(m));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(m,u){var p=this;m.some(function(x){return x.type==="characterData"&&x.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=c.Scope.INLINE_BLOT,f}(o.default);s.default=d},function(n,s,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,d){return arguments.length>1&&!this.contains(c)==!d?d:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,d){return d=d||0,this.substr(d,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,d){var h=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>h.length)&&(d=h.length),d-=c.length;var f=h.indexOf(c,d);return f!==-1&&f===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),f=h.length>>>0,m=arguments[1],u,p=0;p<f;p++)if(u=h[p],d.call(m,u,p,h))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,s){var i=-1,a=1,o=0;function c(N,C,D){if(N==C)return N?[[o,N]]:[];(D<0||N.length<D)&&(D=null);var E=m(N,C),R=N.substring(0,E);N=N.substring(E),C=C.substring(E),E=u(N,C);var A=N.substring(N.length-E);N=N.substring(0,N.length-E),C=C.substring(0,C.length-E);var k=d(N,C);return R&&k.unshift([o,R]),A&&k.push([o,A]),x(k),D!=null&&(k=b(k,D)),k=y(k),k}function d(N,C){var D;if(!N)return[[a,C]];if(!C)return[[i,N]];var E=N.length>C.length?N:C,R=N.length>C.length?C:N,A=E.indexOf(R);if(A!=-1)return D=[[a,E.substring(0,A)],[o,R],[a,E.substring(A+R.length)]],N.length>C.length&&(D[0][0]=D[2][0]=i),D;if(R.length==1)return[[i,N],[a,C]];var k=p(N,C);if(k){var O=k[0],P=k[1],T=k[2],M=k[3],H=k[4],W=c(O,T),Z=c(P,M);return W.concat([[o,H]],Z)}return h(N,C)}function h(N,C){for(var D=N.length,E=C.length,R=Math.ceil((D+E)/2),A=R,k=2*R,O=new Array(k),P=new Array(k),T=0;T<k;T++)O[T]=-1,P[T]=-1;O[A+1]=0,P[A+1]=0;for(var M=D-E,H=M%2!=0,W=0,Z=0,B=0,q=0,F=0;F<R;F++){for(var $=-F+W;$<=F-Z;$+=2){var z=A+$,G;$==-F||$!=F&&O[z-1]<O[z+1]?G=O[z+1]:G=O[z-1]+1;for(var X=G-$;G<D&&X<E&&N.charAt(G)==C.charAt(X);)G++,X++;if(O[z]=G,G>D)Z+=2;else if(X>E)W+=2;else if(H){var J=A+M-$;if(J>=0&&J<k&&P[J]!=-1){var K=D-P[J];if(G>=K)return f(N,C,G,X)}}}for(var U=-F+B;U<=F-q;U+=2){var J=A+U,K;U==-F||U!=F&&P[J-1]<P[J+1]?K=P[J+1]:K=P[J-1]+1;for(var te=K-U;K<D&&te<E&&N.charAt(D-K-1)==C.charAt(E-te-1);)K++,te++;if(P[J]=K,K>D)q+=2;else if(te>E)B+=2;else if(!H){var z=A+M-U;if(z>=0&&z<k&&O[z]!=-1){var G=O[z],X=A+G-z;if(K=D-K,G>=K)return f(N,C,G,X)}}}}return[[i,N],[a,C]]}function f(N,C,D,E){var R=N.substring(0,D),A=C.substring(0,E),k=N.substring(D),O=C.substring(E),P=c(R,A),T=c(k,O);return P.concat(T)}function m(N,C){if(!N||!C||N.charAt(0)!=C.charAt(0))return 0;for(var D=0,E=Math.min(N.length,C.length),R=E,A=0;D<R;)N.substring(A,R)==C.substring(A,R)?(D=R,A=D):E=R,R=Math.floor((E-D)/2+D);return R}function u(N,C){if(!N||!C||N.charAt(N.length-1)!=C.charAt(C.length-1))return 0;for(var D=0,E=Math.min(N.length,C.length),R=E,A=0;D<R;)N.substring(N.length-R,N.length-A)==C.substring(C.length-R,C.length-A)?(D=R,A=D):E=R,R=Math.floor((E-D)/2+D);return R}function p(N,C){var D=N.length>C.length?N:C,E=N.length>C.length?C:N;if(D.length<4||E.length*2<D.length)return null;function R(Z,B,q){for(var F=Z.substring(q,q+Math.floor(Z.length/4)),$=-1,z="",G,X,J,K;($=B.indexOf(F,$+1))!=-1;){var U=m(Z.substring(q),B.substring($)),te=u(Z.substring(0,q),B.substring(0,$));z.length<te+U&&(z=B.substring($-te,$)+B.substring($,$+U),G=Z.substring(0,q-te),X=Z.substring(q+U),J=B.substring(0,$-te),K=B.substring($+U))}return z.length*2>=Z.length?[G,X,J,K,z]:null}var A=R(D,E,Math.ceil(D.length/4)),k=R(D,E,Math.ceil(D.length/2)),O;if(!A&&!k)return null;k?A?O=A[4].length>k[4].length?A:k:O=k:O=A;var P,T,M,H;N.length>C.length?(P=O[0],T=O[1],M=O[2],H=O[3]):(M=O[0],H=O[1],P=O[2],T=O[3]);var W=O[4];return[P,T,M,H,W]}function x(N){N.push([o,""]);for(var C=0,D=0,E=0,R="",A="",k;C<N.length;)switch(N[C][0]){case a:E++,A+=N[C][1],C++;break;case i:D++,R+=N[C][1],C++;break;case o:D+E>1?(D!==0&&E!==0&&(k=m(A,R),k!==0&&(C-D-E>0&&N[C-D-E-1][0]==o?N[C-D-E-1][1]+=A.substring(0,k):(N.splice(0,0,[o,A.substring(0,k)]),C++),A=A.substring(k),R=R.substring(k)),k=u(A,R),k!==0&&(N[C][1]=A.substring(A.length-k)+N[C][1],A=A.substring(0,A.length-k),R=R.substring(0,R.length-k))),D===0?N.splice(C-E,D+E,[a,A]):E===0?N.splice(C-D,D+E,[i,R]):N.splice(C-D-E,D+E,[i,R],[a,A]),C=C-D-E+(D?1:0)+(E?1:0)+1):C!==0&&N[C-1][0]==o?(N[C-1][1]+=N[C][1],N.splice(C,1)):C++,E=0,D=0,R="",A="";break}N[N.length-1][1]===""&&N.pop();var O=!1;for(C=1;C<N.length-1;)N[C-1][0]==o&&N[C+1][0]==o&&(N[C][1].substring(N[C][1].length-N[C-1][1].length)==N[C-1][1]?(N[C][1]=N[C-1][1]+N[C][1].substring(0,N[C][1].length-N[C-1][1].length),N[C+1][1]=N[C-1][1]+N[C+1][1],N.splice(C-1,1),O=!0):N[C][1].substring(0,N[C+1][1].length)==N[C+1][1]&&(N[C-1][1]+=N[C+1][1],N[C][1]=N[C][1].substring(N[C+1][1].length)+N[C+1][1],N.splice(C+1,1),O=!0)),C++;O&&x(N)}var v=c;v.INSERT=a,v.DELETE=i,v.EQUAL=o,n.exports=v;function w(N,C){if(C===0)return[o,N];for(var D=0,E=0;E<N.length;E++){var R=N[E];if(R[0]===i||R[0]===o){var A=D+R[1].length;if(C===A)return[E+1,N];if(C<A){N=N.slice();var k=C-D,O=[R[0],R[1].slice(0,k)],P=[R[0],R[1].slice(k)];return N.splice(E,1,O,P),[E+1,N]}else D=A}}throw new Error("cursor_pos is out of bounds!")}function b(N,C){var D=w(N,C),E=D[1],R=D[0],A=E[R],k=E[R+1];if(A==null)return N;if(A[0]!==o)return N;if(k!=null&&A[1]+k[1]===k[1]+A[1])return E.splice(R,2,k,A),_(E,R,2);if(k!=null&&k[1].indexOf(A[1])===0){E.splice(R,2,[k[0],A[1]],[0,A[1]]);var O=k[1].slice(A[1].length);return O.length>0&&E.splice(R+2,0,[k[0],O]),_(E,R,3)}else return N}function y(N){for(var C=!1,D=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},E=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},R=2;R<N.length;R+=1)N[R-2][0]===o&&E(N[R-2][1])&&N[R-1][0]===i&&D(N[R-1][1])&&N[R][0]===a&&D(N[R][1])&&(C=!0,N[R-1][1]=N[R-2][1].slice(-1)+N[R-1][1],N[R][1]=N[R-2][1].slice(-1)+N[R][1],N[R-2][1]=N[R-2][1].slice(0,-1));if(!C)return N;for(var A=[],R=0;R<N.length;R+=1)N[R][1].length>0&&A.push(N[R]);return A}function _(N,C,D){for(var E=C+D-1;E>=0&&E>=C-1;E--)if(E+1<N.length){var R=N[E],A=N[E+1];R[0]===A[1]&&N.splice(E,2,[R[0],R[1]+A[1]])}return N}},function(n,s){s=n.exports=typeof Object.keys=="function"?Object.keys:i,s.shim=i;function i(a){var o=[];for(var c in a)o.push(c);return o}},function(n,s){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";s=n.exports=i?a:o,s.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}s.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(n,s){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function c(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function d(){this._events=new o,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],m,u;if(this._eventsCount===0)return f;for(u in m=this._events)i.call(m,u)&&f.push(a?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},d.prototype.listeners=function(f,m){var u=a?a+f:f,p=this._events[u];if(m)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,w=new Array(v);x<v;x++)w[x]=p[x].fn;return w},d.prototype.emit=function(f,m,u,p,x,v){var w=a?a+f:f;if(!this._events[w])return!1;var b=this._events[w],y=arguments.length,_,N;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,u),!0;case 4:return b.fn.call(b.context,m,u,p),!0;case 5:return b.fn.call(b.context,m,u,p,x),!0;case 6:return b.fn.call(b.context,m,u,p,x,v),!0}for(N=1,_=new Array(y-1);N<y;N++)_[N-1]=arguments[N];b.fn.apply(b.context,_)}else{var C=b.length,D;for(N=0;N<C;N++)switch(b[N].once&&this.removeListener(f,b[N].fn,void 0,!0),y){case 1:b[N].fn.call(b[N].context);break;case 2:b[N].fn.call(b[N].context,m);break;case 3:b[N].fn.call(b[N].context,m,u);break;case 4:b[N].fn.call(b[N].context,m,u,p);break;default:if(!_)for(D=1,_=new Array(y-1);D<y;D++)_[D-1]=arguments[D];b[N].fn.apply(b[N].context,_)}}return!0},d.prototype.on=function(f,m,u){var p=new c(m,u||this),x=a?a+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},d.prototype.once=function(f,m,u){var p=new c(m,u||this,!0),x=a?a+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},d.prototype.removeListener=function(f,m,u,p){var x=a?a+f:f;if(!this._events[x])return this;if(!m)return--this._eventsCount===0?this._events=new o:delete this._events[x],this;var v=this._events[x];if(v.fn)v.fn===m&&(!p||v.once)&&(!u||v.context===u)&&(--this._eventsCount===0?this._events=new o:delete this._events[x]);else{for(var w=0,b=[],y=v.length;w<y;w++)(v[w].fn!==m||p&&!v[w].once||u&&v[w].context!==u)&&b.push(v[w]);b.length?this._events[x]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[x]}return this},d.prototype.removeAllListeners=function(f){var m;return f?(m=a?a+f:f,this._events[m]&&(--this._eventsCount===0?this._events=new o:delete this._events[m])):(this._events=new o,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=a,d.EventEmitter=d,typeof n<"u"&&(n.exports=d)},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.matchText=s.matchSpacing=s.matchNewline=s.matchBlot=s.matchAttributor=s.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},o=function(){function ce(fe,Q){var se=[],ie=!0,we=!1,je=void 0;try{for(var ve=fe[Symbol.iterator](),Ae;!(ie=(Ae=ve.next()).done)&&(se.push(Ae.value),!(Q&&se.length===Q));ie=!0);}catch(et){we=!0,je=et}finally{try{!ie&&ve.return&&ve.return()}finally{if(we)throw je}}return se}return function(fe,Q){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ce(fe,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function ce(fe,Q){for(var se=0;se<Q.length;se++){var ie=Q[se];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(fe,ie.key,ie)}}return function(fe,Q,se){return Q&&ce(fe.prototype,Q),se&&ce(fe,se),fe}}(),d=i(3),h=P(d),f=i(2),m=P(f),u=i(0),p=P(u),x=i(5),v=P(x),w=i(10),b=P(w),y=i(9),_=P(y),N=i(36),C=i(37),D=i(13),E=P(D),R=i(26),A=i(38),k=i(39),O=i(40);function P(ce){return ce&&ce.__esModule?ce:{default:ce}}function T(ce,fe,Q){return fe in ce?Object.defineProperty(ce,fe,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ce[fe]=Q,ce}function M(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")}function H(ce,fe){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ce}function W(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}var Z=(0,b.default)("quill:clipboard"),B="__ql-matcher",q=[[Node.TEXT_NODE,xe],[Node.TEXT_NODE,Ce],["br",pe],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,be],["li",ye],["b",te.bind(te,"bold")],["i",te.bind(te,"italic")],["style",ee]],F=[N.AlignAttribute,A.DirectionAttribute].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),$=[N.AlignStyle,C.BackgroundStyle,R.ColorStyle,A.DirectionStyle,k.FontStyle,O.SizeStyle].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),z=function(ce){W(fe,ce);function fe(Q,se){M(this,fe);var ie=H(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,Q,se));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],q.concat(ie.options.matchers).forEach(function(we){var je=o(we,2),ve=je[0],Ae=je[1];!se.matchVisual&&Ae===ue||ie.addMatcher(ve,Ae)}),ie}return c(fe,[{key:"addMatcher",value:function(se,ie){this.matchers.push([se,ie])}},{key:"convert",value:function(se){if(typeof se=="string")return this.container.innerHTML=se.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[E.default.blotName]){var we=this.container.innerText;return this.container.innerHTML="",new m.default().insert(we,T({},E.default.blotName,ie[E.default.blotName]))}var je=this.prepareMatching(),ve=o(je,2),Ae=ve[0],et=ve[1],Xe=U(this.container,Ae,et);return J(Xe,`
`)&&Xe.ops[Xe.ops.length-1].attributes==null&&(Xe=Xe.compose(new m.default().retain(Xe.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,Xe),this.container.innerHTML="",Xe}},{key:"dangerouslyPasteHTML",value:function(se,ie){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof se=="string")this.quill.setContents(this.convert(se),ie),this.quill.setSelection(0,v.default.sources.SILENT);else{var je=this.convert(ie);this.quill.updateContents(new m.default().retain(se).concat(je),we),this.quill.setSelection(se+je.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(se){var ie=this;if(!(se.defaultPrevented||!this.quill.isEnabled())){var we=this.quill.getSelection(),je=new m.default().retain(we.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){je=je.concat(ie.convert()).delete(we.length),ie.quill.updateContents(je,v.default.sources.USER),ie.quill.setSelection(je.length()-we.length,v.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=ve,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var se=this,ie=[],we=[];return this.matchers.forEach(function(je){var ve=o(je,2),Ae=ve[0],et=ve[1];switch(Ae){case Node.TEXT_NODE:we.push(et);break;case Node.ELEMENT_NODE:ie.push(et);break;default:[].forEach.call(se.container.querySelectorAll(Ae),function(Xe){Xe[B]=Xe[B]||[],Xe[B].push(et)});break}}),[ie,we]}}]),fe}(_.default);z.DEFAULTS={matchers:[],matchVisual:!0};function G(ce,fe,Q){return(typeof fe>"u"?"undefined":a(fe))==="object"?Object.keys(fe).reduce(function(se,ie){return G(se,ie,fe[ie])},ce):ce.reduce(function(se,ie){return ie.attributes&&ie.attributes[fe]?se.push(ie):se.insert(ie.insert,(0,h.default)({},T({},fe,Q),ie.attributes))},new m.default)}function X(ce){if(ce.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ce[fe]||(ce[fe]=window.getComputedStyle(ce))}function J(ce,fe){for(var Q="",se=ce.ops.length-1;se>=0&&Q.length<fe.length;--se){var ie=ce.ops[se];if(typeof ie.insert!="string")break;Q=ie.insert+Q}return Q.slice(-1*fe.length)===fe}function K(ce){if(ce.childNodes.length===0)return!1;var fe=X(ce);return["block","list-item"].indexOf(fe.display)>-1}function U(ce,fe,Q){return ce.nodeType===ce.TEXT_NODE?Q.reduce(function(se,ie){return ie(ce,se)},new m.default):ce.nodeType===ce.ELEMENT_NODE?[].reduce.call(ce.childNodes||[],function(se,ie){var we=U(ie,fe,Q);return ie.nodeType===ce.ELEMENT_NODE&&(we=fe.reduce(function(je,ve){return ve(ie,je)},we),we=(ie[B]||[]).reduce(function(je,ve){return ve(ie,je)},we)),se.concat(we)},new m.default):new m.default}function te(ce,fe,Q){return G(Q,ce,!0)}function re(ce,fe){var Q=p.default.Attributor.Attribute.keys(ce),se=p.default.Attributor.Class.keys(ce),ie=p.default.Attributor.Style.keys(ce),we={};return Q.concat(se).concat(ie).forEach(function(je){var ve=p.default.query(je,p.default.Scope.ATTRIBUTE);ve!=null&&(we[ve.attrName]=ve.value(ce),we[ve.attrName])||(ve=F[je],ve!=null&&(ve.attrName===je||ve.keyName===je)&&(we[ve.attrName]=ve.value(ce)||void 0),ve=$[je],ve!=null&&(ve.attrName===je||ve.keyName===je)&&(ve=$[je],we[ve.attrName]=ve.value(ce)||void 0))}),Object.keys(we).length>0&&(fe=G(fe,we)),fe}function le(ce,fe){var Q=p.default.query(ce);if(Q==null)return fe;if(Q.prototype instanceof p.default.Embed){var se={},ie=Q.value(ce);ie!=null&&(se[Q.blotName]=ie,fe=new m.default().insert(se,Q.formats(ce)))}else typeof Q.formats=="function"&&(fe=G(fe,Q.blotName,Q.formats(ce)));return fe}function pe(ce,fe){return J(fe,`
`)||fe.insert(`
`),fe}function ee(){return new m.default}function ye(ce,fe){var Q=p.default.query(ce);if(Q==null||Q.blotName!=="list-item"||!J(fe,`
`))return fe;for(var se=-1,ie=ce.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(se+=1),ie=ie.parentNode;return se<=0?fe:fe.compose(new m.default().retain(fe.length()-1).retain(1,{indent:se}))}function Ce(ce,fe){return J(fe,`
`)||(K(ce)||fe.length()>0&&ce.nextSibling&&K(ce.nextSibling))&&fe.insert(`
`),fe}function ue(ce,fe){if(K(ce)&&ce.nextElementSibling!=null&&!J(fe,`

`)){var Q=ce.offsetHeight+parseFloat(X(ce).marginTop)+parseFloat(X(ce).marginBottom);ce.nextElementSibling.offsetTop>ce.offsetTop+Q*1.5&&fe.insert(`
`)}return fe}function be(ce,fe){var Q={},se=ce.style||{};return se.fontStyle&&X(ce).fontStyle==="italic"&&(Q.italic=!0),se.fontWeight&&(X(ce).fontWeight.startsWith("bold")||parseInt(X(ce).fontWeight)>=700)&&(Q.bold=!0),Object.keys(Q).length>0&&(fe=G(fe,Q)),parseFloat(se.textIndent||0)>0&&(fe=new m.default().insert("	").concat(fe)),fe}function xe(ce,fe){var Q=ce.data;if(ce.parentNode.tagName==="O:P")return fe.insert(Q.trim());if(Q.trim().length===0&&ce.parentNode.classList.contains("ql-clipboard"))return fe;if(!X(ce.parentNode).whiteSpace.startsWith("pre")){var se=function(we,je){return je=je.replace(/[^\u00a0]/g,""),je.length<1&&we?" ":je};Q=Q.replace(/\r\n/g," ").replace(/\n/g," "),Q=Q.replace(/\s\s+/g,se.bind(se,!0)),(ce.previousSibling==null&&K(ce.parentNode)||ce.previousSibling!=null&&K(ce.previousSibling))&&(Q=Q.replace(/^\s+/,se.bind(se,!1))),(ce.nextSibling==null&&K(ce.parentNode)||ce.nextSibling!=null&&K(ce.nextSibling))&&(Q=Q.replace(/\s+$/,se.bind(se,!1)))}return fe.insert(Q)}s.default=z,s.matchAttributor=re,s.matchBlot=le,s.matchNewline=Ce,s.matchSpacing=ue,s.matchText=xe},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(6),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"optimize",value:function(b){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(d.default);p.blotName="bold",p.tagName=["STRONG","B"],s.default=p},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.addControls=s.default=void 0;var a=function(){function O(P,T){var M=[],H=!0,W=!1,Z=void 0;try{for(var B=P[Symbol.iterator](),q;!(H=(q=B.next()).done)&&(M.push(q.value),!(T&&M.length===T));H=!0);}catch(F){W=!0,Z=F}finally{try{!H&&B.return&&B.return()}finally{if(W)throw Z}}return M}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return O(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(P,T){for(var M=0;M<T.length;M++){var H=T[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(P,H.key,H)}}return function(P,T,M){return T&&O(P.prototype,T),M&&O(P,M),P}}(),c=i(2),d=b(c),h=i(0),f=b(h),m=i(5),u=b(m),p=i(10),x=b(p),v=i(9),w=b(v);function b(O){return O&&O.__esModule?O:{default:O}}function y(O,P,T){return P in O?Object.defineProperty(O,P,{value:T,enumerable:!0,configurable:!0,writable:!0}):O[P]=T,O}function _(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function N(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function C(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var D=(0,x.default)("quill:toolbar"),E=function(O){C(P,O);function P(T,M){_(this,P);var H=N(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,T,M));if(Array.isArray(H.options.container)){var W=document.createElement("div");A(W,H.options.container),T.container.parentNode.insertBefore(W,T.container),H.container=W}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var Z;return Z=D.error("Container required for toolbar",H.options),N(H,Z)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(B){H.addHandler(B,H.options.handlers[B])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(B){H.attach(B)}),H.quill.on(u.default.events.EDITOR_CHANGE,function(B,q){B===u.default.events.SELECTION_CHANGE&&H.update(q)}),H.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var B=H.quill.selection.getRange(),q=a(B,1),F=q[0];H.update(F)}),H}return o(P,[{key:"addHandler",value:function(M,H){this.handlers[M]=H}},{key:"attach",value:function(M){var H=this,W=[].find.call(M.classList,function(B){return B.indexOf("ql-")===0});if(W){if(W=W.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[W]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[W]==null){D.warn("ignoring attaching to disabled format",W,M);return}if(f.default.query(W)==null){D.warn("ignoring attaching to nonexistent format",W,M);return}}var Z=M.tagName==="SELECT"?"change":"click";M.addEventListener(Z,function(B){var q=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var F=M.options[M.selectedIndex];F.hasAttribute("selected")?q=!1:q=F.value||!1}else M.classList.contains("ql-active")?q=!1:q=M.value||!M.hasAttribute("value"),B.preventDefault();H.quill.focus();var $=H.quill.selection.getRange(),z=a($,1),G=z[0];if(H.handlers[W]!=null)H.handlers[W].call(H,q);else if(f.default.query(W).prototype instanceof f.default.Embed){if(q=prompt("Enter "+W),!q)return;H.quill.updateContents(new d.default().retain(G.index).delete(G.length).insert(y({},W,q)),u.default.sources.USER)}else H.quill.format(W,q,u.default.sources.USER);H.update(G)}),this.controls.push([W,M])}}},{key:"update",value:function(M){var H=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(W){var Z=a(W,2),B=Z[0],q=Z[1];if(q.tagName==="SELECT"){var F=void 0;if(M==null)F=null;else if(H[B]==null)F=q.querySelector("option[selected]");else if(!Array.isArray(H[B])){var $=H[B];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),F=q.querySelector('option[value="'+$+'"]')}F==null?(q.value="",q.selectedIndex=-1):F.selected=!0}else if(M==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var z=H[B]===q.getAttribute("value")||H[B]!=null&&H[B].toString()===q.getAttribute("value")||H[B]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",z)}else q.classList.toggle("ql-active",H[B]!=null)})}}]),P}(w.default);E.DEFAULTS={};function R(O,P,T){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+P),T!=null&&(M.value=T),O.appendChild(M)}function A(O,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(T){var M=document.createElement("span");M.classList.add("ql-formats"),T.forEach(function(H){if(typeof H=="string")R(M,H);else{var W=Object.keys(H)[0],Z=H[W];Array.isArray(Z)?k(M,W,Z):R(M,W,Z)}}),O.appendChild(M)})}function k(O,P,T){var M=document.createElement("select");M.classList.add("ql-"+P),T.forEach(function(H){var W=document.createElement("option");H!==!1?W.setAttribute("value",H):W.setAttribute("selected","selected"),M.appendChild(W)}),O.appendChild(M)}E.DEFAULTS={container:null,handlers:{clean:function(){var P=this,T=this.quill.getSelection();if(T!=null)if(T.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(H){f.default.query(H,f.default.Scope.INLINE)!=null&&P.quill.format(H,!1)})}else this.quill.removeFormat(T,u.default.sources.USER)},direction:function(P){var T=this.quill.getFormat().align;P==="rtl"&&T==null?this.quill.format("align","right",u.default.sources.USER):!P&&T==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",P,u.default.sources.USER)},indent:function(P){var T=this.quill.getSelection(),M=this.quill.getFormat(T),H=parseInt(M.indent||0);if(P==="+1"||P==="-1"){var W=P==="+1"?1:-1;M.direction==="rtl"&&(W*=-1),this.quill.format("indent",H+W,u.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,u.default.sources.USER)},list:function(P){var T=this.quill.getSelection(),M=this.quill.getFormat(T);P==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",P,u.default.sources.USER)}}},s.default=E,s.addControls=A},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(28),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(w,b){f(this,v);var y=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return y.label.innerHTML=b,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),y}return a(v,[{key:"buildItem",value:function(b){var y=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,b);return y.style.backgroundColor=b.getAttribute("value")||"",y}},{key:"selectItem",value:function(b,y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,b,y);var _=this.label.querySelector(".ql-color-label"),N=b&&b.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=N:_.style.fill=N)}}]),v}(d.default);s.default=p},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(28),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(w,b){f(this,v);var y=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=b[_.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return a(v,[{key:"selectItem",value:function(b,y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,b,y),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),v}(d.default);s.default=p},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function d(h,f){for(var m=0;m<f.length;m++){var u=f[m];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,f,m){return f&&d(h.prototype,f),m&&d(h,m),h}}();function o(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(h,f){var m=this;o(this,d),this.quill=h,this.boundsContainer=f||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return a(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var m=f.left+f.width/2-this.root.offsetWidth/2,u=f.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),x=this.root.getBoundingClientRect(),v=0;if(x.right>p.right&&(v=p.right-x.right,this.root.style.left=m+v+"px"),x.left<p.left&&(v=p.left-x.left,this.root.style.left=m+v+"px"),x.bottom>p.bottom){var w=x.bottom-x.top,b=f.bottom-f.top+w;this.root.style.top=u-b+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();s.default=c},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function k(O,P){var T=[],M=!0,H=!1,W=void 0;try{for(var Z=O[Symbol.iterator](),B;!(M=(B=Z.next()).done)&&(T.push(B.value),!(P&&T.length===P));M=!0);}catch(q){H=!0,W=q}finally{try{!M&&Z.return&&Z.return()}finally{if(H)throw W}}return T}return function(O,P){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return k(O,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function k(O,P,T){O===null&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,P);if(M===void 0){var H=Object.getPrototypeOf(O);return H===null?void 0:k(H,P,T)}else{if("value"in M)return M.value;var W=M.get;return W===void 0?void 0:W.call(T)}},c=function(){function k(O,P){for(var T=0;T<P.length;T++){var M=P[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,P,T){return P&&k(O.prototype,P),T&&k(O,T),O}}(),d=i(3),h=_(d),f=i(8),m=_(f),u=i(43),p=_(u),x=i(27),v=_(x),w=i(15),b=i(41),y=_(b);function _(k){return k&&k.__esModule?k:{default:k}}function N(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}function C(k,O){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:k}function D(k,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(k,O):k.__proto__=O)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=function(k){D(O,k);function O(P,T){N(this,O),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=E);var M=C(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,T));return M.quill.container.classList.add("ql-snow"),M}return c(O,[{key:"extendToolbar",value:function(T){T.container.classList.add("ql-snow"),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),y.default),this.tooltip=new A(this.quill,this.options.bounds),T.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,H){T.handlers.link.call(T,!H.format.link)})}}]),O}(p.default);R.DEFAULTS=(0,h.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){if(O){var P=this.quill.getSelection();if(P==null||P.length==0)return;var T=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(T)&&T.indexOf("mailto:")!==0&&(T="mailto:"+T);var M=this.quill.theme.tooltip;M.edit("link",T)}else this.quill.format("link",!1)}}}}});var A=function(k){D(O,k);function O(P,T){N(this,O);var M=C(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,T));return M.preview=M.root.querySelector("a.ql-preview"),M}return c(O,[{key:"listen",value:function(){var T=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){T.root.classList.contains("ql-editing")?T.save():T.edit("link",T.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(T.linkRange!=null){var H=T.linkRange;T.restoreFocus(),T.quill.formatText(H,"link",!1,m.default.sources.USER),delete T.linkRange}M.preventDefault(),T.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(M,H,W){if(M!=null){if(M.length===0&&W===m.default.sources.USER){var Z=T.quill.scroll.descendant(v.default,M.index),B=a(Z,2),q=B[0],F=B[1];if(q!=null){T.linkRange=new w.Range(M.index-F,q.length());var $=v.default.formats(q.domNode);T.preview.textContent=$,T.preview.setAttribute("href",$),T.show(),T.position(T.quill.getBounds(T.linkRange));return}}else delete T.linkRange;T.hide()}})}},{key:"show",value:function(){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(u.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),s.default=R},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(29),o=ie(a),c=i(36),d=i(38),h=i(64),f=i(65),m=ie(f),u=i(66),p=ie(u),x=i(67),v=ie(x),w=i(37),b=i(26),y=i(39),_=i(40),N=i(56),C=ie(N),D=i(68),E=ie(D),R=i(27),A=ie(R),k=i(69),O=ie(k),P=i(70),T=ie(P),M=i(71),H=ie(M),W=i(72),Z=ie(W),B=i(73),q=ie(B),F=i(13),$=ie(F),z=i(74),G=ie(z),X=i(75),J=ie(X),K=i(57),U=ie(K),te=i(41),re=ie(te),le=i(28),pe=ie(le),ee=i(59),ye=ie(ee),Ce=i(60),ue=ie(Ce),be=i(61),xe=ie(be),ce=i(108),fe=ie(ce),Q=i(62),se=ie(Q);function ie(we){return we&&we.__esModule?we:{default:we}}o.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":_.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":h.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":y.FontClass,"formats/size":_.SizeClass,"formats/blockquote":m.default,"formats/code-block":$.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":C.default,"formats/code":F.Code,"formats/italic":E.default,"formats/link":A.default,"formats/script":O.default,"formats/strike":T.default,"formats/underline":H.default,"formats/image":Z.default,"formats/video":q.default,"formats/list/item":x.ListItem,"modules/formula":G.default,"modules/syntax":J.default,"modules/toolbar":U.default,"themes/bubble":fe.default,"themes/snow":se.default,"ui/icons":re.default,"ui/picker":pe.default,"ui/icon-picker":ue.default,"ui/color-picker":ye.default,"ui/tooltip":xe.default},!0),s.default=o.default},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.IndentClass=void 0;var a=function(){function v(w,b){for(var y=0;y<b.length;y++){var _=b[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,y){return b&&v(w.prototype,b),y&&v(w,y),w}}(),o=function v(w,b,y){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,b);if(_===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,b,y)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(y)}},c=i(0),d=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function m(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function u(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){u(w,v);function w(){return f(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"add",value:function(y,_){if(_==="+1"||_==="-1"){var N=this.value(y)||0;_=_==="+1"?N+1:N-1}return _===0?(this.remove(y),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,y,_)}},{key:"canAdd",value:function(y,_){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,y,_)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,y,parseInt(_))}},{key:"value",value:function(y){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,y))||void 0}}]),w}(d.default.Attributor.Class),x=new p("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});s.IndentClass=x},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(4),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="blockquote",m.tagName="blockquote",s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function p(x,v){for(var w=0;w<v.length;w++){var b=v[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,v,w){return v&&p(x.prototype,v),w&&p(x,w),x}}(),o=i(4),c=d(o);function d(p){return p&&p.__esModule?p:{default:p}}function h(p,x){if(!(p instanceof x))throw new TypeError("Cannot call a class as a function")}function f(p,x){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:p}function m(p,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);p.prototype=Object.create(x&&x.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(p,x):p.__proto__=x)}var u=function(p){m(x,p);function x(){return h(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),x}(c.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],s.default=u},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ListItem=void 0;var a=function(){function N(C,D){for(var E=0;E<D.length;E++){var R=D[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}return function(C,D,E){return D&&N(C.prototype,D),E&&N(C,E),C}}(),o=function N(C,D,E){C===null&&(C=Function.prototype);var R=Object.getOwnPropertyDescriptor(C,D);if(R===void 0){var A=Object.getPrototypeOf(C);return A===null?void 0:N(A,D,E)}else{if("value"in R)return R.value;var k=R.get;return k===void 0?void 0:k.call(E)}},c=i(0),d=p(c),h=i(4),f=p(h),m=i(25),u=p(m);function p(N){return N&&N.__esModule?N:{default:N}}function x(N,C,D){return C in N?Object.defineProperty(N,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):N[C]=D,N}function v(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function w(N,C){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:N}function b(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(N,C):N.__proto__=C)}var y=function(N){b(C,N);function C(){return v(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"format",value:function(E,R){E===_.blotName&&!R?this.replaceWith(d.default.create(this.statics.scope)):o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,E,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,R){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,R),this):(this.parent.unwrap(),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,E,R))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:o(C.__proto__||Object.getPrototypeOf(C),"formats",this).call(this,E)}}]),C}(f.default);y.blotName="list-item",y.tagName="LI";var _=function(N){b(C,N),a(C,null,[{key:"create",value:function(E){var R=E==="ordered"?"OL":"UL",A=o(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,R);return(E==="checked"||E==="unchecked")&&A.setAttribute("data-checked",E==="checked"),A}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function C(D){v(this,C);var E=w(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D)),R=function(k){if(k.target.parentNode===D){var O=E.statics.formats(D),P=d.default.find(k.target);O==="checked"?P.format("list","unchecked"):O==="unchecked"&&P.format("list","checked")}};return D.addEventListener("touchstart",R),D.addEventListener("mousedown",R),E}return a(C,[{key:"format",value:function(E,R){this.children.length>0&&this.children.tail.format(E,R)}},{key:"formats",value:function(){return x({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,R){if(E instanceof y)o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,E,R);else{var A=R==null?this.length():R.offset(this),k=this.split(A);k.parent.insertBefore(E,k)}}},{key:"optimize",value:function(E){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,E);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var R=d.default.create(this.statics.defaultChild);E.moveChildren(R),this.appendChild(R)}o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,E)}}]),C}(u.default);_.blotName="list",_.scope=d.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[y],s.ListItem=y,s.default=_},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(56),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="italic",m.tagName=["EM","I"],s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function x(v,w){for(var b=0;b<w.length;b++){var y=w[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,w,b){return w&&x(v.prototype,w),b&&x(v,b),v}}(),o=function x(v,w,b){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,w);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:x(_,w,b)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(b)}},c=i(6),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function u(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){u(v,x);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),v}(d.default);p.blotName="script",p.tagName=["SUB","SUP"],s.default=p},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(6),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="strike",m.tagName="S",s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(6),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="underline",m.tagName="U",s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),o=function w(b,y,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,y);if(N===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:w(C,y,_)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(_)}},c=i(0),d=f(c),h=i(27);function f(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function u(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var x=["alt","height","width"],v=function(w){p(b,w);function b(){return m(this,b),u(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(_,N){x.indexOf(_)>-1?N?this.domNode.setAttribute(_,N):this.domNode.removeAttribute(_):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,_,N)}}],[{key:"create",value:function(_){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,_);return typeof _=="string"&&N.setAttribute("src",this.sanitize(_)),N}},{key:"formats",value:function(_){return x.reduce(function(N,C){return _.hasAttribute(C)&&(N[C]=_.getAttribute(C)),N},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,h.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),b}(d.default.Embed);v.blotName="image",v.tagName="IMG",s.default=v},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function w(b,y){for(var _=0;_<y.length;_++){var N=y[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,y,_){return y&&w(b.prototype,y),_&&w(b,_),b}}(),o=function w(b,y,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,y);if(N===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:w(C,y,_)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(_)}},c=i(4),d=i(27),h=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function u(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var x=["height","width"],v=function(w){p(b,w);function b(){return m(this,b),u(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(_,N){x.indexOf(_)>-1?N?this.domNode.setAttribute(_,N):this.domNode.removeAttribute(_):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,_,N)}}],[{key:"create",value:function(_){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,_);return N.setAttribute("frameborder","0"),N.setAttribute("allowfullscreen",!0),N.setAttribute("src",this.sanitize(_)),N}},{key:"formats",value:function(_){return x.reduce(function(N,C){return _.hasAttribute(C)&&(N[C]=_.getAttribute(C)),N},{})}},{key:"sanitize",value:function(_){return h.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),b}(c.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",s.default=v},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.FormulaBlot=void 0;var a=function(){function _(N,C){for(var D=0;D<C.length;D++){var E=C[D];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,C,D){return C&&_(N.prototype,C),D&&_(N,D),N}}(),o=function _(N,C,D){N===null&&(N=Function.prototype);var E=Object.getOwnPropertyDescriptor(N,C);if(E===void 0){var R=Object.getPrototypeOf(N);return R===null?void 0:_(R,C,D)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(D)}},c=i(35),d=p(c),h=i(5),f=p(h),m=i(9),u=p(m);function p(_){return _&&_.__esModule?_:{default:_}}function x(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function v(_,N){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:_}function w(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(_,N):_.__proto__=N)}var b=function(_){w(N,_);function N(){return x(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,null,[{key:"create",value:function(D){var E=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,D);return typeof D=="string"&&(window.katex.render(D,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",D)),E}},{key:"value",value:function(D){return D.getAttribute("data-value")}}]),N}(d.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var y=function(_){w(N,_),a(N,null,[{key:"register",value:function(){f.default.register(b,!0)}}]);function N(){x(this,N);var C=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return N}(u.default);s.FormulaBlot=b,s.default=y},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CodeToken=s.CodeBlock=void 0;var a=function(){function D(E,R){for(var A=0;A<R.length;A++){var k=R[A];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,R,A){return R&&D(E.prototype,R),A&&D(E,A),E}}(),o=function D(E,R,A){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,R);if(k===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:D(O,R,A)}else{if("value"in k)return k.value;var P=k.get;return P===void 0?void 0:P.call(A)}},c=i(0),d=v(c),h=i(5),f=v(h),m=i(9),u=v(m),p=i(13),x=v(p);function v(D){return D&&D.__esModule?D:{default:D}}function w(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function b(D,E){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:D}function y(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);D.prototype=Object.create(E&&E.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(D,E):D.__proto__=E)}var _=function(D){y(E,D);function E(){return w(this,E),b(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),E}(x.default);_.className="ql-syntax";var N=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),C=function(D){y(E,D),a(E,null,[{key:"register",value:function(){f.default.register(N,!0),f.default.register(_,!0)}}]);function E(R,A){w(this,E);var k=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,R,A));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return k.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){k.highlight(),O=null},k.options.interval)}),k.highlight(),k}return a(E,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(O){O.highlight(A.options.highlight)}),this.quill.update(f.default.sources.SILENT),k!=null&&this.quill.setSelection(k,f.default.sources.SILENT)}}}]),E}(u.default);C.DEFAULTS={highlight:function(){return window.hljs==null?null:function(D){var E=window.hljs.highlightAuto(D);return E.value}}(),interval:1e3},s.CodeBlock=_,s.CodeToken=N,s.default=C},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,s){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,s){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,s){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,s){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BubbleTooltip=void 0;var a=function E(R,A,k){R===null&&(R=Function.prototype);var O=Object.getOwnPropertyDescriptor(R,A);if(O===void 0){var P=Object.getPrototypeOf(R);return P===null?void 0:E(P,A,k)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(k)}},o=function(){function E(R,A){for(var k=0;k<A.length;k++){var O=A[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}return function(R,A,k){return A&&E(R.prototype,A),k&&E(R,k),R}}(),c=i(3),d=w(c),h=i(8),f=w(h),m=i(43),u=w(m),p=i(15),x=i(41),v=w(x);function w(E){return E&&E.__esModule?E:{default:E}}function b(E,R){if(!(E instanceof R))throw new TypeError("Cannot call a class as a function")}function y(E,R){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:E}function _(E,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);E.prototype=Object.create(R&&R.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(E,R):E.__proto__=R)}var N=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=function(E){_(R,E);function R(A,k){b(this,R),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=N);var O=y(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,A,k));return O.quill.container.classList.add("ql-bubble"),O}return o(R,[{key:"extendToolbar",value:function(k){this.tooltip=new D(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),v.default)}}]),R}(u.default);C.DEFAULTS=(0,d.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var D=function(E){_(R,E);function R(A,k){b(this,R);var O=y(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,A,k));return O.quill.on(f.default.events.EDITOR_CHANGE,function(P,T,M,H){if(P===f.default.events.SELECTION_CHANGE)if(T!=null&&T.length>0&&H===f.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var W=O.quill.getLines(T.index,T.length);if(W.length===1)O.position(O.quill.getBounds(T));else{var Z=W[W.length-1],B=O.quill.getIndex(Z),q=Math.min(Z.length()-1,T.index+T.length-B),F=O.quill.getBounds(new p.Range(B,q));O.position(F)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return o(R,[{key:"listen",value:function(){var k=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var O=k.quill.getSelection();O!=null&&k.position(k.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var O=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,k),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",O===0)return O;P.style.marginLeft=-1*O-P.offsetWidth/2+"px"}}]),R}(m.BaseTooltip);D.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),s.BubbleTooltip=D,s.default=C},function(n,s,i){n.exports=i(63)}]).default})})(L4);var Sne=L4.exports,kne=mi&&mi.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Am=mi&&mi.__assign||function(){return Am=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Am.apply(this,arguments)},Cne=mi&&mi.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var s=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)s[i]=a[o];return s},Yp=mi&&mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ws=Yp(j),Ene=Yp(eo),Nd=Yp(Nne),m2=Yp(Sne),Pne=function(e){kne(t,e);function t(n){var s=e.call(this,n)||this;s.dirtyProps=["modules","formats","bounds","theme","children"],s.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],s.state={generation:0},s.selection=null,s.onEditorChange=function(a,o,c,d){var h,f,m,u;a==="text-change"?(f=(h=s).onEditorChangeText)===null||f===void 0||f.call(h,s.editor.root.innerHTML,o,d,s.unprivilegedEditor):a==="selection-change"&&((u=(m=s).onEditorChangeSelection)===null||u===void 0||u.call(m,o,d,s.unprivilegedEditor))};var i=s.isControlled()?n.value:n.defaultValue;return s.value=i??"",s}return t.prototype.validateProps=function(n){var s;if(Ws.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ws.default.Children.count(n.children)){var i=Ws.default.Children.only(n.children);if(((s=i)===null||s===void 0?void 0:s.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,s){var i=this,a;if(this.validateProps(n),!this.editor||this.state.generation!==s.generation)return!0;if("value"in n){var o=this.getEditorContents(),c=(a=n.value,a??"");this.isEqualValue(c,o)||this.setEditorContents(this.editor,c)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),Cne(this.cleanProps,this.dirtyProps).some(function(d){return!Nd.default(n[d],i.props[d])})},t.prototype.shouldComponentRegenerate=function(n){var s=this;return this.dirtyProps.some(function(i){return!Nd.default(n[i],s.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,s){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==s.generation){var c=this.regenerationSnapshot,a=c.delta,d=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var h=this.editor;h.setContents(a),p2(function(){return i.setEditorSelection(h,d)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,s){var i=new m2.default(n,s);return s.tabIndex!=null&&this.setEditorTabIndex(i,s.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,s){return this.isDelta(n)&&this.isDelta(s)?Nd.default(n.ops,s.ops):Nd.default(n,s)},t.prototype.setEditorContents=function(n,s){var i=this;this.value=s;var a=this.getEditorSelection();typeof s=="string"?n.setContents(n.clipboard.convert(s)):n.setContents(s),p2(function(){return i.setEditorSelection(n,a)})},t.prototype.setEditorSelection=function(n,s){if(this.selection=s,s){var i=n.getLength();s.index=Math.max(0,Math.min(s.index,i-1)),s.length=Math.max(0,Math.min(s.length,i-1-s.index)),n.setSelection(s)}},t.prototype.setEditorTabIndex=function(n,s){var i,a;!((a=(i=n)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(n.scroll.domNode.tabIndex=s)},t.prototype.setEditorReadOnly=function(n,s){s?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var s=n;return{getHTML:function(){return s.root.innerHTML},getLength:s.getLength.bind(s),getText:s.getText.bind(s),getContents:s.getContents.bind(s),getSelection:s.getSelection.bind(s),getBounds:s.getBounds.bind(s)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=Ene.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,s=this.props,i=s.children,a=s.preserveWhitespace,o=this.state.generation,c={key:o,ref:function(d){n.editingArea=d}};return Ws.default.Children.count(i)?Ws.default.cloneElement(Ws.default.Children.only(i),c):a?Ws.default.createElement("pre",Am({},c)):Ws.default.createElement("div",Am({},c))},t.prototype.render=function(){var n;return Ws.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,s,i,a){var o,c;if(this.editor){var d=this.isDelta(this.value)?a.getContents():a.getHTML();d!==this.getEditorContents()&&(this.lastDeltaChangeSet=s,this.value=d,(c=(o=this.props).onChange)===null||c===void 0||c.call(o,n,s,i,a))}},t.prototype.onEditorChangeSelection=function(n,s,i){var a,o,c,d,h,f;if(this.editor){var m=this.getEditorSelection(),u=!m&&n,p=m&&!n;Nd.default(n,m)||(this.selection=n,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,n,s,i),u?(d=(c=this.props).onFocus)===null||d===void 0||d.call(c,n,s,i):p&&((f=(h=this.props).onBlur)===null||f===void 0||f.call(h,m,s,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=m2.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Ws.default.Component);function p2(e){Promise.resolve().then(e)}var Tne=Pne;const R4=Mm(Tne);var Xp="Switch",[Ane,Hre]=lr(Xp),[One,Lne]=Ane(Xp),M4=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:c,value:d="on",onCheckedChange:h,form:f,...m}=e,[u,p]=j.useState(null),x=dt(t,_=>p(_)),v=j.useRef(!1),w=u?f||!!u.closest("form"):!0,[b,y]=Rs({prop:i,defaultProp:a??!1,onChange:h,caller:Xp});return r.jsxs(One,{scope:n,checked:b,disabled:c,children:[r.jsx(We.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":$4(b),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:x,onClick:Le(e.onClick,_=>{y(N=>!N),w&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),w&&r.jsx(F4,{control:u,bubbles:!v.current,name:s,value:d,checked:b,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});M4.displayName=Xp;var I4="SwitchThumb",D4=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=Lne(I4,n);return r.jsx(We.span,{"data-state":$4(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});D4.displayName=I4;var Rne="SwitchBubbleInput",F4=j.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=j.useRef(null),c=dt(o,a),d=Pp(n),h=op(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&p){const x=new Event("click",{bubbles:s});p.call(f,n),f.dispatchEvent(x)}},[d,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});F4.displayName=Rne;function $4(e){return e?"checked":"unchecked"}var B4=M4,Mne=D4;const Xt=j.forwardRef(({className:e,...t},n)=>r.jsx(B4,{className:Ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(Mne,{className:Ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xt.displayName=B4.displayName;const z4=({productData:e})=>{const{name:t,category:n,price:s,comparePrice:i,images:a,description:o,tags:c,dynamicFields:d,shortDescription:h,featured:f,status:m}=e,u=i&&s?Math.round((i-s)/i*100):0;return r.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[r.jsx(Ne,{children:r.jsx(ke,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:a&&a.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:r.jsx("img",{src:a[0],alt:t,className:"w-full h-full object-cover"})}),a.length>1&&r.jsx("div",{className:"grid grid-cols-4 gap-2",children:a.slice(1,5).map((p,x)=>r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:r.jsx("img",{src:p,alt:`${t} ${x+2}`,className:"w-full h-full object-cover cursor-pointer hover:opacity-80"})},x))})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Me,{variant:"outline",children:n}),f&&r.jsx(Me,{className:"bg-yellow-100 text-yellow-800",children:"Featured"}),r.jsx(Me,{variant:m==="active"?"default":"secondary",children:m})]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:t}),h&&r.jsx("p",{className:"text-gray-600 mb-4",children:h})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((p,x)=>r.jsx(vn,{className:"h-4 w-4 fill-current"},x))}),r.jsx("span",{className:"text-sm text-gray-600",children:"(4.8) 124 reviews"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",s==null?void 0:s.toLocaleString()]}),i&&i>s&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["",i.toLocaleString()]}),r.jsxs(Me,{className:"bg-green-100 text-green-800",children:[u,"% OFF"]})]})]}),r.jsx("p",{className:"text-sm text-green-600",children:"Inclusive of all taxes"})]}),r.jsx(ci,{}),d&&Object.keys(d).length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Product Details"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(d).map(([p,x])=>x?r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 capitalize",children:[p.replace(/([A-Z])/g," $1").trim(),":"]}),r.jsx("span",{className:"font-medium",children:Array.isArray(x)?x.join(", "):String(x)})]},p):null)})]}),r.jsx(ci,{}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(ne,{className:"flex-1",children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),r.jsx(ne,{variant:"outline",size:"icon",children:r.jsx(ds,{className:"h-4 w-4"})}),r.jsx(ne,{variant:"outline",size:"icon",children:r.jsx(Kf,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Wl,{className:"h-6 w-6 mx-auto mb-1 text-blue-600"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Free Delivery"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(pi,{className:"h-6 w-6 mx-auto mb-1 text-green-600"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Secure Payment"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Qs,{className:"h-6 w-6 mx-auto mb-1 text-orange-600"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Easy Returns"})]})]})]})]})})}),o&&r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Product Description"})}),r.jsx(ke,{children:r.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:o}})})]}),c&&c.length>0&&r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Tags"})}),r.jsx(ke,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(p=>r.jsx(Me,{variant:"secondary",children:p},p))})})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Similar Products"})}),r.jsx(ke,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(p=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg"}),r.jsxs("p",{className:"text-sm font-medium",children:["Similar Product ",p]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["",(s*(.8+Math.random()*.4)).toFixed(0)]})]},p))})})]})]})},Dr={electronics:{name:"Electronics",description:"Electronic devices and gadgets",icon:"",fields:[{name:"brand",label:"Brand",type:"text",placeholder:"e.g., Samsung, Apple"},{name:"model",label:"Model",type:"text",placeholder:"e.g., Galaxy S24"},{name:"warranty",label:"Warranty",type:"select",options:["No Warranty","6 months","1 year","2 years"]}]},clothing:{name:"Clothing & Fashion",description:"Apparel and fashion accessories",icon:"",fields:[{name:"brand",label:"Brand",type:"text",placeholder:"Brand name"},{name:"size",label:"Sizes",type:"multiselect",options:["XS","S","M","L","XL","XXL"]},{name:"color",label:"Colors",type:"multiselect",options:["Black","White","Red","Blue","Green","Gray","Brown"]},{name:"material",label:"Material",type:"text",placeholder:"e.g., Cotton, Polyester"}]},food:{name:"Food & Beverages",description:"Fresh food and beverages",icon:"",fields:[{name:"cuisine",label:"Cuisine",type:"select",options:["Nepali","Indian","Chinese","Continental","Italian","Other"]},{name:"spiceLevel",label:"Spice Level",type:"select",options:["Mild","Medium","Hot"]},{name:"dietaryInfo",label:"Dietary",type:"multiselect",options:["Vegetarian","Vegan","Gluten-Free"]},{name:"servingSize",label:"Serving Size",type:"text",placeholder:"e.g., 1 plate, 250ml"}]},baby:{name:"Baby & Kids",description:"Products for babies and children",icon:"",fields:[{name:"ageGroup",label:"Age Group",type:"select",options:["0-6 months","6-12 months","1-2 years","2-4 years","4+ years"]},{name:"safetyFeatures",label:"Safety",type:"multiselect",options:["BPA Free","Non-Toxic","Organic"]}]},grocery:{name:"Grocery & Household",description:"Daily essentials and household items",icon:"",fields:[{name:"weight",label:"Weight/Volume",type:"text",placeholder:"e.g., 1kg, 500ml"},{name:"expiryDate",label:"Expiry Date",type:"date"},{name:"organic",label:"Organic",type:"boolean"}]},meat:{name:"Meat & Seafood",description:"Fresh meat and seafood",icon:"",fields:[{name:"cut",label:"Cut Type",type:"select",options:["Whole","Pieces","Minced","Fillet"]},{name:"freshness",label:"Freshness",type:"select",options:["Fresh","Frozen"]}]},medicine:{name:"Medicine & Health",description:"Medicines and health products",icon:"",fields:[{name:"dosage",label:"Dosage",type:"text",placeholder:"e.g., 500mg, 10ml"},{name:"form",label:"Form",type:"select",options:["Tablet","Capsule","Syrup","Injection","Cream","Drops"]},{name:"prescription",label:"Prescription Required",type:"boolean"}]}},V4=()=>Object.entries(Dr).map(([e,t])=>({value:e,label:t.name,description:t.description,icon:t.icon})),g2=e=>({meat:"kg",grocery:"piece",medicine:"unit",food:"plate",electronics:"piece",clothing:"piece",baby:"piece"})[e]||"piece",Ine=g4({name:wn().min(1,"Product name is required"),category:wn().min(1,"Category is required"),subcategory:wn().optional(),price:Ri().min(0,"Price must be positive"),comparePrice:Ri().optional(),costPrice:Ri().optional(),sku:wn().optional(),barcode:wn().optional(),trackQuantity:Gy().default(!0),quantity:Ri().min(0,"Quantity must be positive"),lowStockThreshold:Ri().min(0).optional(),description:wn().min(1,"Description is required"),shortDescription:wn().optional(),tags:Cm(wn()).default([]),images:Cm(wn()).min(1,"At least one image is required"),status:x4(["active","draft","archived"]).default("active"),featured:Gy().default(!1),seoTitle:wn().optional(),seoDescription:wn().optional(),dynamicFields:v4(Ky()).default({})}),Dne=()=>{const[e,t]=j.useState(""),[n,s]=j.useState([]),[i,a]=j.useState([]),[o,c]=j.useState(""),[d,h]=j.useState(!1),[f,m]=j.useState(!1),[u,p]=j.useState([]),x=d4({resolver:h4(Ine),defaultValues:{name:"",category:"",price:0,quantity:0,description:"",tags:[],images:[],status:"active",featured:!1,trackQuantity:!0,dynamicFields:{}}}),{control:v,handleSubmit:w,watch:b,setValue:y,formState:{errors:_}}=x,N=b("category");j.useEffect(()=>{t(N)},[N]),j.useEffect(()=>{(async()=>{try{const{response:M,data:H}=await Fe("/api/vendor-profiles/");if(M.ok&&H&&H.length>0){const Z=H[0].categories||[];p(Z),Z.length>0&&(y("category",Z[0]),t(Z[0]))}}catch(M){console.error("Error fetching vendor profile:",M)}})()},[y]);const C=T=>{const M=T.target.files;if(M){const H=Array.from(M).map(W=>URL.createObjectURL(W));s(W=>[...W,...H]),y("images",[...n,...H])}},D=T=>{const M=n.filter((H,W)=>W!==T);s(M),y("images",M)},E=()=>{if(o.trim()&&!i.includes(o.trim())){const T=[...i,o.trim()];a(T),y("tags",T),c("")}},R=T=>{const M=i.filter(H=>H!==T);a(M),y("tags",M)},A=T=>{console.log("Product Data:",T)},k=T=>{const M=`dynamicFields.${T.name}`;switch(T.type){case"text":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>r.jsx(me,{...H,placeholder:`Enter ${T.label.toLowerCase()}`})})]},T.name);case"number":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>r.jsx(me,{...H,type:"number",placeholder:`Enter ${T.label.toLowerCase()}`,onChange:W=>H.onChange(Number(W.target.value))})})]},T.name);case"select":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>{var W;return r.jsxs(sn,{onValueChange:H.onChange,value:H.value,children:[r.jsx(en,{children:r.jsx(an,{placeholder:`Select ${T.label.toLowerCase()}`})}),r.jsx(tn,{children:(W=T.options)==null?void 0:W.map(Z=>r.jsx(qe,{value:Z,children:Z},Z))})]})}})]},T.name);case"multiselect":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>{var Z;const W=H.value||[];return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(sn,{onValueChange:B=>{W.includes(B)||H.onChange([...W,B])},children:[r.jsx(en,{children:r.jsx(an,{placeholder:`Select ${T.label.toLowerCase()}`})}),r.jsx(tn,{children:(Z=T.options)==null?void 0:Z.map(B=>r.jsx(qe,{value:B,children:B},B))})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:W.map(B=>r.jsxs(Me,{variant:"secondary",className:"flex items-center gap-1",children:[B,r.jsx(sr,{className:"h-3 w-3 cursor-pointer",onClick:()=>{H.onChange(W.filter(q=>q!==B))}})]},B))})]})}})]},T.name);case"textarea":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>r.jsx(Zn,{...H,placeholder:`Enter ${T.label.toLowerCase()}`})})]},T.name);case"boolean":return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{name:M,control:v,render:({field:H})=>r.jsx(Xt,{checked:H.value,onCheckedChange:H.onChange})}),r.jsx(de,{htmlFor:T.name,children:T.label})]},T.name);case"date":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:T.name,children:[T.label," ",T.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:M,control:v,rules:{required:T.required},render:({field:H})=>r.jsx(me,{...H,type:"date"})})]},T.name);default:return null}},O=()=>f?r.jsx(z4,{productData:b()}):r.jsxs("form",{onSubmit:w(A),className:"space-y-6",children:[r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsxs(lt,{className:"flex items-center gap-2",children:[r.jsx(Ot,{className:"h-5 w-5"}),"Basic Information"]})}),r.jsxs(ke,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:"name",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:"name",control:v,render:({field:T})=>r.jsx(me,{...T,placeholder:"Enter product name"})}),_.name&&r.jsx("p",{className:"text-red-500 text-sm",children:_.name.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:"category",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border rounded-md cursor-not-allowed",children:(()=>{const T=V4().find(M=>M.value===e);return T?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:T.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:T.label}),r.jsx("div",{className:"text-xs text-gray-500",children:"Auto-selected from your vendor profile"})]})]}):r.jsx("div",{className:"text-gray-500",children:"Loading category..."})})()}),r.jsx("input",{type:"hidden",...x.register("category"),value:e})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"shortDescription",children:"Short Description"}),r.jsx(St,{name:"shortDescription",control:v,render:({field:T})=>r.jsx(Zn,{...T,placeholder:"Brief product description",rows:2})})]})]})]}),e&&Dr[e]&&r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsxs(lt,{className:"flex items-center gap-2",children:[r.jsx(CE,{className:"h-5 w-5"}),r.jsx("span",{className:"mr-2",children:Dr[e].icon}),Dr[e].name," Details"]})}),r.jsxs(ke,{className:"space-y-4",children:[Dr[e].subcategories&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{children:"Subcategory"}),r.jsx(St,{name:"subcategory",control:v,render:({field:T})=>{var M;return r.jsxs(sn,{onValueChange:T.onChange,value:T.value,children:[r.jsx(en,{children:r.jsx(an,{placeholder:"Select subcategory"})}),r.jsx(tn,{children:(M=Dr[e].subcategories)==null?void 0:M.map(H=>r.jsx(qe,{value:H,children:H},H))})]})}})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Dr[e].fields.map(k)})]})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Pricing & Inventory"})}),r.jsxs(ke,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:"price",children:["Selling Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:"price",control:v,render:({field:T})=>r.jsx(me,{...T,type:"number",step:"0.01",placeholder:"0.00",onChange:M=>T.onChange(Number(M.target.value))})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"comparePrice",children:"Compare Price"}),r.jsx(St,{name:"comparePrice",control:v,render:({field:T})=>r.jsx(me,{...T,type:"number",step:"0.01",placeholder:"0.00",onChange:M=>T.onChange(Number(M.target.value))})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"costPrice",children:"Cost Price"}),r.jsx(St,{name:"costPrice",control:v,render:({field:T})=>r.jsx(me,{...T,type:"number",step:"0.01",placeholder:"0.00",onChange:M=>T.onChange(Number(M.target.value))})})]})]}),r.jsx(ci,{}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{name:"trackQuantity",control:v,render:({field:T})=>r.jsx(Xt,{checked:T.value,onCheckedChange:T.onChange})}),r.jsx(de,{children:"Track Quantity"})]}),b("trackQuantity")&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:"quantity",children:["Quantity ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:"quantity",control:v,render:({field:T})=>r.jsx(me,{...T,type:"number",placeholder:"0",onChange:M=>T.onChange(Number(M.target.value))})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"lowStockThreshold",children:"Low Stock Alert"}),r.jsx(St,{name:"lowStockThreshold",control:v,render:({field:T})=>r.jsx(me,{...T,type:"number",placeholder:"5",onChange:M=>T.onChange(Number(M.target.value))})})]})]})]})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsxs(lt,{className:"flex items-center gap-2",children:[r.jsx($i,{className:"h-5 w-5"}),"Product Images"]})}),r.jsxs(ke,{className:"space-y-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:C,className:"hidden",id:"image-upload"}),r.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[r.jsx(vu,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload images or drag and drop"}),r.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF up to 10MB"})]})]}),n.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map((T,M)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:T,alt:`Product ${M+1}`,className:"w-full h-24 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>D(M),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(sr,{className:"h-3 w-3"})}),M===0&&r.jsx(Me,{className:"absolute bottom-1 left-1 text-xs",children:"Main"})]},M))})]})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsxs(lt,{className:"flex items-center gap-2",children:[r.jsx(_E,{className:"h-5 w-5"}),"Product Description"]})}),r.jsx(ke,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs(de,{htmlFor:"description",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:"description",control:v,render:({field:T})=>r.jsx(R4,{theme:"snow",value:T.value,onChange:T.onChange,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},style:{minHeight:"200px"}})}),_.description&&r.jsx("p",{className:"text-red-500 text-sm",children:_.description.message})]})})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Product Tags"})}),r.jsxs(ke,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(me,{value:o,onChange:T=>c(T.target.value),placeholder:"Add a tag",onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),E())}),r.jsx(ne,{type:"button",onClick:E,variant:"outline",children:r.jsx(gn,{className:"h-4 w-4"})})]}),i.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(T=>r.jsxs(Me,{variant:"secondary",className:"flex items-center gap-1",children:[T,r.jsx(sr,{className:"h-3 w-3 cursor-pointer",onClick:()=>R(T)})]},T))})]})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"SEO & Settings"})}),r.jsxs(ke,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"sku",children:"SKU"}),r.jsx(St,{name:"sku",control:v,render:({field:T})=>r.jsx(me,{...T,placeholder:"Product SKU"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"barcode",children:"Barcode"}),r.jsx(St,{name:"barcode",control:v,render:({field:T})=>r.jsx(me,{...T,placeholder:"Product barcode"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"seoTitle",children:"SEO Title"}),r.jsx(St,{name:"seoTitle",control:v,render:({field:T})=>r.jsx(me,{...T,placeholder:"SEO optimized title"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"seoDescription",children:"SEO Description"}),r.jsx(St,{name:"seoDescription",control:v,render:({field:T})=>r.jsx(Zn,{...T,placeholder:"SEO meta description",rows:3})})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{name:"featured",control:v,render:({field:T})=>r.jsx(Xt,{checked:T.value,onCheckedChange:T.onChange})}),r.jsx(de,{children:"Featured Product"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"status",children:"Status"}),r.jsx(St,{name:"status",control:v,render:({field:T})=>r.jsxs(sn,{onValueChange:T.onChange,value:T.value,children:[r.jsx(en,{className:"w-32",children:r.jsx(an,{})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"active",children:"Active"}),r.jsx(qe,{value:"draft",children:"Draft"}),r.jsx(qe,{value:"archived",children:"Archived"})]})]})})]})]})]})]}),r.jsxs("div",{className:"flex gap-4 sticky bottom-4 bg-white p-4 border-t",children:[r.jsxs(ne,{type:"button",variant:"outline",className:"flex-1",onClick:()=>m(!f),children:[r.jsx(An,{className:"h-4 w-4 mr-2"}),f?"Edit":"Preview"]}),r.jsx(ne,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{y("status","draft"),w(A)()},children:"Save as Draft"}),r.jsxs(ne,{type:"submit",className:"flex-1",children:[r.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Publish Product"]})]})]});if(d)return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>h(!1),children:r.jsx(Dt,{className:"h-4 w-4"})}),r.jsx("h1",{className:"text-xl font-semibold",children:"Add New Product"})]}),r.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>m(!f),children:[r.jsx(An,{className:"h-4 w-4 mr-2"}),f?"Edit":"Preview"]})]})}),r.jsx("div",{className:"max-w-4xl mx-auto p-6",children:r.jsx(Rw,{className:"h-[calc(100vh-80px)]",children:r.jsx(O,{})})})]});const P=nt();return r.jsx("button",{className:"w-14 h-14 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-110 border-4 border-white","aria-label":"Add Product",onClick:()=>P("/vendor/add-product"),children:r.jsx(gn,{className:"h-7 w-7"})})},v2=[{title:"Home",url:"/vendor/dashboard",icon:rb},{title:"Orders",url:"/vendor/orders",icon:kE},{title:"Products",url:"/vendor/products",icon:Ot},{title:"Settings",url:"/vendor/settings",icon:ID}],Fne=({children:e})=>r.jsx(r.Fragment,{children:e}),$ne=()=>{const e=ra(),t=nt();return r.jsxs("div",{className:"fixed bottom-0 left-0 w-full z-50",children:[r.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 -top-6 z-10",children:r.jsx(Dne,{})}),r.jsxs("nav",{className:"bg-gradient-to-r from-slate-50 to-white shadow-2xl border-t border-gray-100 relative overflow-hidden backdrop-blur-sm pb-safe-bottom",children:[r.jsx("div",{className:"absolute inset-0 bg-white",style:{clipPath:"polygon(0 0, calc(50% - 32px) 0, calc(50% - 24px) 16px, calc(50% + 24px) 16px, calc(50% + 32px) 0, 100% 0, 100% 100%, 0 100%)"}}),r.jsxs("div",{className:"relative flex justify-around items-center px-safe-x py-2 pt-4",children:[v2.slice(0,2).map(n=>{const s=n.icon,i=e.pathname===n.url;return r.jsxs("button",{onClick:()=>t(n.url),className:`flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-200 min-w-[60px] ${i?"text-orange-600 bg-orange-50":"text-gray-600 hover:text-orange-500 hover:bg-gray-50"}`,"aria-label":n.title,children:[r.jsx(s,{className:"h-5 w-5 mb-1"}),r.jsx("span",{className:"text-xs font-medium",children:n.title})]},n.title)}),r.jsx("div",{className:"w-16"}),v2.slice(2).map(n=>{const s=n.icon,i=e.pathname===n.url;return r.jsxs("button",{onClick:()=>t(n.url),className:`flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-200 min-w-[60px] ${i?"text-orange-600 bg-orange-50":"text-gray-600 hover:text-orange-500 hover:bg-gray-50"}`,"aria-label":n.title,children:[r.jsx(s,{className:"h-5 w-5 mb-1"}),r.jsx("span",{className:"text-xs font-medium",children:n.title})]},n.title)})]})]})]})},Bne=async()=>{console.log(" AUTH DEBUG START");const e=await Pe.getToken(),t=await Pe.getUser(),n=await Pe.isAuthenticated();console.log(" Auth Status:",{hasToken:!!e,tokenLength:(e==null?void 0:e.length)||0,tokenPreview:e?`${e.substring(0,10)}...`:"null",hasUser:!!t,userId:t==null?void 0:t.id,userType:t==null?void 0:t.user_type,isAuthenticated:n});const s=localStorage.getItem("token"),i=localStorage.getItem("user");return console.log(" Direct Storage:",{directToken:s?`${s.substring(0,10)}...`:"null",directUser:i?"exists":"null",allKeys:Object.keys(localStorage)}),console.log(" AUTH DEBUG END"),{token:e,user:t,isAuth:n}};function zne({title:e,subtitle:t,headerActions:n}){const s=nt(),{toast:i}=cn(),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(!0),[m,u]=j.useState(null),p=a.filter(E=>!E.read).length,x=c.reduce((E,R)=>E+(R.unread_count||0),0),v=!1;j.useEffect(()=>{console.log(" VendorHeader initializing..."),_(),y(),w(),b();const E=setInterval(w,5e3),R=setInterval(b,5e3),A=O=>{const P=O.detail;o(T=>[P,...T])},k=O=>{const{order:P}=O.detail,T={id:Date.now(),type:"order",title:"New Order Received!",message:`Order #${P.order_number} for ${P.total_amount}`,data:{orderId:P.id},read:!1,created_at:new Date().toISOString(),action_url:"/vendor/orders"};o(M=>[T,...M]),Gt.showBrowserNotification(T.title,{body:T.message,tag:`order-${P.id}`,requireInteraction:!0,data:{actionUrl:"/vendor/orders"}}),i({title:T.title,description:T.message,duration:5e3})};return window.addEventListener("newNotification",A),window.addEventListener("orderCreated",k),()=>{clearInterval(E),clearInterval(R),window.removeEventListener("newNotification",A),window.removeEventListener("orderCreated",k)}},[]);const w=async()=>{try{const E=await $r.getConversations(),A=(Array.isArray(E)?E:(E==null?void 0:E.results)||[]).reduce((k,O)=>{var M,H,W;const P=(M=O.other_participant)==null?void 0:M.id;if(!P)return k;const T=k.find(Z=>{var B;return((B=Z.other_participant)==null?void 0:B.id)===P});if(!T)k.push(O);else{const Z=((H=O.last_message)==null?void 0:H.created_at)||O.updated_at,B=((W=T.last_message)==null?void 0:W.created_at)||T.updated_at;if(new Date(Z)>new Date(B)){const q=k.findIndex(F=>{var $;return(($=F.other_participant)==null?void 0:$.id)===P});k[q]=O}}return k},[]);c.length>0&&A.forEach(k=>{var P,T;const O=c.find(M=>{var H,W;return((H=M.other_participant)==null?void 0:H.id)===((W=k.other_participant)==null?void 0:W.id)});O&&k.unread_count>O.unread_count&&Gt.showBrowserNotification(`New message from ${(P=k.other_participant)==null?void 0:P.username}`,{body:((T=k.last_message)==null?void 0:T.content)||"New message received",tag:`message-${k.id}`,requireInteraction:!1,data:{actionUrl:"/vendor/messages"}})}),d(A)}catch(E){console.error("Failed to load conversations:",E)}},b=async()=>{try{const E=await Gt.getNotifications();a.length>0&&E.forEach(R=>{!a.find(k=>k.id===R.id)&&R.type==="order"&&(Gt.showBrowserNotification(R.title,{body:R.message,tag:`notification-${R.id}`,requireInteraction:!0,data:{actionUrl:"/vendor/orders"}}),i({title:R.title,description:R.message,duration:5e3}))}),o(E)}catch(E){console.error("Failed to load notifications:",E)}},y=async()=>{await Gt.requestPermission()},_=async()=>{console.log(" Fetching vendor status...");try{const E=await Pe.isAuthenticated();if(console.log(" Authentication check for fetch:",E),!E){console.log(" Not authenticated, redirecting to login"),s("/vendor/login");return}const R=await Pe.getUser(),{response:A,data:k}=await Fe("/vendor-profiles/");if(console.log(" Fetch vendor status response:",{status:A.status,statusText:A.statusText,data:k,headers:Object.fromEntries(A.headers.entries())}),A.status===401||A.status===403){console.log(" Authentication error in fetch, clearing auth"),await Pe.clearAuth(),s("/vendor/login");return}if(A.status!==200&&A.status!==201)throw console.log(" Unexpected status in fetch:",A.status),new Error((k==null?void 0:k.error)||(k==null?void 0:k.message)||"Failed to fetch vendor status");if(k&&k.results&&k.results.length>0){const O=k.results.find(P=>P.user===(R==null?void 0:R.id))||k.results[0];console.log(" Profile found:",{id:O.id,user:O.user,is_active:O.is_active}),u(O.id),f(O.is_active||!1)}else console.log(" No profile found in response")}catch(E){console.error(" Error fetching vendor status:",E),i({title:"Error",description:"Failed to load vendor status",variant:"destructive"})}},N=async()=>{console.log(" Toggle status started"),await Bne();try{const E=await Pe.isAuthenticated();if(console.log(" Authentication check:",E),!E){console.log(" Not authenticated, redirecting to login"),s("/vendor/login");return}if(!m)throw console.log(" No profile ID found"),new Error("Profile ID not found");const R=!h;console.log(" Toggling status from",h,"to",R,"for profile",m);const A={is_active:R};console.log(" Request body:",A);const k=await kb();console.log(" Request headers:",k);const{response:O,data:P}=await Fe(`/vendor-profiles/${m}/toggle-status/`,{method:"POST",body:JSON.stringify(A)});if(console.log(" Toggle status response:",{status:O.status,statusText:O.statusText,data:P,headers:Object.fromEntries(O.headers.entries())}),console.log(" Response details:",{ok:O.ok,status:O.status,dataSuccess:P==null?void 0:P.success,dataError:P==null?void 0:P.error,dataMessage:P==null?void 0:P.message}),O.status===401||O.status===403){console.log(" Authentication error - but not clearing auth yet"),i({title:"Permission Error",description:"You don't have permission to perform this action",variant:"destructive"});return}if(O.status===200||O.status===201)if(console.log(" Success response received"),P&&P.success!==!1){const M=P.is_active!==void 0?P.is_active:R;console.log(" Setting status to:",M),f(M),i({title:"Success",description:P.message||`Status set to ${M?"Online":"Offline"}`}),console.log(" Toggle completed successfully");return}else throw console.log(" API returned success: false"),new Error((P==null?void 0:P.error)||(P==null?void 0:P.message)||"Failed to toggle status");console.log(" Unexpected status code:",O.status);const T=(P==null?void 0:P.error)||(P==null?void 0:P.detail)||(P==null?void 0:P.message)||`Server returned status ${O.status}`;throw new Error(T)}catch(E){console.error(" Error toggling status:",E),i({title:"Error",description:E instanceof Error?E.message:"Failed to toggle status",variant:"destructive"})}},C=async E=>{await Gt.markAsRead(E),o(R=>R.map(A=>A.id===E?{...A,read:!0}:A))},D=async()=>{await Gt.markAllAsRead(),o(E=>E.map(R=>({...R,read:!0})))};return r.jsx("header",{className:"fixed top-0 z-50 w-full max-w-full border-b bg-gradient-to-r from-gray-50 to-white shadow-lg overflow-hidden",children:r.jsxs("div",{className:"flex h-14 sm:h-16 items-center px-3 sm:px-4 max-w-full",children:[r.jsx("div",{className:"flex-1 flex items-center gap-2 min-w-0",children:r.jsx("div",{className:"flex items-center gap-2 min-w-0",children:r.jsx("img",{src:"/assets/ezeywaylogo.png",alt:"Ezeyway",className:"h-32 w-32 sm:h-36 sm:w-36 object-contain flex-shrink-0"})})}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 border border-gray-300 rounded-full px-3 py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs font-medium ${h?"text-green-700":"text-gray-700"}`,children:h?"Online":"Offline"}),v]}),r.jsx("button",{onClick:N,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-gray-300 ${h?"bg-green-500":"bg-gray-400"}`,children:r.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform shadow-sm ${h?"translate-x-5":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[r.jsxs(vc,{children:[r.jsx(xc,{asChild:!0,children:r.jsxs(ne,{variant:"ghost",size:"icon",className:"relative h-9 w-9 sm:h-10 sm:w-10 text-gray-700 hover:bg-gray-100",children:[r.jsx(Hl,{className:"h-4 w-4 sm:h-5 sm:w-5"}),x>0&&r.jsx(Me,{className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 h-4 w-4 sm:h-5 sm:w-5 rounded-full p-0 text-[10px] sm:text-xs flex items-center justify-center min-w-[16px] sm:min-w-[20px] bg-red-500 text-white border-2 border-white",children:x>9?"9+":x}),r.jsx("span",{className:"sr-only",children:"Messages"})]})}),r.jsxs(Wo,{align:"end",className:"w-72 sm:w-80 mr-2 sm:mr-0",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h4",{className:"font-semibold",children:"Messages"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>s("/vendor/messages"),className:"text-xs",children:"View all"})})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:c.length===0?r.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No messages"}):c.slice(0,5).map(E=>{var R,A,k,O,P,T;return r.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${E.unread_count>0?"bg-blue-50/50":""}`,onClick:()=>s("/vendor/messages"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gi,{className:"h-8 w-8",children:[r.jsx(Ki,{src:(R=E.other_participant)==null?void 0:R.profile_picture}),r.jsx(Yi,{children:(k=(A=E.other_participant)==null?void 0:A.username)==null?void 0:k.charAt(0)})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:(O=E.other_participant)==null?void 0:O.username}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((P=E.last_message)==null?void 0:P.content)||((T=E.last_message)==null?void 0:T.file_name)||"No messages"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:E.last_message?new Date(E.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),E.unread_count>0&&r.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-white font-bold",children:E.unread_count})})]})},E.id)})})]})]}),n,!n&&r.jsxs(vc,{children:[r.jsx(xc,{asChild:!0,children:r.jsxs(ne,{variant:"ghost",size:"icon",className:"relative h-9 w-9 sm:h-10 sm:w-10 text-gray-700 hover:bg-gray-100",children:[r.jsx(nr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),p>0&&r.jsx(Me,{className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 h-4 w-4 sm:h-5 sm:w-5 rounded-full p-0 text-[10px] sm:text-xs flex items-center justify-center min-w-[16px] sm:min-w-[20px] bg-red-500 text-white border-2 border-white",children:p>9?"9+":p}),r.jsx("span",{className:"sr-only",children:"Notifications"})]})}),r.jsxs(Wo,{align:"end",className:"w-72 sm:w-80 mr-2 sm:mr-0",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h4",{className:"font-semibold",children:"Notifications"}),p>0&&r.jsx(ne,{variant:"ghost",size:"sm",onClick:D,className:"text-xs",children:"Mark all read"})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:a.length===0?r.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):a.map(E=>r.jsx("div",{className:`p-4 border-b last:border-b-0 hover:bg-muted/50 cursor-pointer ${E.read?"":"bg-blue-50/50"}`,onClick:()=>{C(E.id),E.type==="order"?s("/vendor/orders"):E.type==="payment"?s("/vendor/wallet"):E.type==="message"?s("/vendor/messages"):s("/vendor/orders")},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${E.read?"bg-transparent":"bg-blue-500"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`text-sm font-medium ${E.read?"text-gray-700":"text-gray-900"}`,children:E.title}),r.jsx("p",{className:`text-sm ${E.read?"text-gray-600":"text-gray-700"}`,children:E.message}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(E.created_at).toLocaleString()})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Me,{variant:"outline",className:`text-xs ${E.type==="order"?"border-green-200 text-green-700":E.type==="payment"?"border-blue-200 text-blue-700":E.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:E.type})})]})},E.id))}),r.jsx("div",{className:"p-2 border-t",children:r.jsx(ne,{variant:"ghost",className:"w-full text-sm",onClick:()=>s("/vendor/notifications"),children:"View all notifications"})})]})]})]})]})})}function Vne({isOpen:e,orders:t,onAccept:n,onReject:s}){const[i,a]=j.useState({}),o=j.useRef(null),{toast:c}=cn(),d=j.useRef({});j.useEffect(()=>{if(e&&t.length>0){(async()=>{if(o.current)try{o.current.volume=.8,await o.current.play(),setTimeout(()=>{o.current&&(o.current.pause(),o.current.currentTime=0)},3e3)}catch(x){console.warn("Audio autoplay blocked:",x);try{const v=new(window.AudioContext||window.webkitAudioContext),w=v.createOscillator(),b=v.createGain();w.connect(b),b.connect(v.destination),w.frequency.setValueAtTime(800,v.currentTime),w.type="square",b.gain.setValueAtTime(.3,v.currentTime),b.gain.exponentialRampToValueAtTime(.01,v.currentTime+.5),w.start(v.currentTime),w.stop(v.currentTime+.5)}catch(v){console.warn("Web Audio API also failed:",v)}}})(),"Notification"in window&&Notification.permission==="default"?Notification.requestPermission().then(x=>{x==="granted"&&h()}):"Notification"in window&&Notification.permission==="granted"&&h(),t.forEach(x=>{d.current[x.id]||(d.current[x.id]=new Date(x.created_at))});const p=setInterval(()=>{const x={};t.forEach(v=>{if(d.current[v.id]){const b=Math.floor((new Date().getTime()-d.current[v.id].getTime())/1e3);x[v.id]=b}}),a(x)},1e3);return()=>clearInterval(p)}},[e,t]);const h=()=>{t.forEach(u=>{new Notification("New Order Received!",{body:`Order #${u.order_number} - ${u.total_amount}`,icon:"/favicon.ico",tag:`order-${u.id}`,requireInteraction:!0})})};if(!e||t.length===0)return null;const f=u=>{const p=t.find(x=>x.id===u);n(u),c({title:"Order Accepted",description:`Order #${p==null?void 0:p.order_number} has been accepted`})},m=u=>{const p=t.find(x=>x.id===u);s(u),c({title:"Order Rejected",description:`Order #${p==null?void 0:p.order_number} has been rejected`,variant:"destructive"})};return r.jsxs(r.Fragment,{children:[r.jsx("audio",{ref:o,preload:"auto",loop:!0,children:r.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT",type:"audio/wav"})}),r.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-end",children:r.jsx("div",{className:"w-full bg-white rounded-t-3xl shadow-2xl animate-in slide-in-from-bottom duration-300",style:{height:"80vh"},children:r.jsxs("div",{className:"p-6 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center animate-pulse",children:r.jsx(nr,{className:"h-3 w-3 text-red-600 animate-bounce"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-bold text-red-900",children:" New Orders Received!"}),r.jsxs("p",{className:"text-xs text-red-600 font-medium",children:[t.length," order",t.length>1?"s":""," waiting for response"]})]})]}),r.jsx("div",{className:"text-xs text-red-600 font-bold animate-pulse",children:"URGENT"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:t.map(u=>{const p=i[u.id]||0;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-2 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("p",{className:"text-xs font-bold text-gray-900",children:["#",u.order_number]}),r.jsxs("p",{className:"text-xs font-bold text-green-600",children:["",u.total_amount]}),r.jsxs("p",{className:"text-xs text-blue-600",children:[Math.floor(p/60),":",(p%60).toString().padStart(2,"0")]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:u.customer_name}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-1",children:[r.jsxs("div",{className:"flex items-start gap-1",children:[r.jsx(Bt,{className:"h-2 w-2 text-gray-500 mt-0.5"}),r.jsx("p",{className:"text-xs text-gray-900",children:u.delivery_address})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Zu,{className:"h-2 w-2 text-gray-500"}),r.jsx("p",{className:"text-xs text-gray-900",children:u.delivery_phone})]})]}),r.jsxs("div",{className:"mb-1",children:[r.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1",children:["Items (",u.items.length,")"]}),r.jsx("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:u.items.map(x=>{var v,w,b;return r.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:r.jsx("img",{src:((b=(w=(v=x.product_details)==null?void 0:v.images)==null?void 0:w[0])==null?void 0:b.image_url)||"/placeholder-product.jpg",alt:x.product_name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:x.product_name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Qty: ",x.quantity]})]}),r.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["",x.total_price]})]},x.id)})})]}),u.delivery_instructions&&r.jsxs("div",{className:"mb-1",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Instructions:"}),r.jsx("p",{className:"text-xs text-gray-600 italic",children:u.delivery_instructions})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(ne,{onClick:()=>m(u.id),variant:"outline",size:"sm",className:"flex-1 border-red-200 text-red-600 hover:bg-red-50 text-xs h-6",children:[r.jsx(sr,{className:"h-2 w-2 mr-1"}),"Reject"]}),r.jsxs(ne,{onClick:()=>f(u.id),size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-xs h-6",children:[r.jsx(Hu,{className:"h-2 w-2 mr-1"}),"Accept"]})]})]},u.id)})})]})})})]})}function U4(){const[e,t]=j.useState(!1),[n,s]=j.useState(null);return j.useEffect(()=>{if(!vt.isNativePlatform())return;const i=a=>{s(a.detail),t(!0),setTimeout(()=>{t(!1)},5e3)};return window.addEventListener("showOrderModal",i),()=>{window.removeEventListener("showOrderModal",i)}},[]),!vt.isNativePlatform()||!e?null:r.jsx("div",{className:"fixed top-4 left-4 right-4 z-[10000] animate-in slide-in-from-top duration-300",children:r.jsx(Ne,{className:"border-orange-200 bg-orange-50 shadow-lg",children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center animate-pulse",children:r.jsx(nr,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-bold text-orange-900",children:" New Order Received!"}),n&&r.jsxs("p",{className:"text-xs text-orange-700",children:["Order #",n.orderNumber," - ",n.amount]}),r.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Tap anywhere to view and respond"})]})]})})})})}function Une(){const[e,t]=j.useState([]),[n,s]=j.useState(!1),i=j.useRef(null),a=j.useRef(new Set),{notifications:o,unreadCount:c,isConnected:d}=Vp();j.useEffect(()=>{const u=p=>{const x=p.detail;x.type==="order"&&x.title.includes("New Order")&&h()};return window.addEventListener("newNotification",u),()=>{window.removeEventListener("newNotification",u)}},[]);const h=async()=>{try{const{authService:u}=await Je(async()=>{const{authService:b}=await Promise.resolve().then(()=>Su);return{authService:b}},void 0),p=await u.getToken();if(!p){console.log("No token found for pending orders");return}console.log(" Mobile: Fetching pending orders with token:",p?`${p.substring(0,10)}...`:"NO TOKEN"),console.log(" Mobile: API URL:",AP("/api/orders/vendor/pending/"));const{apiRequest:x}=await Je(async()=>{const{apiRequest:b}=await Promise.resolve().then(()=>Os);return{apiRequest:b}},void 0),{response:v,data:w}=await x("/api/orders/vendor/pending/");console.log(" Mobile: Pending orders response:",v.status,v.ok),v.ok&&w?(console.log("Pending orders received:",w.length,w),t(w),s(w.length>0),w.length>0&&(console.log(" Mobile: Showing order notification for",w.length,"orders"),Je(async()=>{const{simpleNotificationService:b}=await Promise.resolve().then(()=>Av);return{simpleNotificationService:b}},void 0).then(({simpleNotificationService:b})=>{w.forEach(y=>{a.current.has(y.id)||(console.log(" Processing NEW order:",y.order_number,y.total_amount),a.current.add(y.id),b.showOrderNotification(y.order_number,y.total_amount,y.id))})}))):console.error("Failed to fetch pending orders:",v.status,v.statusText)}catch(u){console.error("Error fetching pending orders:",u)}};return j.useEffect(()=>{(async()=>{const{authService:w}=await Je(async()=>{const{authService:y}=await Promise.resolve().then(()=>Su);return{authService:y}},void 0);await w.getToken()&&h()})();const p=vt.isNativePlatform()?3e4:6e4;i.current=setInterval(h,p);const x=()=>{document.hidden||h()};document.addEventListener("visibilitychange",x);const v=()=>{console.log("Refreshing pending orders from mobile app resume"),h()};if(window.addEventListener("refreshPendingOrders",v),vt.isNativePlatform()){const w=()=>{console.log(" App state changed - refreshing orders"),h()};return document.addEventListener("resume",w),document.addEventListener("visibilitychange",w),()=>{i.current&&clearInterval(i.current),document.removeEventListener("visibilitychange",x),window.removeEventListener("refreshPendingOrders",v),document.removeEventListener("resume",w),document.removeEventListener("visibilitychange",w)}}return()=>{i.current&&clearInterval(i.current),document.removeEventListener("visibilitychange",x),window.removeEventListener("refreshPendingOrders",v)}},[]),{pendingOrders:e,isModalOpen:n,acceptOrder:async u=>{try{const{apiRequest:p}=await Je(async()=>{const{apiRequest:v}=await Promise.resolve().then(()=>Os);return{apiRequest:v}},void 0),{response:x}=await p(`/api/orders/${u}/accept/`,{method:"POST"});if(x.ok){const{simpleNotificationService:v}=await Je(async()=>{const{simpleNotificationService:w}=await Promise.resolve().then(()=>Av);return{simpleNotificationService:w}},void 0);return v.clearNotification(u),a.current.delete(u),t(w=>w.filter(b=>b.id!==u)),e.length<=1&&s(!1),!0}}catch(p){console.error("Error accepting order:",p)}return!1},rejectOrder:async u=>{try{const{apiRequest:p}=await Je(async()=>{const{apiRequest:v}=await Promise.resolve().then(()=>Os);return{apiRequest:v}},void 0),{response:x}=await p(`/api/orders/${u}/reject/`,{method:"POST",body:JSON.stringify({reason:"Rejected by vendor"})});if(x.ok){const{simpleNotificationService:v}=await Je(async()=>{const{simpleNotificationService:w}=await Promise.resolve().then(()=>Av);return{simpleNotificationService:w}},void 0);return v.clearNotification(u),a.current.delete(u),t(w=>w.filter(b=>b.id!==u)),e.length<=1&&s(!1),!0}}catch(p){console.error("Error rejecting order:",p)}return!1},notifications:o,unreadCount:c,isConnected:d}}const q4=j.createContext(void 0);function qne({children:e}){const{pendingOrders:t,isModalOpen:n,acceptOrder:s,rejectOrder:i}=Une(),[a,o]=j.useState(!1);j.useEffect(()=>{(async()=>{await Fl.requestPermissions(),console.log("Notification service initialized for platform:",vt.isNativePlatform()?"mobile":"web")})()},[]),j.useEffect(()=>{o(n)},[n]),j.useEffect(()=>{t.length>0&&t.forEach(h=>{Fl.showOrderNotification(h.order_number,h.total_amount,h.id),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([300,100,300])})},[t]),j.useEffect(()=>{const h=async f=>{console.log("Order modal event received:",f.detail);const m=f.detail;o(!0),(m!=null&&m.startBeeping||m!=null&&m.autoOpened||m!=null&&m.fromPush)&&(console.log(" Starting beeping for auto-opened notification"),await c()),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([200,100,200])};return window.addEventListener("showOrderModal",h),()=>{window.removeEventListener("showOrderModal",h)}},[]);const c=async()=>{try{console.log(" Starting order notification beeping sequence..."),await Fl.playNotificationSound();let h=0;const f=10,m=setInterval(async()=>{h<f&&a?(await Fl.playNotificationSound(),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([150,50,150]),h++,console.log(` Beep ${h}/${f}`)):(clearInterval(m),console.log(" Beeping sequence completed"))},2e3);window.orderBeepInterval=m}catch(h){console.error("Failed to start order beeping:",h)}};j.useEffect(()=>{vt.isNativePlatform()&&document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("Page visible - checking for pending orders"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))})},[]);const d=()=>{o(!1),window.orderBeepInterval&&(clearInterval(window.orderBeepInterval),window.orderBeepInterval=null,console.log(" Stopped beeping - modal closed"))};return r.jsxs(q4.Provider,{value:{pendingOrdersCount:t.length,isModalOpen:a,closeModal:d},children:[e,r.jsx(U4,{}),r.jsx(Vne,{isOpen:a,orders:t,onAccept:s,onReject:i})]})}function Hne(){const e=j.useContext(q4);return e===void 0?{pendingOrdersCount:0,isModalOpen:!1,closeModal:()=>{}}:e}function Wne({children:e,title:t,subtitle:n,headerActions:s}){return r.jsx(qne,{children:r.jsx(Fne,{children:r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 safe-area-inset max-w-full overflow-x-hidden",children:[r.jsx(U4,{}),r.jsx("div",{className:"pt-safe-top",children:r.jsx(zne,{title:t,subtitle:n,headerActions:s})}),r.jsx("main",{className:"flex-1 pb-20 px-safe-x max-w-full overflow-x-hidden pt-14 sm:pt-16",children:e}),r.jsx($ne,{})]})})})}function It({children:e,title:t,subtitle:n,headerActions:s}){return r.jsx(Wne,{title:t,subtitle:n,headerActions:s,children:e})}const Zne=()=>{const[e,t]=j.useState({}),[n,s]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{const a=await Pe.getToken(),o=await Pe.getUser(),c=await Pe.isAuthenticated(),d=await Pe.isSessionValid(),h=vt.isNativePlatform();let f="Not checked",m=null;if(a&&(o==null?void 0:o.user_type)==="vendor")try{const{response:u,data:p}=await Fe("/api/vendor-profiles/");f=`${u.status} - ${u.ok?"Success":"Failed"}`,u.ok||(m=(p==null?void 0:p.error)||u.statusText)}catch(u){f="Error",m=u.message}else a&&(o==null?void 0:o.user_type)!=="vendor"&&(f="Not a vendor user");t({isNative:h,platform:vt.getPlatform(),token:a?`${a.substring(0,10)}...`:"None",user:o?{id:o.id,user_type:o.user_type,email:o.email}:"None",isAuthenticated:c,isSessionValid:d,vendorProfileStatus:f,vendorProfileError:m,timestamp:new Date().toISOString()})}catch(a){t({error:a.message,timestamp:new Date().toISOString()})}})()},[]),n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-md w-full max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-bold",children:"Vendor Debug Info"}),r.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(e,null,2)}),r.jsx("button",{onClick:()=>{var i;(i=navigator.clipboard)==null||i.writeText(JSON.stringify(e,null,2)),alert("Debug info copied to clipboard")},className:"mt-2 bg-blue-500 text-white px-3 py-1 rounded text-xs w-full",children:"Copy to Clipboard"})]})}):r.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-4 right-4 bg-red-500 text-white px-3 py-1 rounded text-xs z-50",children:"Debug"})},xo=no("PushNotifications",{}),H4=Object.freeze(Object.defineProperty({__proto__:null,PushNotifications:xo},Symbol.toStringTag,{value:"Module"})),Gne=no("FCM",{web:()=>Je(()=>import("./web-gpU9D1kU.js"),[]).then(e=>new e.FCMWeb)});class Kne{constructor(){qs(this,"fcmToken",null)}async initialize(){if(!vt.isNativePlatform()){console.log(" Not on native platform, skipping FCM initialization");return}try{console.log(" Initializing FCM Service..."),this.checkForAutoOpenOrder(),this.setupListeners(),console.log(" Requesting push notification permissions...");const t=await xo.requestPermissions();if(console.log(" Permission result:",t),t.receive!=="granted"){console.warn(" Push notification permission denied");return}console.log(" Registering for push notifications..."),await xo.register();try{await Gne.requestPermissions(),console.log(" FCM Community plugin initialized")}catch(n){console.warn(" FCM Community plugin not available:",n)}await this.getFCMToken(),console.log(" FCM Service initialized successfully")}catch(t){console.error(" FCM initialization failed:",t)}}checkForAutoOpenOrder(){try{const t=localStorage.getItem("autoOpenOrder");if(t){const n=JSON.parse(t);Date.now()-n.timestamp<3e4?(console.log(" AUTO-OPENING ORDER FROM NOTIFICATION:",n),localStorage.removeItem("autoOpenOrder"),this.startOrderBeeping(),setTimeout(()=>{this.showOrderModalImmediately(n)},1e3)):localStorage.removeItem("autoOpenOrder")}window.addEventListener("autoOpenedFromBackground",n=>{console.log(" APP AUTO-OPENED FROM BACKGROUND SERVICE:",n.detail),this.startOrderBeeping(),setTimeout(()=>{this.showOrderModalImmediately(n.detail)},500)})}catch(t){console.error("Error checking for auto-open order:",t)}}async getFCMToken(){try{return vt.isNativePlatform()?new Promise(t=>{xo.addListener("registration",n=>{this.fcmToken=n.value,console.log(" FCM Token (Native):",n.value),this.sendTokenToBackend(),t(n.value)})}):null}catch(t){return console.error("Failed to get FCM token:",t),null}}setupListeners(){xo.addListener("pushNotificationReceived",t=>{var n,s,i;if(console.log(" Push notification received:",t),console.log(" Notification data:",t.data),((n=t.data)==null?void 0:n.autoOpen)==="true"||((s=t.data)==null?void 0:s.action)==="autoOpenOrder"){console.log(" AGGRESSIVE AUTO-OPENING APP FROM DATA MESSAGE!"),this.forceAppToForeground(),this.startOrderBeeping(),this.showOrderModalImmediately({orderId:parseInt(t.data.orderId),orderNumber:t.data.orderNumber,amount:t.data.amount,autoOpened:!0,fromPush:!0,startBeeping:!0,aggressive:!0}),this.triggerBackgroundAutoOpen(t.data);return}(i=t.data)!=null&&i.orderId?(console.log(` Showing order modal for order: ${t.data.orderId}`),this.startOrderBeeping(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(t.data.orderId),orderNumber:t.data.orderNumber,amount:t.data.amount,fromPush:!0,startBeeping:!0}}))):console.warn(" No orderId in notification data")}),xo.addListener("pushNotificationActionPerformed",t=>{var s,i,a,o,c;console.log(" NOTIFICATION TAPPED - AGGRESSIVE AUTO OPENING LIKE YANGO PRO:",t),console.log(" Notification data:",t.notification.data);const n=(s=t.notification.data)==null?void 0:s.orderId;n?(console.log(` AGGRESSIVE AUTO-OPENING FOR ORDER: ${n}`),this.startOrderBeeping(),localStorage.setItem("autoOpenOrder",JSON.stringify({orderId:parseInt(n),orderNumber:(i=t.notification.data)==null?void 0:i.orderNumber,amount:(a=t.notification.data)==null?void 0:a.amount,autoOpened:!0,fromPush:!0,startBeeping:!0,timestamp:Date.now()})),this.triggerAggressiveAutoOpen({orderId:parseInt(n),orderNumber:(o=t.notification.data)==null?void 0:o.orderNumber,amount:(c=t.notification.data)==null?void 0:c.amount})):(console.warn(" No orderId found in notification data"),this.triggerAggressiveAutoOpen({}))}),xo.addListener("registrationError",t=>{console.error(" Push registration error:",t)}),console.log(" FCM listeners set up successfully")}async sendTokenToBackend(){if(!this.fcmToken){console.warn("No FCM token available to send");return}try{await this.waitForAuth();const{apiRequest:t}=await Je(async()=>{const{apiRequest:s}=await Promise.resolve().then(()=>Os);return{apiRequest:s}},void 0),{response:n}=await t("/api/register-fcm-token/",{method:"POST",body:JSON.stringify({fcm_token:this.fcmToken,platform:vt.getPlatform()})});n.ok?console.log(" FCM token sent to backend successfully"):console.warn(" Failed to register FCM token:",n.status)}catch(t){console.warn(" Failed to send FCM token:",t),setTimeout(()=>this.sendTokenToBackend(),5e3)}}async waitForAuth(t=1e4){const n=Date.now();for(;Date.now()-n<t;){try{const{authService:s}=await Je(async()=>{const{authService:a}=await Promise.resolve().then(()=>Su);return{authService:a}},void 0);if(s.getToken()){console.log(" Authentication ready for FCM token registration");return}}catch{}await new Promise(s=>setTimeout(s,500))}console.warn(" Authentication not ready, sending FCM token anyway")}showOrderModalImmediately(t){console.log(" SHOWING ORDER MODAL IMMEDIATELY:",t),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t}))},500),setTimeout(()=>{window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t}))},1500)}async forceAppToForeground(){try{console.log(" FORCING APP TO FOREGROUND..."),window.focus&&window.focus(),document.hidden&&document.dispatchEvent(new Event("visibilitychange")),Object.defineProperty(document,"hidden",{value:!1,writable:!1}),Object.defineProperty(document,"visibilityState",{value:"visible",writable:!1}),window.dispatchEvent(new Event("focus")),document.dispatchEvent(new Event("visibilitychange"))}catch(t){console.warn("Could not force app focus:",t)}}triggerBackgroundAutoOpen(t){try{if(vt.isNativePlatform()){const n={action:"com.ezeyway.app.AUTO_OPEN_ORDER",extras:{orderId:t.orderId,orderNumber:t.orderNumber,amount:t.amount,autoOpened:!0}};console.log(" Triggering background auto-open:",n)}}catch(n){console.error("Failed to trigger background auto-open:",n)}}async triggerAggressiveAutoOpen(t){try{console.log(" TRIGGERING AGGRESSIVE AUTO-OPEN..."),this.forceAppToForeground(),window.location.replace("/vendor/home");for(let n=0;n<5;n++)setTimeout(()=>{this.showOrderModalImmediately({...t,autoOpened:!0,fromPush:!0,startBeeping:!0,aggressive:!0})},n*500)}catch(n){console.error("Failed to trigger aggressive auto-open:",n)}}async startOrderBeeping(){try{console.log(" Starting order notification beeping...");const{notificationService:t}=await Je(async()=>{const{notificationService:i}=await Promise.resolve().then(()=>RP);return{notificationService:i}},void 0);await t.playNotificationSound();try{const{Haptics:i,ImpactStyle:a}=await Je(async()=>{const{Haptics:d,ImpactStyle:h}=await import("./index-W_cHiRhT.js");return{Haptics:d,ImpactStyle:h}},[]);await i.impact({style:a.Heavy});let o=0;const c=setInterval(async()=>{o<5?(await i.impact({style:a.Medium}),o++):clearInterval(c)},2e3)}catch(i){console.warn("Haptics not available:",i)}let n=0;const s=setInterval(async()=>{n<5?(await t.playNotificationSound(),n++):clearInterval(s)},3e3)}catch(t){console.error("Failed to start order beeping:",t)}}getFCMTokenValue(){return this.fcmToken}async registerToken(){this.fcmToken?await this.sendTokenToBackend():console.warn("No FCM token available to register")}}const t0=new Kne,x2=()=>{var X,J,K;const e=nt(),[t,n]=j.useState(!0),[s,i]=j.useState(!1),{pendingOrdersCount:a,isModalOpen:o}=Hne(),[c,d]=j.useState(null),[h,f]=j.useState(0),[m,u]=j.useState({totalOrders:0,totalRevenue:0,totalProducts:0,totalCustomers:0,monthlyEarnings:0,monthlyGrowth:0}),[p,x]=j.useState([]),[v,w]=j.useState([]),[b,y]=j.useState([]),[_,N]=j.useState([]),[C,D]=j.useState([]),[E,R]=j.useState(!0),[A,k]=j.useState(1),[O,P]=j.useState(!0),[T,M]=j.useState(0),[H,W]=j.useState(0),Z=C.length>0?[C[C.length-1],...C,C[0]]:[];j.useEffect(()=>{if(C.length>0){const U=setInterval(()=>{k(te=>te+1)},4e3);return()=>clearInterval(U)}},[C.length]),j.useEffect(()=>{C.length>0&&(A===Z.length-1?setTimeout(()=>{P(!1),k(1),setTimeout(()=>P(!0),50)},500):A===0&&setTimeout(()=>{P(!1),k(C.length),setTimeout(()=>P(!0),50)},500))},[A,C.length]);const B=U=>{W(0),M(U.targetTouches[0].clientX)},q=U=>{W(U.targetTouches[0].clientX)},F=()=>{if(!T||!H)return;const U=T-H,te=U>50,re=U<-50;te&&A<C.length&&k(le=>le+1),re&&A>1&&k(le=>le-1)};j.useEffect(()=>{i(!0),n(!1),vt.isNativePlatform()&&t0.initialize().then(()=>{console.log(" FCM Service initialized on vendor home"),setTimeout(()=>{t0.registerToken()},2e3)}).catch(U=>{console.error(" FCM Service initialization failed:",U)}),$(),z()},[]);const $=async()=>{var U;try{const{apiRequest:te}=await Je(async()=>{const{apiRequest:xe}=await Promise.resolve().then(()=>Os);return{apiRequest:xe}},void 0),{response:re,data:le}=await te("/vendor-profiles/");re.ok&&((U=le==null?void 0:le.results)!=null&&U[0])&&d(le.results[0]);const{response:pe,data:ee}=await te("/api/accounts/wallet/");pe.ok&&ee&&f(parseFloat(ee.balance)||0);const{response:ye,data:Ce}=await te("/api/vendor/orders/");if(ye.ok&&Ce){const xe=Ce.results||Ce||[],ce=xe.length,fe=xe.filter(ie=>ie.status==="delivered").reduce((ie,we)=>ie+parseFloat(we.total_amount||0),0);u({totalOrders:ce,totalRevenue:fe,totalProducts:0,totalCustomers:0,monthlyEarnings:fe*.2,monthlyGrowth:15});const Q=new Date().toDateString(),se=xe.filter(ie=>new Date(ie.created_at).toDateString()===Q);x(se.slice(0,5))}const{response:ue,data:be}=await te("/api/products/");if(ue.ok&&be){const xe=be.results||be||[];y(xe.slice(0,6)),u(ce=>({...ce,totalProducts:xe.length}))}}catch(te){console.warn("Dashboard data fetch error:",te)}},z=async()=>{try{const{apiRequest:U}=await Je(async()=>{const{apiRequest:le}=await Promise.resolve().then(()=>Os);return{apiRequest:le}},void 0),{response:te,data:re}=await U("/api/sliders/?user_type=vendor");te.ok&&re&&re.sliders&&(D(re.sliders),re.sliders.length>0&&k(1))}catch(U){console.warn("Sliders fetch error:",U)}finally{R(!1)}},G=U=>{switch(U){case"pending":return{icon:wE,color:"red",bgColor:"red-50",textColor:"red-600",label:"Action Required"};case"confirmed":case"preparing":return{icon:is,color:"orange",bgColor:"orange-50",textColor:"orange-600",label:"Processing"};case"delivered":return{icon:Hu,color:"green",bgColor:"green-50",textColor:"green-600",label:"Completed"};default:return{icon:is,color:"blue",bgColor:"blue-50",textColor:"blue-600",label:"In Progress"}}};return t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(or,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),r.jsx("p",{className:"text-gray-600",children:"Verifying your account..."})]})}):s?r.jsxs(r.Fragment,{children:[r.jsx(Zne,{}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/20 z-[9998] pointer-events-none"}),r.jsx(It,{title:"Dashboard",children:r.jsxs("div",{className:`space-y-4 pb-16 max-w-full overflow-x-hidden ${o?"pointer-events-none":""}`,children:[r.jsxs("div",{className:"p-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Gi,{className:"h-10 w-10",children:[r.jsx(Ki,{src:(X=c==null?void 0:c.user_info)==null?void 0:X.profile_picture}),r.jsx(Yi,{className:"bg-[#A98D7E] text-white",children:((J=c==null?void 0:c.business_name)==null?void 0:J[0])||((K=c==null?void 0:c.owner_name)==null?void 0:K[0])||"V"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900",children:(c==null?void 0:c.business_name)||"My Store"}),r.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[r.jsx(Qf,{className:"h-3 w-3"})," ",(h||0).toFixed(2)," Available"]})]})]}),r.jsxs(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto flex items-center gap-1",onClick:()=>e("/vendor/wallet"),children:[r.jsx(Qf,{className:"h-3 w-3"}),"Wallet"]})]}),r.jsx("div",{className:"px-4",children:r.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:[r.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=orders"),children:r.jsx(ke,{className:"p-1.5",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-5 h-5 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-1",children:r.jsx(Ot,{className:"h-2.5 w-2.5 text-teal-600"})}),r.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Orders"}),r.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalOrders})]})})}),r.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=revenue"),children:r.jsx(ke,{className:"p-1.5",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-1",children:r.jsx(Fr,{className:"h-2.5 w-2.5 text-blue-600"})}),r.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Revenue"}),r.jsxs("p",{className:"text-xs font-bold text-gray-900",children:["",m.totalRevenue.toFixed(0)]})]})})}),r.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=products"),children:r.jsx(ke,{className:"p-1.5",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-1",children:r.jsx(Sr,{className:"h-2.5 w-2.5 text-purple-600"})}),r.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Products"}),r.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalProducts})]})})}),r.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=customers"),children:r.jsx(ke,{className:"p-1.5",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-1",children:r.jsx(rp,{className:"h-2.5 w-2.5 text-orange-600"})}),r.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Customers"}),r.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalCustomers})]})})})]})}),r.jsx("div",{children:E?r.jsxs("div",{className:"h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:[r.jsx(or,{className:"h-6 w-6 animate-spin text-gray-400"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"Loading sliders..."})]}):C.length>0?r.jsxs("div",{className:"relative h-32",children:[r.jsx("div",{className:"overflow-visible",onTouchStart:B,onTouchMove:q,onTouchEnd:F,children:r.jsx("div",{className:`flex ${O?"transition-transform duration-500 ease-in-out":""}`,style:{transform:`translateX(calc(-${A*95}% + 2.5%))`},children:Z.map((U,te)=>r.jsx("div",{className:`flex-shrink-0 rounded-lg overflow-hidden transition-all duration-300 cursor-pointer ${te===A?"scale-100 opacity-100 z-10":"scale-90 opacity-50 z-0"}`,style:{width:"95%",marginRight:"1%"},onClick:()=>{U.link_url&&window.open(U.link_url,"_blank")},children:r.jsxs("div",{className:"relative h-32",children:[U.image_url?r.jsx("img",{src:U.image_url,alt:U.title,className:"w-full h-full object-cover",onError:re=>{re.target.style.display="none",re.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/80 to-purple-600/80 flex items-center justify-center",style:{display:U.image_url?"none":"flex"},children:r.jsx("h3",{className:"text-white text-lg font-bold text-center px-4",children:U.title})})]})},`${U.id}-${te}`))})}),r.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 flex gap-1",children:C.map((U,te)=>r.jsx("button",{onClick:()=>k(te+1),className:`w-2 h-2 rounded-full transition-colors ${te===(A-1+C.length)%C.length?"bg-blue-500":"bg-gray-300"}`},te))})]}):r.jsx("div",{className:"h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:r.jsx(Ot,{className:"h-6 w-6 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No promotional banners available"})]})})}),r.jsxs("div",{className:"p-3 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Earnings"}),r.jsxs(ne,{variant:"outline",className:"text-gray-700 text-sm px-3 py-2 h-auto flex items-center gap-2",onClick:()=>e("/vendor/wallet"),children:[r.jsx(Fr,{className:"h-4 w-4"}),"View Transactions",r.jsx(_D,{className:"h-4 w-4"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",(m.totalRevenue||0).toFixed(2)]})]}),r.jsx(Ne,{children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Earning in ",new Date().toLocaleDateString("en-US",{month:"long"})]}),r.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",m.monthlyEarnings.toFixed(2)," ",r.jsxs("span",{className:"text-green-600",children:["+",m.monthlyGrowth,"%"]})]})]}),r.jsx("div",{className:"flex items-end gap-1 h-8",children:_.map((U,te)=>{const re=Math.max(..._,1),le=U>0?Math.max(4,U/re*24):2,pe=te===_.length-1;return r.jsx("div",{className:`w-2 rounded-t ${pe?"bg-green-500":U>0?"bg-blue-400":"bg-gray-200"}`,style:{height:`${le}px`}},te)})})]})})})]}),r.jsxs("div",{className:"p-3 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Orders"}),r.jsx(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto",onClick:()=>e("/vendor/orders"),children:"View All"})]}),r.jsx("div",{className:`space-y-3 ${p.length>7?"max-h-96 overflow-y-auto":""}`,children:p.length===0?r.jsx(Ne,{children:r.jsxs(ke,{className:"p-6 text-center",children:[r.jsx(Ot,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No orders today"})]})}):p.map(U=>{var ee;const te=G(U.status),re=te.icon,le=U.created_at?new Date(U.created_at):new Date,pe=Math.floor((Date.now()-le.getTime())/(1e3*60));return r.jsx(Ne,{className:`border-l-4 border-l-${te.color}-500 cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>e(`/vendor/orders?tab=${U.status}&orderId=${U.id}`),children:r.jsxs(ke,{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(re,{className:`h-4 w-4 text-${te.color}-500`}),r.jsx("span",{className:`text-xs font-medium text-${te.textColor} bg-${te.bgColor} px-2 py-1 rounded-full`,children:te.label})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["#",U.order_number]})]}),r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:U.status==="pending"?"New order received":U.status==="delivered"?"Order delivered successfully":"Order in progress"}),r.jsxs("p",{className:"text-xs text-gray-600",children:["",parseFloat(U.total_amount||0).toFixed(2),"  ",((ee=U.items)==null?void 0:ee.length)||0," items  ",pe<60?`${pe} min ago`:`${Math.floor(pe/60)} hours ago`]})]})},U.id)})})]}),r.jsxs("div",{className:"p-3 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Best Selling Products"}),r.jsx(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto",children:"View All"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsx("div",{className:"flex gap-3 pb-2",children:v.map(U=>{var te,re;return r.jsx(Ne,{className:"w-32 flex-shrink-0",children:r.jsx(ke,{className:"p-3",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"w-full h-16 bg-gray-100 rounded-lg overflow-hidden",children:r.jsx("img",{src:((re=(te=U.images)==null?void 0:te[0])==null?void 0:re.image_url)||"/api/placeholder/80/80",alt:U.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:U.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["",parseFloat(U.price).toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("span",{className:"text-green-600 font-medium",children:[U.sold," sold"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"h-3 w-3 text-yellow-400 fill-current"}),r.jsx("span",{className:"text-gray-600",children:U.rating})]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",U.quantity]})]})})},U.id)})})})]}),r.jsxs("div",{className:"p-3 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Products"}),r.jsxs(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto flex items-center gap-1",onClick:()=>e("/vendor/products"),children:[r.jsx(An,{className:"h-3 w-3"}),"Manage"]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-full",children:b.map(U=>{var te,re;return r.jsx(Ne,{className:"overflow-hidden",children:r.jsx(ke,{className:"p-3",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"w-full h-12 bg-gray-100 rounded overflow-hidden",children:r.jsx("img",{src:((re=(te=U.images)==null?void 0:te[0])==null?void 0:re.image_url)||"/api/placeholder/60/60",alt:U.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:U.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["",parseFloat(U.price).toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Stock: ",U.quantity]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.quantity>10?"bg-green-100 text-green-700":U.quantity>0?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:U.quantity>10?"Active":U.quantity>0?"Low Stock":"Out of Stock"})]})]})})},U.id)})})]})]})})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(is,{className:"h-8 w-8 text-yellow-600"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Account Under Review"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Your vendor application is being reviewed by our team. You'll receive an email notification once approved."}),r.jsx(ne,{onClick:()=>e("/vendor/onboarding"),variant:"outline",className:"w-full",children:"Back to Application"})]})})},Om=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ve("w-full caption-bottom text-sm",e),...t})}));Om.displayName="Table";const Lm=j.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ve("[&_tr]:border-b",e),...t}));Lm.displayName="TableHeader";const Rm=j.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ve("[&_tr:last-child]:border-0",e),...t}));Rm.displayName="TableBody";const Yne=j.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Yne.displayName="TableFooter";const So=j.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));So.displayName="TableRow";const Ln=j.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ln.displayName="TableHead";const Rn=j.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Rn.displayName="TableCell";const Xne=j.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ve("mt-4 text-sm text-muted-foreground",e),...t}));Xne.displayName="TableCaption";const Sd=[{id:"ORD-001",customer:"John Doe",product:"Wireless Headphones",quantity:2,amount:"4,998",status:"Pending",date:"2024-01-15",address:"123 Main St, City"},{id:"ORD-002",customer:"Jane Smith",product:"Smart Watch",quantity:1,amount:"12,999",status:"Processing",date:"2024-01-14",address:"456 Oak Ave, City"},{id:"ORD-003",customer:"Mike Johnson",product:"Laptop Stand",quantity:3,amount:"2,997",status:"Shipped",date:"2024-01-13",address:"789 Pine Rd, City"},{id:"ORD-004",customer:"Sarah Wilson",product:"Bluetooth Speaker",quantity:1,amount:"3,499",status:"Delivered",date:"2024-01-12",address:"321 Elm St, City"}],y2={Pending:"bg-yellow-100 text-yellow-800",Processing:"bg-blue-100 text-blue-800",Shipped:"bg-purple-100 text-purple-800",Delivered:"bg-green-100 text-green-800"};function Qne(){const e=nt(),[t,n]=j.useState(""),[s,i]=j.useState("all"),[a,o]=j.useState(!1),[c,d]=j.useState("Tools"),h=Sd.filter(f=>{const m=f.customer.toLowerCase().includes(t.toLowerCase())||f.product.toLowerCase().includes(t.toLowerCase())||f.id.toLowerCase().includes(t.toLowerCase()),u=s==="all"||f.status.toLowerCase()===s.toLowerCase();return m&&u});return r.jsx(It,{title:"Tools",children:r.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 pt-1 pb-16",children:[r.jsx("div",{className:"bg-white p-4 border-b mb-4",children:r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:r.jsx(gn,{className:"h-6 w-6 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Business Tools"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage your products, orders, and business operations"})]})]}),r.jsxs(Fo,{open:a,onOpenChange:o,children:[r.jsx(jy,{asChild:!0,children:r.jsxs(ne,{size:"sm",children:[r.jsx(gn,{className:"mr-2 h-4 w-4"})," Create Order"]})}),r.jsxs(Fa,{className:"sm:max-w-[500px] rounded-lg",children:[r.jsxs($a,{children:[r.jsx(Ba,{className:"text-lg font-semibold",children:"Create New Order"}),r.jsx(QL,{className:"text-sm text-gray-600",children:"Fill in the details below to create a new order for your customer."})]}),r.jsxs("div",{className:"grid gap-3 py-3",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"customer",className:"text-sm font-medium",children:"Customer Name"}),r.jsx(me,{id:"customer",placeholder:"Enter customer name",className:"h-9"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"product",className:"text-sm font-medium",children:"Product"}),r.jsxs(sn,{children:[r.jsx(en,{className:"h-9",children:r.jsx(an,{placeholder:"Select product"})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"headphones",children:"Wireless Headphones"}),r.jsx(qe,{value:"watch",children:"Smart Watch"}),r.jsx(qe,{value:"stand",children:"Laptop Stand"}),r.jsx(qe,{value:"speaker",children:"Bluetooth Speaker"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"quantity",className:"text-sm font-medium",children:"Quantity"}),r.jsx(me,{id:"quantity",type:"number",placeholder:"1",className:"h-9"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"amount",className:"text-sm font-medium",children:"Amount"}),r.jsx(me,{id:"amount",placeholder:"0.00",className:"h-9"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"address",className:"text-sm font-medium",children:"Delivery Address"}),r.jsx(Zn,{id:"address",placeholder:"Enter delivery address",className:"h-20"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),r.jsx(Zn,{id:"notes",placeholder:"Any special instructions...",className:"h-16"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>o(!1),children:"Cancel"}),r.jsx(ne,{size:"sm",onClick:()=>o(!1),children:"Create Order"})]})]})]})]})}),r.jsxs(Ne,{className:"mb-4 border border-gray-200",children:[r.jsx(ot,{className:"bg-gray-50 border-b border-gray-200 p-3",children:r.jsxs(lt,{className:"flex items-center gap-2 text-base",children:[r.jsx("div",{className:"p-1.5 bg-white rounded-md shadow-sm",children:r.jsx(gn,{className:"h-4 w-4 text-gray-700"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-900 font-bold text-sm",children:"Business Functions"}),r.jsx("p",{className:"text-xs text-gray-600 font-normal mt-0.5",children:"Manage your core business operations"})]})]})}),r.jsx(ke,{className:"p-3",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-2",children:[r.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/add-products"),children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-blue-200 group-hover:to-blue-300 transition-all duration-150",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Add Products"}),r.jsx(Me,{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full text-[10px]",children:"New"})]}),r.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/products"),children:[r.jsx("div",{className:"bg-gradient-to-br from-green-100 to-green-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-green-200 group-hover:to-green-300 transition-all duration-150",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Products"}),r.jsx(Me,{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full text-[10px]",children:"New"})]}),r.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/orders"),children:[r.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-purple-200 group-hover:to-purple-300 transition-all duration-150",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Orders"})]}),r.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/return-orders"),children:[r.jsx("div",{className:"bg-gradient-to-br from-orange-100 to-orange-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-orange-200 group-hover:to-orange-300 transition-all duration-150",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Return Order"})]}),r.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/reviews"),children:[r.jsx("div",{className:"bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-yellow-200 group-hover:to-yellow-300 transition-all duration-150",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Manage Reviews"})]}),r.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/income"),children:[r.jsx("div",{className:"bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-emerald-200 group-hover:to-emerald-300 transition-all duration-150",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"My Income"})]})]})})]}),r.jsxs(Ne,{className:"mb-4 rounded-lg border border-gray-200",children:[r.jsx(ot,{className:"bg-gray-50 p-3 border-b border-gray-200",children:r.jsx(lt,{className:"text-base font-semibold text-gray-900",children:"Business Upgrading"})}),r.jsx(ke,{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-lg p-2 flex-shrink-0",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Business Advisor"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Get expert guidance"})]}),r.jsx(Me,{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"New"})]})})]}),r.jsx(Ne,{className:"mb-4 rounded-lg border border-gray-200",children:r.jsx(ke,{className:"p-3",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ro,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),r.jsx(me,{placeholder:"Search orders...",value:t,onChange:f=>n(f.target.value),className:"pl-8 h-9 text-sm"})]})}),r.jsxs(sn,{value:s,onValueChange:i,children:[r.jsxs(en,{className:"w-full sm:w-[160px] h-9 text-sm",children:[r.jsx(to,{className:"mr-2 h-3 w-3"}),r.jsx(an,{placeholder:"Filter by status"})]}),r.jsxs(tn,{children:[r.jsx(qe,{value:"all",children:"All Status"}),r.jsx(qe,{value:"pending",children:"Pending"}),r.jsx(qe,{value:"processing",children:"Processing"}),r.jsx(qe,{value:"shipped",children:"Shipped"}),r.jsx(qe,{value:"delivered",children:"Delivered"})]})]})]})})}),r.jsxs(Ne,{className:"hidden md:block mb-4 rounded-lg border border-gray-200",children:[r.jsx(ot,{className:"p-4",children:r.jsx(lt,{className:"text-base font-semibold",children:"Recent Orders"})}),r.jsx(ke,{className:"p-4",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Om,{children:[r.jsx(Lm,{children:r.jsxs(So,{children:[r.jsx(Ln,{className:"text-xs",children:"Order ID"}),r.jsx(Ln,{className:"text-xs",children:"Customer"}),r.jsx(Ln,{className:"text-xs",children:"Product"}),r.jsx(Ln,{className:"text-xs",children:"Qty"}),r.jsx(Ln,{className:"text-xs",children:"Amount"}),r.jsx(Ln,{className:"text-xs",children:"Status"}),r.jsx(Ln,{className:"text-xs",children:"Date"}),r.jsx(Ln,{className:"text-right text-xs",children:"Actions"})]})}),r.jsx(Rm,{children:h.slice(0,3).map(f=>r.jsxs(So,{className:"h-12",children:[r.jsx(Rn,{className:"text-sm font-medium",children:f.id}),r.jsx(Rn,{className:"text-sm",children:f.customer}),r.jsx(Rn,{className:"text-sm",children:f.product}),r.jsx(Rn,{className:"text-sm",children:f.quantity}),r.jsx(Rn,{className:"text-sm",children:f.amount}),r.jsx(Rn,{children:r.jsx(Me,{className:`${y2[f.status]} text-xs px-2 py-1`,children:f.status})}),r.jsx(Rn,{className:"text-sm",children:f.date}),r.jsx(Rn,{className:"text-right",children:r.jsxs(vc,{children:[r.jsx(xc,{asChild:!0,children:r.jsx(ne,{variant:"ghost",className:"h-6 w-6 p-0",children:r.jsx(o1,{className:"h-3 w-3"})})}),r.jsxs(Wo,{align:"end",children:[r.jsxs(po,{className:"text-xs",children:[r.jsx(Yf,{className:"mr-2 h-3 w-3"})," Edit"]}),r.jsx(po,{className:"text-xs",children:"View Details"}),r.jsxs(po,{className:"text-red-600 text-xs",children:[r.jsx(qa,{className:"mr-2 h-3 w-3"})," Delete"]})]})]})})]},f.id))})]})})})]}),r.jsxs("div",{className:"md:hidden space-y-3",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Recent Orders"}),h.slice(0,2).map(f=>r.jsxs(Ne,{className:"p-3 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:f.id}),r.jsx("p",{className:"text-xs text-gray-600",children:f.customer})]}),r.jsx(Me,{className:`${y2[f.status]} text-xs px-2 py-1`,children:f.status})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{className:"text-gray-600",children:"Product:"}),r.jsx("span",{className:"font-medium",children:f.product})]}),r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{className:"text-gray-600",children:"Qty:"}),r.jsx("span",{className:"font-medium",children:f.quantity})]}),r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{className:"text-gray-600",children:"Amount:"}),r.jsx("span",{className:"font-semibold text-orange-600",children:f.amount})]})]}),r.jsx("div",{className:"flex justify-end mt-3",children:r.jsxs(vc,{children:[r.jsx(xc,{asChild:!0,children:r.jsxs(ne,{variant:"outline",size:"sm",className:"h-7 text-xs border-gray-300",children:[r.jsx(o1,{className:"h-3 w-3 mr-1"})," Actions"]})}),r.jsxs(Wo,{align:"end",children:[r.jsxs(po,{className:"text-xs",children:[r.jsx(Yf,{className:"mr-2 h-3 w-3"})," Edit"]}),r.jsx(po,{className:"text-xs",children:"View Details"}),r.jsxs(po,{className:"text-red-600 text-xs",children:[r.jsx(qa,{className:"mr-2 h-3 w-3"})," Delete"]})]})]})})]},f.id))]}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-4 mb-4",children:[r.jsxs(Ne,{className:"rounded-lg border border-gray-200",children:[r.jsx(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:r.jsx(lt,{className:"text-xs font-medium text-gray-900",children:"Total Orders"})}),r.jsxs(ke,{className:"p-3 pt-0",children:[r.jsx("div",{className:"text-xl font-bold text-gray-900",children:Sd.length}),r.jsx("p",{className:"text-xs text-gray-600",children:"+2 from yesterday"})]})]}),r.jsxs(Ne,{className:"rounded-lg border border-gray-200",children:[r.jsx(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:r.jsx(lt,{className:"text-xs font-medium text-gray-900",children:"Pending"})}),r.jsxs(ke,{className:"p-3 pt-0",children:[r.jsx("div",{className:"text-xl font-bold text-gray-900",children:Sd.filter(f=>f.status==="Pending").length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Requires attention"})]})]}),r.jsxs(Ne,{className:"rounded-lg border border-gray-200",children:[r.jsx(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:r.jsx(lt,{className:"text-xs font-medium text-gray-900",children:"Processing"})}),r.jsxs(ke,{className:"p-3 pt-0",children:[r.jsx("div",{className:"text-xl font-bold text-gray-900",children:Sd.filter(f=>f.status==="Processing").length}),r.jsx("p",{className:"text-xs text-gray-600",children:"In progress"})]})]}),r.jsxs(Ne,{className:"rounded-lg border border-gray-200",children:[r.jsx(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:r.jsx(lt,{className:"text-xs font-medium text-gray-900",children:"Completed"})}),r.jsxs(ke,{className:"p-3 pt-0",children:[r.jsx("div",{className:"text-xl font-bold text-gray-900",children:Sd.filter(f=>f.status==="Delivered").length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Successfully delivered"})]})]})]}),r.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 md:hidden flex justify-around items-center p-3 shadow-md",children:[r.jsxs("button",{onClick:()=>d("Home"),className:`flex flex-col items-center text-gray-500 ${c==="Home"?"text-orange-500":""}`,children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),r.jsxs("button",{onClick:()=>d("Tools"),className:`flex flex-col items-center text-gray-500 ${c==="Tools"?"text-orange-500":""}`,children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{className:"text-xs font-medium",children:"Tools"})]}),r.jsxs("button",{onClick:()=>d("Messages"),className:`flex flex-col items-center text-gray-500 ${c==="Messages"?"text-orange-500":""}`,children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{className:"text-xs font-medium",children:"Messages"})]}),r.jsxs("button",{onClick:()=>d("Me"),className:`flex flex-col items-center text-gray-500 ${c==="Me"?"text-orange-500":""}`,children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{className:"text-xs font-medium",children:"Me"})]})]})]})})}const Ei={overview:{totalRevenue:"2,45,000",totalOrders:1234,averageOrderValue:"199",conversionRate:"3.2%",growth:{revenue:"+12.5%",orders:"+8.2%",customers:"+5.1%"}},monthlyData:[{month:"Jan",revenue:45e3,orders:234,customers:189},{month:"Feb",revenue:52e3,orders:267,customers:203},{month:"Mar",revenue:48e3,orders:245,customers:198},{month:"Apr",revenue:61e3,orders:312,customers:245},{month:"May",revenue:58e3,orders:298,customers:232},{month:"Jun",revenue:67e3,orders:345,customers:267}],topProducts:[{name:"Wireless Headphones",sales:245,revenue:"24,500",growth:"+15%"},{name:"Smart Watch",sales:189,revenue:"18,900",growth:"+8%"},{name:"Laptop Stand",sales:156,revenue:"15,600",growth:"+12%"},{name:"Bluetooth Speaker",sales:134,revenue:"13,400",growth:"+6%"},{name:"Phone Case",sales:98,revenue:"9,800",growth:"+3%"}],recentTransactions:[{id:"TXN-001",customer:"John Doe",amount:"1,250",date:"2024-01-15",status:"Completed"},{id:"TXN-002",customer:"Jane Smith",amount:"890",date:"2024-01-15",status:"Completed"},{id:"TXN-003",customer:"Mike Johnson",amount:"2,100",date:"2024-01-14",status:"Completed"},{id:"TXN-004",customer:"Sarah Wilson",amount:"675",date:"2024-01-14",status:"Completed"},{id:"TXN-005",customer:"Tom Brown",amount:"1,450",date:"2024-01-13",status:"Pending"}]};function Jne(){const[e,t]=j.useState("30d"),[n,s]=j.useState("overview");return r.jsx(It,{title:"Sales Analytics",children:r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsx("div",{className:"bg-white p-6 border-b",children:r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:r.jsx(Fr,{className:"h-8 w-8 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Sales Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Track your sales performance and business insights"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[r.jsxs(sn,{value:e,onValueChange:t,children:[r.jsxs(en,{className:"w-full sm:w-[160px]",children:[r.jsx(vE,{className:"mr-2 h-4 w-4"}),r.jsx(an,{})]}),r.jsxs(tn,{children:[r.jsx(qe,{value:"7d",children:"Last 7 days"}),r.jsx(qe,{value:"30d",children:"Last 30 days"}),r.jsx(qe,{value:"90d",children:"Last 90 days"}),r.jsx(qe,{value:"1y",children:"Last year"})]})]}),r.jsxs(ne,{variant:"outline",children:[r.jsx(tb,{className:"mr-2 h-4 w-4"}),"Export Report"]})]})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(Ne,{children:[r.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(lt,{className:"text-sm font-medium",children:"Total Revenue"}),r.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:r.jsx(PD,{className:"h-4 w-4 text-gray-600"})})]}),r.jsxs(ke,{children:[r.jsx("div",{className:"text-2xl font-bold",children:Ei.overview.totalRevenue}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[r.jsx(Fr,{className:"h-3 w-3 mr-1"}),Ei.overview.growth.revenue," from last month"]})]})]}),r.jsxs(Ne,{children:[r.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(lt,{className:"text-sm font-medium",children:"Total Orders"}),r.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:r.jsx(rr,{className:"h-4 w-4 text-gray-600"})})]}),r.jsxs(ke,{children:[r.jsx("div",{className:"text-2xl font-bold",children:Ei.overview.totalOrders}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[r.jsx(Fr,{className:"h-3 w-3 mr-1"}),Ei.overview.growth.orders," from last month"]})]})]}),r.jsxs(Ne,{children:[r.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(lt,{className:"text-sm font-medium",children:"Avg Order Value"}),r.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:r.jsx(Fr,{className:"h-4 w-4 text-gray-600"})})]}),r.jsxs(ke,{children:[r.jsx("div",{className:"text-2xl font-bold",children:Ei.overview.averageOrderValue}),r.jsx("p",{className:"text-xs text-gray-500",children:"Per transaction"})]})]}),r.jsxs(Ne,{children:[r.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(lt,{className:"text-sm font-medium",children:"Conversion Rate"}),r.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:r.jsx(rp,{className:"h-4 w-4 text-gray-600"})})]}),r.jsxs(ke,{children:[r.jsx("div",{className:"text-2xl font-bold",children:Ei.overview.conversionRate}),r.jsx("p",{className:"text-xs text-gray-500",children:"Visitors to customers"})]})]})]}),r.jsxs(ia,{value:n,onValueChange:s,className:"space-y-4",children:[r.jsxs(yi,{children:[r.jsx(Mt,{value:"overview",children:"Overview"}),r.jsx(Mt,{value:"products",children:"Top Products"}),r.jsx(Mt,{value:"transactions",children:"Transactions"})]}),r.jsxs(ft,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(Ne,{className:"col-span-1",children:[r.jsx(ot,{children:r.jsx(lt,{children:"Revenue Trend"})}),r.jsx(ke,{children:r.jsx("div",{className:"h-[300px] flex items-center justify-center bg-muted/20 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Fr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"Revenue chart"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly trend visualization"})]})})})]}),r.jsxs(Ne,{className:"col-span-1",children:[r.jsx(ot,{children:r.jsx(lt,{children:"Orders Trend"})}),r.jsx(ke,{children:r.jsx("div",{className:"h-[300px] flex items-center justify-center bg-muted/20 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx(rr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"Orders chart"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Order volume over time"})]})})})]})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Monthly Performance"})}),r.jsx(ke,{children:r.jsxs(Om,{children:[r.jsx(Lm,{children:r.jsxs(So,{children:[r.jsx(Ln,{children:"Month"}),r.jsx(Ln,{children:"Revenue"}),r.jsx(Ln,{children:"Orders"}),r.jsx(Ln,{children:"Customers"}),r.jsx(Ln,{children:"Growth"})]})}),r.jsx(Rm,{children:Ei.monthlyData.map(i=>r.jsxs(So,{children:[r.jsx(Rn,{className:"font-medium",children:i.month}),r.jsxs(Rn,{children:["",i.revenue.toLocaleString()]}),r.jsx(Rn,{children:i.orders}),r.jsx(Rn,{children:i.customers}),r.jsx(Rn,{children:r.jsxs(Me,{variant:"secondary",className:"text-green-600",children:["+",Math.floor(Math.random()*20+5),"%"]})})]},i.month))})]})})]})]}),r.jsx(ft,{value:"products",className:"space-y-4",children:r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Top Performing Products"})}),r.jsx(ke,{children:r.jsx("div",{className:"space-y-4",children:Ei.topProducts.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-sm font-medium",children:a+1}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:i.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.sales," units sold"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:i.revenue}),r.jsx("p",{className:`text-sm ${i.growth.startsWith("+")?"text-green-600":"text-red-600"}`,children:i.growth})]})]},a))})})]})}),r.jsx(ft,{value:"transactions",className:"space-y-4",children:r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Recent Transactions"})}),r.jsx(ke,{children:r.jsxs(Om,{children:[r.jsx(Lm,{children:r.jsxs(So,{children:[r.jsx(Ln,{children:"Transaction ID"}),r.jsx(Ln,{children:"Customer"}),r.jsx(Ln,{children:"Amount"}),r.jsx(Ln,{children:"Date"}),r.jsx(Ln,{children:"Status"})]})}),r.jsx(Rm,{children:Ei.recentTransactions.map(i=>r.jsxs(So,{children:[r.jsx(Rn,{className:"font-medium",children:i.id}),r.jsx(Rn,{children:i.customer}),r.jsx(Rn,{children:i.amount}),r.jsx(Rn,{children:i.date}),r.jsx(Rn,{children:r.jsx(Me,{variant:i.status==="Completed"?"default":"secondary",children:i.status})})]},i.id))})]})})]})})]})]})})}const ere=[{category:"Account",items:[{id:"profile",title:"Profile Management",subtitle:"Complete profile setup and management",icon:Es,action:"navigate"},{id:"company",title:"Company Information",subtitle:"Business details and verification",icon:Sr,action:"navigate"},{id:"security",title:"Security & Login",subtitle:"Password and authentication",icon:pi,action:"navigate"}]},{category:"Business",items:[{id:"products",title:"Product Management",subtitle:"Inventory, pricing, and catalog",icon:Ot,action:"navigate"},{id:"analytics",title:"Business Analytics",subtitle:"Sales reports and insights",icon:xE,action:"navigate"}]},{category:"Operations",items:[{id:"payment",title:"Payment Settings",subtitle:"Bank details and payout preferences",icon:na,action:"navigate"},{id:"notifications",title:"Notification Settings",subtitle:"Configure notification preferences",icon:nr,action:"navigate"}]}];function tre(){const e=nt(),[t,n]=j.useState(null),[s,i]=j.useState(!0),[a,o]=j.useState(""),[c,d]=j.useState({businessName:"",ownerName:"",email:"",phone:"",address:"",description:"",avatar:"/api/placeholder/120/120",isOnline:!0,autoOnlineTime:"09:00",autoOfflineTime:"22:00",totalProducts:0,activeProducts:0,totalSales:0,monthlyRevenue:0});j.useEffect(()=>{h()},[]);const h=async()=>{try{const{simplePersistentAuth:p}=await Je(async()=>{const{simplePersistentAuth:N}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:N}},[]);if(!await p.isVendorLoggedIn()){e("/vendor/login");return}const v=await p.getVendorAuth();v&&await Pe.setAuth(v.token,v.user);const{response:w,data:b}=await Fe("/profile/");if(!w.ok)throw new Error("Failed to fetch user profile");const{response:y,data:_}=await Fe("/vendor-profiles/");if(y.ok&&_){if(_.results&&_.results.length>0){const N=_.results[0];d({businessName:N.business_name||"N/A",ownerName:N.owner_name||b.username,email:N.business_email||b.email,phone:N.business_phone||b.phone_number||"N/A",address:N.business_address||"N/A",description:N.description||"No description",avatar:b.profile_picture?(b.profile_picture.startsWith("http"),b.profile_picture):"/api/placeholder/120/120",isOnline:!0,autoOnlineTime:"09:00",autoOfflineTime:"22:00",totalProducts:24,activeProducts:22,totalSales:1250,monthlyRevenue:45e3})}}else d(N=>({...N,businessName:b.username,ownerName:b.username,email:b.email,phone:b.phone_number||"N/A",avatar:b.profile_picture?(b.profile_picture.startsWith("http"),b.profile_picture):"/api/placeholder/120/120"}))}catch(p){console.error("Error fetching profile:",p),o("Failed to load profile data")}finally{i(!1)}},[f,m]=j.useState({esewa:{enabled:!1,merchantId:"",secretKey:""},khalti:{enabled:!1,publicKey:"",secretKey:""}}),u=p=>{p==="profile"?e("/vendor/profile"):p==="security"?e("/vendor/security"):p==="company"?e("/vendor/company"):p==="products"?e("/vendor/products"):p==="analytics"?e("/vendor/analytics"):n(p)};return t?r.jsx(It,{title:"Settings",children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"p-4",children:[r.jsx(ne,{variant:"ghost",onClick:()=>n(null),className:"mb-4",children:" Back to Settings"}),t==="analytics"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Business Analytics"}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Revenue Overview"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",c.monthlyRevenue.toLocaleString()]}),r.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),r.jsx("p",{className:"text-xs text-green-600",children:"+12% from last month"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",(c.monthlyRevenue*.85).toLocaleString()]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Last Month"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Previous period"})]})]})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Sales Metrics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ot,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),r.jsx("p",{className:"text-xl font-bold",children:c.totalSales}),r.jsx("p",{className:"text-xs text-gray-600",children:"This month"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Fr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Avg Order Value"})]}),r.jsxs("p",{className:"text-xl font-bold",children:["",Math.round(c.monthlyRevenue/c.totalSales)]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Per order"})]})]})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Product Performance"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm",children:"Active Products"}),r.jsx("span",{className:"font-semibold",children:c.activeProducts})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm",children:"Total Products"}),r.jsx("span",{className:"font-semibold",children:c.totalProducts})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm",children:"Best Seller"}),r.jsx("span",{className:"font-semibold text-green-600",children:"Chicken Momo"})]})]})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Weekly Sales"}),r.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:[65,45,78,52,89,67,43].map((p,x)=>{const v=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],w=p/100*100;return r.jsxs("div",{className:"flex flex-col items-center flex-1",children:[r.jsx("div",{className:"w-full bg-blue-500 rounded-t mb-1",style:{height:`${w}px`}}),r.jsx("span",{className:"text-xs text-gray-600",children:v[x]})]},x)})})]})})]}),t==="payment"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Settings"}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold text-lg",children:"eS"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"eSewa Integration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Receive payments through eSewa"})]})]}),r.jsx(Xt,{checked:f.esewa.enabled,onCheckedChange:p=>m(x=>({...x,esewa:{...x.esewa,enabled:p}}))})]}),f.esewa.enabled&&r.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-sm font-medium",children:"Merchant ID"}),r.jsx(me,{placeholder:"Enter your eSewa Merchant ID",value:f.esewa.merchantId,onChange:p=>m(x=>({...x,esewa:{...x.esewa,merchantId:p.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(de,{className:"text-sm font-medium",children:"Secret Key"}),r.jsx(me,{type:"password",placeholder:"Enter your eSewa Secret Key",value:f.esewa.secretKey,onChange:p=>m(x=>({...x,esewa:{...x.esewa,secretKey:p.target.value}}))})]}),r.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," You can get your eSewa API credentials from your eSewa merchant dashboard."]})})]})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"K"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Khalti Integration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Receive payments through Khalti"})]})]}),r.jsx(Xt,{checked:f.khalti.enabled,onCheckedChange:p=>m(x=>({...x,khalti:{...x.khalti,enabled:p}}))})]}),f.khalti.enabled&&r.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-sm font-medium",children:"Public Key"}),r.jsx(me,{placeholder:"Enter your Khalti Public Key",value:f.khalti.publicKey,onChange:p=>m(x=>({...x,khalti:{...x.khalti,publicKey:p.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(de,{className:"text-sm font-medium",children:"Secret Key"}),r.jsx(me,{type:"password",placeholder:"Enter your Khalti Secret Key",value:f.khalti.secretKey,onChange:p=>m(x=>({...x,khalti:{...x.khalti,secretKey:p.target.value}}))})]}),r.jsx("div",{className:"bg-purple-50 p-3 rounded-lg",children:r.jsxs("p",{className:"text-sm text-purple-800",children:[r.jsx("strong",{children:"Note:"})," You can get your Khalti API credentials from your Khalti merchant dashboard."]})})]})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Payment Status"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm",children:"eSewa Status"}),r.jsx(Me,{className:f.esewa.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:f.esewa.enabled?"Active":"Inactive"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm",children:"Khalti Status"}),r.jsx(Me,{className:f.khalti.enabled?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",children:f.khalti.enabled?"Active":"Inactive"})]})]})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ne,{className:"bg-blue-600 hover:bg-blue-700",children:"Save Payment Settings"})})]}),t==="notifications"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Notification Settings"}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"New Orders"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Get notified when you receive new orders"})]}),r.jsx(Xt,{defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Payment Updates"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Notifications for payment confirmations"})]}),r.jsx(Xt,{defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Low Stock Alerts"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Alert when products are running low"})]}),r.jsx(Xt,{defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"System Updates"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Important system and policy updates"})]}),r.jsx(Xt,{})]})]})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Delivery Methods"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Push Notifications"}),r.jsx(Xt,{defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Email Notifications"}),r.jsx(Xt,{defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"SMS Notifications"}),r.jsx(Xt,{})]})]})]})})]})]})})}):s?r.jsx(It,{title:"Settings",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):a?r.jsx(It,{title:"Settings",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:a}),r.jsx(ne,{onClick:h,children:"Retry"})]})})}):r.jsx(It,{title:"Settings",children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsxs("div",{className:"p-4 flex items-center gap-3",children:[r.jsxs(Gi,{className:"h-14 w-14",children:[r.jsx(Ki,{src:c.avatar}),r.jsx(Yi,{className:"text-lg font-bold",children:c.businessName?c.businessName.charAt(0):"U"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-lg font-semibold",children:c.businessName||"Business Name"}),r.jsx("p",{className:"text-gray-500 text-xs",children:c.email})]}),r.jsx(Me,{className:c.isOnline?"bg-green-100 text-green-800 text-xs":"bg-gray-100 text-gray-800 text-xs",children:c.isOnline?"Online":"Offline"})]})}),r.jsxs("div",{className:"p-4 space-y-6",children:[ere.map(p=>r.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b bg-gray-50",children:r.jsx("h2",{className:"font-semibold text-gray-900",children:p.category})}),r.jsx("div",{className:"divide-y",children:p.items.map(x=>{const v=x.icon;return r.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>u(x.id),"data-section":x.id,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(v,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:x.title}),r.jsx("p",{className:"text-sm text-gray-600",children:x.subtitle})]})]}),r.jsx(fc,{className:"h-5 w-5 text-gray-400"})]})},x.id)})})]},p.category)),r.jsxs(ne,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:async()=>{await Pe.clearAuth(),e("/vendor/login")},children:[r.jsx(sb,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium text-base",children:"Logout"})]})]})]})})}const b2=()=>{const[e,t]=j.useState("default");j.useEffect(()=>{"Notification"in window&&t(Notification.permission)},[]);const n=async()=>{await Gt.notifyNewMessage("Test Admin","This is a test notification to check if notifications are working!","1","vendor")},s=async()=>{if(!("Notification"in window)){alert("Browser notifications not supported");return}if(console.log("Current permission:",Notification.permission),Notification.permission==="default"){const i=await Notification.requestPermission();if(console.log("Permission result:",i),i!=="granted"){alert("Notification permission denied");return}}else if(Notification.permission==="denied"){alert("Notifications are blocked. Please enable them in browser settings.");return}if(Notification.permission==="granted"){const i=new Notification("Test Notification",{body:"This is a test browser notification",icon:"/logo192.png",requireInteraction:!0});i.onclick=()=>{console.log("Notification clicked"),i.close()},setTimeout(()=>i.close(),5e3),console.log("Notification shown")}};return r.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2 z-50 bg-white p-3 rounded-lg shadow-lg border",children:[r.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Permission: ",r.jsx("span",{className:`font-bold ${e==="granted"?"text-green-600":e==="denied"?"text-red-600":"text-yellow-600"}`,children:e})]}),r.jsxs(ne,{onClick:n,size:"sm",className:"bg-blue-500 hover:bg-blue-600",children:[r.jsx(nr,{className:"h-4 w-4 mr-2"}),"Test Notification"]}),r.jsxs(ne,{onClick:s,size:"sm",variant:"outline",children:[e==="denied"?r.jsx(wE,{className:"h-4 w-4 mr-2"}):r.jsx(nr,{className:"h-4 w-4 mr-2"}),"Test Browser"]}),e==="denied"&&r.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Enable notifications in browser settings"})]})},w2=()=>{var M,H,W,Z;const[e,t]=j.useState(null),[n,s]=j.useState([]),[i,a]=j.useState([]),[o,c]=j.useState(""),[d,h]=j.useState(!0),[f,m]=j.useState(1),[u,p]=j.useState(!1),[x,v]=j.useState(!1),[w,b]=j.useState(null),[y,_]=j.useState(0),N=j.useRef(null),C=j.useRef(null);j.useEffect(()=>{D(),E(),Gt.initialize();const B=$=>{if($.key==="newMessage"&&$.newValue){const z=JSON.parse($.newValue);z.sender!==(w==null?void 0:w.username)&&Gt.notifyNewMessage(z.sender,z.content,z.conversationId.toString(),"vendor")}};window.addEventListener("storage",B);let q=Date.now()/1e3;const F=setInterval(async()=>{try{const z=await(await fetch(`http://localhost:8000/api/broadcast/?conversation_id=${(e==null?void 0:e.id)||0}&since=${q}`)).json();z.messages&&z.messages.length>0&&(z.messages.forEach(G=>{G.sender!==(w==null?void 0:w.username)&&Gt.notifyNewMessage(G.sender,G.content,G.conversation_id.toString(),"vendor")}),q=Date.now()/1e3)}catch($){console.log("Broadcast check failed:",$)}},2e3);return()=>{window.removeEventListener("storage",B),clearInterval(F)}},[w]);const D=async()=>{try{if(!localStorage.getItem("token"))return;const{response:q,data:F}=await Fe("/profile/");q.ok&&F&&b(F)}catch(B){console.error("Failed to fetch current user:",B)}};j.useEffect(()=>{e&&A(e.id)},[e]),j.useEffect(()=>{if(e){const B=setInterval(async()=>{try{const q=await $r.getMessages(e.id),F=Array.isArray(q)?q.reverse():[];if(F.length>y){const $=F.slice(y);for(const z of $)z.sender.id!==(w==null?void 0:w.id)&&await Gt.notifyNewMessage(z.sender.username,z.content||"Sent a file",e.id.toString(),"vendor")}a(F),_(F.length)}catch{i.length>0&&Math.random()>.8&&await Gt.notifyNewMessage("Test User","This is a test notification",e.id.toString(),"vendor")}},3e3);return()=>clearInterval(B)}},[e,y,w,i]);const E=async(B=1,q=!1)=>{try{const{response:F,data:$}=await Fe(`/api/messaging/conversations/?page=${B}&page_size=20`);if(!F.ok)throw new Error("Failed to fetch conversations");const G=(($==null?void 0:$.results)||[]).filter((X,J,K)=>J===K.findIndex(U=>{var te,re;return((te=U.other_participant)==null?void 0:te.id)===((re=X.other_participant)==null?void 0:re.id)}));if(B===1&&!G.some(J=>{var K,U,te;return((K=J.other_participant)==null?void 0:K.username)==="admin"||((U=J.other_participant)==null?void 0:U.id)===1||((te=J.other_participant)==null?void 0:te.username)==="EzzeYway Support"})){const J={id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}};G.unshift(J)}s(q?X=>[...X,...G].filter((K,U,te)=>U===te.findIndex(re=>{var le,pe;return((le=re.other_participant)==null?void 0:le.id)===((pe=K.other_participant)==null?void 0:pe.id)})):G),p(!!($!=null&&$.next)),m(B)}catch(F){console.error("Failed to load conversations:",F),B===1&&s([{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}}])}finally{h(!1),v(!1)}},R=async()=>{x||!u||(v(!0),await E(f+1,!0))},A=async B=>{try{const q=await $r.getMessages(B),F=Array.isArray(q)?q.reverse():[];a(F),_(F.length)}catch(q){console.error("Failed to load messages:",q),a([]),_(0)}},k=async()=>{if(!(!o.trim()||!e))try{const B=await $r.sendMessage({conversation_id:e.id,message_type:"text",content:o});a(F=>[...F,B.message]);const q={conversationId:e.id,sender:(w==null?void 0:w.username)||"Unknown",content:o,timestamp:new Date().toISOString()};localStorage.setItem("newMessage",JSON.stringify(q)),setTimeout(()=>localStorage.removeItem("newMessage"),100);try{await fetch("http://localhost:8000/api/broadcast/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:(w==null?void 0:w.username)||"Unknown",content:o,conversation_id:e.id})})}catch(F){console.log("Cross-domain broadcast failed:",F)}c("")}catch(B){console.error("Failed to send message:",B)}},O=async B=>{var F;const q=(F=B.target.files)==null?void 0:F[0];if(!(!q||!e))try{const $=await $r.sendMessage({conversation_id:e.id,message_type:q.type.startsWith("image/")?"image":"file",file:q});a(z=>[...z,$.message])}catch($){console.error("Failed to send file:",$)}},P=async B=>{try{const q=await $r.getOrCreateConversation(B);t(q)}catch(q){console.error("Failed to create conversation:",q)}},T=()=>{var B;(B=N.current)==null||B.scrollIntoView({behavior:"smooth"})};return j.useEffect(()=>{T()},[i]),d?r.jsx(It,{title:"Messages",children:r.jsx("div",{className:"h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),r.jsx("p",{children:"Loading conversations..."})]})})}):e?r.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[r.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>t(null),children:r.jsx(Dt,{className:"h-4 w-4"})}),r.jsxs(Gi,{className:"h-10 w-10",children:[r.jsx(Ki,{src:ir((M=e.other_participant)==null?void 0:M.profile_picture)}),r.jsx(Yi,{children:(W=(H=e.other_participant)==null?void 0:H.username)==null?void 0:W.charAt(0)})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-sm",children:(Z=e.other_participant)==null?void 0:Z.username}),r.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]}),r.jsx(ne,{variant:"ghost",size:"sm",children:r.jsx(TD,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(B=>{const q=w&&B.sender.id===w.id;return r.jsx("div",{className:`w-full flex ${q?"justify-end":"justify-start"} mb-2`,children:r.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow ${q?"bg-green-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[B.message_type==="text"&&r.jsx("p",{className:"text-sm",children:B.content}),B.message_type==="image"&&r.jsx("div",{className:"space-y-2",children:r.jsx("img",{src:ir(B.file_url),alt:"Shared image",className:"rounded max-w-full h-auto"})}),B.message_type==="file"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ei,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:B.file_name})]}),r.jsxs("div",{className:"flex items-center justify-end mt-1 gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:new Date(B.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),q&&r.jsx("span",{className:`text-xs ${B.is_read?"text-blue-500":"text-gray-400"}`,children:B.is_read?"":""})]})]})},B.id)}),r.jsx("div",{ref:N})]}),r.jsxs("div",{className:"bg-white border-t p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{var B;return(B=C.current)==null?void 0:B.click()},children:r.jsx(Lx,{className:"h-4 w-4"})}),r.jsx(me,{value:o,onChange:B=>c(B.target.value),placeholder:"Type a message...",className:"flex-1",onKeyPress:B=>B.key==="Enter"&&k()}),r.jsx(ne,{onClick:k,disabled:!o.trim(),children:r.jsx(SE,{className:"h-4 w-4"})})]}),r.jsx("input",{ref:C,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:O,className:"hidden"})]}),r.jsx(b2,{})]}):r.jsx(It,{title:"Messages",children:r.jsxs("div",{className:"h-screen bg-white flex flex-col",children:[r.jsx("div",{className:"border-b p-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:"text-lg font-semibold",children:"Messages"})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[n.length===0?r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx(ib,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No conversations yet"}),r.jsx("p",{className:"text-sm",children:"Customers will message you here!"})]}):n.map(B=>{var q,F,$,z,G,X;return r.jsxs("div",{className:"flex items-center gap-3 p-4 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{B.id===0?P(1):t(B)},children:[r.jsxs("div",{className:"relative",children:[r.jsxs(Gi,{className:"h-12 w-12",children:[r.jsx(Ki,{src:ir((q=B.other_participant)==null?void 0:q.profile_picture)}),r.jsx(Yi,{children:($=(F=B.other_participant)==null?void 0:F.username)==null?void 0:$.charAt(0)})]}),r.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-sm truncate",children:(z=B.other_participant)==null?void 0:z.username}),r.jsx("span",{className:"text-xs text-gray-500",children:B.last_message?new Date(B.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:((G=B.last_message)==null?void 0:G.content)||((X=B.last_message)==null?void 0:X.file_name)||"Start conversation"})]}),B.unread_count>0&&r.jsx(Me,{className:"bg-blue-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center",children:B.unread_count})]},B.id)}),u&&r.jsx("div",{className:"p-4 text-center",children:r.jsx(ne,{onClick:R,disabled:x,variant:"outline",className:"w-full",children:x?"Loading...":"Load More Conversations"})})]}),r.jsx(b2,{})]})})},nre=()=>{var J,K,U,te,re,le,pe;const[e,t]=j.useState(null),[n,s]=j.useState(2),[i,a]=j.useState(!1),[o,c]=j.useState(""),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(""),[x,v]=j.useState(""),[w,b]=j.useState("all"),[y,_]=j.useState(1),[N,C]=j.useState([]),D=10,[E,R]=j.useState(!0),[A,k]=j.useState(!1),[O,P]=j.useState(""),[T,M]=j.useState(!1);Vp(),j.useEffect(()=>{const ee=()=>{const ye=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;M(ye)};return ee(),window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]),j.useEffect(()=>{H();const ee=Ce=>{Ce.detail.type==="order"&&H()};window.addEventListener("newNotification",ee);let ye;return T||(ye=setInterval(()=>{H()},6e4)),()=>{window.removeEventListener("newNotification",ee),ye&&clearInterval(ye)}},[T]);const H=async()=>{try{R(!0);const{apiRequest:ee}=await Je(async()=>{const{apiRequest:ce}=await Promise.resolve().then(()=>Os);return{apiRequest:ce}},void 0),ye=new AbortController,Ce=setTimeout(()=>ye.abort(),T?8e3:3e4),ue=T?"/api/vendor/orders/?limit=50":"/api/vendor/orders/",{response:be,data:xe}=await ee(ue,{signal:ye.signal});if(clearTimeout(Ce),be.ok&&xe){const ce=xe.results||xe||[];console.log(" Orders received:",ce.length,ce),C(ce)}else console.error("Failed to fetch orders:",be.status,xe),C([])}catch(ee){console.error("Error fetching vendor orders:",ee),C([])}finally{R(!1)}};j.useEffect(()=>{if(n>0){const ee=setInterval(()=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(`${n} New Order${n>1?"s":""} Waiting!`,{icon:"/favicon.ico",body:"Please check and confirm your orders"})},6e4);return()=>clearInterval(ee)}},[n]),j.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const W=ee=>{switch(ee){case"new":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-orange-100 text-orange-800";case"pending":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-gray-100 text-gray-800";case"returned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Z=ee=>{switch(ee){case"new":return r.jsx(nr,{className:"h-3 w-3"});case"confirmed":return r.jsx(Ot,{className:"h-3 w-3"});case"pending":return r.jsx(Wl,{className:"h-3 w-3"});case"delivered":return r.jsx(Hu,{className:"h-3 w-3"});case"cancelled":return r.jsx(a1,{className:"h-3 w-3"});case"returned":return r.jsx(Qs,{className:"h-3 w-3"});default:return r.jsx(Ot,{className:"h-3 w-3"})}},B=ee=>ee==="all"?N:ee==="new"?N.filter(ye=>ye.status==="pending"):ee==="pending"?N.filter(ye=>ye.status==="out_for_delivery"):N.filter(ye=>ye.status===ee),q=(ee,ye,Ce)=>{C(ue=>ue.map(be=>be.id===ee?{...be,status:ye,isNew:ye==="new",estimatedTime:"Ready for delivery",...Ce}:be))},F=ee=>{const ye=T?15:D;if(w==="new")return T?ee.slice(0,ye):ee;const Ce=(y-1)*ye,ue=Ce+ye;return ee.slice(Ce,ue)},$=ee=>Math.ceil(ee.length/D),z=ee=>{_(ee)},G=({orders:ee})=>{if(w==="new")return null;const ye=$(ee);return ye<=1?null:r.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-100",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(y-1)*D+1,"-",Math.min(y*D,ee.length)," of ",ee.length," orders"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>z(y-1),disabled:y===1,className:"h-7 w-7 p-0",children:r.jsx(bE,{className:"h-3 w-3"})}),r.jsx("div",{className:"flex gap-1",children:Array.from({length:ye},(Ce,ue)=>ue+1).map(Ce=>r.jsx(ne,{variant:y===Ce?"default":"outline",size:"sm",onClick:()=>z(Ce),className:"h-7 w-7 p-0 text-xs",children:Ce},Ce))}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>z(y+1),disabled:y===ye,className:"h-7 w-7 p-0",children:r.jsx(fc,{className:"h-3 w-3"})})]})]})},X=({order:ee})=>{var ye,Ce,ue,be,xe,ce,fe;return r.jsxs("div",{className:`p-4 ${ee.status==="pending"?"bg-blue-50 border-l-4 border-blue-500":((ye=ee.refunds)==null?void 0:ye.length)>0?"bg-orange-50 border-l-4 border-orange-400":"bg-white"} cursor-pointer hover:bg-gray-50 min-h-[120px]`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:ee.order_number}),ee.status==="pending"&&r.jsx(nr,{className:"h-3 w-3 text-blue-500 animate-pulse"})]}),r.jsxs(Me,{className:`${W(ee.status)} flex items-center gap-1 text-xs px-2 py-1`,children:[Z(ee.status),ee.status.charAt(0).toUpperCase()+ee.status.slice(1)]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-gray-800 mb-2",children:[((Ce=ee.items)==null?void 0:Ce.length)||0," item",((ue=ee.items)==null?void 0:ue.length)!==1?"s":""]}),r.jsxs("div",{className:"flex gap-3 overflow-x-auto",children:[(be=ee.items)==null?void 0:be.slice(0,T?2:3).map((Q,se)=>{var ie,we,je,ve;return r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center overflow-hidden",children:(je=(we=(ie=Q.product_details)==null?void 0:ie.images)==null?void 0:we[0])!=null&&je.image_url?r.jsx("img",{src:ir(Q.product_details.images[0].image_url),alt:Q.product_name,className:"w-full h-full object-cover",loading:"lazy",onError:Ae=>{Ae.currentTarget.style.display="none",Ae.currentTarget.parentElement.innerHTML='<span class="text-xs text-gray-400"></span>'}}):r.jsx("span",{className:"text-xs text-gray-400",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:Q.product_name}),r.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:((ve=Q.product_details)==null?void 0:ve.category)||"Item"})]})]},se)}),((xe=ee.items)==null?void 0:xe.length)>(T?2:3)&&r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center flex-shrink-0",children:r.jsxs("span",{className:"text-xs text-gray-600",children:["+",ee.items.length-(T?2:3)]})})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Es,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:((ce=ee.customer_details)==null?void 0:ce.username)||ee.delivery_name})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Bt,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:ee.delivery_address})]}),ee.status==="delivered"&&ee.review&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(vn,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),r.jsxs("span",{className:"text-yellow-600 font-medium text-xs",children:["Rated ",ee.review.overall_rating,"/5"]})]}),((fe=ee.refunds)==null?void 0:fe.length)>0&&r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-2 mt-2",children:ee.refunds.map(Q=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qs,{className:"h-4 w-4 text-orange-500"}),r.jsx("span",{className:"text-orange-700 font-medium text-xs capitalize",children:Q.reason.replace("_"," ")})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${Q.status==="requested"?"bg-yellow-100 text-yellow-800":Q.status==="approved"?"bg-green-100 text-green-800":Q.status==="rejected"?"bg-red-100 text-red-800":Q.status==="appeal"?"bg-purple-100 text-purple-800":Q.status==="processed"?"bg-blue-100 text-blue-800":Q.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:Q.status.charAt(0).toUpperCase()+Q.status.slice(1)})]},Q.id))}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(ee.total_amount).toFixed(2)]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>t(ee),children:[r.jsx(An,{className:"h-3 w-3 mr-1"}),"View"]}),ee.status==="pending"&&r.jsx(ne,{size:"sm",className:"h-7 text-xs bg-green-600 hover:bg-green-700",onClick:async Q=>{Q.stopPropagation();try{const{response:se}=await Fe(`/api/orders/${ee.id}/accept/`,{method:"POST"});se.ok&&(H(),s(ie=>Math.max(0,ie-1)),window.dispatchEvent(new CustomEvent("walletUpdated")))}catch(se){console.error("Error accepting order:",se)}},children:"Accept"}),ee.status==="confirmed"&&r.jsx(ne,{size:"sm",className:"h-7 text-xs bg-blue-600 hover:bg-blue-700",onClick:Q=>{Q.stopPropagation(),t(ee),a(!0)},children:"Ship"}),ee.status==="out_for_delivery"&&r.jsx(ne,{size:"sm",className:"h-7 text-xs bg-green-600 hover:bg-green-700",onClick:async Q=>{Q.stopPropagation();try{const{response:se}=await Fe(`/api/vendor/orders/${ee.id}/status/`,{method:"POST",body:JSON.stringify({status:"delivered",notes:"Marked as delivered by vendor"})});se.ok&&H()}catch(se){console.error("Error marking as delivered:",se)}},children:"Delivered"})]})]})]})]})};return r.jsx(It,{title:"Orders",children:r.jsxs("div",{className:"bg-gray-50 min-h-screen pb-20 max-w-full overflow-x-hidden",children:[E?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]}):N.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ot,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),r.jsx("p",{className:"text-gray-500",children:"Orders will appear here when customers place them."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("div",{className:"flex gap-3 pb-2",children:[r.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center border-l-4 border-blue-500",children:[r.jsx("p",{className:"text-xl font-bold text-blue-600",children:N.filter(ee=>ee.status==="pending").length}),r.jsx("p",{className:"text-xs text-gray-600",children:"New Orders"})]}),r.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xl font-bold text-yellow-600",children:N.filter(ee=>ee.status==="out_for_delivery").length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Shipped"})]}),r.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xl font-bold text-orange-600",children:N.filter(ee=>ee.status==="confirmed").length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Confirmed"})]}),r.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xl font-bold text-green-600",children:N.filter(ee=>ee.status==="delivered").length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Delivered"})]}),r.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xl font-bold text-gray-600",children:N.filter(ee=>ee.status==="cancelled").length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Cancelled"})]}),r.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xl font-bold text-orange-600",children:N.filter(ee=>{var ye;return((ye=ee.refunds)==null?void 0:ye.length)>0}).length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Returns"})]}),r.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xl font-bold text-gray-600",children:N.length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Total"})]})]})})}),r.jsx("div",{className:"px-4",children:r.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),r.jsxs(ia,{value:w,onValueChange:ee=>{b(ee),_(1)},className:"w-full",children:[r.jsx("div",{className:"border-b border-gray-100 overflow-x-auto scrollbar-hide",children:r.jsxs(yi,{className:"flex w-max bg-transparent h-auto p-2 gap-3",children:[r.jsxs(Mt,{value:"all",className:"text-xs py-2 px-3 data-[state=active]:bg-gray-50 data-[state=active]:text-gray-600 data-[state=active]:border-b-2 data-[state=active]:border-gray-600 rounded-none whitespace-nowrap flex-shrink-0",children:["All ",r.jsxs("span",{className:"font-bold ml-2",children:["(",N.length,")"]})]}),r.jsxs(Mt,{value:"new",className:"text-xs py-2 px-3 data-[state=active]:bg-blue-50 data-[state=active]:text-blue-600 data-[state=active]:border-b-2 data-[state=active]:border-blue-600 rounded-none whitespace-nowrap flex-shrink-0",children:["New ",r.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="pending").length,")"]})]}),r.jsxs(Mt,{value:"confirmed",className:"text-xs py-2 px-3 data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:border-b-2 data-[state=active]:border-orange-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Confirmed ",r.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="confirmed").length,")"]})]}),r.jsxs(Mt,{value:"pending",className:"text-xs py-2 px-3 data-[state=active]:bg-yellow-50 data-[state=active]:text-yellow-600 data-[state=active]:border-b-2 data-[state=active]:border-yellow-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Shipped ",r.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="out_for_delivery").length,")"]})]}),r.jsxs(Mt,{value:"delivered",className:"text-xs py-2 px-3 data-[state=active]:bg-green-50 data-[state=active]:text-green-600 data-[state=active]:border-b-2 data-[state=active]:border-green-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Delivered ",r.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="delivered").length,")"]})]}),r.jsxs(Mt,{value:"returns",className:"text-xs py-2 px-3 data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:border-b-2 data-[state=active]:border-orange-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Returns ",r.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>{var ye;return((ye=ee.refunds)==null?void 0:ye.length)>0}).length,")"]})]}),r.jsxs(Mt,{value:"cancelled",className:"text-xs py-2 px-3 data-[state=active]:bg-gray-50 data-[state=active]:text-gray-600 data-[state=active]:border-b-2 data-[state=active]:border-gray-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Cancelled ",r.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(ee=>ee.status==="cancelled").length,")"]})]})]})}),r.jsxs(ft,{value:"all",className:"mt-0",children:[r.jsx("div",{className:"divide-y divide-gray-100",children:F(N).map(ee=>r.jsx(X,{order:ee},ee.id))}),r.jsx(G,{orders:N})]}),r.jsxs(ft,{value:"new",className:"mt-0",children:[r.jsx("div",{className:"divide-y divide-gray-100",children:F(B("new")).map(ee=>r.jsx(X,{order:ee},ee.id))}),r.jsx(G,{orders:B("new")})]}),r.jsxs(ft,{value:"confirmed",className:"mt-0",children:[r.jsx("div",{className:"divide-y divide-gray-100",children:F(B("confirmed")).map(ee=>r.jsx(X,{order:ee},ee.id))}),r.jsx(G,{orders:B("confirmed")})]}),r.jsxs(ft,{value:"pending",className:"mt-0",children:[r.jsx("div",{className:"divide-y divide-gray-100",children:F(B("pending")).map(ee=>r.jsx(X,{order:ee},ee.id))}),r.jsx(G,{orders:B("pending")})]}),r.jsxs(ft,{value:"delivered",className:"mt-0",children:[r.jsx("div",{className:"divide-y divide-gray-100",children:F(B("delivered")).map(ee=>r.jsx(X,{order:ee},ee.id))}),r.jsx(G,{orders:B("delivered")})]}),r.jsx(ft,{value:"returns",className:"mt-0",children:r.jsx("div",{className:"divide-y divide-gray-100",children:N.filter(ee=>{var ye;return((ye=ee.refunds)==null?void 0:ye.length)>0}).map(ee=>{var ye,Ce;return r.jsxs("div",{className:"p-4 bg-white cursor-pointer hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:ee.order_number})}),r.jsxs(Me,{className:"bg-orange-100 text-orange-800 flex items-center gap-1 text-xs px-2 py-1",children:[r.jsx(Qs,{className:"h-3 w-3"}),"Return Request"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Es,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:((ye=ee.customer_details)==null?void 0:ye.username)||ee.delivery_name})]}),(Ce=ee.refunds)==null?void 0:Ce.map(ue=>{var be;return r.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium",children:"Return Reason:"}),r.jsx(Me,{className:`text-xs ${ue.status==="requested"?"bg-yellow-100 text-yellow-800":ue.status==="approved"?"bg-green-100 text-green-800":ue.status==="rejected"?"bg-red-100 text-red-800":ue.status==="appeal"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:ue.status.charAt(0).toUpperCase()+ue.status.slice(1)})]}),r.jsx("p",{className:"text-xs text-gray-700 capitalize",children:ue.reason.replace("_"," ")}),ue.customer_notes&&r.jsxs("p",{className:"text-xs text-gray-600",children:['"',ue.customer_notes,'"']}),r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Amount:"})," ",ue.requested_amount]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Method:"})," ",ue.refund_method]}),ue.status==="requested"&&r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsx(ne,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:async()=>{const xe=prompt("Reason for rejection:");if(xe)try{const{response:ce}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",admin_notes:xe})});ce.ok&&H()}catch(ce){console.error("Error rejecting return:",ce)}},children:"Reject"}),r.jsx(ne,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",approved_amount:ue.requested_amount,admin_notes:"Return approved by vendor"})});xe.ok&&H()}catch(xe){console.error("Error approving return:",xe)}},children:"Approve"})]}),ue.status==="approved"&&r.jsxs("div",{className:"bg-green-50 p-2 rounded mt-2",children:[r.jsx("p",{className:"text-xs text-green-800 font-medium mb-2",children:"Return Approved - Process Refund"}),r.jsx(ne,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"process",admin_notes:"Money transferred to customer"})});xe.ok&&H()}catch(xe){console.error("Error processing refund:",xe)}},children:"Process Refund (Transfer Money)"})]}),ue.status==="processed"&&r.jsxs("div",{className:"bg-blue-50 p-2 rounded mt-2",children:[r.jsx("p",{className:"text-xs text-blue-800 font-medium mb-2",children:"Money Transferred - Upload Proof"}),r.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:async xe=>{const ce=xe.target.files[0];if(!ce)return;const fe=new FormData;fe.append("document",ce);try{const{response:Q}=await Fe(`/api/refunds/${ue.id}/upload-document/`,{method:"POST",body:fe});Q.ok&&H()}catch(Q){console.error("Error uploading document:",Q)}},className:"w-full text-xs mb-2"}),r.jsx(ne,{size:"sm",className:"w-full bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"complete",admin_notes:"Refund completed successfully"})});xe.ok&&H()}catch(xe){console.error("Error completing refund:",xe)}},children:"Mark as Completed"})]}),ue.status==="appeal"&&r.jsxs("div",{className:"bg-purple-50 p-2 rounded mt-2",children:[r.jsx("p",{className:"text-xs text-purple-800 font-medium",children:"Customer has appealed this decision"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx(ne,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",admin_notes:"Appeal rejected - final decision"})});xe.ok&&H()}catch(xe){console.error("Error rejecting appeal:",xe)}},children:"Reject Appeal"}),r.jsx(ne,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:xe}=await Fe(`/api/admin/refunds/${ue.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",approved_amount:ue.requested_amount,admin_notes:"Appeal approved - refund processed"})});xe.ok&&H()}catch(xe){console.error("Error approving appeal:",xe)}},children:"Approve Appeal"})]})]}),((be=ue.evidence_photos)==null?void 0:be.length)>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Evidence Documents:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:ue.evidence_photos.map((xe,ce)=>{var se;const fe=(se=xe.filename)==null?void 0:se.match(/\.(jpg|jpeg|png|gif|webp)$/i);let Q;return xe.filename.startsWith("http")?Q=xe.filename:xe.filename.startsWith("/media/")?Q=`${Ur.BASE_URL}${xe.filename}`:Q=`${Ur.BASE_URL}/media/${xe.filename}`,r.jsxs("div",{className:"bg-blue-100 p-2 rounded text-xs cursor-pointer hover:bg-blue-200 transition-colors flex items-center gap-1",onClick:()=>{fe?(P(Q),k(!0)):window.open(Q,"_blank")},children:[fe?r.jsx(An,{className:"h-3 w-3 text-blue-600"}):r.jsx(Ot,{className:"h-3 w-3 text-blue-600"}),r.jsx("span",{className:"text-blue-800",children:xe.filename||`Document ${ce+1}`})]},ce)})})]}),ue.admin_notes&&r.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[r.jsx("span",{className:"font-medium",children:"Response:"})," ",ue.admin_notes]})]},ue.id)}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(ee.total_amount).toFixed(2)]}),r.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>t(ee),children:[r.jsx(An,{className:"h-3 w-3 mr-1"}),"View Details"]})]})]})]},ee.id)})})}),r.jsxs(ft,{value:"cancelled",className:"mt-0",children:[r.jsx("div",{className:"divide-y divide-gray-100",children:F(B("cancelled")).map(ee=>r.jsx(X,{order:ee},ee.id))}),r.jsx(G,{orders:B("cancelled")})]})]})]})})]}),r.jsx(zi,{open:!!e,onOpenChange:()=>t(null),children:r.jsxs(di,{side:"bottom",className:"h-[90vh] rounded-t-xl",children:[r.jsx(ui,{className:"pb-4",children:r.jsx(hi,{className:"text-left",children:(e==null?void 0:e.status)==="confirmed"&&i?"Ship Order":`Order Details - ${e==null?void 0:e.id}`})}),e&&r.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[e.status==="confirmed"&&i?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[r.jsx(Es,{className:"h-4 w-4"}),"Customer Details for Rider"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{var ye,Ce,ue;const ee=`Order ID: ${e.order_number}

Customer: ${((ye=e.customer_details)==null?void 0:ye.username)||e.delivery_name}

Phone: ${((Ce=e.customer_details)==null?void 0:Ce.phone_number)||e.delivery_phone}

Address: ${e.delivery_address}

Map Link: https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}

Total Amount: ${e.total_amount}

Payment: ${e.payment_method} (${e.payment_status})

Items:
${((ue=e.items)==null?void 0:ue.map(be=>` ${be.product_name} x${be.quantity}`).join(`
`))||""}`;navigator.clipboard.writeText(ee)},children:[r.jsx(ED,{className:"h-3 w-3 mr-1"}),"Copy"]}),r.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{var ye,Ce,ue;const ee=`Order ID: ${e.order_number}

Customer: ${((ye=e.customer_details)==null?void 0:ye.username)||e.delivery_name}

Phone: ${((Ce=e.customer_details)==null?void 0:Ce.phone_number)||e.delivery_phone}

Address: ${e.delivery_address}

Map Link: https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}

Total Amount: ${e.total_amount}

Payment: ${e.payment_method} (${e.payment_status})

Items:
${((ue=e.items)==null?void 0:ue.map(be=>` ${be.product_name} x${be.quantity}`).join(`
`))||""}`;if(navigator.share)navigator.share({title:"Delivery Details",text:ee});else{const be=`https://wa.me/?text=${encodeURIComponent(ee)}`;window.open(be,"_blank")}},children:[r.jsx(Kf,{className:"h-3 w-3 mr-1"}),"Share"]})]})]}),r.jsxs("div",{className:"space-y-2 text-xs bg-white rounded p-3",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Order ID:"})," ",e.order_number]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",((J=e.customer_details)==null?void 0:J.username)||e.delivery_name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Phone:"})," ",((K=e.customer_details)==null?void 0:K.phone_number)||e.delivery_phone]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Address:"})," ",e.delivery_address]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Map Link:"})," ",r.jsx("a",{href:`https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",className:"text-blue-600 underline",children:"Open in Maps"})]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",e.total_amount]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Payment:"})," ",e.payment_method," (",e.payment_status,")"]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"font-medium",children:"Items:"}),r.jsx("ul",{className:"ml-2 mt-1",children:((U=e.items)==null?void 0:U.map((ee,ye)=>r.jsxs("li",{children:[" ",ee.product_name," x",ee.quantity]},ye)))||[]})]})]})]}),r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[r.jsx(Wl,{className:"h-4 w-4"}),"Delivery Information"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs(de,{className:"text-xs font-medium text-gray-700",children:["Rider Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(me,{value:o,onChange:ee=>c(ee.target.value),placeholder:"+977-98XXXXXXXX",className:"h-8 text-xs mt-1"})]}),r.jsxs("div",{children:[r.jsxs(de,{className:"text-xs font-medium text-gray-700",children:["Vehicle Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(me,{value:d,onChange:ee=>h(ee.target.value),placeholder:"e.g., BA-1-PA-1234",className:"h-8 text-xs mt-1"})]}),r.jsxs("div",{children:[r.jsx(de,{className:"text-xs font-medium text-gray-700",children:"Vehicle Color"}),r.jsx(me,{value:f,onChange:ee=>m(ee.target.value),placeholder:"e.g., Red, Blue, White",className:"h-8 text-xs mt-1"})]}),r.jsxs("div",{children:[r.jsxs(de,{className:"text-xs font-medium text-gray-700",children:["Estimated Delivery Time ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(me,{value:u,onChange:ee=>p(ee.target.value),placeholder:"e.g., 30-45 mins",className:"h-8 text-xs mt-1"})]}),r.jsxs("div",{children:[r.jsxs(de,{className:"text-xs font-medium text-gray-700",children:["Delivery Fee ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(me,{type:"number",value:x,onChange:ee=>v(ee.target.value),placeholder:"e.g., 50",className:"h-8 text-xs mt-1"})]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[r.jsx(Es,{className:"h-4 w-4"}),"Customer Information"]}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Name:"})," ",((te=e.customer_details)==null?void 0:te.username)||e.delivery_name]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(Zu,{className:"h-3 w-3"}),r.jsx("span",{className:"font-medium",children:"Phone:"})," ",((re=e.customer_details)==null?void 0:re.phone_number)||e.delivery_phone]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{className:"font-medium",children:"Address:"})," ",e.delivery_address]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(Bt,{className:"h-3 w-3"}),r.jsx("span",{className:"font-medium",children:"Map:"}),r.jsx("a",{href:`https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",className:"text-blue-600 underline text-xs",children:"View Location"})]})]})]}),r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[r.jsx(Ot,{className:"h-4 w-4"}),"Order Items"]}),r.jsx("div",{className:"space-y-2",children:((le=e.items)==null?void 0:le.map((ee,ye)=>{var Ce,ue,be;return r.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center overflow-hidden flex-shrink-0",children:(be=(ue=(Ce=ee.product_details)==null?void 0:Ce.images)==null?void 0:ue[0])!=null&&be.image_url?r.jsx("img",{src:ir(ee.product_details.images[0].image_url),alt:ee.product_name,className:"w-full h-full object-cover",loading:"lazy",onError:xe=>{xe.currentTarget.style.display="none",xe.currentTarget.parentElement.innerHTML='<span class="text-xs text-gray-400"></span>'}}):r.jsx("span",{className:"text-xs text-gray-400",children:""})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:ee.product_name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",ee.quantity]})]})]}),r.jsxs("p",{className:"text-sm font-semibold flex-shrink-0",children:["",ee.total_price]})]},ye)}))||[]})]}),r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[r.jsx(na,{className:"h-4 w-4"}),"Payment Details"]}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["",e.subtotal]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Delivery Fee:"}),r.jsxs("span",{children:["",e.delivery_fee]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),r.jsxs("span",{children:["",e.tax_amount]})]}),r.jsx("hr",{className:"my-1"}),r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["",e.total_amount]})]}),r.jsxs("div",{className:"flex justify-between mt-2",children:[r.jsx("span",{children:"Payment Method:"}),r.jsx("span",{className:"capitalize",children:e.payment_method})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Payment Status:"}),r.jsx(Me,{variant:e.payment_status==="paid"?"default":"secondary",className:"text-xs",children:e.payment_status})]})]})]}),r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[r.jsx(vE,{className:"h-4 w-4"}),"Order Timeline"]}),r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Ordered:"})," ",new Date(e.created_at).toLocaleDateString()," at ",new Date(e.created_at).toLocaleTimeString()]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Order Number:"})," ",e.order_number]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx(Me,{className:`${W(e.status)} text-xs`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})]}),e.status==="delivered"&&e.review&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[r.jsx(vn,{className:"h-4 w-4"}),"Customer Review"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ee=>r.jsx(vn,{className:`h-4 w-4 ${ee<=e.review.overall_rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},ee))}),r.jsxs("span",{className:"text-sm font-medium",children:[e.review.overall_rating,"/5"]})]}),e.review.review_text&&r.jsx("div",{className:"bg-white p-2 rounded text-xs",children:r.jsx("p",{className:"text-gray-700",children:e.review.review_text})}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Reviewed on ",new Date(e.review.created_at).toLocaleDateString()]})]})]}),e.status==="cancelled"&&e.cancelReason&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[r.jsx(a1,{className:"h-4 w-4"}),"Cancellation Details"]}),r.jsxs("div",{className:"space-y-2 text-xs",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),r.jsx("p",{className:"text-gray-600",children:e.cancelReason})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Cancelled By:"}),r.jsx("p",{className:"text-gray-600 capitalize",children:e.cancelledBy||"System"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Payment Status:"}),r.jsx(Me,{className:`text-xs ${e.paymentStatus==="Refunded"?"bg-green-100 text-green-800":e.paymentStatus==="Cancelled"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:e.paymentStatus})]})]})]}),((pe=e.refunds)==null?void 0:pe.map(ee=>{var ye;return r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[r.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[r.jsx(Qs,{className:"h-4 w-4"}),"Return/Refund Details"]}),r.jsxs("div",{className:"space-y-3 text-xs",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),r.jsx(Me,{className:`text-xs ${ee.status==="requested"?"bg-yellow-100 text-yellow-800":ee.status==="approved"?"bg-green-100 text-green-800":ee.status==="rejected"?"bg-red-100 text-red-800":ee.status==="appeal"?"bg-purple-100 text-purple-800":ee.status==="processed"?"bg-blue-100 text-blue-800":ee.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),r.jsx("p",{className:"text-gray-600 capitalize",children:ee.reason.replace("_"," ")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Requested Amount:"}),r.jsxs("p",{className:"text-gray-600",children:["",ee.requested_amount]})]}),ee.approved_amount&&r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Approved Amount:"}),r.jsxs("p",{className:"text-gray-600",children:["",ee.approved_amount]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Customer Refund Details:"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Method:"})," ",ee.refund_method]}),ee.refund_method==="esewa"&&ee.esewa_number&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"eSewa Number:"})," ",ee.esewa_number]}),ee.refund_method==="khalti"&&ee.khalti_number&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Khalti Number:"})," ",ee.khalti_number]}),ee.refund_method==="bank"&&r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Account Name:"})," ",ee.bank_account_name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Account Number:"})," ",ee.bank_account_number]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Branch:"})," ",ee.bank_branch]})]})]})]}),ee.customer_notes&&r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Customer Notes:"}),r.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:ee.customer_notes})]}),ee.admin_notes&&r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Vendor Response:"}),r.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:ee.admin_notes})]}),((ye=ee.evidence_photos)==null?void 0:ye.length)>0&&r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Evidence Documents:"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:ee.evidence_photos.map((Ce,ue)=>{var ce;const be=(ce=Ce.filename)==null?void 0:ce.match(/\.(jpg|jpeg|png|gif|webp)$/i);let xe;return Ce.filename.startsWith("http")?xe=Ce.filename:xe=ir(Ce.filename),r.jsxs("div",{className:"bg-white p-2 rounded border hover:shadow-md transition-shadow",children:[be?r.jsxs("div",{className:"cursor-pointer mb-2 group",onClick:()=>{P(xe),k(!0)},children:[r.jsxs("div",{className:"relative overflow-hidden rounded",children:[r.jsx("img",{src:xe,alt:Ce.filename,className:"w-full h-20 object-cover rounded mb-1 group-hover:scale-105 transition-transform",onError:fe=>{fe.currentTarget.src="/placeholder-image.svg",fe.currentTarget.alt="Image not found"}}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:r.jsx(An,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),r.jsx("p",{className:"text-xs text-blue-600 font-medium",children:" Click to enlarge"})]}):r.jsx("div",{className:"w-full h-20 bg-gray-100 rounded mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>{window.open(xe,"_blank")},children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ot,{className:"h-6 w-6 text-gray-400 mx-auto mb-1"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Document"})]})}),r.jsx("p",{className:"font-medium text-xs truncate",title:Ce.filename,children:Ce.filename||`Document ${ue+1}`}),r.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",Ce.uploaded_by]}),r.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date(Ce.uploaded_at).toLocaleDateString()]})]},ue)})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500",children:[r.jsx("div",{children:r.jsxs("p",{children:["Requested: ",new Date(ee.requested_at).toLocaleDateString()]})}),ee.approved_at&&r.jsx("div",{children:r.jsxs("p",{children:["Approved: ",new Date(ee.approved_at).toLocaleDateString()]})}),ee.processed_at&&r.jsx("div",{children:r.jsxs("p",{children:["Processed: ",new Date(ee.processed_at).toLocaleDateString()]})}),ee.completed_at&&r.jsx("div",{children:r.jsxs("p",{children:["Completed: ",new Date(ee.completed_at).toLocaleDateString()]})}),ee.appeal_at&&r.jsx("div",{children:r.jsxs("p",{children:["Appealed: ",new Date(ee.appeal_at).toLocaleDateString()]})})]})]})]},ee.id)}))||[]]}),e.status==="new"&&r.jsxs("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:[r.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>t(null),children:"Reject"}),r.jsx(ne,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>{q(e.id,"confirmed"),s(ee=>Math.max(0,ee-1)),t(null)},children:"Accept Order"})]}),e.status==="confirmed"&&r.jsx("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>{a(!1),c(""),h(""),m(""),p(""),v("")},children:"Cancel"}),r.jsx(ne,{className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:!o||!d||!u||!x,onClick:async()=>{try{const{response:ee}=await Fe(`/api/vendor/orders/${e.id}/status/`,{method:"POST",body:JSON.stringify({status:"out_for_delivery",delivery_boy_phone:o,vehicle_number:d,vehicle_color:f,estimated_delivery_time:u,delivery_fee:parseFloat(x),notes:"Order shipped with delivery details"})});ee.ok&&(H(),a(!1),c(""),h(""),m(""),p(""),v(""),t(null))}catch(ee){console.error("Error shipping order:",ee)}},children:"Confirm Ship"})]}):r.jsxs(ne,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>a(!0),children:[r.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Ship Order"]})})]})]})}),r.jsx(Fo,{open:A,onOpenChange:k,children:r.jsxs(Fa,{className:"max-w-5xl max-h-[95vh] p-4",children:[r.jsx($a,{className:"pb-4",children:r.jsxs(Ba,{className:"flex items-center gap-2",children:[r.jsx(An,{className:"h-5 w-5"}),"Evidence Document Preview"]})}),r.jsx("div",{className:"flex justify-center items-center bg-gray-50 rounded-lg p-4",children:r.jsx("img",{src:O,alt:"Evidence Preview",className:"max-w-full max-h-[75vh] object-contain rounded shadow-lg",onError:ee=>{ee.currentTarget.src="/placeholder-image.svg",ee.currentTarget.alt="Image not found"}})}),r.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[r.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.open(O,"_blank"),children:[r.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]}),r.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{const ee=document.createElement("a");ee.href=O,ee.download="evidence-document",ee.click()},children:[r.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})})},yl={getProducts:async()=>{const{response:e,data:t}=await Fe("/products/");if(!e.ok)throw new Error("Failed to fetch products");return t},getProduct:async e=>{const{response:t,data:n}=await Fe(`/products/${e}/`);if(!t.ok)throw new Error("Failed to fetch product");return n},createProduct:async e=>{const t=new FormData;Object.entries(e).forEach(([i,a])=>{i==="image_files"&&Array.isArray(a)?a.forEach((o,c)=>{o instanceof File&&t.append("image_files",o)}):typeof a=="object"?t.append(i,JSON.stringify(a)):t.append(i,String(a))});const{response:n,data:s}=await Fe("/products/",{method:"POST",body:t});if(!n.ok)throw new Error("Failed to create product");return s},updateProduct:async(e,t)=>{const n=new FormData;Object.entries(t).forEach(([a,o])=>{a==="image_files"&&Array.isArray(o)?o.forEach(c=>{c instanceof File&&n.append("image_files",c)}):typeof o=="boolean"?n.append(a,o?"true":"false"):typeof o=="object"&&o!==null?n.append(a,JSON.stringify(o)):o!=null&&n.append(a,String(o))});const{response:s,data:i}=await Fe(`/products/${e}/`,{method:"PATCH",body:n});if(!s.ok)throw console.error("Update failed:",s.status),new Error(`Failed to update product: ${s.status}`);return i},deleteProduct:async e=>{const{response:t}=await Fe(`/products/${e}/`,{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete product")}},rre=({message:e,show:t,onClose:n,duration:s=3e3})=>{const[i,a]=j.useState(!1);return j.useEffect(()=>{if(t){a(!0);const o=setTimeout(()=>{a(!1),setTimeout(n,300)},s);return()=>clearTimeout(o)}},[t,s,n]),!t&&!i?null:r.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center pointer-events-none transition-all duration-300 ${i?"opacity-100":"opacity-0"}`,children:[r.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl border border-green-200 p-6 mx-4 max-w-sm w-full pointer-events-auto transform transition-all duration-300 ${i?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Hu,{className:"h-6 w-6 text-green-600"})})}),r.jsx("div",{className:"flex-1",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})})]}),r.jsx("button",{onClick:()=>{a(!1),setTimeout(n,300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(sr,{className:"h-5 w-5"})})]}),r.jsx("p",{className:"text-gray-600 text-center",children:e}),r.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-1",children:r.jsx("div",{className:"bg-green-500 h-1 rounded-full transition-all duration-300 ease-linear",style:{animation:i?`shrink ${s}ms linear`:"none"}})})]}),r.jsx("style",{jsx:!0,children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},sre=g4({name:wn().min(1,"Product name is required"),category:wn().min(1,"Category is required"),subcategory:wn().optional(),price:Ri().min(0,"Price must be positive"),cost_price:Ri().nullable().optional().transform(e=>e===void 0?null:e),sku:wn().optional(),barcode:wn().optional(),quantity:Ri().min(0,"Quantity must be positive"),low_stock_threshold:Ri().min(0).optional(),description:wn().min(1,"Description is required"),short_description:wn().optional(),tags:Cm(wn()).default([]),image_files:Cm(Ky()).min(1,"At least one image is required"),status:x4(["active","draft","archived"]).default("active"),featured:Gy().default(!1),seo_title:wn().optional(),seo_description:wn().optional(),dynamic_fields:v4(Ky()).default({})}),ire=()=>{const e=nt(),[t,n]=j.useState(""),[s,i]=j.useState([]),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(""),[m,u]=j.useState(!1),[p,x]=j.useState(!1),[v,w]=j.useState(""),[b,y]=j.useState([]),_=d4({resolver:h4(sre),defaultValues:{name:"",category:"",price:"",cost_price:null,quantity:"",description:"",tags:[],image_files:[],status:"active",featured:!1,dynamic_fields:{}}}),{control:N,handleSubmit:C,watch:D,setValue:E,formState:{errors:R}}=_,A=D("category");j.useEffect(()=>{n(A)},[A]),j.useEffect(()=>{(async()=>{try{const{apiRequest:Z}=await Je(async()=>{const{apiRequest:F}=await Promise.resolve().then(()=>Os);return{apiRequest:F}},void 0),{response:B,data:q}=await Z("/api/vendor-profiles/");if(console.log("Vendor profile response:",{response:B.ok,data:q}),B.ok&&q&&q.results&&q.results.length>0){const $=q.results[0].categories||[];console.log("Vendor categories:",$),y($);const z={Clothing:"clothing",Electronics:"electronics",Food:"food",Baby:"baby",Grocery:"grocery",Meat:"meat",Medicine:"medicine"};if($.length>0){const G=z[$[0]]||$[0].toLowerCase();console.log("Mapped category:",$[0],"->",G),E("category",G),n(G)}}}catch(Z){console.error("Error fetching vendor profile:",Z)}})()},[E]);const k=W=>{const Z=W.target.files;if(Z){const B=Array.from(Z),q=B.map(F=>URL.createObjectURL(F));i(F=>[...F,...B]),o(F=>[...F,...q]),E("image_files",[...s,...B])}},O=W=>{URL.revokeObjectURL(a[W]);const Z=s.filter((q,F)=>F!==W),B=a.filter((q,F)=>F!==W);i(Z),o(B),E("image_files",Z)},P=()=>{if(h.trim()&&!c.includes(h.trim())){const W=[...c,h.trim()];d(W),E("tags",W),f("")}},T=W=>{const Z=c.filter(B=>B!==W);d(Z),E("tags",Z)},M=async W=>{try{const Z={...W};if((Z.cost_price===null||Z.cost_price===void 0)&&delete Z.cost_price,await yl.createProduct(Z),w("Product created successfully!"),x(!0),_.reset(),a.forEach(B=>URL.revokeObjectURL(B)),i([]),o([]),d([]),b.length>0){const q={Clothing:"clothing",Electronics:"electronics",Food:"food",Baby:"baby",Grocery:"grocery",Meat:"meat",Medicine:"medicine"}[b[0]]||b[0].toLowerCase();E("category",q),n(q)}}catch(Z){Qr.error("Failed to create product. Please try again."),console.error("Error creating product:",Z)}},H=W=>{const Z=`dynamic_fields.${W.name}`;switch(W.type){case"text":return r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>r.jsx(me,{...B,placeholder:W.placeholder,className:"h-8 text-xs"})})]},W.name);case"number":return r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>r.jsx(me,{...B,type:"number",placeholder:W.placeholder,className:"h-8 text-xs",onChange:q=>B.onChange(Number(q.target.value))})})]},W.name);case"select":return r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>{var q;return r.jsxs(sn,{onValueChange:B.onChange,value:B.value,children:[r.jsx(en,{className:"h-8 text-xs",children:r.jsx(an,{placeholder:`Select ${W.label.toLowerCase()}`})}),r.jsx(tn,{children:(q=W.options)==null?void 0:q.map(F=>r.jsx(qe,{value:F,className:"text-xs",children:F},F))})]})}})]},W.name);case"multiselect":return r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>{var F;const q=B.value||[];return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(sn,{onValueChange:$=>{q.includes($)||B.onChange([...q,$])},children:[r.jsx(en,{className:"h-8 text-xs",children:r.jsx(an,{placeholder:`Select ${W.label.toLowerCase()}`})}),r.jsx(tn,{children:(F=W.options)==null?void 0:F.map($=>r.jsx(qe,{value:$,className:"text-xs",children:$},$))})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:q.map($=>r.jsxs(Me,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[$,r.jsx(sr,{className:"h-2 w-2 cursor-pointer",onClick:()=>{B.onChange(q.filter(z=>z!==$))}})]},$))})]})}})]},W.name);case"textarea":return r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>r.jsx(Zn,{...B,placeholder:W.placeholder,className:"text-xs",rows:2})})]},W.name);case"boolean":return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{name:Z,control:N,render:({field:B})=>r.jsx(Xt,{checked:B.value,onCheckedChange:B.onChange})}),r.jsx(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:W.label})]},W.name);case"date":return r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:W.name,className:"text-xs font-medium text-gray-700",children:[W.label," ",W.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:Z,control:N,rules:{required:W.required},render:({field:B})=>r.jsx(me,{...B,type:"date",className:"h-8 text-xs"})})]},W.name);default:return null}};return m?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:r.jsx(Dt,{className:"h-4 w-4"})}),r.jsx("h1",{className:"text-lg font-semibold",children:"Product Preview"})]}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>u(!1),children:"Edit"})]})}),r.jsx(z4,{productData:D()})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/vendor/dashboard"),children:r.jsx(Dt,{className:"h-4 w-4"})}),r.jsx("h1",{className:"text-lg font-semibold",children:"Add New Product"})]}),r.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>u(!0),children:[r.jsx(An,{className:"h-4 w-4 mr-1"}),"Preview"]})]})}),r.jsx("div",{className:"max-w-2xl mx-auto p-4",children:r.jsxs("form",{onSubmit:C(M),className:"space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ot,{className:"h-4 w-4 text-blue-600"}),r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Basic Information"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"col-span-2 space-y-1",children:[r.jsxs(de,{htmlFor:"name",className:"text-xs font-medium text-gray-700",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:"name",control:N,render:({field:W})=>r.jsx(me,{...W,placeholder:"Enter product name",className:"h-8 text-xs"})}),R.name&&r.jsx("p",{className:"text-red-500 text-xs",children:R.name.message})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:"category",className:"text-xs font-medium text-gray-700",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"flex items-center gap-2 p-2 bg-gray-50 border rounded-md h-8",children:t?(()=>{const W=V4().find(Z=>Z.value===t);return W?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:W.icon}),r.jsx("span",{className:"text-xs font-medium",children:W.label})]}):r.jsxs("span",{className:"text-xs text-gray-500",children:["Category: ",t]})})():r.jsx("span",{className:"text-xs text-gray-500",children:"Loading..."})}),r.jsx("p",{className:"text-xs text-gray-500",children:"Auto-selected from your vendor profile"}),r.jsx("input",{type:"hidden",..._.register("category"),value:t})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(de,{className:"text-xs font-medium text-gray-700",children:"Unit"}),r.jsx(me,{value:t?g2(t):"piece",disabled:!0,className:"h-8 text-xs bg-gray-50"})]})]})]}),t&&Dr[t]&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(CE,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"mr-1",children:Dr[t].icon}),r.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:[Dr[t].name," Details"]})]}),Dr[t].subcategories&&r.jsxs("div",{className:"space-y-1",children:[r.jsx(de,{className:"text-xs font-medium text-gray-700",children:"Subcategory"}),r.jsx(St,{name:"subcategory",control:N,render:({field:W})=>{var Z;return r.jsxs(sn,{onValueChange:W.onChange,value:W.value,children:[r.jsx(en,{className:"h-8 text-xs",children:r.jsx(an,{placeholder:"Select subcategory"})}),r.jsx(tn,{children:(Z=Dr[t].subcategories)==null?void 0:Z.map(B=>r.jsx(qe,{value:B,className:"text-xs",children:B},B))})]})}})]}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:Dr[t].fields.map(H)})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Pricing & Inventory"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:"price",className:"text-xs font-medium text-gray-700",children:["Selling Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:"price",control:N,render:({field:W})=>r.jsx(me,{...W,type:"number",step:"0.01",placeholder:"0.00",className:"h-8 text-xs",onChange:Z=>W.onChange(Number(Z.target.value))})})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(de,{htmlFor:"cost_price",className:"text-xs font-medium text-gray-700",children:"Cost Price"}),r.jsx(St,{name:"cost_price",control:N,render:({field:W})=>r.jsx(me,{type:"number",step:"0.01",placeholder:"0.00",className:"h-8 text-xs",value:W.value??"",onChange:Z=>{const B=Z.target.value;W.onChange(B?Number(B):null)}})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:"quantity",className:"text-xs font-medium text-gray-700",children:["Quantity ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:"quantity",control:N,render:({field:W})=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(me,{type:"number",placeholder:"0",className:"h-8 text-xs flex-1",value:W.value||"",onChange:Z=>W.onChange(Z.target.value?Number(Z.target.value):"")}),r.jsx("span",{className:"text-xs text-gray-500 flex items-center px-2",children:t?g2(t):"piece"})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($i,{className:"h-4 w-4 text-purple-600"}),r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Images"})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:k,className:"hidden",id:"image-upload"}),r.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[r.jsx(vu,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Click to upload images"})]})]}),a.length>0&&r.jsx("div",{className:"grid grid-cols-4 gap-2",children:a.map((W,Z)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:W,alt:`Product ${Z+1}`,className:"w-full h-12 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>O(Z),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(sr,{className:"h-3 w-3"})}),Z===0&&r.jsx(Me,{className:"absolute bottom-0 left-0 text-xs px-1 py-0",children:"Main"})]},Z))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_E,{className:"h-4 w-4 text-orange-600"}),r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Description"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs(de,{htmlFor:"description",className:"text-xs font-medium text-gray-700",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(St,{name:"description",control:N,render:({field:W})=>r.jsx(R4,{theme:"snow",value:W.value,onChange:W.onChange,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},style:{minHeight:"120px",fontSize:"12px"}})}),R.description&&r.jsx("p",{className:"text-red-500 text-xs",children:R.description.message})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Tags"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(me,{value:h,onChange:W=>f(W.target.value),placeholder:"Add a tag",className:"h-8 text-xs",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),P())}),r.jsx(ne,{type:"button",onClick:P,variant:"outline",size:"sm",children:r.jsx(gn,{className:"h-3 w-3"})})]}),c.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(W=>r.jsxs(Me,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[W,r.jsx(sr,{className:"h-2 w-2 cursor-pointer",onClick:()=>T(W)})]},W))})]}),r.jsxs("div",{className:"flex gap-3 sticky bottom-4 bg-white p-3 border border-gray-200 rounded-lg",children:[r.jsx(ne,{type:"button",variant:"outline",className:"flex-1 h-9 text-xs",onClick:()=>{E("status","draft"),C(M)()},children:"Save as Draft"}),r.jsxs(ne,{type:"submit",className:"flex-1 h-9 text-xs",children:[r.jsx(Oc,{className:"h-3 w-3 mr-1"}),"Publish Product"]})]})]})}),r.jsx(rre,{message:v,show:p,onClose:()=>x(!1),duration:3e3})]})},are=()=>{const[e,t]=j.useState(!1),[n,s]=j.useState("khalti"),[i,a]=j.useState(""),[o,c]=j.useState(!0),[d,h]=j.useState("all"),[f,m]=j.useState(""),[u,p]=j.useState(""),[x,v]=j.useState(null),[w,b]=j.useState([]),[y,_]=j.useState(!1),[N,C]=j.useState(!0),[D,E]=j.useState(!1),[R,A]=j.useState(null),[k,O]=j.useState(1),[P,T]=j.useState(1),[M,H]=j.useState(0),W=20,Z=async()=>{try{const{response:U,data:te}=await Fe("/api/accounts/wallet/");U.ok&&te?v(te):Qr.error("Failed to fetch wallet data")}catch(U){console.error("Error fetching wallet data:",U),Qr.error("Error loading wallet data")}finally{C(!1)}},B=async()=>{try{const U=new URLSearchParams({date_filter:d,page:k.toString(),page_size:W.toString()});d==="custom"&&f&&u&&(U.append("date_from",f),U.append("date_to",u));const{response:te,data:re}=await Fe(`/api/accounts/wallet/transactions/?${U}`);te.ok&&re?(b(re.transactions),T(re.total_pages),H(re.total_count)):Qr.error("Failed to fetch transactions")}catch(U){console.error("Error fetching transactions:",U),Qr.error("Error loading transactions")}};j.useEffect(()=>{Z();const U=()=>{Z()};return window.addEventListener("walletUpdated",U),()=>{window.removeEventListener("walletUpdated",U)}},[]),j.useEffect(()=>{x&&B()},[x,d,k,f,u]),j.useEffect(()=>{const U=()=>{Z(),B()};return window.addEventListener("walletUpdated",U),()=>{window.removeEventListener("walletUpdated",U)}},[]),j.useEffect(()=>{const U=new URLSearchParams(window.location.search);if(U.get("payment_complete")==="1"){const te=U.get("pidx");te?q(te):(Qr.success("Payment completed successfully!"),Z()),window.history.replaceState({},document.title,window.location.pathname)}},[]);const q=async U=>{try{const{response:te,data:re}=await Fe("/api/accounts/wallet/khalti-verify/",{method:"POST",body:JSON.stringify({pidx:U})});te.ok&&re&&re.success?(Qr.success(`Payment verified! ${re.amount} added to wallet`),Z()):Qr.error((re==null?void 0:re.error)||"Payment verification failed")}catch(te){console.error("Error verifying payment:",te),Qr.error("Error verifying payment")}},F=async()=>{if(!n||!i)return;const{simplePersistentAuth:U}=await Je(async()=>{const{simplePersistentAuth:re}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:re}},[]);if(!await U.isVendorLoggedIn()){Qr.error("Please login to continue");return}if(_(!0),n==="khalti")try{const{response:re,data:le}=await Fe("/api/accounts/wallet/khalti-payment/",{method:"POST",body:JSON.stringify({amount:parseFloat(i)})});re.ok&&le&&le.success?window.location.href=le.payment_url:(Qr.error((le==null?void 0:le.error)||"Failed to initiate payment"),_(!1))}catch(re){console.error("Error initiating payment:",re),Qr.error("Error processing payment"),_(!1)}t(!1),a("")},$=()=>w.filter(U=>U.transaction_type==="credit").reduce((U,te)=>U+parseFloat(te.amount),0),z=()=>w.filter(U=>U.transaction_type==="debit").reduce((U,te)=>U+parseFloat(te.amount),0),G=U=>new Date(U).toLocaleDateString(),X=U=>new Date(U).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),J=()=>{const te=`
===========================================
           WALLET TRANSACTION SUMMARY
===========================================
Generated: ${new Date().toLocaleDateString()}
Store: ${(x==null?void 0:x.business_name)||"N/A"}
Period: ${d==="custom"?`${f} to ${u}`:d.toUpperCase()}

BALANCE OVERVIEW
-------------------------------------------
Current Balance: ${(x==null?void 0:x.balance)||"0.00"}
Total Credit: ${$().toFixed(2)}
Total Debit: ${z().toFixed(2)}
Net Amount: ${($()-z()).toFixed(2)}

TRANSACTION DETAILS (${w.length} transactions)
-------------------------------------------
${w.map(le=>`${G(le.created_at)} ${X(le.created_at)} | ${le.transaction_type.toUpperCase().padEnd(6)} | ${parseFloat(le.amount).toFixed(2).padStart(8)} | ${le.description}`).join(`
`)}

===========================================
    `,re=window.open("","_blank");re==null||re.document.write(`<pre style="font-family: monospace; font-size: 12px; line-height: 1.4;">${te}</pre>`),re==null||re.print()},K=()=>{const U=[["Date","Time","Type","Amount","Description","Method","Status"].join(","),...w.map(pe=>[G(pe.created_at),X(pe.created_at),pe.transaction_type,parseFloat(pe.amount).toFixed(2),`"${pe.description}"`,pe.payment_method||"N/A",pe.status].join(","))].join(`
`),te=new Blob([U],{type:"text/csv"}),re=window.URL.createObjectURL(te),le=document.createElement("a");le.href=re,le.download=`wallet-transactions-${d}-${new Date().toISOString().split("T")[0]}.csv`,le.click(),window.URL.revokeObjectURL(re)};return r.jsx(It,{title:"Wallet",children:r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 pb-20",children:[r.jsxs("div",{className:"bg-white border-b p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Qf,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"My Wallet"}),r.jsx("p",{className:"text-gray-600 text-sm",children:(x==null?void 0:x.business_name)||"Loading..."})]})]}),r.jsx(ne,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-100",onClick:()=>c(!o),children:o?r.jsx(An,{className:"h-4 w-4"}):r.jsx(nb,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Available Balance"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-3",children:o?`${(x==null?void 0:x.balance)||"0.00"}`:"****.**"}),r.jsxs(ne,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium",onClick:()=>t(!0),children:[r.jsx(gn,{className:"h-4 w-4 mr-2"}),"Add Money"]})]})]}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Ne,{className:"bg-white shadow-sm",children:r.jsx(ke,{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Fr,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"This Month"}),r.jsxs("p",{className:"text-sm font-bold text-green-600",children:["+",(x==null?void 0:x.total_earned)||"0.00"]})]})]})})}),r.jsx(Ne,{className:"bg-white shadow-sm",children:r.jsx(ke,{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(FD,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Expenses"}),r.jsxs("p",{className:"text-sm font-bold text-red-600",children:["-",(x==null?void 0:x.total_spent)||"0.00"]})]})]})})})]})}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transactions"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ne,{variant:"outline",size:"sm",onClick:J,children:[r.jsx(MD,{className:"h-4 w-4 mr-1"}),"Print"]}),r.jsxs(ne,{variant:"outline",size:"sm",onClick:K,children:[r.jsx(tb,{className:"h-4 w-4 mr-1"}),"Export"]}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E(!0),children:r.jsx(to,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"all",label:"All"},{key:"today",label:"Today"},{key:"week",label:"This Week"},{key:"custom",label:"Custom"}].map(U=>r.jsx(ne,{variant:d===U.key?"default":"outline",size:"sm",className:"whitespace-nowrap",onClick:()=>h(U.key),children:U.label},U.key))})]}),r.jsx("div",{className:"px-4 space-y-2",children:N?r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx(Gf,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading transactions..."})]}):w.length>0?w.map(U=>r.jsx(Ne,{className:"bg-white shadow-sm cursor-pointer hover:bg-gray-50",onClick:()=>A(U),children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${U.transaction_type==="credit"?"bg-green-100":"bg-red-100"}`,children:U.transaction_type==="credit"?r.jsx(s1,{className:"h-5 w-5 text-green-600"}):r.jsx(i1,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:U.description}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsxs("span",{children:[G(U.created_at)," at ",X(U.created_at)]}),r.jsx(Me,{variant:U.status==="completed"?"default":"secondary",className:"text-xs",children:U.status})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`text-sm font-bold ${U.transaction_type==="credit"?"text-green-600":"text-red-600"}`,children:[U.transaction_type==="credit"?"+":"-","",parseFloat(U.amount).toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500",children:U.payment_method||"N/A"})]})]})})},U.id)):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Qf,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No transactions found"})]})}),P>1&&r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(k-1)*W+1,"-",Math.min(k*W,M)," of ",M," transactions"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>O(k-1),disabled:k===1,className:"h-8 w-8 p-0",children:r.jsx(bE,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,P)},(U,te)=>{const re=k<=3?te+1:k-2+te;return re>P?null:r.jsx(ne,{variant:k===re?"default":"outline",size:"sm",onClick:()=>O(re),className:"h-8 w-8 p-0 text-xs",children:re},re)})}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>O(k+1),disabled:k===P,className:"h-8 w-8 p-0",children:r.jsx(fc,{className:"h-4 w-4"})})]})]})}),r.jsx(zi,{open:e,onOpenChange:t,children:r.jsxs(di,{side:"bottom",className:"h-[80vh] rounded-t-3xl",children:[r.jsx(ui,{className:"pb-6",children:r.jsx(hi,{className:"text-center text-xl",children:"Add Money to Wallet"})}),r.jsxs("div",{className:"space-y-6 overflow-y-auto h-full pb-20",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(de,{className:"text-sm font-medium",children:"Enter Amount"}),r.jsx(me,{type:"number",placeholder:" 0.00",value:i,onChange:U=>a(U.target.value),className:"h-12 text-lg text-center"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[500,1e3,2e3].map(U=>r.jsxs(ne,{variant:"outline",onClick:()=>a(U.toString()),className:"h-10",children:["",U]},U))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(de,{className:"text-sm font-medium",children:"Payment Method"}),r.jsx(Ne,{className:"cursor-pointer transition-all ring-2 ring-purple-500 bg-purple-50",onClick:()=>s("khalti"),children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(na,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Khalti"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Secure digital payment gateway"})]})]})})})]}),r.jsx("div",{className:"fixed bottom-4 left-4 right-4",children:r.jsx(ne,{className:"w-full h-12 text-lg font-medium",disabled:!n||!i||y,onClick:F,children:y?r.jsxs(r.Fragment,{children:[r.jsx(Gf,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):`Add ${i||"0"}`})})]})]})}),r.jsx(zi,{open:D,onOpenChange:E,children:r.jsxs(di,{side:"right",className:"w-full sm:w-80",children:[r.jsx(ui,{className:"pb-4",children:r.jsxs(hi,{className:"flex items-center justify-between",children:["Filter Transactions",r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>E(!1),children:r.jsx(sr,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-sm font-medium mb-2 block",children:"Date Range"}),r.jsx("div",{className:"space-y-2",children:[{key:"all",label:"All Time"},{key:"today",label:"Today"},{key:"week",label:"This Week"},{key:"custom",label:"Custom Range"}].map(U=>r.jsx(ne,{variant:d===U.key?"default":"outline",size:"sm",className:"w-full justify-start",onClick:()=>{h(U.key),O(1)},children:U.label},U.key))})]}),d==="custom"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-xs font-medium",children:"From Date"}),r.jsx(me,{type:"date",value:f,onChange:U=>{m(U.target.value),O(1)},className:"h-9 text-sm mt-1"})]}),r.jsxs("div",{children:[r.jsx(de,{className:"text-xs font-medium",children:"To Date"}),r.jsx(me,{type:"date",value:u,onChange:U=>{p(U.target.value),O(1)},className:"h-9 text-sm mt-1"})]})]}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:["Total Transactions: ",M]}),r.jsxs("p",{children:["Total Credit: ",$().toFixed(2)]}),r.jsxs("p",{children:["Total Debit: ",z().toFixed(2)]}),r.jsxs("p",{className:"font-medium",children:["Net: ",($()-z()).toFixed(2)]})]})})]})]})}),r.jsx(zi,{open:!!R,onOpenChange:()=>A(null),children:r.jsxs(di,{side:"bottom",className:"h-[70vh] rounded-t-xl",children:[r.jsx(ui,{className:"pb-4",children:r.jsx(hi,{className:"text-left",children:"Transaction Details"})}),R&&r.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${R.transaction_type==="credit"?"bg-green-100":"bg-red-100"}`,children:R.transaction_type==="credit"?r.jsx(s1,{className:"h-6 w-6 text-green-600"}):r.jsx(i1,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-lg",children:R.description}),r.jsxs("p",{className:`text-xl font-bold ${R.transaction_type==="credit"?"text-green-600":"text-red-600"}`,children:[R.transaction_type==="credit"?"+":"-","",parseFloat(R.amount).toFixed(2)]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Transaction ID"}),r.jsxs("p",{className:"font-medium",children:["TXN-",R.id]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Status"}),r.jsx(Me,{variant:R.status==="completed"?"default":"secondary",children:R.status})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Date & Time"}),r.jsxs("p",{className:"font-medium",children:[G(R.created_at)," at ",X(R.created_at)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Method"}),r.jsx("p",{className:"font-medium",children:R.payment_method||"N/A"})]})]})]}),(R.order_amount||R.reference_id)&&r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(ei,{className:"h-4 w-4"}),"Additional Details"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[R.order_amount&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Order Amount:"}),r.jsxs("span",{className:"font-medium",children:["",parseFloat(R.order_amount).toFixed(2)]})]}),R.reference_id&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Reference ID:"}),r.jsx("span",{className:"font-medium",children:R.reference_id})]})]})]})]})]})})]})})},ore=()=>{const e=nt(),{toast:t}=cn(),{logout:n,state:s,login:i}=sa(),[a,o]=j.useState("personal"),[c,d]=j.useState(!1),[h,f]=j.useState(!0),[m,u]=j.useState("");j.useState(null);const[p,x]=j.useState(null),[v,w]=j.useState(!1),[b,y]=j.useState(""),[_,N]=j.useState(null),[C,D]=j.useState({businessName:"",ownerName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",businessType:"",categories:[],description:"",bankName:"",accountNumber:"",ifscCode:"",accountHolderName:"",gstNumber:"",panNumber:"",businessLicense:null,gstCertificate:null,fssaiLicense:null,additionalDocs:[],deliveryRadius:"",minOrderAmount:"",profileImage:null});j.useEffect(()=>{E(),R(),A()},[]);const E=async()=>{var F,$;try{const{simplePersistentAuth:z}=await Je(async()=>{const{simplePersistentAuth:U}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:U}},[]);if(!await z.isVendorLoggedIn()){e("/vendor/login");return}const X=await z.getVendorAuth();X&&await Pe.setAuth(X.token,X.user);const{response:J,data:K}=await Fe("/vendor-profiles/");if(!J.ok)throw new Error("Failed to fetch profile data");if(K&&K.results&&K.results.length>0){const U=K.results[0],{response:te,data:re}=await Fe("/vendor-documents/");let le=[];te.ok&&re&&(le=re.results||[]),D({businessName:U.business_name||"",ownerName:U.owner_name||"",email:U.business_email||"",phone:U.business_phone||"",address:U.business_address||"",city:U.city||"",state:U.state||"",pincode:U.pincode||"",businessType:U.business_type||"",categories:U.categories||[],description:U.description||"",bankName:U.bank_name||"",accountNumber:U.account_number||"",ifscCode:U.ifsc_code||"",accountHolderName:U.account_holder_name||"",gstNumber:U.gst_number||"",panNumber:U.pan_number||"",businessLicense:U.business_license_file?{name:"Business License",url:U.business_license_file}:null,gstCertificate:U.gst_certificate?{name:"GST Certificate",url:U.gst_certificate}:null,fssaiLicense:U.fssai_license?{name:"FSSAI License",url:U.fssai_license}:null,additionalDocs:le.map(pe=>({name:`Document ${pe.id}`,url:pe.document})),deliveryRadius:((F=U.delivery_radius)==null?void 0:F.toString())||"",minOrderAmount:U.min_order_amount||"",profileImage:(($=U.user_info)==null?void 0:$.profile_picture)||null})}}catch(z){console.error("Error fetching profile:",z),u("Failed to load profile data")}finally{f(!1)}},R=async()=>{try{const{simplePersistentAuth:F}=await Je(async()=>{const{simplePersistentAuth:J}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:J}},[]);if(!await F.isVendorLoggedIn()){e("/vendor/login");return}const z=await F.getVendorAuth();z&&await Pe.setAuth(z.token,z.user);const{response:G,data:X}=await Fe("/profile/");if(G.ok&&X){const J={...s.user,available_roles:X.available_roles,current_role:X.current_role};console.log("Updated user data:",J)}}catch(F){console.error("Error fetching user profile:",F)}},A=async()=>{try{const F=await fetch("/api/delivery-radius/"),$=await F.json();F.ok&&N($.delivery_radius)}catch(F){console.error("Error fetching admin delivery radius:",F)}},k=[{value:"retailer",label:"Retailer"},{value:"wholesaler",label:"Wholesaler"},{value:"manufacturer",label:"Manufacturer"},{value:"service_provider",label:"Service Provider"},{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"}],O=["Electronics","Fashion","Food","Home","Books","Sports","Beauty","Toys","Jewelry","Furniture","Automotive","Health & Wellness","Pet Supplies","Stationery","Garden & Outdoor","Kids & Baby","Appliances","Hardware","Crafts & Hobbies","Travel & Luggage"],P=(F,$)=>{D(z=>({...z,[F]:$}))},T=F=>{const $=C.categories.includes(F)?C.categories.filter(z=>z!==F):[...C.categories,F];P("categories",$)},M=async F=>{if(F)try{if(!await Pe.isAuthenticated())return;const z=new FormData;z.append("profile_picture",F);const{response:G,data:X}=await Fe("/api/profile/upload-picture/",{method:"POST",body:z});if(G.ok&&X)console.log("Upload result:",X),console.log("Profile picture URL:",X.profile_picture),D(J=>({...J,profileImage:X.profile_picture||null})),t({title:"Success",description:"Profile image updated successfully!"}),setTimeout(()=>{E()},500);else{const J=await G.json();throw console.error("Profile image upload error:",J),new Error("Profile image upload failed")}}catch($){console.error("Profile image upload error:",$),t({title:"Error",description:"Failed to upload profile image. Please try again.",variant:"destructive"})}},H=async(F,$,z)=>{var X;if(!$)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes($.type)){t({title:"Error",description:"Please upload only PDF, JPG, JPEG, or PNG files.",variant:"destructive"});return}if($.size>5*1024*1024){t({title:"Error",description:"File size must be less than 5MB.",variant:"destructive"});return}x(F);try{if(!await Pe.isAuthenticated())return;const K=new FormData;K.append(F,$),K.append("business_name",C.businessName),K.append("business_email",C.email),K.append("business_phone",C.phone),K.append("business_address",C.address),K.append("city",C.city),K.append("state",C.state),K.append("pincode",C.pincode),K.append("business_type",C.businessType);const{response:U,data:te}=await Fe("/vendor-profiles/");if(!U.ok)throw new Error("Failed to get profile");const re=(X=te.results[0])==null?void 0:X.id;if(!re)throw new Error("Profile not found");const{response:le,data:pe}=await Fe(`/vendor-profiles/${re}/`,{method:"PATCH",body:K});if(!le.ok)throw new Error("Upload failed");F==="business_license_file"?P("businessLicense",{name:"Business License",url:pe.business_license_file_url}):F==="gst_certificate"?P("gstCertificate",{name:"GST Certificate",url:pe.gst_certificate_url}):F==="fssai_license"&&P("fssaiLicense",{name:"FSSAI License",url:pe.fssai_license_url}),t({title:"Success",description:"Document uploaded successfully!"}),F==="additionalDocs"&&(w(!1),y(""),E())}catch(J){console.error("Upload error:",J),t({title:"Error",description:"Failed to upload document. Please try again.",variant:"destructive"})}finally{x(null)}},W=({title:F,docType:$,document:z,onUpload:G})=>r.jsxs("div",{children:[r.jsx(de,{children:F}),r.jsxs("div",{className:"mt-2 p-4 border border-gray-300 rounded-lg bg-gray-50",children:[r.jsx(ei,{className:"h-6 w-6 mx-auto mb-2 text-gray-500"}),z?r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm text-green-600",children:" Uploaded"}),r.jsxs(Fo,{children:[r.jsx(jy,{asChild:!0,children:r.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[r.jsx(An,{className:"h-3 w-3 mr-1"}),"View"]})}),r.jsxs(Fa,{className:"max-w-4xl w-full h-[80vh]",children:[r.jsx($a,{children:r.jsx(Ba,{children:F})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx("iframe",{src:z.url,className:"w-full h-full border-0",title:F})})]})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Not uploaded"}),r.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",onClick:()=>{const X=z.createElement("input");X.type="file",X.accept=".pdf,.jpg,.jpeg,.png",X.onchange=J=>{var U;const K=(U=J.target.files)==null?void 0:U[0];K&&G(K)},X.click()},disabled:p===$,children:[p===$?r.jsx(Gf,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(vu,{className:"h-3 w-3 mr-1"}),"Upload"]})]})]})]}),Z=async()=>{try{if(!await Pe.isAuthenticated())return;const $={business_name:C.businessName,owner_name:C.ownerName,business_email:C.email,business_phone:C.phone,business_address:C.address,city:C.city,state:C.state,pincode:C.pincode,business_type:C.businessType,categories:C.categories,description:C.description,bank_name:C.bankName,account_number:C.accountNumber,account_holder_name:C.accountHolderName,gst_number:C.gstNumber,pan_number:C.panNumber,delivery_radius:C.deliveryRadius?parseFloat(C.deliveryRadius):null,min_order_amount:C.minOrderAmount},{response:z,data:G}=await Fe("/vendor-profiles/");if(z.ok&&G){if(G.results&&G.results.length>0){const X=G.results[0].id,{response:J}=await Fe(`/vendor-profiles/${X}/`,{method:"PUT",body:JSON.stringify($)});if(J.ok)d(!1),t({title:"Success",description:"Profile updated successfully!",variant:"default"}),E();else{const K=await J.json();throw console.error("Update error:",K),new Error("Failed to update profile")}}}else throw new Error("Failed to fetch profile for update")}catch(F){console.error("Error saving profile:",F),t({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}},B=async()=>{try{await Pe.getToken()&&await Fe("/logout/",{method:"POST"})}catch(F){console.error("Logout error:",F)}finally{await n(),e("/vendor/login")}},q=[{id:"personal",label:"Personal",icon:Es},{id:"business",label:"Business",icon:Sr},{id:"address",label:"Address",icon:Bt},{id:"banking",label:"Banking",icon:na},{id:"documents",label:"Documents",icon:ei}];return h?r.jsx(It,{title:"My Profile",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):m?r.jsx(It,{title:"My Profile",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:m}),r.jsx(ne,{onClick:E,children:"Retry"})]})})}):r.jsx(It,{title:"My Profile",children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-100 fixed top-14 sm:top-16 left-0 right-0 z-30",children:r.jsxs("div",{className:"flex items-center justify-between p-3 mx-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-lg overflow-hidden ${c?"cursor-pointer hover:bg-gray-200":""}`,onClick:c?()=>{const F=document.createElement("input");F.type="file",F.accept="image/*",F.onchange=$=>{var G;const z=(G=$.target.files)==null?void 0:G[0];z&&M(z)},F.click()}:void 0,children:C.profileImage?r.jsx("img",{src:C.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-semibold",children:C.businessName?C.businessName.charAt(0).toUpperCase():"V"})}),c&&r.jsx(ne,{size:"sm",className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const F=document.createElement("input");F.type="file",F.accept="image/*",F.onchange=$=>{var G;const z=(G=$.target.files)==null?void 0:G[0];z&&M(z)},F.click()},children:r.jsx($i,{className:"h-2.5 w-2.5"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"font-medium text-base truncate",children:C.businessName||"Business Name"}),r.jsx("p",{className:"text-gray-500 text-sm truncate",children:C.ownerName||"Owner Name"})]})]}),r.jsx(ne,{onClick:()=>c?Z():d(!0),size:"sm",className:"bg-green-600 hover:bg-green-700",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Oc,{className:"h-3 w-3 mr-1"}),"Save"]}):r.jsxs(r.Fragment,{children:[r.jsx(Wu,{className:"h-3 w-3 mr-1"}),"Edit"]})})]})}),r.jsx("div",{className:"bg-white pt-16",children:r.jsxs(ia,{value:a,onValueChange:o,className:"w-full",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsx(yi,{className:"grid grid-cols-5 w-full",children:q.map(F=>r.jsxs(Mt,{value:F.id,className:"flex items-center gap-2 text-xs",children:[r.jsx(F.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:F.label})]},F.id))})}),r.jsx(ft,{value:"personal",className:"p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"ownerName",children:"Full Name *"}),r.jsx(me,{id:"ownerName",value:C.ownerName,onChange:F=>P("ownerName",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"email",children:"Email *"}),r.jsx(me,{id:"email",type:"email",value:C.email,onChange:F=>P("email",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"phone",children:"Phone Number *"}),r.jsx(me,{id:"phone",value:C.phone,onChange:F=>P("phone",F.target.value),disabled:!c})]})]})}),r.jsxs(ft,{value:"business",className:"p-4 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"businessName",children:"Business Name *"}),r.jsx(me,{id:"businessName",value:C.businessName,onChange:F=>P("businessName",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"businessType",children:"Business Type *"}),r.jsxs(sn,{value:C.businessType,onValueChange:F=>P("businessType",F),disabled:!c,children:[r.jsx(en,{children:r.jsx(an,{})}),r.jsx(tn,{children:k.map(F=>r.jsx(qe,{value:F.value,children:F.label},F.value))})]})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"gstNumber",children:"GST Number"}),r.jsx(me,{id:"gstNumber",value:C.gstNumber,onChange:F=>P("gstNumber",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"panNumber",children:"PAN Number"}),r.jsx(me,{id:"panNumber",value:C.panNumber,onChange:F=>P("panNumber",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"deliveryRadius",children:"Delivery Radius (km)"}),r.jsx(me,{id:"deliveryRadius",value:_?`${_} (Set by Admin)`:C.deliveryRadius,disabled:!0,className:"bg-gray-100 text-gray-600"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Delivery radius is set by the administrator"})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"minOrderAmount",children:"Min Order Amount ()"}),r.jsx(me,{id:"minOrderAmount",value:C.minOrderAmount,onChange:F=>P("minOrderAmount",F.target.value),disabled:!c})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(de,{children:"Product Categories"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:O.map(F=>r.jsx("button",{type:"button",onClick:()=>T(F),disabled:!c,className:`p-2 text-sm rounded-lg border text-left ${C.categories.includes(F)?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"} ${c?"":"opacity-50 cursor-not-allowed"}`,children:F},F))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(de,{htmlFor:"description",children:"Business Description"}),r.jsx(Zn,{id:"description",value:C.description,onChange:F=>P("description",F.target.value),rows:3,disabled:!c})]})]}),r.jsx(ft,{value:"address",className:"p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(de,{htmlFor:"address",children:"Full Address *"}),r.jsx(Zn,{id:"address",value:C.address,onChange:F=>P("address",F.target.value),disabled:!c,rows:2})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"city",children:"City *"}),r.jsx(me,{id:"city",value:C.city,onChange:F=>P("city",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"state",children:"State *"}),r.jsx(me,{id:"state",value:C.state,onChange:F=>P("state",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"pincode",children:"Pincode *"}),r.jsx(me,{id:"pincode",value:C.pincode,onChange:F=>P("pincode",F.target.value),disabled:!c})]})]})}),r.jsx(ft,{value:"banking",className:"p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"bankName",children:"Bank Name *"}),r.jsx(me,{id:"bankName",value:C.bankName,onChange:F=>P("bankName",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"accountHolderName",children:"Account Holder Name *"}),r.jsx(me,{id:"accountHolderName",value:C.accountHolderName,onChange:F=>P("accountHolderName",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"accountNumber",children:"Account Number *"}),r.jsx(me,{id:"accountNumber",value:C.accountNumber,onChange:F=>P("accountNumber",F.target.value),disabled:!c})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"ifscCode",children:"IFSC Code *"}),r.jsx(me,{id:"ifscCode",value:C.ifscCode,onChange:F=>P("ifscCode",F.target.value),disabled:!c})]})]})}),r.jsx(ft,{value:"documents",className:"p-4 space-y-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(W,{title:"Business License",docType:"business_license_file",document:C.businessLicense,onUpload:F=>H("business_license_file",F)}),r.jsx(W,{title:"GST Certificate",docType:"gst_certificate",document:C.gstCertificate,onUpload:F=>H("gst_certificate",F)}),r.jsx(W,{title:"FSSAI License",docType:"fssai_license",document:C.fssaiLicense,onUpload:F=>H("fssai_license",F)})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(de,{children:"Additional Documents"}),r.jsxs(ne,{variant:"outline",size:"sm",className:"text-green-600 hover:text-green-700",onClick:()=>w(!0),children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Add Document"]})]}),v&&r.jsx("div",{className:"mb-4 p-4 border border-gray-200 rounded-lg bg-white",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"docName",children:"Document Name"}),r.jsx(me,{id:"docName",value:b,onChange:F=>y(F.target.value),placeholder:"Enter document name"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{w(!1),y("")},children:"Cancel"}),r.jsxs(ne,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{if(!b.trim()){t({title:"Error",description:"Please enter a document name",variant:"destructive"});return}const F=document.createElement("input");F.type="file",F.accept=".pdf,.jpg,.jpeg,.png",F.onchange=$=>{var G;const z=(G=$.target.files)==null?void 0:G[0];z&&H("additionalDocs",z)},F.click()},disabled:p==="additionalDocs",children:[p==="additionalDocs"?r.jsx(Gf,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(vu,{className:"h-3 w-3 mr-1"}),"Upload Document"]})]})]})}),C.additionalDocs.length>0?r.jsx("div",{className:"space-y-2",children:C.additionalDocs.map((F,$)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ei,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium",children:F.name})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Fo,{children:[r.jsx(jy,{asChild:!0,children:r.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[r.jsx(An,{className:"h-3 w-3 mr-1"}),"View"]})}),r.jsxs(Fa,{className:"max-w-4xl w-full h-[80vh]",children:[r.jsx($a,{children:r.jsx(Ba,{children:F.name})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx("iframe",{src:F.url,className:"w-full h-full border-0",title:F.name})})]})]})})]},$))}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(ei,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No additional documents uploaded"})]})]})]})})]})}),r.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:r.jsx(eL,{})}),r.jsx("div",{className:"p-4 pb-20",children:r.jsxs(ne,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:B,children:[r.jsx(sb,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium text-base",children:"Logout"})]})})]})})},lre=()=>{const[e,t]=j.useState("basic"),[n,s]=j.useState(!1),[i,a]=j.useState(!1),[o,c]=j.useState(null),[d,h]=j.useState(!0),[f,m]=j.useState(null),[u,p]=j.useState({businessName:"Fresh Farm Valley",ownerName:"Ram Sharma",email:"ram@freshfarm.com",phone:"+977 9841234567",whatsapp:"+977 9841234567",avatar:"",businessType:"grocery",description:"Certified organic farm serving Kathmandu Valley for 10+ years. We specialize in fresh vegetables, fruits, and dairy products.",categories:["Vegetables","Fruits","Dairy","Organic"],establishedYear:"2014",gstNumber:"27AABCU9603R1ZX",panNumber:"AABCU9603R",address:"Balkumari, Lalitpur",city:"Kathmandu",state:"Bagmati",pincode:"44700",landmark:"Near Balkumari Temple",deliveryRadius:"5",minOrderAmount:"200",deliveryFee:"50",freeDeliveryAbove:"500",estimatedDeliveryTime:"30-45",isOpen:!0,openingHours:{monday:{open:"06:00",close:"21:00",closed:!1},tuesday:{open:"06:00",close:"21:00",closed:!1},wednesday:{open:"06:00",close:"21:00",closed:!1},thursday:{open:"06:00",close:"21:00",closed:!1},friday:{open:"06:00",close:"21:00",closed:!1},saturday:{open:"06:00",close:"21:00",closed:!1},sunday:{open:"07:00",close:"20:00",closed:!1}},bankName:"Nepal Bank Limited",accountNumber:"1234567890123456",ifscCode:"NBLNPKA",accountHolderName:"Ram Sharma",upiId:"ram@nbl",businessLicense:"",gstCertificate:"",fssaiLicense:"",autoAcceptOrders:!1,notificationSettings:{orderAlerts:!0,messageAlerts:!0,promotionalEmails:!1}}),x=[{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"},{value:"meat",label:"Meat Shop"},{value:"dairy",label:"Dairy Products"}],v=["Vegetables","Fruits","Dairy","Meat","Bakery","Beverages","Snacks","Organic","Frozen","Spices","Grains","Oil"],w=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],b=(E,R)=>{p(A=>({...A,[E]:R}))},y=(E,R,A)=>{p(k=>({...k,[E]:{...k[E],[R]:A}}))};j.useEffect(()=>{_()},[]);const _=async()=>{var E,R,A,k;try{if(h(!0),!localStorage.getItem("token")){m("No authentication token found");return}const{response:P,data:T}=await Fe("/vendor-profiles/");if(P.ok&&T)if(T.results&&T.results.length>0){const M=T.results[0];p({businessName:M.business_name||"",ownerName:M.owner_name||"",email:M.business_email||"",phone:M.business_phone||"",whatsapp:M.business_phone||"",avatar:"",businessType:M.business_type||"grocery",description:M.description||"",categories:M.categories||[],establishedYear:M.established_year||"",gstNumber:M.gst_number||"",panNumber:M.pan_number||"",address:M.business_address||"",city:M.city||"",state:M.state||"",pincode:M.pincode||"",landmark:M.landmark||"",deliveryRadius:((E=M.delivery_radius)==null?void 0:E.toString())||"5",minOrderAmount:((R=M.min_order_amount)==null?void 0:R.toString())||"200",deliveryFee:((A=M.delivery_fee)==null?void 0:A.toString())||"50",freeDeliveryAbove:((k=M.free_delivery_above)==null?void 0:k.toString())||"500",estimatedDeliveryTime:M.estimated_delivery_time||"30-45",isOpen:M.is_active||!1,openingHours:{monday:{open:M.monday_open||"06:00",close:M.monday_close||"21:00",closed:M.monday_closed||!1},tuesday:{open:M.tuesday_open||"06:00",close:M.tuesday_close||"21:00",closed:M.tuesday_closed||!1},wednesday:{open:M.wednesday_open||"06:00",close:M.wednesday_close||"21:00",closed:M.wednesday_closed||!1},thursday:{open:M.thursday_open||"06:00",close:M.thursday_close||"21:00",closed:M.thursday_closed||!1},friday:{open:M.friday_open||"06:00",close:M.friday_close||"21:00",closed:M.friday_closed||!1},saturday:{open:M.saturday_open||"06:00",close:M.saturday_close||"21:00",closed:M.saturday_closed||!1},sunday:{open:M.sunday_open||"07:00",close:M.sunday_close||"20:00",closed:M.sunday_closed||!1}},bankName:M.bank_name||"",accountNumber:M.account_number||"",ifscCode:M.ifsc_code||"",accountHolderName:M.account_holder_name||"",upiId:M.upi_id||"",businessLicense:M.business_license_file||"",gstCertificate:M.gst_certificate||"",fssaiLicense:M.fssai_license||"",autoAcceptOrders:M.auto_accept_orders||!1,notificationSettings:{orderAlerts:!0,messageAlerts:!0,promotionalEmails:!1}})}else a(!0);else throw new Error("Failed to fetch vendor profile")}catch(O){console.error("Error fetching vendor profile:",O),m("Failed to load vendor profile")}finally{h(!1)}},N=async()=>{try{if(!localStorage.getItem("token"))return;const R={business_name:u.businessName,owner_name:u.ownerName,business_email:u.email,business_phone:u.phone,business_type:u.businessType,description:u.description,categories:u.categories,established_year:u.establishedYear,gst_number:u.gstNumber,pan_number:u.panNumber,business_address:u.address,city:u.city,state:u.state,pincode:u.pincode,landmark:u.landmark,delivery_radius:parseFloat(u.deliveryRadius),min_order_amount:parseFloat(u.minOrderAmount),delivery_fee:parseFloat(u.deliveryFee),free_delivery_above:parseFloat(u.freeDeliveryAbove),estimated_delivery_time:u.estimatedDeliveryTime,is_active:u.isOpen,monday_open:u.openingHours.monday.open,monday_close:u.openingHours.monday.close,monday_closed:u.openingHours.monday.closed,tuesday_open:u.openingHours.tuesday.open,tuesday_close:u.openingHours.tuesday.close,tuesday_closed:u.openingHours.tuesday.closed,wednesday_open:u.openingHours.wednesday.open,wednesday_close:u.openingHours.wednesday.close,wednesday_closed:u.openingHours.wednesday.closed,thursday_open:u.openingHours.thursday.open,thursday_close:u.openingHours.thursday.close,thursday_closed:u.openingHours.thursday.closed,friday_open:u.openingHours.friday.open,friday_close:u.openingHours.friday.close,friday_closed:u.openingHours.friday.closed,saturday_open:u.openingHours.saturday.open,saturday_close:u.openingHours.saturday.close,saturday_closed:u.openingHours.saturday.closed,sunday_open:u.openingHours.sunday.open,sunday_close:u.openingHours.sunday.close,sunday_closed:u.openingHours.sunday.closed,bank_name:u.bankName,account_number:u.accountNumber,ifsc_code:u.ifscCode,account_holder_name:u.accountHolderName,upi_id:u.upiId,auto_accept_orders:u.autoAcceptOrders},{response:A}=await Fe("/vendor-profiles/",{method:i?"POST":"PUT",body:JSON.stringify(R)});if(A.ok)s(!1),a(!1),alert("Profile saved successfully!");else throw new Error("Failed to save profile")}catch(E){console.error("Error saving profile:",E),alert("Failed to save profile. Please try again.")}},C=async(E,R)=>{if(!E)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(E.type)){alert("Please upload only PDF, JPG, JPEG, or PNG files.");return}if(E.size>5*1024*1024){alert("File size must be less than 5MB.");return}c(R);try{const k=new FormData;k.append(R,E);const O=localStorage.getItem("token"),{response:P}=await Fe("/vendor-profiles/",{method:"PATCH",body:k});if(!P.ok)throw new Error("Upload failed");const T=data,M=T[`${R}_url`]||T[R];b(R,M),alert("Document uploaded successfully!")}catch(k){console.error("Upload error:",k),alert("Failed to upload document. Please try again.")}finally{c(null)}},D=[{id:"basic",label:"Basic Info",icon:Es},{id:"business",label:"Business",icon:Sr},{id:"location",label:"Location",icon:Bt},{id:"operations",label:"Operations",icon:Ot},{id:"timing",label:"Timing",icon:is},{id:"banking",label:"Banking",icon:na},{id:"documents",label:"Documents",icon:ei},{id:"settings",label:"Settings",icon:pi}];return d?r.jsx(It,{title:"Profile Management",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):f?r.jsx(It,{title:"Profile Management",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:f}),r.jsx(ne,{onClick:_,children:"Retry"})]})})}):r.jsx(It,{title:"Profile Management",children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-semibold text-lg",children:"Profile Management"}),i&&r.jsx("p",{className:"text-sm text-gray-600",children:"Complete your profile setup"})]})]}),r.jsx(ne,{onClick:()=>n?N():s(!0),className:"bg-green-600 hover:bg-green-700",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Save"]}):r.jsxs(r.Fragment,{children:[r.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),r.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-2xl",children:u.avatar}),n&&r.jsx(ne,{size:"sm",className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full p-0",children:r.jsx($i,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"font-semibold text-lg",children:u.businessName}),r.jsx("p",{className:"text-gray-600 text-sm",children:u.ownerName}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Me,{variant:u.isOpen?"default":"destructive",className:"text-xs",children:u.isOpen?"Open":"Closed"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[r.jsx(vn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),r.jsx("span",{children:"4.8 (342 reviews)"})]})]})]})]})}),r.jsx("div",{className:"bg-white",children:r.jsxs(ia,{value:e,onValueChange:t,className:"w-full",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsx(yi,{className:"grid grid-cols-4 lg:grid-cols-8 w-full min-w-max",children:D.map(E=>r.jsxs(Mt,{value:E.id,className:"flex items-center gap-2 text-xs",children:[r.jsx(E.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:E.label})]},E.id))})}),r.jsx(ft,{value:"basic",className:"p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"businessName",children:"Business Name *"}),r.jsx(me,{id:"businessName",value:u.businessName,onChange:E=>b("businessName",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"ownerName",children:"Owner Name *"}),r.jsx(me,{id:"ownerName",value:u.ownerName,onChange:E=>b("ownerName",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"email",children:"Email *"}),r.jsx(me,{id:"email",type:"email",value:u.email,onChange:E=>b("email",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"phone",children:"Phone Number *"}),r.jsx(me,{id:"phone",value:u.phone,onChange:E=>b("phone",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"whatsapp",children:"WhatsApp Number"}),r.jsx(me,{id:"whatsapp",value:u.whatsapp,onChange:E=>b("whatsapp",E.target.value),disabled:!n})]})]})}),r.jsxs(ft,{value:"business",className:"p-4 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"businessType",children:"Business Type *"}),r.jsxs(sn,{value:u.businessType,onValueChange:E=>b("businessType",E),disabled:!n,children:[r.jsx(en,{children:r.jsx(an,{})}),r.jsx(tn,{children:x.map(E=>r.jsx(qe,{value:E.value,children:E.label},E.value))})]})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"establishedYear",children:"Established Year"}),r.jsx(me,{id:"establishedYear",value:u.establishedYear,onChange:E=>b("establishedYear",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"gstNumber",children:"GST Number"}),r.jsx(me,{id:"gstNumber",value:u.gstNumber,onChange:E=>b("gstNumber",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"panNumber",children:"PAN Number"}),r.jsx(me,{id:"panNumber",value:u.panNumber,onChange:E=>b("panNumber",E.target.value),disabled:!n})]})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"description",children:"Business Description *"}),r.jsx(Zn,{id:"description",value:u.description,onChange:E=>b("description",E.target.value),disabled:!n,rows:3})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.map(E=>r.jsx(Me,{variant:u.categories.includes(E)?"default":"outline",className:"cursor-pointer",onClick:()=>{if(!n)return;const R=u.categories.includes(E)?u.categories.filter(A=>A!==E):[...u.categories,E];b("categories",R)},children:E},E))})]})]}),r.jsx(ft,{value:"location",className:"p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(de,{htmlFor:"address",children:"Full Address *"}),r.jsx(Zn,{id:"address",value:u.address,onChange:E=>b("address",E.target.value),disabled:!n,rows:2})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"city",children:"City *"}),r.jsx(me,{id:"city",value:u.city,onChange:E=>b("city",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"state",children:"State *"}),r.jsx(me,{id:"state",value:u.state,onChange:E=>b("state",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"pincode",children:"Pincode *"}),r.jsx(me,{id:"pincode",value:u.pincode,onChange:E=>b("pincode",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"landmark",children:"Landmark"}),r.jsx(me,{id:"landmark",value:u.landmark,onChange:E=>b("landmark",E.target.value),disabled:!n})]})]})}),r.jsx(ft,{value:"operations",className:"p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"deliveryRadius",children:"Delivery Radius (km) *"}),r.jsx(me,{id:"deliveryRadius",value:u.deliveryRadius,onChange:E=>b("deliveryRadius",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"minOrderAmount",children:"Minimum Order Amount () *"}),r.jsx(me,{id:"minOrderAmount",value:u.minOrderAmount,onChange:E=>b("minOrderAmount",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"deliveryFee",children:"Delivery Fee () *"}),r.jsx(me,{id:"deliveryFee",value:u.deliveryFee,onChange:E=>b("deliveryFee",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"freeDeliveryAbove",children:"Free Delivery Above ()"}),r.jsx(me,{id:"freeDeliveryAbove",value:u.freeDeliveryAbove,onChange:E=>b("freeDeliveryAbove",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"estimatedDeliveryTime",children:"Estimated Delivery Time (mins) *"}),r.jsx(me,{id:"estimatedDeliveryTime",value:u.estimatedDeliveryTime,onChange:E=>b("estimatedDeliveryTime",E.target.value),disabled:!n})]})]})}),r.jsxs(ft,{value:"timing",className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(de,{children:"Store Status"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Closed"}),r.jsx(Xt,{checked:u.isOpen,onCheckedChange:E=>b("isOpen",E),disabled:!n}),r.jsx("span",{className:"text-sm",children:"Open"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(de,{children:"Opening Hours"}),w.map(E=>r.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg",children:[r.jsx("div",{className:"w-20 text-sm font-medium capitalize",children:E}),r.jsx(Xt,{checked:!u.openingHours[E].closed,onCheckedChange:R=>y("openingHours",E,{...u.openingHours[E],closed:!R}),disabled:!n}),!u.openingHours[E].closed&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(me,{type:"time",value:u.openingHours[E].open,onChange:R=>y("openingHours",E,{...u.openingHours[E],open:R.target.value}),disabled:!n,className:"w-32"}),r.jsx("span",{className:"text-sm",children:"to"}),r.jsx(me,{type:"time",value:u.openingHours[E].close,onChange:R=>y("openingHours",E,{...u.openingHours[E],close:R.target.value}),disabled:!n,className:"w-32"})]}),u.openingHours[E].closed&&r.jsx("span",{className:"text-sm text-gray-500",children:"Closed"})]},E))]})]}),r.jsx(ft,{value:"banking",className:"p-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{htmlFor:"bankName",children:"Bank Name *"}),r.jsx(me,{id:"bankName",value:u.bankName,onChange:E=>b("bankName",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"accountHolderName",children:"Account Holder Name *"}),r.jsx(me,{id:"accountHolderName",value:u.accountHolderName,onChange:E=>b("accountHolderName",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"accountNumber",children:"Account Number *"}),r.jsx(me,{id:"accountNumber",value:u.accountNumber,onChange:E=>b("accountNumber",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"ifscCode",children:"IFSC Code *"}),r.jsx(me,{id:"ifscCode",value:u.ifscCode,onChange:E=>b("ifscCode",E.target.value),disabled:!n})]}),r.jsxs("div",{children:[r.jsx(de,{htmlFor:"upiId",children:"UPI ID"}),r.jsx(me,{id:"upiId",value:u.upiId,onChange:E=>b("upiId",E.target.value),disabled:!n})]})]})}),r.jsx(ft,{value:"documents",className:"p-4 space-y-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-base font-medium",children:"Business License"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Upload your business registration certificate"})]}),r.jsx(Me,{variant:u.businessLicense?"default":"outline",children:u.businessLicense?"Uploaded":"Required"})]}),u.businessLicense?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"Business License Document"}),n&&r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept=".pdf,.jpg,.jpeg,.png",E.onchange=R=>{var k;const A=(k=R.target.files)==null?void 0:k[0];A&&C(A,"business_license_file")},E.click()},disabled:o==="business_license_file",children:o==="business_license_file"?"Uploading...":"Replace"})]}):r.jsxs(ne,{variant:"outline",className:"w-full",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept=".pdf,.jpg,.jpeg,.png",E.onchange=R=>{var k;const A=(k=R.target.files)==null?void 0:k[0];A&&C(A,"business_license_file")},E.click()},disabled:o==="business_license_file",children:[r.jsx(ei,{className:"h-4 w-4 mr-2"}),o==="business_license_file"?"Uploading...":"Upload Business License"]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-base font-medium",children:"GST Certificate"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Upload your GST registration certificate"})]}),r.jsx(Me,{variant:u.gstCertificate?"default":"outline",children:u.gstCertificate?"Uploaded":"Optional"})]}),u.gstCertificate?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"GST Certificate Document"}),n&&r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept=".pdf,.jpg,.jpeg,.png",E.onchange=R=>{var k;const A=(k=R.target.files)==null?void 0:k[0];A&&C(A,"gst_certificate")},E.click()},disabled:o==="gst_certificate",children:o==="gst_certificate"?"Uploading...":"Replace"})]}):r.jsxs(ne,{variant:"outline",className:"w-full",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept=".pdf,.jpg,.jpeg,.png",E.onchange=R=>{var k;const A=(k=R.target.files)==null?void 0:k[0];A&&C(A,"gst_certificate")},E.click()},disabled:o==="gst_certificate",children:[r.jsx(ei,{className:"h-4 w-4 mr-2"}),o==="gst_certificate"?"Uploading...":"Upload GST Certificate"]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(de,{className:"text-base font-medium",children:"FSSAI License"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Upload your food safety license (for food businesses)"})]}),r.jsx(Me,{variant:u.fssaiLicense?"default":"outline",children:u.fssaiLicense?"Uploaded":"Optional"})]}),u.fssaiLicense?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"FSSAI License Document"}),n&&r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept=".pdf,.jpg,.jpeg,.png",E.onchange=R=>{var k;const A=(k=R.target.files)==null?void 0:k[0];A&&C(A,"fssai_license")},E.click()},disabled:o==="fssai_license",children:o==="fssai_license"?"Uploading...":"Replace"})]}):r.jsxs(ne,{variant:"outline",className:"w-full",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept=".pdf,.jpg,.jpeg,.png",E.onchange=R=>{var k;const A=(k=R.target.files)==null?void 0:k[0];A&&C(A,"fssai_license")},E.click()},disabled:o==="fssai_license",children:[r.jsx(ei,{className:"h-4 w-4 mr-2"}),o==="fssai_license"?"Uploading...":"Upload FSSAI License"]})]}),r.jsx("div",{className:"text-center py-2 text-gray-500 text-xs",children:"Supported formats: PDF, JPG, JPEG, PNG (Max 5MB)"})]})}),r.jsx(ft,{value:"settings",className:"p-4 space-y-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Auto Accept Orders"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Automatically accept new orders"})]}),r.jsx(Xt,{checked:u.autoAcceptOrders,onCheckedChange:E=>b("autoAcceptOrders",E),disabled:!n})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(de,{children:"Notification Settings"}),r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Order Alerts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new orders"})]}),r.jsx(Xt,{checked:u.notificationSettings.orderAlerts,onCheckedChange:E=>y("notificationSettings","orderAlerts",E),disabled:!n})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Message Alerts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new messages"})]}),r.jsx(Xt,{checked:u.notificationSettings.messageAlerts,onCheckedChange:E=>y("notificationSettings","messageAlerts",E),disabled:!n})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Promotional Emails"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Receive promotional emails"})]}),r.jsx(Xt,{checked:u.notificationSettings.promotionalEmails,onCheckedChange:E=>y("notificationSettings","promotionalEmails",E),disabled:!n})]})]})]})})]})}),i&&r.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-white border border-gray-200 rounded-lg p-4 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Profile Completion"}),r.jsx("span",{className:"text-sm text-gray-600",children:"6/8 sections"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"75%"}})}),r.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Complete all sections to activate your store"})]})]})})},cre=()=>{const e=nt(),[t,n]=j.useState(!0),[s,i]=j.useState(""),[a,o]=j.useState(!1),[c,d]=j.useState(""),[h,f]=j.useState(!1);j.useEffect(()=>{(async()=>{var p;try{if(!await Pe.isAuthenticated())return;const v=1,{response:w,data:b}=await Fe(`/vendor-profiles/${v}/`);if(!w.ok)throw new Error("Failed to fetch profile");const y=((p=b==null?void 0:b.user_info)==null?void 0:p.plain_password)||"";i(y)}catch(x){console.error(x)}})()},[]);const m=async()=>{if(!c){pf.error("New password is required");return}f(!0);try{const{simplePersistentAuth:u}=await Je(async()=>{const{simplePersistentAuth:b}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:b}},[]);if(!await u.isVendorLoggedIn()){e("/vendor/login");return}const x=await u.getVendorAuth();x&&await Pe.setAuth(x.token,x.user);const{response:v,data:w}=await Fe("/change-password/simple/",{method:"POST",body:JSON.stringify({new_password:c})});if(!v.ok)throw new Error(w.error||"Failed to change password");await Pe.setAuth(w.token,await Pe.getUser()),pf.success("Password changed successfully"),i(c),d(""),o(!1)}catch(u){pf.error(u instanceof Error?u.message:"Failed to change password")}finally{f(!1)}};return r.jsx(It,{title:"Security & Login",children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center gap-3 p-4",children:[r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("h1",{className:"font-semibold text-lg",children:"Security & Login"})]})}),r.jsx("div",{className:"p-4 space-y-6",children:r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(pi,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"font-semibold",children:"Password"})]}),a?r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{children:"New Password"}),r.jsx(me,{type:"text",value:c,onChange:u=>d(u.target.value)}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ne,{onClick:m,disabled:h,children:"Save"}),r.jsx(ne,{variant:"outline",onClick:()=>o(!1),disabled:h,children:"Cancel"})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{children:"Your Password"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(me,{type:"text",value:s,disabled:!0,className:"bg-gray-100"}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>n(!t),children:t?r.jsx(nb,{className:"h-4 w-4"}):r.jsx(An,{className:"h-4 w-4"})})]}),r.jsx(ne,{onClick:()=>o(!0),disabled:h,children:"Change Password"})]})]})})]})})},dre=()=>{const e=nt(),{toast:t}=cn(),[n,s]=j.useState("business"),[i,a]=j.useState(!1),[o,c]=j.useState(!0),[d,h]=j.useState(!1),[f,m]=j.useState(""),[u,p]=j.useState(null),[x,v]=j.useState({businessName:"Business Name",ownerName:"Owner Name",categories:["Vegetables","Fruits","Dairy","Organic"],operatingHours:{monday:{open:"06:00",close:"21:00",closed:!1},tuesday:{open:"06:00",close:"21:00",closed:!1},wednesday:{open:"06:00",close:"21:00",closed:!1},thursday:{open:"06:00",close:"21:00",closed:!1},friday:{open:"06:00",close:"21:00",closed:!1},saturday:{open:"06:00",close:"21:00",closed:!1},sunday:{open:"07:00",close:"20:00",closed:!1}},deliverySettings:{deliveryRadius:"5",minOrderAmount:"200"},profileImage:null,isActive:!1,statusOverride:!1}),w=A=>{if(!A)return"";const[k,O]=A.split(":").map(Number),P=k>=12?"PM":"AM";return`${k%12||12}:${O.toString().padStart(2,"0")} ${P}`};j.useEffect(()=>{b()},[]);const b=async()=>{var A,k,O;try{const{simplePersistentAuth:P}=await Je(async()=>{const{simplePersistentAuth:Z}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:Z}},[]);if(!await P.isVendorLoggedIn()){e("/vendor/login");return}const M=await P.getVendorAuth();M&&await Pe.setAuth(M.token,M.user);const{response:H,data:W}=await Fe("/vendor-profiles/");if(!H.ok)throw new Error("Failed to fetch company data");if(W.results&&W.results.length>0){const Z=W.results[0];p(Z.id),v({businessName:Z.business_name||"Business Name",ownerName:Z.owner_name||"Owner Name",categories:Z.categories||[],operatingHours:{monday:{open:Z.monday_open||"",close:Z.monday_close||"",closed:Z.monday_closed||!1},tuesday:{open:Z.tuesday_open||"",close:Z.tuesday_close||"",closed:Z.tuesday_closed||!1},wednesday:{open:Z.wednesday_open||"",close:Z.wednesday_close||"",closed:Z.wednesday_closed||!1},thursday:{open:Z.thursday_open||"",close:Z.thursday_close||"",closed:Z.thursday_closed||!1},friday:{open:Z.friday_open||"",close:Z.friday_close||"",closed:Z.friday_closed||!1},saturday:{open:Z.saturday_open||"",close:Z.saturday_close||"",closed:Z.saturday_closed||!1},sunday:{open:Z.sunday_open||"",close:Z.sunday_close||"",closed:Z.sunday_closed||!1}},deliverySettings:{deliveryRadius:((A=Z.delivery_radius)==null?void 0:A.toString())||"5",minOrderAmount:((k=Z.min_order_amount)==null?void 0:k.toString())||"200"},profileImage:((O=Z.user_info)==null?void 0:O.profile_picture)||null,isActive:Z.is_active||!1,statusOverride:Z.status_override||!1})}}catch(P){console.error("Error fetching company data:",P),m("Failed to load company data")}finally{c(!1)}},y=async()=>{try{h(!0);const{simplePersistentAuth:A}=await Je(async()=>{const{simplePersistentAuth:T}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:T}},[]);if(!await A.isVendorLoggedIn()){e("/vendor/login");return}if(!u)throw new Error("Profile ID not found");const O=new FormData;O.append("business_name",x.businessName),O.append("owner_name",x.ownerName),O.append("categories",JSON.stringify(x.categories)),O.append("delivery_radius",x.deliverySettings.deliveryRadius),O.append("min_order_amount",x.deliverySettings.minOrderAmount);const{response:P}=await Fe(`/vendor-profiles/${u}/`,{method:"PUT",body:O});if(!P.ok){const T=await P.json();throw new Error(T.detail||"Failed to update company data")}t({title:"Success",description:"Company information updated successfully!"}),a(!1),b()}catch(A){console.error("Error saving company data:",A),t({title:"Error",description:A instanceof Error?A.message:"Failed to save company data",variant:"destructive"})}finally{h(!1)}},_=async()=>{try{const{simplePersistentAuth:A}=await Je(async()=>{const{simplePersistentAuth:M}=await import("./simplePersistentAuth-BN4QQWZO.js");return{simplePersistentAuth:M}},[]);if(!await A.isVendorLoggedIn()){e("/vendor/login");return}if(!u)throw new Error("Profile ID not found");const O=!x.isActive,{response:P,data:T}=await Fe(`/vendor-profiles/${u}/toggle-status/`,{method:"POST",body:JSON.stringify({is_active:O})});if(!P.ok)throw new Error((T==null?void 0:T.error)||"Failed to toggle status");v(M=>({...M,isActive:T.vendor.is_active,statusOverride:T.vendor.status_override})),t({title:"Success",description:`Status set to ${O?"Active":"Inactive"}`})}catch(A){console.error("Error toggling status:",A),t({title:"Error",description:A instanceof Error?A.message:"Failed to toggle status",variant:"destructive"})}},N=["Vegetables","Fruits","Dairy","Meat","Bakery","Beverages","Snacks","Organic","Frozen","Spices","Grains","Oil","Fashion","Health & Wellness"],C=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],D=[{id:"business",label:"Business Details",icon:Sr},{id:"timing",label:"Timing",icon:is}],E=(A,k)=>{v(O=>({...O,[A]:k}))},R=(A,k,O)=>{v(P=>({...P,[A]:{...P[A],[k]:O}}))};return o?r.jsx(It,{title:"Company Information",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading company information..."})]})})}):f?r.jsx(It,{title:"Company Information",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:f}),r.jsx(ne,{onClick:b,children:"Retry"})]})})}):r.jsx(It,{title:"Company Information",children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("div",{children:r.jsx("h1",{className:"font-semibold text-lg",children:"Company Information"})})]}),r.jsx(ne,{onClick:()=>i?y():a(!0),disabled:d,className:"bg-green-600 hover:bg-green-700",children:d?"Saving...":i?"Save Changes":"Edit"})]})}),r.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"relative",children:x.profileImage?r.jsx("img",{src:x.profileImage||"/images/default-profile.png",alt:"Business Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200",onError:A=>{console.error("Image failed to load:",A.currentTarget.src),A.currentTarget.src="/images/default-profile.png"}}):r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-2xl border-2 border-gray-200",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"font-semibold text-lg",children:x.businessName}),r.jsx("p",{className:"text-gray-600 text-sm",children:x.ownerName}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(de,{children:"Status:"}),r.jsx(Xt,{checked:x.isActive,onCheckedChange:_,disabled:!i}),r.jsxs("span",{className:"text-sm",children:[x.isActive?"Active":"Inactive",x.statusOverride&&" (Overridden)"]})]})]})]})}),r.jsx("div",{className:"bg-white",children:r.jsxs(ia,{value:n,onValueChange:s,className:"w-full",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsx(yi,{className:"grid grid-cols-2 w-full min-w-max",children:D.map(A=>r.jsxs(Mt,{value:A.id,className:"flex items-center gap-2 text-xs",children:[r.jsx(A.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:A.label})]},A.id))})}),r.jsxs(ft,{value:"business",className:"p-4 space-y-6",children:[r.jsxs("div",{className:"space-y-4 max-w-3xl",children:[r.jsx(de,{children:"Business Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.map(A=>r.jsx(Me,{variant:x.categories.includes(A)?"default":"outline",className:"cursor-pointer",onClick:()=>{if(!i)return;const k=x.categories.includes(A)?x.categories.filter(O=>O!==A):[...x.categories,A];E("categories",k)},children:A},A))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-3xl",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Delivery Radius (km) *"}),r.jsx(me,{value:x.deliverySettings.deliveryRadius,onChange:A=>R("deliverySettings","deliveryRadius",A.target.value),disabled:!i,className:"max-w-xs"})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Minimum Order Amount () *"}),r.jsx(me,{value:x.deliverySettings.minOrderAmount,onChange:A=>R("deliverySettings","minOrderAmount",A.target.value),disabled:!i,className:"max-w-xs"})]})]})]}),r.jsx(ft,{value:"timing",className:"p-4 space-y-4",children:r.jsxs("div",{className:"space-y-3 max-w-3xl",children:[r.jsx(de,{children:"Operating Hours"}),C.map(A=>r.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg flex-wrap",children:[r.jsx("div",{className:"w-20 text-sm font-medium capitalize",children:A}),r.jsx(Xt,{checked:!x.operatingHours[A].closed,onCheckedChange:k=>R("operatingHours",A,{...x.operatingHours[A],closed:!k}),disabled:!i}),!x.operatingHours[A].closed&&r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx(me,{type:"time",value:w(x.operatingHours[A].open),onChange:k=>R("operatingHours",A,{...x.operatingHours[A],open:k.target.value}),disabled:!i,className:"w-32"}),r.jsx("span",{className:"text-sm",children:"to"}),r.jsx(me,{type:"time",value:w(x.operatingHours[A].close),onChange:k=>R("operatingHours",A,{...x.operatingHours[A],close:k.target.value}),disabled:!i,className:"w-32"})]}),x.operatingHours[A].closed&&r.jsx("span",{className:"text-sm text-gray-500",children:"Closed"})]},A))]})})]})})]})})},ure=()=>{const[e,t]=j.useState(""),[n,s]=j.useState(!1),[i,a]=j.useState(null),[o,c]=j.useState([]),[d,h]=j.useState(!0),[f,m]=j.useState(!1),[u,p]=j.useState({}),[x,v]=j.useState([]),[w,b]=j.useState([]),y=nt(),[_,N]=j.useState({category:"all",status:"all",stock:"all",sortBy:"name"});j.useEffect(()=>{C()},[]);const C=async()=>{try{h(!0);const B=await yl.getProducts(),q=(B==null?void 0:B.results)||B||[];c(Array.isArray(q)?q:[])}catch(B){console.error("Failed to fetch products:",B),c([])}finally{h(!1)}},D=async(B,q)=>{try{await yl.updateProduct(B,q),await C()}catch(F){console.error("Failed to update product:",F)}},E=async B=>{if(window.confirm("Are you sure you want to delete this product?"))try{await yl.deleteProduct(B),await C(),a(null)}catch(q){console.error("Failed to delete product:",q)}},R=async()=>{if(i!=null&&i.id&&u)try{const B={...u};x.length>0&&(B.image_files=x),await D(i.id,B),m(!1),p({}),v([]),b([]),a(null)}catch(B){console.error("Failed to save changes:",B)}},A=B=>{const q=B.target.files;if(q){const F=Array.from(q),$=F.map(z=>URL.createObjectURL(z));v(z=>[...z,...F]),b(z=>[...z,...$])}},k=B=>{URL.revokeObjectURL(w[B]),v(q=>q.filter((F,$)=>$!==B)),b(q=>q.filter((F,$)=>$!==B))},O=async B=>{if(i!=null&&i.id)try{const{apiRequest:q}=await Je(async()=>{const{apiRequest:$}=await Promise.resolve().then(()=>Os);return{apiRequest:$}},void 0);await q(`/products/${i.id}/images/${B}/`,{method:"DELETE"}),await C();const F=await yl.getProduct(i.id);a(F)}catch(q){console.error("Failed to delete image:",q)}},P=async B=>{if(i!=null&&i.id)try{const{apiRequest:q}=await Je(async()=>{const{apiRequest:$}=await Promise.resolve().then(()=>Os);return{apiRequest:$}},void 0);await q(`/products/${i.id}/images/${B}/set-primary/`,{method:"POST"}),await C();const F=await yl.getProduct(i.id);a(F)}catch(q){console.error("Failed to set primary image:",q)}},T=Array.isArray(o)?o.filter(B=>{const q=B.name.toLowerCase().includes(e.toLowerCase())||B.sku&&B.sku.toLowerCase().includes(e.toLowerCase()),F=_.category==="all"||B.category===_.category,$=_.status==="all"||B.status===_.status,z=_.stock==="all"||_.stock==="low"&&B.quantity<=5&&B.quantity>0||_.stock==="out"&&B.quantity===0||_.stock==="available"&&B.quantity>0;return q&&F&&$&&z}).sort((B,q)=>{switch(_.sortBy){case"price":return q.price-B.price;case"stock":return q.quantity-B.quantity;default:return B.name.localeCompare(q.name)}}):[],M=B=>{switch(B){case"active":return r.jsx("span",{className:"text-xs font-medium text-green-600",children:"Active"});case"draft":return r.jsx("span",{className:"text-xs font-medium text-yellow-600",children:"Draft"});case"archived":return r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Archived"});default:return r.jsx("span",{className:"text-xs font-medium text-gray-600",children:B})}},H=B=>B===0?r.jsx("span",{className:"text-xs font-medium text-red-600",children:"Out of Stock"}):B<=5?r.jsx("span",{className:"text-xs font-medium text-orange-600",children:"Low Stock"}):r.jsx("span",{className:"text-xs font-medium text-green-600",children:"In Stock"}),W=B=>B.images&&B.images.length>0?(B.images.find(F=>F.is_primary)||B.images[0]).image_url:null,Z=B=>({Vegetables:"",Fruits:"",Dairy:"",Meat:"",Bakery:"",Beverages:"",Snacks:"",Grains:""})[B]||"";return r.jsx(It,{title:"Product Management",children:r.jsxs("div",{className:"p-3 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.jsx(Ne,{className:"",children:r.jsx(ke,{className:"p-1.5",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ot,{className:"h-4 w-4 mx-auto mb-0.5 text-blue-500"}),r.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.length)||0}),r.jsx("p",{className:"text-[10px] text-gray-600",children:"Total"})]})})}),r.jsx(Ne,{className:"",children:r.jsx(ke,{className:"p-1.5",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Fr,{className:"h-4 w-4 mx-auto mb-0.5 text-green-500"}),r.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(B=>B.status==="active").length)||0}),r.jsx("p",{className:"text-[10px] text-gray-600",children:"Active"})]})})}),r.jsx(Ne,{className:"",children:r.jsx(ke,{className:"p-1.5",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Xf,{className:"h-4 w-4 mx-auto mb-0.5 text-orange-500"}),r.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(B=>B.quantity<=5&&B.quantity>0).length)||0}),r.jsx("p",{className:"text-[10px] text-gray-600",children:"Low"})]})})}),r.jsx(Ne,{className:"",children:r.jsx(ke,{className:"p-1.5",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Xf,{className:"h-4 w-4 mx-auto mb-0.5 text-red-500"}),r.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(B=>B.quantity===0).length)||0}),r.jsx("p",{className:"text-[10px] text-gray-600",children:"Out"})]})})})]}),r.jsx(Ne,{children:r.jsx(ke,{className:"p-3",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(me,{placeholder:"Search products...",value:e,onChange:B=>t(B.target.value),className:"pl-10"})]}),r.jsx(ne,{variant:"outline",size:"icon",onClick:()=>s(!0),children:r.jsx(to,{className:"h-4 w-4"})})]})})}),r.jsx("div",{children:d?r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx(or,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading products..."})]}):T.length>0?r.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(B=>r.jsx(Ne,{className:"overflow-hidden",children:r.jsx(ke,{className:"p-2",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-center",children:W(B)?r.jsx("img",{src:W(B),alt:B.name,className:"w-12 h-12 mx-auto object-cover rounded"}):r.jsx("div",{className:"text-xl",children:Z(B.category)})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:B.name}),r.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["",B.price]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-xs text-gray-600",children:["Stock: ",B.quantity]}),H(B.quantity)]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-600",children:B.category}),M(B.status)]})]}),r.jsxs("div",{className:"flex gap-1 pt-1",children:[r.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>{a(B),m(!1),p({})},children:r.jsx(An,{className:"h-3 w-3"})}),r.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>{a(B),m(!0),p(B)},children:r.jsx(Yf,{className:"h-3 w-3"})}),r.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>E(B.id),children:r.jsx(qa,{className:"h-3 w-3"})})]})]})})},B.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ot,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No products found"}),r.jsxs(ne,{className:"mt-4",onClick:()=>y("/vendor/add-product"),children:[r.jsx(gn,{className:"h-4 w-4 mr-2"}),"Add Your First Product"]})]})}),r.jsx(zi,{open:n,onOpenChange:s,children:r.jsxs(di,{side:"bottom",className:"h-[400px]",children:[r.jsx(ui,{children:r.jsx(hi,{children:"Filter Products"})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Category"}),r.jsxs(sn,{value:_.category,onValueChange:B=>N({..._,category:B}),children:[r.jsx(en,{children:r.jsx(an,{})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"all",children:"All Categories"}),Array.from(new Set((o||[]).map(B=>B.category))).map(B=>r.jsx(qe,{value:B,children:B},B))]})]})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Status"}),r.jsxs(sn,{value:_.status,onValueChange:B=>N({..._,status:B}),children:[r.jsx(en,{children:r.jsx(an,{})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"all",children:"All Status"}),r.jsx(qe,{value:"active",children:"Active"}),r.jsx(qe,{value:"draft",children:"Draft"}),r.jsx(qe,{value:"archived",children:"Archived"})]})]})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Stock Level"}),r.jsxs(sn,{value:_.stock,onValueChange:B=>N({..._,stock:B}),children:[r.jsx(en,{children:r.jsx(an,{})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"all",children:"All Stock Levels"}),r.jsx(qe,{value:"available",children:"In Stock"}),r.jsx(qe,{value:"low",children:"Low Stock"}),r.jsx(qe,{value:"out",children:"Out of Stock"})]})]})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Sort By"}),r.jsxs(sn,{value:_.sortBy,onValueChange:B=>N({..._,sortBy:B}),children:[r.jsx(en,{children:r.jsx(an,{})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"name",children:"Name"}),r.jsx(qe,{value:"price",children:"Price"}),r.jsx(qe,{value:"stock",children:"Stock"})]})]})]})]})]})}),r.jsx(zi,{open:!!i,onOpenChange:()=>{a(null),m(!1),p({}),v([]),b([])},children:r.jsxs(di,{side:"bottom",className:"h-[80vh] overflow-y-auto",children:[r.jsx(ui,{children:r.jsxs(hi,{className:"flex items-center justify-between",children:[r.jsx("span",{children:f?"Edit Product":"Product Details"}),r.jsx("div",{className:"flex gap-2",children:f?r.jsxs(r.Fragment,{children:[r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{m(!1),p({}),v([]),b([])},children:"Cancel"}),r.jsxs(ne,{size:"sm",onClick:R,children:[r.jsx(Oc,{className:"h-4 w-4 mr-1"}),"Save"]})]}):r.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{m(!0),p(i||{})},children:[r.jsx(Yf,{className:"h-4 w-4 mr-1"}),"Edit"]})})]})}),i&&r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Product Images"}),i.images&&i.images.length>0?r.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:i.images.map((B,q)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:B.image_url,alt:`Product ${q+1}`,className:"w-full h-20 object-cover rounded border",onError:F=>{var $;console.log("Image failed to load:",B.image_url),F.currentTarget.style.display="none",($=F.currentTarget.nextElementSibling)==null||$.classList.remove("hidden")}}),r.jsx("div",{className:"hidden w-full h-20 bg-gray-100 rounded border flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx($i,{className:"h-6 w-6 mx-auto mb-1 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Failed to load"})]})}),f&&r.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),O(B.id)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:r.jsx(sr,{className:"h-3 w-3"})}),B.is_primary?r.jsx("div",{className:"absolute top-1 left-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Main"}):f?r.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),P(B.id)},className:"absolute top-1 left-1 bg-gray-500 hover:bg-blue-500 text-white text-xs px-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Set Main"}):null]},`existing-image-${B.id}`))}):r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[r.jsx($i,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-sm",children:"No images uploaded"})]}),w.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"New Images:"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:w.map((B,q)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:B,alt:`New ${q+1}`,className:"w-full h-20 object-cover rounded border"}),r.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),k(q)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:r.jsx(sr,{className:"h-3 w-3"})})]},`new-image-${q}`))})]}),f&&r.jsxs("div",{className:"mt-2",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"image-upload"}),r.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer",children:r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[r.jsx($i,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add More Images"})]})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Product Name"}),f?r.jsx(me,{value:u.name||"",onChange:B=>p({...u,name:B.target.value})}):r.jsx("p",{className:"text-sm font-medium",children:i.name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Price"}),f?r.jsx(me,{type:"number",value:u.price||"",onChange:B=>p({...u,price:Number(B.target.value)})}):r.jsxs("p",{className:"text-sm font-medium",children:["",i.price]})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Stock"}),f?r.jsx(me,{type:"number",value:u.quantity||"",onChange:B=>p({...u,quantity:Number(B.target.value)})}):r.jsx("p",{className:"text-sm font-medium",children:i.quantity})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(de,{children:"Category"}),f?r.jsx(me,{value:u.category||"",onChange:B=>p({...u,category:B.target.value})}):r.jsx("p",{className:"text-sm font-medium",children:i.category})]}),r.jsxs("div",{children:[r.jsx(de,{children:"SKU"}),f?r.jsx(me,{value:u.sku||"",onChange:B=>p({...u,sku:B.target.value})}):r.jsx("p",{className:"text-sm font-medium",children:i.sku||"N/A"})]})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Status"}),f?r.jsxs(sn,{value:u.status||i.status,onValueChange:B=>p({...u,status:B}),children:[r.jsx(en,{children:r.jsx(an,{})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"active",children:"Active"}),r.jsx(qe,{value:"draft",children:"Draft"}),r.jsx(qe,{value:"archived",children:"Archived"})]})]}):r.jsx("div",{children:M(i.status)})]}),r.jsxs("div",{children:[r.jsx(de,{children:"Description"}),f?r.jsx(Zn,{value:u.description||"",onChange:B=>p({...u,description:B.target.value}),rows:3}):r.jsx("p",{className:"text-sm text-gray-600",children:i.description})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(de,{children:"Featured Product"}),f?r.jsx(Xt,{checked:u.featured??i.featured,onCheckedChange:B=>p({...u,featured:B})}):r.jsx(Xt,{checked:i.featured,disabled:!0})]}),i.tags&&i.tags.length>0&&r.jsxs("div",{children:[r.jsx(de,{children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.tags.map((B,q)=>r.jsx(Me,{variant:"secondary",className:"text-xs",children:B},q))})]})]})]})]})})]})})},hre=()=>{const e=nt(),{toast:t}=cn(),[n,s]=j.useState([]),[i,a]=j.useState(!0);j.useEffect(()=>{o();const m=u=>{const p=u.detail;s(x=>[p,...x])};return window.addEventListener("newNotification",m),()=>{window.removeEventListener("newNotification",m)}},[]);const o=async()=>{try{a(!0);const m=await Gt.getNotifications();s(m)}catch(m){console.error("Failed to load notifications:",m),t({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{a(!1)}},c=async m=>{if(m.read||(await Gt.markAsRead(m.id),s(u=>u.map(p=>p.id===m.id?{...p,read:!0}:p))),m.action_url)e(m.action_url);else switch(m.type){case"order":e("/vendor/orders");break;case"payment":e("/vendor/wallet");break;case"message":e("/vendor/messages");break;default:e("/vendor/settings")}},d=async()=>{try{await Gt.markAllAsRead(),s(m=>m.map(u=>({...u,read:!0}))),t({title:"Success",description:"All notifications marked as read"})}catch{t({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}},h=m=>{switch(m){case"order":return r.jsx(Ot,{className:"h-5 w-5 text-blue-600"});case"payment":return r.jsx(na,{className:"h-5 w-5 text-green-600"});case"message":return r.jsx(ib,{className:"h-5 w-5 text-purple-600"});case"system":return r.jsx(nr,{className:"h-5 w-5 text-orange-600"});default:return r.jsx(nr,{className:"h-5 w-5 text-gray-600"})}},f=n.filter(m=>!m.read).length;return i?r.jsx(It,{title:"Notifications",children:r.jsx("div",{className:"p-4 space-y-3",children:[1,2,3].map(m=>r.jsx(Ne,{className:"animate-pulse",children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},m))})}):r.jsx(It,{title:"Notifications",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"All Notifications"}),f>0&&r.jsxs(Me,{variant:"secondary",children:[f," unread"]})]}),f>0&&r.jsx(ne,{variant:"outline",size:"sm",onClick:d,children:"Mark all as read"})]}),r.jsx("div",{className:"space-y-3",children:n.length===0?r.jsx(Ne,{children:r.jsxs(ke,{className:"p-8 text-center",children:[r.jsx(nr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),r.jsx("p",{className:"text-gray-500",children:"You're all caught up! New notifications will appear here."})]})}):n.map(m=>r.jsx(Ne,{className:`cursor-pointer transition-colors hover:bg-gray-50 ${m.read?"":"border-l-4 border-l-blue-500 bg-blue-50"}`,onClick:()=>c(m),children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-1",children:h(m.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("h3",{className:`font-medium text-sm ${m.read?"text-gray-700":"text-gray-900"}`,children:m.title}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.created_at).toLocaleString()})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx(Me,{variant:"outline",className:`text-xs ${m.type==="order"?"border-blue-200 text-blue-700":m.type==="payment"?"border-green-200 text-green-700":m.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:m.type}),!m.read&&r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]})]})})},m.id))})]})})};function fre(){var p,x,v;const e=nt(),[t]=Nb(),n=t.get("type"),[s,i]=j.useState(!0),[a,o]=j.useState([]),[c,d]=j.useState({});j.useEffect(()=>{h()},[n]);const h=async()=>{try{if(i(!0),n==="orders"){const{response:w,data:b}=await Fe("/vendor/orders/");if(w.ok){const y=b.results||b||[];o(y),d({total:y.length,pending:y.filter(_=>_.status==="pending").length,delivered:y.filter(_=>_.status==="delivered").length,revenue:y.filter(_=>_.status==="delivered").reduce((_,N)=>_+parseFloat(N.total_amount||0),0)})}}else if(n==="products"){const{response:w,data:b}=await Fe("/products/");if(w.ok){const y=b.results||b||[];o(y),d({total:y.length,active:y.filter(_=>_.quantity>0).length,lowStock:y.filter(_=>_.quantity>0&&_.quantity<=10).length,outOfStock:y.filter(_=>_.quantity===0).length})}}else if(n==="revenue"){const{response:w,data:b}=await Fe("/vendor/orders/");if(w.ok){const _=(b.results||b||[]).filter(N=>N.status==="delivered");o(_),d({total:_.reduce((N,C)=>N+parseFloat(C.total_amount||0),0),thisMonth:_.filter(N=>{const C=new Date(N.created_at),D=new Date;return C.getMonth()===D.getMonth()&&C.getFullYear()===D.getFullYear()}).reduce((N,C)=>N+parseFloat(C.total_amount||0),0),orders:_.length})}}else if(n==="customers"){const{response:w,data:b}=await Fe("/vendor/orders/");if(w.ok){const y=b.results||b||[],_=new Map;y.forEach(C=>{const D=C.customer;_.has(D)||_.set(D,{id:D,name:C.delivery_name||"Customer",phone:C.delivery_phone,orders:0,totalSpent:0,lastOrder:C.created_at});const E=_.get(D);E.orders+=1,C.status==="delivered"&&(E.totalSpent+=parseFloat(C.total_amount||0)),new Date(C.created_at)>new Date(E.lastOrder)&&(E.lastOrder=C.created_at)});const N=Array.from(_.values());o(N),d({total:N.length,active:N.filter(C=>{const D=new Date(C.lastOrder),E=new Date;return E.setDate(E.getDate()-30),D>E}).length})}}}catch(w){console.error("Error fetching data:",w)}finally{i(!1)}},f=()=>{switch(n){case"orders":return"Orders Summary";case"revenue":return"Revenue Summary";case"products":return"Products Summary";case"customers":return"Customers Summary";default:return"Summary"}},m=()=>{switch(n){case"orders":return Ot;case"revenue":return Fr;case"products":return Sr;case"customers":return rp;default:return Ot}};if(s)return r.jsx(It,{title:f(),children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading data..."})]})})});const u=m();return r.jsx(It,{title:f(),children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/vendor/dashboard"),className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(u,{className:"h-6 w-6 text-blue-600"}),r.jsx("h1",{className:"text-xl font-bold text-gray-800",children:f()})]})]})}),r.jsxs("div",{className:"p-4 space-y-4",children:[n==="orders"&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.total}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:c.pending}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.delivered}),r.jsx("p",{className:"text-sm text-gray-600",children:"Delivered"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",(p=c.revenue)==null?void 0:p.toFixed(0)]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"})]})})]}),n==="products"&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.total}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.active}),r.jsx("p",{className:"text-sm text-gray-600",children:"In Stock"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:c.lowStock}),r.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.outOfStock}),r.jsx("p",{className:"text-sm text-gray-600",children:"Out of Stock"})]})})]}),n==="revenue"&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(x=c.total)==null?void 0:x.toFixed(0)]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",(v=c.thisMonth)==null?void 0:v.toFixed(0)]}),r.jsx("p",{className:"text-sm text-gray-600",children:"This Month"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.orders}),r.jsx("p",{className:"text-sm text-gray-600",children:"Delivered Orders"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",c.orders>0?(c.total/c.orders).toFixed(0):0]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Order Value"})]})})]}),n==="customers"&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.total}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Customers"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.active}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active (30 days)"})]})})]}),r.jsxs("div",{className:"space-y-3",children:[n==="orders"&&a.map(w=>r.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e(`/vendor/orders?orderId=${w.id}`),children:r.jsxs(ke,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold",children:["#",w.order_number]}),r.jsx("p",{className:"text-sm text-gray-600",children:w.delivery_name})]}),r.jsx(Me,{className:w.status==="delivered"?"bg-green-100 text-green-800":w.status==="pending"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800",children:w.status})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("p",{className:"text-sm text-gray-600",children:new Date(w.created_at).toLocaleDateString()}),r.jsxs("p",{className:"font-bold text-green-600",children:["",parseFloat(w.total_amount).toFixed(2)]})]})]})},w.id)),n==="products"&&a.map(w=>{var b,y;return r.jsx(Ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e(`/vendor/products?productId=${w.id}`),children:r.jsx(ke,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:((y=(b=w.images)==null?void 0:b[0])==null?void 0:y.image_url)||"/placeholder-product.jpg",alt:w.name,className:"w-12 h-12 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold",children:w.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["",parseFloat(w.price).toFixed(2)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold",children:["Stock: ",w.quantity]}),r.jsx(Me,{className:w.quantity>10?"bg-green-100 text-green-800":w.quantity>0?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800",children:w.quantity>10?"In Stock":w.quantity>0?"Low Stock":"Out of Stock"})]})]})})},w.id)}),n==="revenue"&&a.map(w=>r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold",children:["#",w.order_number]}),r.jsx("p",{className:"text-sm text-gray-600",children:w.delivery_name})]}),r.jsxs("p",{className:"font-bold text-green-600",children:["",parseFloat(w.total_amount).toFixed(2)]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(w.created_at).toLocaleDateString()})]})},w.id)),n==="customers"&&a.map(w=>r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:w.name}),r.jsx("p",{className:"text-sm text-gray-600",children:w.phone})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-green-600",children:["",w.totalSpent.toFixed(2)]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[w.orders," orders"]})]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Last order: ",new Date(w.lastOrder).toLocaleDateString()]})]})},w.id))]})]})]})})}function mre(){const e=nt(),{toast:t}=cn(),[n,s]=j.useState("overview"),[i,a]=j.useState(!0),[o,c]=j.useState("30"),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState("all"),[x,v]=j.useState([]),[w,b]=j.useState([]),[y,_]=j.useState({totalRevenue:0,totalOrders:0,avgOrderValue:0,topProducts:[],revenueChart:[],orderChart:[],productPerformance:[],customerInsights:{totalCustomers:0,returningCustomers:0,newCustomers:0}});j.useEffect(()=>{N()},[o,d,f,u]);const N=async()=>{try{a(!0);const{response:P,data:T}=await Fe("/vendor/orders/");if(P.ok){const M=T.results||T||[];v(M);const{response:H,data:W}=await Fe("/products/");if(H.ok){const Z=W.results||W||[];b(Z),C(M,Z)}}}catch(P){console.error("Error fetching data:",P),t({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{a(!1)}},C=(P,T)=>{const M=D(P),H=M.filter(G=>G.status==="delivered"),W=H.reduce((G,X)=>G+parseFloat(X.total_amount||0),0),Z=M.length,B=Z>0?W/H.length:0,q=E(H),F=R(M),$=A(H),z=k(M);_({totalRevenue:W,totalOrders:Z,avgOrderValue:B,topProducts:$.slice(0,5),revenueChart:q,orderChart:F,productPerformance:$,customerInsights:z})},D=P=>{let T=P;if(o!=="custom"){const M=parseInt(o),H=new Date;H.setDate(H.getDate()-M),T=P.filter(W=>new Date(W.created_at)>=H)}else d&&f&&(T=P.filter(M=>{const H=new Date(M.created_at);return H>=new Date(d)&&H<=new Date(f)}));return u!=="all"&&(T=T.filter(M=>{var H;return(H=M.items)==null?void 0:H.some(W=>{var Z;return((Z=W.product_details)==null?void 0:Z.id)===parseInt(u)})})),T},E=P=>{const T=[];for(let M=29;M>=0;M--){const H=new Date;H.setDate(H.getDate()-M);const W=P.filter(B=>new Date(B.created_at).toDateString()===H.toDateString()),Z=W.reduce((B,q)=>B+parseFloat(q.total_amount||0),0);T.push({date:H.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:Z,orders:W.length})}return T},R=P=>{const T={pending:0,confirmed:0,preparing:0,out_for_delivery:0,delivered:0,cancelled:0};return P.forEach(M=>{T.hasOwnProperty(M.status)&&T[M.status]++}),Object.entries(T).map(([M,H])=>({status:M.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase()),count:H,percentage:P.length>0?(H/P.length*100).toFixed(1):0}))},A=(P,T)=>{const M={};return P.forEach(H=>{var W;(W=H.items)==null||W.forEach(Z=>{var q;const B=(q=Z.product_details)==null?void 0:q.id;B&&(M[B]||(M[B]={id:B,name:Z.product_name,totalSold:0,totalRevenue:0,orders:0}),M[B].totalSold+=Z.quantity,M[B].totalRevenue+=parseFloat(Z.total_price||0),M[B].orders++)})}),Object.values(M).sort((H,W)=>W.totalRevenue-H.totalRevenue)},k=P=>{const T=new Set,M={};P.forEach(W=>{T.add(W.customer),M[W.customer]||(M[W.customer]=[]),M[W.customer].push(W)});const H=Object.values(M).filter(W=>W.length>1).length;return{totalCustomers:T.size,returningCustomers:H,newCustomers:T.size-H}},O=[{id:"overview",label:"Overview",icon:xE},{id:"sales",label:"Sales Report",icon:Fr},{id:"products",label:"Product Report",icon:Ot},{id:"customers",label:"Customer Report",icon:rp}];return i?r.jsx(It,{title:"Business Analytics",children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})})}):r.jsx(It,{title:"Business Analytics",children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-semibold text-lg",children:"Business Analytics"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive business insights"})]})]}),r.jsxs(ne,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(tb,{className:"h-4 w-4"}),"Export"]})]})}),r.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(to,{className:"h-4 w-4 text-gray-600"}),r.jsx(de,{className:"text-sm font-medium",children:"Filters:"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{className:"text-sm",children:"Period:"}),r.jsxs(sn,{value:o,onValueChange:c,children:[r.jsx(en,{className:"w-32",children:r.jsx(an,{})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"7",children:"Last 7 days"}),r.jsx(qe,{value:"30",children:"Last 30 days"}),r.jsx(qe,{value:"90",children:"Last 3 months"}),r.jsx(qe,{value:"365",children:"Last year"}),r.jsx(qe,{value:"custom",children:"Custom"})]})]})]}),o==="custom"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{className:"text-sm",children:"From:"}),r.jsx(me,{type:"date",value:d,onChange:P=>h(P.target.value),className:"w-36"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{className:"text-sm",children:"To:"}),r.jsx(me,{type:"date",value:f,onChange:P=>m(P.target.value),className:"w-36"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{className:"text-sm",children:"Product:"}),r.jsxs(sn,{value:u,onValueChange:p,children:[r.jsx(en,{className:"w-40",children:r.jsx(an,{})}),r.jsxs(tn,{children:[r.jsx(qe,{value:"all",children:"All Products"}),w.map(P=>r.jsx(qe,{value:P.id.toString(),children:P.name},P.id))]})]})]})]})}),r.jsx("div",{className:"bg-white",children:r.jsxs(ia,{value:n,onValueChange:s,className:"w-full",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsx(yi,{className:"grid grid-cols-4 w-full min-w-max",children:O.map(P=>r.jsxs(Mt,{value:P.id,className:"flex items-center gap-2 text-xs",children:[r.jsx(P.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:P.label})]},P.id))})}),r.jsxs(ft,{value:"overview",className:"p-4 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",y.totalRevenue.toFixed(0)]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.totalOrders}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["",y.avgOrderValue.toFixed(0)]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Avg Order Value"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:y.customerInsights.totalCustomers}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Customers"})]})})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsxs(lt,{className:"flex items-center gap-2",children:[r.jsx(Fr,{className:"h-5 w-5"}),"Revenue Trend"]})}),r.jsx(ke,{children:r.jsx("div",{className:"h-64 flex items-end justify-between gap-1",children:y.revenueChart.map((P,T)=>{const M=Math.max(...y.revenueChart.map(W=>W.revenue),1),H=P.revenue/M*200;return r.jsxs("div",{className:"flex flex-col items-center flex-1",children:[r.jsx("div",{className:"bg-green-500 rounded-t w-full min-h-[4px] hover:bg-green-600 transition-colors cursor-pointer",style:{height:`${H}px`},title:`${P.date}: ${P.revenue.toFixed(0)}`}),r.jsx("div",{className:"text-xs text-gray-600 mt-1 transform -rotate-45 origin-left",children:P.date})]},T)})})})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsxs(lt,{className:"flex items-center gap-2",children:[r.jsx(Ot,{className:"h-5 w-5"}),"Top Performing Products"]})}),r.jsx(ke,{children:r.jsx("div",{className:"space-y-3",children:y.topProducts.map((P,T)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm font-bold text-blue-600",children:T+1}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:P.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:[P.totalSold," units sold"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-green-600",children:["",P.totalRevenue.toFixed(0)]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[P.orders," orders"]})]})]},P.id))})})]})]}),r.jsx(ft,{value:"sales",className:"p-4 space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Order Status Distribution"})}),r.jsx(ke,{children:r.jsx("div",{className:"space-y-3",children:y.orderChart.map(P=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${P.status==="Delivered"?"bg-green-500":P.status==="Pending"?"bg-yellow-500":P.status==="Cancelled"?"bg-red-500":"bg-blue-500"}`}),r.jsx("span",{className:"text-sm",children:P.status})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:P.count}),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",P.percentage,"%)"]})]})]},P.status))})})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Daily Sales Summary"})}),r.jsx(ke,{children:r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:y.revenueChart.slice(-7).reverse().map((P,T)=>r.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded",children:[r.jsx("span",{className:"text-sm",children:P.date}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium",children:["",P.revenue.toFixed(0)]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[P.orders," orders"]})]})]},T))})})]})]})}),r.jsx(ft,{value:"products",className:"p-4 space-y-6",children:r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Product Performance Report"})}),r.jsx(ke,{children:r.jsx("div",{className:"space-y-3",children:y.productPerformance.map((P,T)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold",children:T+1}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:P.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:[P.totalSold," units  ",P.orders," orders"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-green-600",children:["",P.totalRevenue.toFixed(0)]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["",(P.totalRevenue/P.totalSold).toFixed(0)," per unit"]})]})]},P.id))})})]})}),r.jsxs(ft,{value:"customers",className:"p-4 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.customerInsights.totalCustomers}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Customers"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.customerInsights.returningCustomers}),r.jsx("div",{className:"text-sm text-gray-600",children:"Returning Customers"})]})}),r.jsx(Ne,{children:r.jsxs(ke,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.customerInsights.newCustomers}),r.jsx("div",{className:"text-sm text-gray-600",children:"New Customers"})]})})]}),r.jsxs(Ne,{children:[r.jsx(ot,{children:r.jsx(lt,{children:"Customer Insights"})}),r.jsx(ke,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium",children:"Customer Retention Rate"}),r.jsxs("span",{className:"font-bold text-green-600",children:[y.customerInsights.totalCustomers>0?(y.customerInsights.returningCustomers/y.customerInsights.totalCustomers*100).toFixed(1):0,"%"]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium",children:"Average Orders per Customer"}),r.jsx("span",{className:"font-bold text-blue-600",children:y.customerInsights.totalCustomers>0?(y.totalOrders/y.customerInsights.totalCustomers).toFixed(1):0})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium",children:"Average Revenue per Customer"}),r.jsxs("span",{className:"font-bold text-purple-600",children:["",y.customerInsights.totalCustomers>0?(y.totalRevenue/y.customerInsights.totalCustomers).toFixed(0):0]})]})]})})]})]})]})})]})})}const pre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Compose New Message"}),r.jsx("p",{children:"Coming soon..."})]}),gre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Customer Management"}),r.jsx("p",{children:"Coming soon..."})]}),vre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Message Analytics"}),r.jsx("p",{children:"Coming soon..."})]}),xre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Notification Settings"}),r.jsx("p",{children:"Coming soon..."})]}),yre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Search Messages"}),r.jsx("p",{children:"Coming soon..."})]}),bre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Message Settings"}),r.jsx("p",{children:"Coming soon..."})]}),wre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New Products"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Product Statistics"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"24"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Categories"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:"8"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active Categories"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Approvals"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"3"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Awaiting Review"})]})]})]}),jre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Return Order Management"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Return Requests"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:"7"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pending review"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Approved Returns"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:"12"}),r.jsx("p",{className:"text-sm text-gray-600",children:"This month"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Refund Amount"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"8,450"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Processed"})]})]})]}),_re=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Review Management"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Average Rating"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"4.7"}),r.jsx("p",{className:"text-sm text-gray-600",children:""})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Reviews"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"89"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Customer feedback"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Response"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"5"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Need attention"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Positive Reviews"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:"76"}),r.jsx("p",{className:"text-sm text-gray-600",children:"85% positive"})]})]})]}),Nre=()=>r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Income Dashboard"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Today's Earnings"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:"2,450"}),r.jsx("p",{className:"text-sm text-gray-600",children:"+12% from yesterday"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"This Week"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"18,320"}),r.jsx("p",{className:"text-sm text-gray-600",children:"7 days total"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"This Month"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"72,850"}),r.jsx("p",{className:"text-sm text-gray-600",children:"30 days total"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Payout"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"5,200"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Available for withdrawal"})]})]})]}),Sre=new l$,kre=()=>(EB(),j.useEffect(()=>{(async()=>{try{await jB.requestAllPermissions(),console.log("All permissions requested successfully")}catch(t){console.error("Failed to request permissions:",t)}})()},[]),r.jsx(sB,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:r.jsxs(eB,{children:[r.jsx(Ye,{path:"/",element:r.jsx(q1,{})}),r.jsx(Ye,{path:"/splash",element:r.jsx(q1,{})}),r.jsx(Ye,{path:"/login",element:r.jsx(IB,{})}),r.jsx(Ye,{path:"/home",element:r.jsx(NW,{})}),r.jsx(Ye,{path:"/search",element:r.jsx(zW,{})}),r.jsx(Ye,{path:"/cart",element:r.jsx($W,{})}),r.jsx(Ye,{path:"/wishlist",element:r.jsx(UW,{})}),r.jsx(Ye,{path:"/profile",element:r.jsx(HW,{})}),r.jsx(Ye,{path:"/profile-edit",element:r.jsx(GW,{})}),r.jsx(Ye,{path:"/privacy",element:r.jsx(KW,{})}),r.jsx(Ye,{path:"/product/:id",element:r.jsx(SW,{})}),r.jsx(Ye,{path:"/vendor/:vendorId",element:r.jsx(OW,{})}),r.jsx(Ye,{path:"/checkout",element:r.jsx(PZ,{})}),r.jsx(Ye,{path:"/order-confirmation/:orderId",element:r.jsx(TZ,{})}),r.jsx(Ye,{path:"/orders",element:r.jsx(FG,{})}),r.jsx(Ye,{path:"/addresses",element:r.jsx(zG,{})}),r.jsx(Ye,{path:"/payments",element:r.jsx(HG,{})}),r.jsx(Ye,{path:"/help",element:r.jsx(GG,{})}),r.jsx(Ye,{path:"/messages",element:r.jsx(SS,{})}),r.jsx(Ye,{path:"/order/:orderId/messages",element:r.jsx(SS,{})}),r.jsx(Ye,{path:"/signup",element:r.jsx(YW,{})}),r.jsx(Ye,{path:"/forgot-password",element:r.jsx(XW,{})}),r.jsx(Ye,{path:"/category/:categoryName",element:r.jsx(YG,{})}),r.jsx(Ye,{path:"/featured-items",element:r.jsx(QG,{})}),r.jsx(Ye,{path:"/trending-items",element:r.jsx(eK,{})}),r.jsx(Ye,{path:"/vendor/login",element:r.jsx(tK,{})}),r.jsx(Ye,{path:"/vendor/signup",element:r.jsx(nK,{})}),r.jsx(Ye,{path:"/vendor/onboarding",element:r.jsx(sK,{})}),r.jsx(Ye,{path:"/vendor/dashboard",element:r.jsx(x2,{})}),r.jsx(Ye,{path:"/vendor/home",element:r.jsx(x2,{})}),r.jsx(Ye,{path:"/vendor/place-order",element:r.jsx(Qne,{})}),r.jsx(Ye,{path:"/vendor/sales",element:r.jsx(Jne,{})}),r.jsx(Ye,{path:"/vendor/messages",element:r.jsx(w2,{})}),r.jsx(Ye,{path:"/vendor/order/:orderId/messages",element:r.jsx(w2,{})}),r.jsx(Ye,{path:"/vendor/messages/compose",element:r.jsx(pre,{})}),r.jsx(Ye,{path:"/vendor/messages/search",element:r.jsx(yre,{})}),r.jsx(Ye,{path:"/vendor/messages/settings",element:r.jsx(bre,{})}),r.jsx(Ye,{path:"/vendor/customers",element:r.jsx(gre,{})}),r.jsx(Ye,{path:"/vendor/analytics",element:r.jsx(vre,{})}),r.jsx(Ye,{path:"/vendor/notifications",element:r.jsx(xre,{})}),r.jsx(Ye,{path:"/vendor/add-products",element:r.jsx(wre,{})}),r.jsx(Ye,{path:"/vendor/products",element:r.jsx(ure,{})}),r.jsx(Ye,{path:"/vendor/add-product",element:r.jsx(ire,{})}),r.jsx(Ye,{path:"/vendor/orders",element:r.jsx(nre,{})}),r.jsx(Ye,{path:"/vendor/return-orders",element:r.jsx(jre,{})}),r.jsx(Ye,{path:"/vendor/reviews",element:r.jsx(_re,{})}),r.jsx(Ye,{path:"/vendor/income",element:r.jsx(Nre,{})}),r.jsx(Ye,{path:"/vendor/wallet",element:r.jsx(are,{})}),r.jsx(Ye,{path:"/vendor/profile",element:r.jsx(ore,{})}),r.jsx(Ye,{path:"/vendor/profile-management",element:r.jsx(lre,{})}),r.jsx(Ye,{path:"/vendor/company",element:r.jsx(dre,{})}),r.jsx(Ye,{path:"/vendor/security",element:r.jsx(cre,{})}),r.jsx(Ye,{path:"/vendor/notifications",element:r.jsx(hre,{})}),r.jsx(Ye,{path:"/vendor/settings",element:r.jsx(tre,{})}),r.jsx(Ye,{path:"/vendor/summary",element:r.jsx(fre,{})}),r.jsx(Ye,{path:"/vendor/analytics",element:r.jsx(mre,{})}),r.jsx(Ye,{path:"*",element:r.jsx(LW,{})})]})})),Cre=()=>r.jsx(d$,{client:Sre,children:r.jsx(CB,{children:r.jsx(LB,{children:r.jsx($8,{children:r.jsxs(RB,{children:[r.jsx(w6,{}),r.jsx(J6,{}),r.jsx(kre,{})]})})})})});vt.isNativePlatform()&&t0.initialize().then(()=>{console.log(" FCM Service initialized on app startup")}).catch(e=>{console.error(" FCM Service initialization failed:",e)});UC(document.getElementById("root")).render(r.jsx(Cre,{}));export{vt as C,Sb as W,Je as _,t0 as f,Ore as i,no as r};
